{"version":3,"file":"static/js/4993.ce52c8b6.chunk.js","mappings":"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","sources":["../node_modules/@vaadin/component-base/src/define.js","../node_modules/@vaadin/vaadin-lumo-styles/version.js","../node_modules/@vaadin/vaadin-themable-mixin/vaadin-theme-property-mixin.js","../node_modules/@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js","../node_modules/@vaadin/vaadin-lumo-styles/global.js","../node_modules/@vaadin/vaadin-themable-mixin/register-styles.js","../node_modules/@vaadin/vaadin-lumo-styles/color.js","../node_modules/@vaadin/vaadin-lumo-styles/font-icons.js","../node_modules/@vaadin/vaadin-lumo-styles/sizing.js","../node_modules/@vaadin/vaadin-lumo-styles/spacing.js","../node_modules/@vaadin/vaadin-lumo-styles/style.js","../node_modules/@vaadin/vaadin-lumo-styles/typography.js","../node_modules/@vaadin/grid/theme/lumo/vaadin-grid-styles.js","../node_modules/@polymer/polymer/lib/utils/boot.js","../node_modules/@polymer/polymer/lib/utils/resolve-url.js","../node_modules/@polymer/polymer/lib/utils/settings.js","../node_modules/@polymer/polymer/lib/utils/mixin.js","../node_modules/@polymer/polymer/lib/elements/dom-module.js","../node_modules/@polymer/polymer/lib/utils/style-gather.js","../node_modules/@polymer/polymer/lib/utils/wrap.js","../node_modules/@polymer/polymer/lib/utils/path.js","../node_modules/@polymer/polymer/lib/utils/case-map.js","../node_modules/@polymer/polymer/lib/utils/async.js","../node_modules/@polymer/polymer/lib/mixins/properties-changed.js","../node_modules/@polymer/polymer/lib/mixins/property-accessors.js","../node_modules/@polymer/polymer/lib/mixins/template-stamp.js","../node_modules/@polymer/polymer/lib/mixins/property-effects.js","../node_modules/@polymer/polymer/lib/utils/telemetry.js","../node_modules/@polymer/polymer/lib/mixins/properties-mixin.js","../node_modules/@polymer/polymer/lib/mixins/element-mixin.js","../node_modules/@polymer/polymer/lib/utils/html-tag.js","../node_modules/@polymer/polymer/polymer-element.js","../node_modules/@vaadin/component-base/src/async.js","../node_modules/@vaadin/component-base/src/debounce.js","../node_modules/@vaadin/component-base/src/dir-mixin.js","../node_modules/@vaadin/component-base/src/path-utils.js","../node_modules/@vaadin/component-base/src/templates.js","../node_modules/@vaadin/component-base/src/dom-utils.js","../node_modules/@vaadin/grid/src/vaadin-grid-helpers.js","../node_modules/@vaadin/grid/src/vaadin-grid-column-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-column.js","../node_modules/@vaadin/component-base/src/controller-mixin.js","../node_modules/@vaadin/vaadin-development-mode-detector/vaadin-development-mode-detector.js","../node_modules/@vaadin/vaadin-usage-statistics/vaadin-usage-statistics-collect.js","../node_modules/@vaadin/component-base/src/element-mixin.js","../node_modules/@vaadin/a11y-base/src/focus-utils.js","../node_modules/@vaadin/a11y-base/src/disabled-mixin.js","../node_modules/@vaadin/a11y-base/src/tabindex-mixin.js","../node_modules/@vaadin/component-base/src/browser-utils.js","../node_modules/@vaadin/component-base/src/slot-observer.js","../node_modules/@vaadin/component-base/src/unique-id-utils.js","../node_modules/@vaadin/component-base/src/slot-controller.js","../node_modules/@vaadin/component-base/src/tooltip-controller.js","../node_modules/@vaadin/component-base/src/iron-list-core.js","../node_modules/@vaadin/component-base/src/virtualizer-iron-list-adapter.js","../node_modules/@vaadin/component-base/src/virtualizer.js","../node_modules/@vaadin/grid/src/vaadin-grid-a11y-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-active-item-mixin.js","../node_modules/@vaadin/grid/src/array-data-provider.js","../node_modules/@vaadin/grid/src/vaadin-grid-array-data-provider-mixin.js","../node_modules/@vaadin/component-base/src/gestures.js","../node_modules/@vaadin/grid/src/vaadin-grid-column-reordering-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-column-resizing-mixin.js","../node_modules/@vaadin/component-base/src/data-provider-controller/helpers.js","../node_modules/@vaadin/component-base/src/data-provider-controller/cache.js","../node_modules/@vaadin/component-base/src/data-provider-controller/data-provider-controller.js","../node_modules/@vaadin/grid/src/vaadin-grid-data-provider-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-drag-and-drop-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-dynamic-columns-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-event-context-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-filter-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-keyboard-navigation-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-row-details-mixin.js","../node_modules/@vaadin/a11y-base/src/announce.js","../node_modules/@vaadin/a11y-base/src/keyboard-mixin.js","../node_modules/@vaadin/a11y-base/src/active-mixin.js","../node_modules/@vaadin/a11y-base/src/focus-mixin.js","../node_modules/@vaadin/a11y-base/src/delegate-focus-mixin.js","../node_modules/@vaadin/a11y-base/src/aria-id-reference.js","../node_modules/@vaadin/a11y-base/src/field-aria-controller.js","../node_modules/@vaadin/component-base/src/dir-utils.js","../node_modules/@vaadin/component-base/src/resize-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-scroll-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-selection-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-sort-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-styling-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid.js","../node_modules/@vaadin/grid/src/vaadin-grid-styles.js","../node_modules/@vaadin/grid/src/vaadin-grid-column-group-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-column-group.js","../node_modules/@vaadin/checkbox/theme/lumo/vaadin-checkbox-styles.js","../node_modules/@vaadin/component-base/src/slot-styles-mixin.js","../node_modules/@vaadin/component-base/src/delegate-state-mixin.js","../node_modules/@vaadin/field-base/src/input-mixin.js","../node_modules/@vaadin/field-base/src/checked-mixin.js","../node_modules/@vaadin/component-base/src/slot-child-observe-controller.js","../node_modules/@vaadin/field-base/src/error-controller.js","../node_modules/@vaadin/field-base/src/helper-controller.js","../node_modules/@vaadin/field-base/src/label-controller.js","../node_modules/@vaadin/field-base/src/label-mixin.js","../node_modules/@vaadin/field-base/src/validate-mixin.js","../node_modules/@vaadin/field-base/src/field-mixin.js","../node_modules/@vaadin/field-base/src/input-controller.js","../node_modules/@vaadin/field-base/src/labelled-input-controller.js","../node_modules/@vaadin/checkbox/src/vaadin-checkbox-mixin.js","../node_modules/@vaadin/checkbox/src/vaadin-checkbox.js","../node_modules/@vaadin/checkbox/src/vaadin-checkbox-styles.js","../node_modules/@vaadin/grid/src/vaadin-grid-selection-column-base-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-selection-column-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-selection-column.js","../node_modules/@vaadin/grid/theme/lumo/vaadin-grid-sorter-styles.js","../node_modules/@vaadin/grid/src/vaadin-grid-sorter-mixin.js","../node_modules/@vaadin/grid/src/vaadin-grid-sorter.js","../node_modules/@arcgis/core/widgets/FeatureTable/Grid/GridViewModel.js","../node_modules/@arcgis/core/widgets/FeatureTable/Grid/Grid.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/AttachmentsViewOptions.js","../node_modules/@arcgis/core/exports/csv.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/exportUtils.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/FeatureStore.js","../node_modules/@arcgis/core/widgets/FeatureTable/FeatureTableViewModel.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/ColumnTemplateBase.js","../node_modules/@arcgis/core/widgets/FeatureTable/Grid/GroupColumn.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/GroupColumnTemplate.js","../node_modules/@arcgis/core/widgets/Attachments/support/attachmentUtils.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/FieldColumnTemplate.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/TableTemplate.js","../node_modules/@arcgis/core/widgets/FeatureTable/AttachmentsColumn.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/AttachmentsColumnTemplate.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/RelationshipColumnTemplate.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/templateUtils.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/ColumnTemplate.js","../node_modules/@arcgis/core/widgets/FeatureTable/RelationshipColumn.js","../node_modules/@arcgis/core/widgets/FeatureTable/ActionColumn.js","../node_modules/@arcgis/core/widgets/FeatureTable/support/EditableColumnTemplateMixin.js"],"sourcesContent":["/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nwindow.Vaadin ||= {};\nwindow.Vaadin.featureFlags ||= {};\n\nfunction dashToCamelCase(dash) {\n  return dash.replace(/-[a-z]/gu, (m) => m[1].toUpperCase());\n}\n\nconst experimentalMap = {};\n\nexport function defineCustomElement(CustomElement, version = '24.6.11') {\n  Object.defineProperty(CustomElement, 'version', {\n    get() {\n      return version;\n    },\n  });\n\n  if (CustomElement.experimental) {\n    const featureFlagKey =\n      typeof CustomElement.experimental === 'string'\n        ? CustomElement.experimental\n        : `${dashToCamelCase(CustomElement.is.split('-').slice(1).join('-'))}Component`;\n\n    if (!window.Vaadin.featureFlags[featureFlagKey] && !experimentalMap[featureFlagKey]) {\n      // Add setter to define experimental component when it's set to true\n      experimentalMap[featureFlagKey] = new Set();\n      experimentalMap[featureFlagKey].add(CustomElement);\n\n      Object.defineProperty(window.Vaadin.featureFlags, featureFlagKey, {\n        get() {\n          return experimentalMap[featureFlagKey].size === 0;\n        },\n        set(value) {\n          if (!!value && experimentalMap[featureFlagKey].size > 0) {\n            experimentalMap[featureFlagKey].forEach((elementClass) => {\n              customElements.define(elementClass.is, elementClass);\n            });\n            experimentalMap[featureFlagKey].clear();\n          }\n        },\n      });\n\n      return;\n    } else if (experimentalMap[featureFlagKey]) {\n      // Allow to register multiple components with single flag\n      experimentalMap[featureFlagKey].add(CustomElement);\n      return;\n    }\n  }\n\n  const defined = customElements.get(CustomElement.is);\n  if (!defined) {\n    customElements.define(CustomElement.is, CustomElement);\n  } else {\n    const definedVersion = defined.version;\n    if (definedVersion && CustomElement.version && definedVersion === CustomElement.version) {\n      // Just loading the same thing again\n      console.warn(`The component ${CustomElement.is} has been loaded twice`);\n    } else {\n      console.error(\n        `Tried to define ${CustomElement.is} version ${CustomElement.version} when version ${defined.version} is already in use. Something will probably break.`,\n      );\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\n\n/**\n * Dummy custom element used for collecting\n * development time usage statistics.\n *\n * @private\n */\nclass Lumo extends HTMLElement {\n  static get is() {\n    return 'vaadin-lumo-styles';\n  }\n}\n\ndefineCustomElement(Lumo);\n\nexport { Lumo };\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n/**\n * @polymerMixin\n */\nexport const ThemePropertyMixin = (superClass) =>\n  class VaadinThemePropertyMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Helper property with theme attribute value facilitating propagation\n         * in shadow DOM.\n         *\n         * Enables the component implementation to propagate the `theme`\n         * attribute value to the sub-components in Shadow DOM by binding\n         * the sub-component's \"theme\" attribute to the `theme` property of\n         * the host.\n         *\n         * **NOTE:** Extending the mixin only provides the property for binding,\n         * and does not make the propagation alone.\n         *\n         * See [Styling Components: Sub-components](https://vaadin.com/docs/latest/styling/styling-components/#sub-components).\n         * page for more information.\n         *\n         * @protected\n         */\n        _theme: {\n          type: String,\n          readOnly: true,\n        },\n      };\n    }\n\n    static get observedAttributes() {\n      return [...super.observedAttributes, 'theme'];\n    }\n\n    /** @protected */\n    attributeChangedCallback(name, oldValue, newValue) {\n      super.attributeChangedCallback(name, oldValue, newValue);\n\n      if (name === 'theme') {\n        this._set_theme(newValue);\n      }\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { adoptStyles, css, CSSResult, LitElement, unsafeCSS } from 'lit';\nimport { ThemePropertyMixin } from './vaadin-theme-property-mixin.js';\n\nexport { css, unsafeCSS };\n\n/**\n * @typedef {Object} Theme\n * @property {string} themeFor\n * @property {CSSResult[]} styles\n * @property {string | string[]} [include]\n * @property {string} [moduleId]\n *\n * @typedef {CSSResult[] | CSSResult} CSSResultGroup\n */\n\n/**\n * @type {Theme[]}\n */\nconst themeRegistry = [];\n\n/**\n * @type {WeakRef<HTMLElement>[]}\n */\nconst themableInstances = new Set();\n\n/**\n * @type {string[]}\n */\nconst themableTagNames = new Set();\n\n/**\n * Check if the custom element type has themes applied.\n * @param {Function} elementClass\n * @returns {boolean}\n */\nfunction classHasThemes(elementClass) {\n  return elementClass && Object.prototype.hasOwnProperty.call(elementClass, '__themes');\n}\n\n/**\n * Check if the custom element type has themes applied.\n * @param {string} tagName\n * @returns {boolean}\n */\nfunction hasThemes(tagName) {\n  return classHasThemes(customElements.get(tagName));\n}\n\n/**\n * Flattens the styles into a single array of styles.\n * @param {CSSResultGroup} styles\n * @param {CSSResult[]} result\n * @returns {CSSResult[]}\n */\nfunction flattenStyles(styles = []) {\n  return [styles].flat(Infinity).filter((style) => {\n    if (style instanceof CSSResult) {\n      return true;\n    }\n    console.warn('An item in styles is not of type CSSResult. Use `unsafeCSS` or `css`.');\n    return false;\n  });\n}\n\n/**\n * Returns true if the themeFor string matches the tag name\n * @param {string} themeFor\n * @param {string} tagName\n * @returns {boolean}\n */\nfunction matchesThemeFor(themeFor, tagName) {\n  return (themeFor || '').split(' ').some((themeForToken) => {\n    return new RegExp(`^${themeForToken.split('*').join('.*')}$`, 'u').test(tagName);\n  });\n}\n\n/**\n * Returns the CSS text content from an array of CSSResults\n * @param {CSSResult[]} styles\n * @returns {string}\n */\nfunction getCssText(styles) {\n  return styles.map((style) => style.cssText).join('\\n');\n}\n\nconst STYLE_ID = 'vaadin-themable-mixin-style';\n\n/**\n * Includes the styles to the template.\n * @param {CSSResult[]} styles\n * @param {HTMLTemplateElement} template\n */\nfunction addStylesToTemplate(styles, template) {\n  const styleEl = document.createElement('style');\n  styleEl.id = STYLE_ID;\n  styleEl.textContent = getCssText(styles);\n  template.content.appendChild(styleEl);\n}\n\n/**\n * Dynamically updates the styles of the given component instance.\n * @param {HTMLElement} instance\n */\nfunction updateInstanceStyles(instance) {\n  if (!instance.shadowRoot) {\n    return;\n  }\n\n  const componentClass = instance.constructor;\n\n  if (instance instanceof LitElement) {\n    // LitElement\n\n    // The adoptStyles function may fall back to appending style elements to shadow root.\n    // Remove them first to avoid duplicates.\n    [...instance.shadowRoot.querySelectorAll('style')].forEach((style) => style.remove());\n\n    // Adopt the updated styles\n    adoptStyles(instance.shadowRoot, componentClass.elementStyles);\n  } else {\n    // PolymerElement\n\n    // Update style element content in the shadow root\n    const style = instance.shadowRoot.getElementById(STYLE_ID);\n    const template = componentClass.prototype._template;\n    style.textContent = template.content.getElementById(STYLE_ID).textContent;\n  }\n}\n\n/**\n * Dynamically updates the styles of the instances matching the given component type.\n * @param {Function} componentClass\n */\nfunction updateInstanceStylesOfType(componentClass) {\n  // Iterate over component instances and update their styles if needed\n  themableInstances.forEach((ref) => {\n    const instance = ref.deref();\n    if (instance instanceof componentClass) {\n      updateInstanceStyles(instance);\n    } else if (!instance) {\n      // Clean up the weak reference to a GC'd instance\n      themableInstances.delete(ref);\n    }\n  });\n}\n\n/**\n * Dynamically updates the styles of the given component type.\n * @param {Function} componentClass\n */\nfunction updateComponentStyles(componentClass) {\n  if (componentClass.prototype instanceof LitElement) {\n    // Update LitElement-based component's elementStyles\n    componentClass.elementStyles = componentClass.finalizeStyles(componentClass.styles);\n  } else {\n    // Update Polymer-based component's template\n    const template = componentClass.prototype._template;\n    template.content.getElementById(STYLE_ID).textContent = getCssText(componentClass.getStylesForThis());\n  }\n\n  // Update the styles of inheriting types\n  themableTagNames.forEach((inheritingTagName) => {\n    const inheritingClass = customElements.get(inheritingTagName);\n    if (inheritingClass !== componentClass && inheritingClass.prototype instanceof componentClass) {\n      updateComponentStyles(inheritingClass);\n    }\n  });\n}\n\n/**\n * Check if the component type already has a style matching the given styles.\n *\n * @param {Function} componentClass\n * @param {CSSResultGroup} styles\n * @returns {boolean}\n */\nfunction hasMatchingStyle(componentClass, styles) {\n  const themes = componentClass.__themes;\n  if (!themes || !styles) {\n    return false;\n  }\n\n  return themes.some((theme) =>\n    theme.styles.some((themeStyle) => styles.some((style) => style.cssText === themeStyle.cssText)),\n  );\n}\n\n/**\n * Registers CSS styles for a component type. Make sure to register the styles before\n * the first instance of a component of the type is attached to DOM.\n *\n * @param {string} themeFor The local/tag name of the component type to register the styles for\n * @param {CSSResultGroup} styles The CSS style rules to be registered for the component type\n * matching themeFor and included in the local scope of each component instance\n * @param {{moduleId?: string, include?: string | string[]}} options Additional options\n * @return {void}\n */\nexport function registerStyles(themeFor, styles, options = {}) {\n  styles = flattenStyles(styles);\n\n  if (window.Vaadin && window.Vaadin.styleModules) {\n    window.Vaadin.styleModules.registerStyles(themeFor, styles, options);\n  } else {\n    themeRegistry.push({\n      themeFor,\n      styles,\n      include: options.include,\n      moduleId: options.moduleId,\n    });\n  }\n\n  if (themeFor) {\n    // Update styles of the component types that match themeFor and have already been finalized\n    themableTagNames.forEach((tagName) => {\n      if (matchesThemeFor(themeFor, tagName) && hasThemes(tagName)) {\n        const componentClass = customElements.get(tagName);\n\n        if (hasMatchingStyle(componentClass, styles)) {\n          // Show a warning if the component type already has some of the given styles\n          console.warn(`Registering styles that already exist for ${tagName}`);\n        } else if (!window.Vaadin || !window.Vaadin.suppressPostFinalizeStylesWarning) {\n          // Show a warning if the component type has already been finalized\n          console.warn(\n            `The custom element definition for \"${tagName}\" ` +\n              `was finalized before a style module was registered. ` +\n              `Ideally, import component specific style modules before ` +\n              `importing the corresponding custom element. ` +\n              `This warning can be suppressed by setting \"window.Vaadin.suppressPostFinalizeStylesWarning = true\".`,\n          );\n        }\n\n        // Update the styles of the component type\n        updateComponentStyles(componentClass);\n        // Update the styles of the component instances matching the component type\n        updateInstanceStylesOfType(componentClass);\n      }\n    });\n  }\n}\n\n/**\n * Returns all registered themes. By default the themeRegistry is returned as is.\n * In case the style-modules adapter is imported, the themes are obtained from there instead\n * @returns {Theme[]}\n */\nfunction getAllThemes() {\n  if (window.Vaadin && window.Vaadin.styleModules) {\n    return window.Vaadin.styleModules.getAllThemes();\n  }\n  return themeRegistry;\n}\n\n/**\n * Maps the moduleName to an include priority number which is used for\n * determining the order in which styles are applied.\n * @param {string} moduleName\n * @returns {number}\n */\nfunction getIncludePriority(moduleName = '') {\n  let includePriority = 0;\n  if (moduleName.startsWith('lumo-') || moduleName.startsWith('material-')) {\n    includePriority = 1;\n  } else if (moduleName.startsWith('vaadin-')) {\n    includePriority = 2;\n  }\n  return includePriority;\n}\n\n/**\n * Gets an array of CSSResults matching the include property of the theme.\n * @param {Theme} theme\n * @returns {CSSResult[]}\n */\nfunction getIncludedStyles(theme) {\n  const includedStyles = [];\n  if (theme.include) {\n    [].concat(theme.include).forEach((includeModuleId) => {\n      const includedTheme = getAllThemes().find((s) => s.moduleId === includeModuleId);\n      if (includedTheme) {\n        includedStyles.push(...getIncludedStyles(includedTheme), ...includedTheme.styles);\n      } else {\n        console.warn(`Included moduleId ${includeModuleId} not found in style registry`);\n      }\n    }, theme.styles);\n  }\n  return includedStyles;\n}\n\n/**\n * Returns an array of themes that should be used for styling a component matching\n * the tag name. The array is sorted by the include order.\n * @param {string} tagName\n * @returns {Theme[]}\n */\nfunction getThemes(tagName) {\n  const defaultModuleName = `${tagName}-default-theme`;\n\n  const themes = getAllThemes()\n    // Filter by matching themeFor properties\n    .filter((theme) => theme.moduleId !== defaultModuleName && matchesThemeFor(theme.themeFor, tagName))\n    .map((theme) => ({\n      ...theme,\n      // Prepend styles from included themes\n      styles: [...getIncludedStyles(theme), ...theme.styles],\n      // Map moduleId to includePriority\n      includePriority: getIncludePriority(theme.moduleId),\n    }))\n    // Sort by includePriority\n    .sort((themeA, themeB) => themeB.includePriority - themeA.includePriority);\n\n  if (themes.length > 0) {\n    return themes;\n  }\n  // No theme modules found, return the default module if it exists\n  return getAllThemes().filter((theme) => theme.moduleId === defaultModuleName);\n}\n\n/**\n * @polymerMixin\n * @mixes ThemePropertyMixin\n */\nexport const ThemableMixin = (superClass) =>\n  class VaadinThemableMixin extends ThemePropertyMixin(superClass) {\n    constructor() {\n      super();\n      // Store a weak reference to the instance\n      themableInstances.add(new WeakRef(this));\n    }\n\n    /**\n     * Covers PolymerElement based component styling\n     * @protected\n     */\n    static finalize() {\n      super.finalize();\n\n      if (this.is) {\n        themableTagNames.add(this.is);\n      }\n\n      // Make sure not to run the logic intended for PolymerElement when LitElement is used.\n      if (this.elementStyles) {\n        return;\n      }\n\n      const template = this.prototype._template;\n      if (!template || classHasThemes(this)) {\n        return;\n      }\n\n      addStylesToTemplate(this.getStylesForThis(), template);\n    }\n\n    /**\n     * Covers LitElement based component styling\n     *\n     * @protected\n     */\n    static finalizeStyles(styles) {\n      // The \"styles\" object originates from the \"static get styles()\" function of\n      // a LitElement based component. The theme styles are added after it\n      // so that they can override the component styles.\n      const themeStyles = this.getStylesForThis();\n      return styles ? [...[styles].flat(Infinity), ...themeStyles] : themeStyles;\n    }\n\n    /**\n     * Get styles for the component type\n     *\n     * @private\n     */\n    static getStylesForThis() {\n      const superClassThemes = superClass.__themes || [];\n      const parent = Object.getPrototypeOf(this.prototype);\n      const inheritedThemes = (parent ? parent.constructor.__themes : []) || [];\n      this.__themes = [...superClassThemes, ...inheritedThemes, ...getThemes(this.is)];\n      const themeStyles = this.__themes.flatMap((theme) => theme.styles);\n      // Remove duplicates\n      return themeStyles.filter((style, index) => index === themeStyles.lastIndexOf(style));\n    }\n  };\n\nexport { themeRegistry as __themeRegistry };\n","import { addGlobalThemeStyles } from '@vaadin/vaadin-themable-mixin/register-styles.js';\n\nexport const addLumoGlobalStyles = (id, ...styles) => {\n  addGlobalThemeStyles(`lumo-${id}`, styles);\n};\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nexport { registerStyles, css, unsafeCSS } from './vaadin-themable-mixin.js';\n\n/**\n * This is for use internally by Lumo and Material styles.\n *\n * @param {string} id the id to set on the created element, only for informational purposes\n * @param  {CSSResultGroup[]} styles the styles to add\n */\nexport const addGlobalThemeStyles = (id, ...styles) => {\n  const styleTag = document.createElement('style');\n  styleTag.id = id;\n  styleTag.textContent = styles\n    .map((style) => style.toString())\n    .join('\\n')\n    .replace(':host', 'html');\n\n  document.head.insertAdjacentElement('afterbegin', styleTag);\n};\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst colorBase = css`\n  :host {\n    /* Base (background) */\n    --lumo-base-color: #fff;\n\n    /* Tint */\n    --lumo-tint-5pct: hsla(0, 0%, 100%, 0.3);\n    --lumo-tint-10pct: hsla(0, 0%, 100%, 0.37);\n    --lumo-tint-20pct: hsla(0, 0%, 100%, 0.44);\n    --lumo-tint-30pct: hsla(0, 0%, 100%, 0.5);\n    --lumo-tint-40pct: hsla(0, 0%, 100%, 0.57);\n    --lumo-tint-50pct: hsla(0, 0%, 100%, 0.64);\n    --lumo-tint-60pct: hsla(0, 0%, 100%, 0.7);\n    --lumo-tint-70pct: hsla(0, 0%, 100%, 0.77);\n    --lumo-tint-80pct: hsla(0, 0%, 100%, 0.84);\n    --lumo-tint-90pct: hsla(0, 0%, 100%, 0.9);\n    --lumo-tint: #fff;\n\n    /* Shade */\n    --lumo-shade-5pct: hsla(214, 61%, 25%, 0.05);\n    --lumo-shade-10pct: hsla(214, 57%, 24%, 0.1);\n    --lumo-shade-20pct: hsla(214, 53%, 23%, 0.16);\n    --lumo-shade-30pct: hsla(214, 50%, 22%, 0.26);\n    --lumo-shade-40pct: hsla(214, 47%, 21%, 0.38);\n    --lumo-shade-50pct: hsla(214, 45%, 20%, 0.52);\n    --lumo-shade-60pct: hsla(214, 43%, 19%, 0.6);\n    --lumo-shade-70pct: hsla(214, 42%, 18%, 0.69);\n    --lumo-shade-80pct: hsla(214, 41%, 17%, 0.83);\n    --lumo-shade-90pct: hsla(214, 40%, 16%, 0.94);\n    --lumo-shade: hsl(214, 35%, 15%);\n\n    /* Contrast */\n    --lumo-contrast-5pct: var(--lumo-shade-5pct);\n    --lumo-contrast-10pct: var(--lumo-shade-10pct);\n    --lumo-contrast-20pct: var(--lumo-shade-20pct);\n    --lumo-contrast-30pct: var(--lumo-shade-30pct);\n    --lumo-contrast-40pct: var(--lumo-shade-40pct);\n    --lumo-contrast-50pct: var(--lumo-shade-50pct);\n    --lumo-contrast-60pct: var(--lumo-shade-60pct);\n    --lumo-contrast-70pct: var(--lumo-shade-70pct);\n    --lumo-contrast-80pct: var(--lumo-shade-80pct);\n    --lumo-contrast-90pct: var(--lumo-shade-90pct);\n    --lumo-contrast: var(--lumo-shade);\n\n    /* Text */\n    --lumo-header-text-color: var(--lumo-contrast);\n    --lumo-body-text-color: var(--lumo-contrast-90pct);\n    --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n    --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n    --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n    /* Primary */\n    --lumo-primary-color: hsl(214, 100%, 48%);\n    --lumo-primary-color-50pct: hsla(214, 100%, 49%, 0.76);\n    --lumo-primary-color-10pct: hsla(214, 100%, 60%, 0.13);\n    --lumo-primary-text-color: hsl(214, 100%, 43%);\n    --lumo-primary-contrast-color: #fff;\n\n    /* Error */\n    --lumo-error-color: hsl(3, 85%, 48%);\n    --lumo-error-color-50pct: hsla(3, 85%, 49%, 0.5);\n    --lumo-error-color-10pct: hsla(3, 85%, 49%, 0.1);\n    --lumo-error-text-color: hsl(3, 89%, 42%);\n    --lumo-error-contrast-color: #fff;\n\n    /* Success */\n    --lumo-success-color: hsl(145, 72%, 30%);\n    --lumo-success-color-50pct: hsla(145, 72%, 31%, 0.5);\n    --lumo-success-color-10pct: hsla(145, 72%, 31%, 0.1);\n    --lumo-success-text-color: hsl(145, 85%, 25%);\n    --lumo-success-contrast-color: #fff;\n\n    /* Warning */\n    --lumo-warning-color: hsl(48, 100%, 50%);\n    --lumo-warning-color-10pct: hsla(48, 100%, 50%, 0.25);\n    --lumo-warning-text-color: hsl(32, 100%, 30%);\n    --lumo-warning-contrast-color: var(--lumo-shade-90pct);\n  }\n\n  /* forced-colors mode adjustments */\n  @media (forced-colors: active) {\n    html {\n      --lumo-disabled-text-color: GrayText;\n    }\n  }\n`;\n\naddLumoGlobalStyles('color-props', colorBase);\n\nconst color = css`\n  [theme~='dark'] {\n    /* Base (background) */\n    --lumo-base-color: hsl(214, 35%, 21%);\n\n    /* Tint */\n    --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\n    --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\n    --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\n    --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\n    --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\n    --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\n    --lumo-tint-60pct: hsla(214, 82%, 90%, 0.58);\n    --lumo-tint-70pct: hsla(214, 87%, 92%, 0.69);\n    --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\n    --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\n    --lumo-tint: hsl(214, 100%, 98%);\n\n    /* Shade */\n    --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\n    --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\n    --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\n    --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\n    --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\n    --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\n    --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\n    --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\n    --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\n    --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\n    --lumo-shade: hsl(214, 33%, 13%);\n\n    /* Contrast */\n    --lumo-contrast-5pct: var(--lumo-tint-5pct);\n    --lumo-contrast-10pct: var(--lumo-tint-10pct);\n    --lumo-contrast-20pct: var(--lumo-tint-20pct);\n    --lumo-contrast-30pct: var(--lumo-tint-30pct);\n    --lumo-contrast-40pct: var(--lumo-tint-40pct);\n    --lumo-contrast-50pct: var(--lumo-tint-50pct);\n    --lumo-contrast-60pct: var(--lumo-tint-60pct);\n    --lumo-contrast-70pct: var(--lumo-tint-70pct);\n    --lumo-contrast-80pct: var(--lumo-tint-80pct);\n    --lumo-contrast-90pct: var(--lumo-tint-90pct);\n    --lumo-contrast: var(--lumo-tint);\n\n    /* Text */\n    --lumo-header-text-color: var(--lumo-contrast);\n    --lumo-body-text-color: var(--lumo-contrast-90pct);\n    --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n    --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n    --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n    /* Primary */\n    --lumo-primary-color: hsl(214, 90%, 48%);\n    --lumo-primary-color-50pct: hsla(214, 90%, 70%, 0.69);\n    --lumo-primary-color-10pct: hsla(214, 90%, 55%, 0.13);\n    --lumo-primary-text-color: hsl(214, 90%, 77%);\n    --lumo-primary-contrast-color: #fff;\n\n    /* Error */\n    --lumo-error-color: hsl(3, 79%, 49%);\n    --lumo-error-color-50pct: hsla(3, 75%, 62%, 0.5);\n    --lumo-error-color-10pct: hsla(3, 75%, 62%, 0.14);\n    --lumo-error-text-color: hsl(3, 100%, 80%);\n\n    /* Success */\n    --lumo-success-color: hsl(145, 72%, 30%);\n    --lumo-success-color-50pct: hsla(145, 92%, 51%, 0.5);\n    --lumo-success-color-10pct: hsla(145, 92%, 51%, 0.1);\n    --lumo-success-text-color: hsl(145, 85%, 46%);\n\n    /* Warning */\n    --lumo-warning-color: hsl(43, 100%, 48%);\n    --lumo-warning-color-10pct: hsla(40, 100%, 50%, 0.2);\n    --lumo-warning-text-color: hsl(45, 100%, 60%);\n    --lumo-warning-contrast-color: var(--lumo-shade-90pct);\n  }\n\n  html {\n    color: var(--lumo-body-text-color);\n    background-color: var(--lumo-base-color);\n    color-scheme: light;\n  }\n\n  [theme~='dark'] {\n    color: var(--lumo-body-text-color);\n    background-color: var(--lumo-base-color);\n    color-scheme: dark;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    color: var(--lumo-header-text-color);\n  }\n\n  a:where(:any-link) {\n    color: var(--lumo-primary-text-color);\n  }\n\n  a:not(:any-link) {\n    color: var(--lumo-disabled-text-color);\n  }\n\n  blockquote {\n    color: var(--lumo-secondary-text-color);\n  }\n\n  code,\n  pre {\n    background-color: var(--lumo-contrast-10pct);\n    border-radius: var(--lumo-border-radius-m);\n  }\n  pre code {\n    background: transparent;\n  }\n`;\n\nregisterStyles('', color, { moduleId: 'lumo-color' });\n\nexport { colorBase, color };\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst fontIcons = css`\n  @font-face {\n    font-family: 'lumo-icons';\n    src: url(data:application/font-woff;charset=utf-8;base64,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)\n      format('woff');\n    font-weight: normal;\n    font-style: normal;\n  }\n\n  html {\n    --lumo-icons-align-center: '\\\\ea01';\n    --lumo-icons-align-left: '\\\\ea02';\n    --lumo-icons-align-right: '\\\\ea03';\n    --lumo-icons-angle-down: '\\\\ea04';\n    --lumo-icons-angle-left: '\\\\ea05';\n    --lumo-icons-angle-right: '\\\\ea06';\n    --lumo-icons-angle-up: '\\\\ea07';\n    --lumo-icons-arrow-down: '\\\\ea08';\n    --lumo-icons-arrow-left: '\\\\ea09';\n    --lumo-icons-arrow-right: '\\\\ea0a';\n    --lumo-icons-arrow-up: '\\\\ea0b';\n    --lumo-icons-bar-chart: '\\\\ea0c';\n    --lumo-icons-bell: '\\\\ea0d';\n    --lumo-icons-calendar: '\\\\ea0e';\n    --lumo-icons-checkmark: '\\\\ea0f';\n    --lumo-icons-chevron-down: '\\\\ea10';\n    --lumo-icons-chevron-left: '\\\\ea11';\n    --lumo-icons-chevron-right: '\\\\ea12';\n    --lumo-icons-chevron-up: '\\\\ea13';\n    --lumo-icons-clock: '\\\\ea14';\n    --lumo-icons-cog: '\\\\ea15';\n    --lumo-icons-cross: '\\\\ea16';\n    --lumo-icons-download: '\\\\ea17';\n    --lumo-icons-drag-handle: '\\\\ea18';\n    --lumo-icons-dropdown: '\\\\ea19';\n    --lumo-icons-edit: '\\\\ea1a';\n    --lumo-icons-error: '\\\\ea1b';\n    --lumo-icons-eye: '\\\\ea1c';\n    --lumo-icons-eye-disabled: '\\\\ea1d';\n    --lumo-icons-menu: '\\\\ea1e';\n    --lumo-icons-minus: '\\\\ea1f';\n    --lumo-icons-ordered-list: '\\\\ea20';\n    --lumo-icons-phone: '\\\\ea21';\n    --lumo-icons-photo: '\\\\ea22';\n    --lumo-icons-play: '\\\\ea23';\n    --lumo-icons-plus: '\\\\ea24';\n    --lumo-icons-redo: '\\\\ea25';\n    --lumo-icons-reload: '\\\\ea26';\n    --lumo-icons-resize-handle: '\\\\ea27';\n    --lumo-icons-search: '\\\\ea28';\n    --lumo-icons-undo: '\\\\ea29';\n    --lumo-icons-unordered-list: '\\\\ea2a';\n    --lumo-icons-upload: '\\\\ea2b';\n    --lumo-icons-user: '\\\\ea2c';\n  }\n`;\n\naddLumoGlobalStyles('font-icons', fontIcons);\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst sizing = css`\n  :host {\n    --lumo-size-xs: 1.625rem;\n    --lumo-size-s: 1.875rem;\n    --lumo-size-m: 2.25rem;\n    --lumo-size-l: 2.75rem;\n    --lumo-size-xl: 3.5rem;\n\n    /* Icons */\n    --lumo-icon-size-s: 1.25em;\n    --lumo-icon-size-m: 1.5em;\n    --lumo-icon-size-l: 2.25em;\n    /* For backwards compatibility */\n    --lumo-icon-size: var(--lumo-icon-size-m);\n  }\n`;\n\naddLumoGlobalStyles('sizing-props', sizing);\n\nexport { sizing };\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst spacing = css`\n  :host {\n    /* Square */\n    --lumo-space-xs: 0.25rem;\n    --lumo-space-s: 0.5rem;\n    --lumo-space-m: 1rem;\n    --lumo-space-l: 1.5rem;\n    --lumo-space-xl: 2.5rem;\n\n    /* Wide */\n    --lumo-space-wide-xs: calc(var(--lumo-space-xs) / 2) var(--lumo-space-xs);\n    --lumo-space-wide-s: calc(var(--lumo-space-s) / 2) var(--lumo-space-s);\n    --lumo-space-wide-m: calc(var(--lumo-space-m) / 2) var(--lumo-space-m);\n    --lumo-space-wide-l: calc(var(--lumo-space-l) / 2) var(--lumo-space-l);\n    --lumo-space-wide-xl: calc(var(--lumo-space-xl) / 2) var(--lumo-space-xl);\n\n    /* Tall */\n    --lumo-space-tall-xs: var(--lumo-space-xs) calc(var(--lumo-space-xs) / 2);\n    --lumo-space-tall-s: var(--lumo-space-s) calc(var(--lumo-space-s) / 2);\n    --lumo-space-tall-m: var(--lumo-space-m) calc(var(--lumo-space-m) / 2);\n    --lumo-space-tall-l: var(--lumo-space-l) calc(var(--lumo-space-l) / 2);\n    --lumo-space-tall-xl: var(--lumo-space-xl) calc(var(--lumo-space-xl) / 2);\n  }\n`;\n\naddLumoGlobalStyles('spacing-props', spacing);\n\nexport { spacing };\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst style = css`\n  :host {\n    /* Border radius */\n    --lumo-border-radius-s: 0.25em; /* Checkbox, badge, date-picker year indicator, etc */\n    --lumo-border-radius-m: var(--lumo-border-radius, 0.25em); /* Button, text field, menu overlay, etc */\n    --lumo-border-radius-l: 0.5em; /* Dialog, notification, etc */\n\n    /* Shadow */\n    --lumo-box-shadow-xs: 0 1px 4px -1px var(--lumo-shade-50pct);\n    --lumo-box-shadow-s: 0 2px 4px -1px var(--lumo-shade-20pct), 0 3px 12px -1px var(--lumo-shade-30pct);\n    --lumo-box-shadow-m: 0 2px 6px -1px var(--lumo-shade-20pct), 0 8px 24px -4px var(--lumo-shade-40pct);\n    --lumo-box-shadow-l: 0 3px 18px -2px var(--lumo-shade-20pct), 0 12px 48px -6px var(--lumo-shade-40pct);\n    --lumo-box-shadow-xl: 0 4px 24px -3px var(--lumo-shade-20pct), 0 18px 64px -8px var(--lumo-shade-40pct);\n\n    /* Clickable element cursor */\n    --lumo-clickable-cursor: default;\n  }\n`;\n\n/**\n * Default values for component-specific custom properties.\n */\nconst globals = css`\n  html {\n    /* Button */\n    --vaadin-button-background: var(--lumo-contrast-5pct);\n    --vaadin-button-border: none;\n    --vaadin-button-border-radius: var(--lumo-border-radius-m);\n    --vaadin-button-font-size: var(--lumo-font-size-m);\n    --vaadin-button-font-weight: 500;\n    --vaadin-button-height: var(--lumo-size-m);\n    --vaadin-button-margin: var(--lumo-space-xs) 0;\n    --vaadin-button-min-width: calc(var(--vaadin-button-height) * 2);\n    --vaadin-button-padding: 0 calc(var(--vaadin-button-height) / 3 + var(--lumo-border-radius-m) / 2);\n    --vaadin-button-text-color: var(--lumo-primary-text-color);\n    --vaadin-button-primary-background: var(--lumo-primary-color);\n    --vaadin-button-primary-border: none;\n    --vaadin-button-primary-font-weight: 600;\n    --vaadin-button-primary-text-color: var(--lumo-primary-contrast-color);\n    --vaadin-button-tertiary-background: transparent !important;\n    --vaadin-button-tertiary-text-color: var(--lumo-primary-text-color);\n    --vaadin-button-tertiary-font-weight: 500;\n    --vaadin-button-tertiary-padding: 0 calc(var(--vaadin-button-height) / 6);\n    /* Checkbox */\n    --vaadin-checkbox-background: var(--lumo-contrast-20pct);\n    --vaadin-checkbox-background-hover: var(--lumo-contrast-30pct);\n    --vaadin-checkbox-border-radius: var(--lumo-border-radius-s);\n    --vaadin-checkbox-checkmark-char: var(--lumo-icons-checkmark);\n    --vaadin-checkbox-checkmark-char-indeterminate: '';\n    --vaadin-checkbox-checkmark-color: var(--lumo-primary-contrast-color);\n    --vaadin-checkbox-checkmark-size: calc(var(--vaadin-checkbox-size) + 2px);\n    --vaadin-checkbox-label-color: var(--lumo-body-text-color);\n    --vaadin-checkbox-label-font-size: var(--lumo-font-size-m);\n    --vaadin-checkbox-label-padding: var(--lumo-space-xs) var(--lumo-space-s) var(--lumo-space-xs) var(--lumo-space-xs);\n    --vaadin-checkbox-size: calc(var(--lumo-size-m) / 2);\n    --vaadin-checkbox-disabled-checkmark-color: var(--lumo-contrast-30pct);\n    --vaadin-checkbox-disabled-background: var(--lumo-contrast-10pct);\n    /* Radio button */\n    --vaadin-radio-button-background: var(--lumo-contrast-20pct);\n    --vaadin-radio-button-background-hover: var(--lumo-contrast-30pct);\n    --vaadin-radio-button-dot-color: var(--lumo-primary-contrast-color);\n    --vaadin-radio-button-dot-size: 3px;\n    --vaadin-radio-button-label-color: var(--lumo-body-text-color);\n    --vaadin-radio-button-label-font-size: var(--lumo-font-size-m);\n    --vaadin-radio-button-label-padding: var(--lumo-space-xs) var(--lumo-space-s) var(--lumo-space-xs)\n      var(--lumo-space-xs);\n    --vaadin-radio-button-size: calc(var(--lumo-size-m) / 2);\n    --vaadin-radio-button-disabled-background: var(--lumo-contrast-10pct);\n    --vaadin-radio-button-disabled-dot-color: var(--lumo-contrast-30pct);\n    --vaadin-selection-color: var(--lumo-primary-color);\n    --vaadin-selection-color-text: var(--lumo-primary-text-color);\n    --vaadin-input-field-border-radius: var(--lumo-border-radius-m);\n    --vaadin-focus-ring-color: var(--lumo-primary-color-50pct);\n    --vaadin-focus-ring-width: 2px;\n    /* Label */\n    --vaadin-input-field-label-color: var(--lumo-secondary-text-color);\n    --vaadin-input-field-focused-label-color: var(--lumo-primary-text-color);\n    --vaadin-input-field-hovered-label-color: var(--lumo-body-text-color);\n    --vaadin-input-field-label-font-size: var(--lumo-font-size-s);\n    --vaadin-input-field-label-font-weight: 500;\n    /* Helper */\n    --vaadin-input-field-helper-color: var(--lumo-secondary-text-color);\n    --vaadin-input-field-helper-font-size: var(--lumo-font-size-xs);\n    --vaadin-input-field-helper-font-weight: 400;\n    --vaadin-input-field-helper-spacing: 0.4em;\n    /* Error message */\n    --vaadin-input-field-error-color: var(--lumo-error-text-color);\n    --vaadin-input-field-error-font-size: var(--lumo-font-size-xs);\n    --vaadin-input-field-error-font-weight: 400;\n    /* Input field */\n    --vaadin-input-field-background: var(--lumo-contrast-10pct);\n    --vaadin-input-field-icon-color: var(--lumo-contrast-60pct);\n    --vaadin-input-field-icon-size: var(--lumo-icon-size-m);\n    --vaadin-input-field-invalid-background: var(--lumo-error-color-10pct);\n    --vaadin-input-field-invalid-hover-highlight: var(--lumo-error-color-50pct);\n    --vaadin-input-field-disabled-background: var(--lumo-contrast-5pct);\n    --vaadin-input-field-disabled-value-color: var(--lumo-disabled-text-color);\n    --vaadin-input-field-height: var(--lumo-size-m);\n    --vaadin-input-field-hover-highlight: var(--lumo-contrast-50pct);\n    --vaadin-input-field-placeholder-color: var(--lumo-secondary-text-color);\n    --vaadin-input-field-readonly-border: 1px dashed var(--lumo-contrast-30pct);\n    --vaadin-input-field-value-color: var(--lumo-body-text-color);\n    --vaadin-input-field-value-font-size: var(--lumo-font-size-m);\n    --vaadin-input-field-value-font-weight: 500;\n  }\n`;\n\naddLumoGlobalStyles('style-props', style);\n\nexport { globals, style };\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './version.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { addLumoGlobalStyles } from './global.js';\n\nconst font = css`\n  :host {\n    /* prettier-ignore */\n    --lumo-font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n\n    /* Font sizes */\n    --lumo-font-size-xxs: 0.75rem;\n    --lumo-font-size-xs: 0.8125rem;\n    --lumo-font-size-s: 0.875rem;\n    --lumo-font-size-m: 1rem;\n    --lumo-font-size-l: 1.125rem;\n    --lumo-font-size-xl: 1.375rem;\n    --lumo-font-size-xxl: 1.75rem;\n    --lumo-font-size-xxxl: 2.5rem;\n\n    /* Line heights */\n    --lumo-line-height-xs: 1.25;\n    --lumo-line-height-s: 1.375;\n    --lumo-line-height-m: 1.625;\n  }\n`;\n\nconst typography = css`\n  body,\n  :host {\n    font-family: var(--lumo-font-family);\n    font-size: var(--lumo-font-size-m);\n    line-height: var(--lumo-line-height-m);\n    -webkit-text-size-adjust: 100%;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  small,\n  [theme~='font-size-s'] {\n    font-size: var(--lumo-font-size-s);\n    line-height: var(--lumo-line-height-s);\n  }\n\n  [theme~='font-size-xs'] {\n    font-size: var(--lumo-font-size-xs);\n    line-height: var(--lumo-line-height-xs);\n  }\n\n  :where(h1, h2, h3, h4, h5, h6) {\n    font-weight: 600;\n    line-height: var(--lumo-line-height-xs);\n    margin-block: 0;\n  }\n\n  :where(h1) {\n    font-size: var(--lumo-font-size-xxxl);\n  }\n\n  :where(h2) {\n    font-size: var(--lumo-font-size-xxl);\n  }\n\n  :where(h3) {\n    font-size: var(--lumo-font-size-xl);\n  }\n\n  :where(h4) {\n    font-size: var(--lumo-font-size-l);\n  }\n\n  :where(h5) {\n    font-size: var(--lumo-font-size-m);\n  }\n\n  :where(h6) {\n    font-size: var(--lumo-font-size-xs);\n    text-transform: uppercase;\n    letter-spacing: 0.03em;\n  }\n\n  p,\n  blockquote {\n    margin-top: 0.5em;\n    margin-bottom: 0.75em;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  a:where(:any-link):hover {\n    text-decoration: underline;\n  }\n\n  hr {\n    display: block;\n    align-self: stretch;\n    height: 1px;\n    border: 0;\n    padding: 0;\n    margin: var(--lumo-space-s) calc(var(--lumo-border-radius-m) / 2);\n    background-color: var(--lumo-contrast-10pct);\n  }\n\n  blockquote {\n    border-left: 2px solid var(--lumo-contrast-30pct);\n  }\n\n  b,\n  strong {\n    font-weight: 600;\n  }\n\n  /* RTL specific styles */\n  blockquote[dir='rtl'] {\n    border-left: none;\n    border-right: 2px solid var(--lumo-contrast-30pct);\n  }\n`;\n\nregisterStyles('', typography, { moduleId: 'lumo-typography' });\naddLumoGlobalStyles('typography-props', font);\n\nexport { font, typography };\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/font-icons.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nregisterStyles(\n  'vaadin-grid',\n  css`\n    :host {\n      font-family: var(--lumo-font-family);\n      font-size: var(--lumo-font-size-m);\n      line-height: var(--lumo-line-height-s);\n      color: var(--lumo-body-text-color);\n      background-color: var(--lumo-base-color);\n      box-sizing: border-box;\n      -webkit-text-size-adjust: 100%;\n      -webkit-tap-highlight-color: transparent;\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));\n      --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);\n      /* For internal use only */\n      --_lumo-grid-border-color: var(--lumo-contrast-20pct);\n      --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);\n      --_lumo-grid-border-width: 1px;\n      --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);\n    }\n\n    /* No (outer) border */\n\n    :host(:not([theme~='no-border'])) {\n      border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);\n    }\n\n    :host([disabled]) {\n      opacity: 0.7;\n    }\n\n    /* Cell styles */\n\n    [part~='cell'] {\n      min-height: var(--lumo-size-m);\n      background-color: var(--vaadin-grid-cell-background, var(--lumo-base-color));\n      cursor: default;\n      --_cell-padding: var(--vaadin-grid-cell-padding, var(--_cell-default-padding));\n      --_cell-default-padding: var(--lumo-space-xs) var(--lumo-space-m);\n    }\n\n    [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      cursor: inherit;\n      padding: var(--_cell-padding);\n    }\n\n    /* Apply row borders by default and introduce the \"no-row-borders\" variant */\n    :host(:not([theme~='no-row-borders'])) [part~='cell']:not([part~='details-cell']) {\n      border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Hide first body row top border */\n    :host(:not([theme~='no-row-borders'])) [part~='first-row'] [part~='cell']:not([part~='details-cell']) {\n      border-top: 0;\n      min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));\n    }\n\n    /* Focus-ring */\n\n    [part~='row'] {\n      position: relative;\n    }\n\n    [part~='row']:focus,\n    [part~='focused-cell']:focus {\n      outline: none;\n    }\n\n    :host([navigating]) [part~='row']:focus::before,\n    :host([navigating]) [part~='focused-cell']:focus::before {\n      content: '';\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      box-shadow: inset 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);\n    }\n\n    :host([navigating]) [part~='row']:focus::before {\n      transform: translateX(calc(-1 * var(--_grid-horizontal-scroll-position)));\n      z-index: 3;\n    }\n\n    /* Empty state */\n    [part~='empty-state'] {\n      padding: var(--lumo-space-m);\n      color: var(--lumo-secondary-text-color);\n    }\n\n    /* Drag and Drop styles */\n    :host([dragover])::after {\n      content: '';\n      position: absolute;\n      z-index: 100;\n      inset: 0;\n      pointer-events: none;\n      box-shadow: inset 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);\n    }\n\n    [part~='row'][dragover] {\n      z-index: 100 !important;\n    }\n\n    [part~='row'][dragover] [part~='cell'] {\n      overflow: visible;\n    }\n\n    [part~='row'][dragover] [part~='cell']::after {\n      content: '';\n      position: absolute;\n      inset: 0;\n      height: calc(var(--_lumo-grid-border-width) + 2px);\n      pointer-events: none;\n      background: var(--lumo-primary-color-50pct);\n    }\n\n    [part~='row'][dragover] [part~='cell'][last-frozen]::after {\n      right: -1px;\n    }\n\n    :host([theme~='no-row-borders']) [dragover] [part~='cell']::after {\n      height: 2px;\n    }\n\n    [part~='row'][dragover='below'] [part~='cell']::after {\n      top: 100%;\n      bottom: auto;\n      margin-top: -1px;\n    }\n\n    :host([all-rows-visible]) [part~='last-row'][dragover='below'] [part~='cell']::after {\n      height: 1px;\n    }\n\n    [part~='row'][dragover='above'] [part~='cell']::after {\n      top: auto;\n      bottom: 100%;\n      margin-bottom: -1px;\n    }\n\n    [part~='row'][details-opened][dragover='below'] [part~='cell']:not([part~='details-cell'])::after,\n    [part~='row'][details-opened][dragover='above'] [part~='details-cell']::after {\n      display: none;\n    }\n\n    [part~='row'][dragover][dragover='on-top'] [part~='cell']::after {\n      height: 100%;\n      opacity: 0.5;\n    }\n\n    [part~='row'][dragstart] [part~='cell'] {\n      border: none !important;\n      box-shadow: none !important;\n    }\n\n    [part~='row'][dragstart] [part~='cell'][last-column] {\n      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;\n    }\n\n    [part~='row'][dragstart] [part~='cell'][first-column] {\n      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);\n    }\n\n    #scroller [part~='row'][dragstart]:not([dragstart=''])::after {\n      display: block;\n      position: absolute;\n      left: var(--_grid-drag-start-x);\n      top: var(--_grid-drag-start-y);\n      z-index: 100;\n      content: attr(dragstart);\n      align-items: center;\n      justify-content: center;\n      box-sizing: border-box;\n      padding: calc(var(--lumo-space-xs) * 0.8);\n      color: var(--lumo-error-contrast-color);\n      background-color: var(--lumo-error-color);\n      border-radius: var(--lumo-border-radius-m);\n      font-family: var(--lumo-font-family);\n      font-size: var(--lumo-font-size-xxs);\n      line-height: 1;\n      font-weight: 500;\n      text-transform: initial;\n      letter-spacing: initial;\n      min-width: calc(var(--lumo-size-s) * 0.7);\n      text-align: center;\n    }\n\n    /* Headers and footers */\n\n    [part~='header-cell'],\n    [part~='footer-cell'],\n    [part~='reorder-ghost'] {\n      font-size: var(--lumo-font-size-s);\n      font-weight: 500;\n    }\n\n    [part~='footer-cell'] {\n      font-weight: 400;\n    }\n\n    [part~='row']:only-child [part~='header-cell'] {\n      min-height: var(--lumo-size-xl);\n    }\n\n    /* Header borders */\n\n    /* Hide first header row top border */\n    :host(:not([theme~='no-row-borders'])) [part~='row']:first-child [part~='header-cell'] {\n      border-top: 0;\n    }\n\n    /* Hide header row top border if previous row is hidden */\n    [part~='row'][hidden] + [part~='row'] [part~='header-cell'] {\n      border-top: 0;\n    }\n\n    [part~='row']:last-child [part~='header-cell'] {\n      border-bottom: var(--_lumo-grid-border-width) solid transparent;\n    }\n\n    :host(:not([theme~='no-row-borders'])) [part~='row']:last-child [part~='header-cell'] {\n      border-bottom-color: var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Overflow uses a stronger border color */\n    :host([overflow~='top']) [part~='row']:last-child [part~='header-cell'] {\n      border-bottom-color: var(--_lumo-grid-border-color);\n    }\n\n    /* Footer borders */\n\n    [part~='row']:first-child [part~='footer-cell'] {\n      border-top: var(--_lumo-grid-border-width) solid transparent;\n    }\n\n    :host(:not([theme~='no-row-borders'])) [part~='row']:first-child [part~='footer-cell'] {\n      border-top-color: var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Overflow uses a stronger border color */\n    :host([overflow~='bottom']) [part~='row']:first-child [part~='footer-cell'] {\n      border-top-color: var(--_lumo-grid-border-color);\n    }\n\n    /* Column reordering */\n\n    :host([reordering]) [part~='cell'] {\n      background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);\n    }\n\n    :host([reordering]) [part~='cell'][reorder-status='allowed'] {\n      background: var(--lumo-base-color);\n    }\n\n    :host([reordering]) [part~='cell'][reorder-status='dragging'] {\n      background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);\n    }\n\n    [part~='reorder-ghost'] {\n      opacity: 0.85;\n      box-shadow: var(--lumo-box-shadow-s);\n      /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */\n      padding: var(--lumo-space-s) var(--lumo-space-m) !important;\n    }\n\n    /* Column resizing */\n\n    [part='resize-handle'] {\n      --_resize-handle-width: 3px;\n      width: var(--_resize-handle-width);\n      background-color: var(--lumo-primary-color-50pct);\n      opacity: 0;\n      transition: opacity 0.2s;\n    }\n\n    [part='resize-handle']::before {\n      transform: translateX(calc(-50% + var(--_resize-handle-width) / 2));\n      width: var(--lumo-size-s);\n    }\n\n    :host(:not([reordering])) *:not([column-resizing]) [part~='cell']:hover [part='resize-handle'],\n    [part='resize-handle']:active {\n      opacity: 1;\n      transition-delay: 0.15s;\n    }\n\n    /* Column borders */\n\n    :host([theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {\n      border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n    }\n\n    /* Frozen columns */\n\n    [last-frozen] {\n      border-right: var(--_lumo-grid-border-width) solid transparent;\n      overflow: hidden;\n    }\n\n    :host([overflow~='start']) [part~='cell'][last-frozen]:not([part~='details-cell']) {\n      border-right-color: var(--_lumo-grid-border-color);\n    }\n\n    [first-frozen-to-end] {\n      border-left: var(--_lumo-grid-border-width) solid transparent;\n    }\n\n    :host([overflow~='end']) [part~='cell'][first-frozen-to-end]:not([part~='details-cell']) {\n      border-left-color: var(--_lumo-grid-border-color);\n    }\n\n    /* Row stripes */\n\n    :host([theme~='row-stripes']) [part~='even-row'] [part~='body-cell'],\n    :host([theme~='row-stripes']) [part~='even-row'] [part~='details-cell'] {\n      background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));\n      background-repeat: repeat-x;\n    }\n\n    /* Selected row */\n\n    /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */\n    :host(:not([reordering])) [part~='row'][selected] {\n      z-index: 1;\n    }\n\n    :host(:not([reordering])) [part~='row'][selected] [part~='body-cell']:not([part~='details-cell']) {\n      background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));\n      background-repeat: repeat;\n    }\n\n    /* Cover the border of an unselected row */\n    :host(:not([theme~='no-row-borders'])) [part~='row'][selected] [part~='cell']:not([part~='details-cell']) {\n      box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);\n    }\n\n    /* Compact */\n\n    :host([theme~='compact']) [part~='row']:only-child [part~='header-cell'] {\n      min-height: var(--lumo-size-m);\n    }\n\n    :host([theme~='compact']) [part~='cell'] {\n      min-height: var(--lumo-size-s);\n      --_cell-default-padding: var(--lumo-space-xs) var(--lumo-space-s);\n    }\n\n    :host([theme~='compact']) [part~='first-row'] [part~='cell']:not([part~='details-cell']) {\n      min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));\n    }\n\n    :host([theme~='compact']) [part~='empty-state'] {\n      padding: var(--lumo-space-s);\n    }\n\n    /* Wrap cell contents */\n\n    :host([theme~='wrap-cell-content']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n      white-space: normal;\n    }\n\n    /* RTL specific styles */\n\n    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][last-column] {\n      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);\n    }\n\n    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][first-column] {\n      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;\n    }\n\n    :host([dir='rtl'][theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {\n      border-right: none;\n      border-left: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);\n    }\n\n    :host([dir='rtl']) [last-frozen] {\n      border-right: none;\n      border-left: var(--_lumo-grid-border-width) solid transparent;\n    }\n\n    :host([dir='rtl']) [first-frozen-to-end] {\n      border-left: none;\n      border-right: var(--_lumo-grid-border-width) solid transparent;\n    }\n\n    :host([dir='rtl'][overflow~='start']) [part~='cell'][last-frozen]:not([part~='details-cell']) {\n      border-left-color: var(--_lumo-grid-border-color);\n    }\n\n    :host([dir='rtl'][overflow~='end']) [part~='cell'][first-frozen-to-end]:not([part~='details-cell']) {\n      border-right-color: var(--_lumo-grid-border-color);\n    }\n  `,\n  { moduleId: 'lumo-grid' },\n);\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/* eslint-disable no-unused-vars */\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is replaced by the munged name for object[property]\n * We cannot alias this function, so we have to use a small shim that has the same behavior when not compiling.\n *\n * @param {?} prop Property name\n * @param {*} obj Reference object\n * @return {string} Potentially renamed property name\n */\nwindow.JSCompiler_renameProperty = function(prop, obj) {\n  return prop;\n};\n/* eslint-enable */\n\nexport {};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\nlet CSS_URL_RX = /(url\\()([^)]*)(\\))/g;\nlet ABS_URL = /(^\\/[^\\/])|(^#)|(^[\\w-\\d]*:)/;\nlet workingURL;\nlet resolveDoc;\n/**\n * Resolves the given URL against the provided `baseUri'.\n *\n * Note that this function performs no resolution for URLs that start\n * with `/` (absolute URLs) or `#` (hash identifiers).  For general purpose\n * URL resolution, use `window.URL`.\n *\n * @param {string} url Input URL to resolve\n * @param {?string=} baseURI Base URI to resolve the URL against\n * @return {string} resolved URL\n */\nexport function resolveUrl(url, baseURI) {\n  if (url && ABS_URL.test(url)) {\n    return url;\n  }\n  if (url === '//') {\n    return url;\n  }\n  // Lazy feature detection.\n  if (workingURL === undefined) {\n    workingURL = false;\n    try {\n      const u = new URL('b', 'http://a');\n      u.pathname = 'c%20d';\n      workingURL = (u.href === 'http://a/c%20d');\n    } catch (e) {\n      // silently fail\n    }\n  }\n  if (!baseURI) {\n    baseURI = document.baseURI || window.location.href;\n  }\n  if (workingURL) {\n    try {\n      return (new URL(url, baseURI)).href;\n    } catch (e) {\n      // Bad url or baseURI structure. Do not attempt to resolve.\n      return url;\n    }\n  }\n  // Fallback to creating an anchor into a disconnected document.\n  if (!resolveDoc) {\n    resolveDoc = document.implementation.createHTMLDocument('temp');\n    resolveDoc.base = resolveDoc.createElement('base');\n    resolveDoc.head.appendChild(resolveDoc.base);\n    resolveDoc.anchor = resolveDoc.createElement('a');\n    resolveDoc.body.appendChild(resolveDoc.anchor);\n  }\n  resolveDoc.base.href = baseURI;\n  resolveDoc.anchor.href = url;\n  return resolveDoc.anchor.href || url;\n\n}\n\n/**\n * Resolves any relative URL's in the given CSS text against the provided\n * `ownerDocument`'s `baseURI`.\n *\n * @param {string} cssText CSS text to process\n * @param {string} baseURI Base URI to resolve the URL against\n * @return {string} Processed CSS text with resolved URL's\n */\nexport function resolveCss(cssText, baseURI) {\n  return cssText.replace(CSS_URL_RX, function(m, pre, url, post) {\n    return pre + '\\'' +\n      resolveUrl(url.replace(/[\"']/g, ''), baseURI) +\n      '\\'' + post;\n  });\n}\n\n/**\n * Returns a path from a given `url`. The path includes the trailing\n * `/` from the url.\n *\n * @param {string} url Input URL to transform\n * @return {string} resolved path\n */\nexport function pathFromUrl(url) {\n  return url.substring(0, url.lastIndexOf('/') + 1);\n}\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\nimport { pathFromUrl } from './resolve-url.js';\nexport const useShadow = !(window.ShadyDOM) || !(window.ShadyDOM.inUse);\nexport const useNativeCSSProperties = Boolean(!window.ShadyCSS || window.ShadyCSS.nativeCss);\nexport const useNativeCustomElements = !(window.customElements.polyfillWrapFlushCallback);\nexport const supportsAdoptingStyleSheets = useShadow &&\n    ('adoptedStyleSheets' in Document.prototype) &&\n    ('replaceSync' in CSSStyleSheet.prototype) &&\n    // Since spec may change, feature detect exact API we need\n    (() => {\n      try {\n        const sheet = new CSSStyleSheet();\n        sheet.replaceSync('');\n        const host = document.createElement('div');\n        host.attachShadow({mode: 'open'});\n        host.shadowRoot.adoptedStyleSheets = [sheet];\n        return (host.shadowRoot.adoptedStyleSheets[0] === sheet);\n      } catch(e) {\n        return false;\n      }\n    })();\n\n/**\n * Globally settable property that is automatically assigned to\n * `ElementMixin` instances, useful for binding in templates to\n * make URL's relative to an application's root.  Defaults to the main\n * document URL, but can be overridden by users.  It may be useful to set\n * `rootPath` to provide a stable application mount path when\n * using client side routing.\n */\nexport let rootPath = window.Polymer && window.Polymer.rootPath ||\n  pathFromUrl(document.baseURI || window.location.href);\n\n/**\n * Sets the global rootPath property used by `ElementMixin` and\n * available via `rootPath`.\n *\n * @param {string} path The new root path\n * @return {void}\n */\nexport const setRootPath = function(path) {\n  rootPath = path;\n};\n\n/**\n * A global callback used to sanitize any value before inserting it into the DOM.\n * The callback signature is:\n *\n *  function sanitizeDOMValue(value, name, type, node) { ... }\n *\n * Where:\n *\n * `value` is the value to sanitize.\n * `name` is the name of an attribute or property (for example, href).\n * `type` indicates where the value is being inserted: one of property, attribute, or text.\n * `node` is the node where the value is being inserted.\n *\n * @type {(function(*,string,string,?Node):*)|undefined}\n */\nexport let sanitizeDOMValue =\n  window.Polymer && window.Polymer.sanitizeDOMValue || undefined;\n\n/**\n * Sets the global sanitizeDOMValue available via this module's exported\n * `sanitizeDOMValue` variable.\n *\n * @param {(function(*,string,string,?Node):*)|undefined} newSanitizeDOMValue the global sanitizeDOMValue callback\n * @return {void}\n */\nexport const setSanitizeDOMValue = function(newSanitizeDOMValue) {\n  sanitizeDOMValue = newSanitizeDOMValue;\n};\n\n/**\n * Gets sanitizeDOMValue, for environments that don't well support `export let`.\n *\n * @return {(function(*,string,string,?Node):*)|undefined} sanitizeDOMValue\n */\nexport const getSanitizeDOMValue = function() {\n  return sanitizeDOMValue;\n};\n\n/**\n * Globally settable property to make Polymer Gestures use passive TouchEvent listeners when recognizing gestures.\n * When set to `true`, gestures made from touch will not be able to prevent scrolling, allowing for smoother\n * scrolling performance.\n * Defaults to `false` for backwards compatibility.\n */\nexport let passiveTouchGestures =\n  window.Polymer && window.Polymer.setPassiveTouchGestures || false;\n\n/**\n * Sets `passiveTouchGestures` globally for all elements using Polymer Gestures.\n *\n * @param {boolean} usePassive enable or disable passive touch gestures globally\n * @return {void}\n */\nexport const setPassiveTouchGestures = function(usePassive) {\n  passiveTouchGestures = usePassive;\n};\n\n/**\n * Setting to ensure Polymer template evaluation only occurs based on tempates\n * defined in trusted script.  When true, `<dom-module>` re-registration is\n * disallowed, `<dom-bind>` is disabled, and `<dom-if>`/`<dom-repeat>`\n * templates will only evaluate in the context of a trusted element template.\n */\nexport let strictTemplatePolicy =\n  window.Polymer && window.Polymer.strictTemplatePolicy || false;\n\n/**\n * Sets `strictTemplatePolicy` globally for all elements\n *\n * @param {boolean} useStrictPolicy enable or disable strict template policy\n *   globally\n * @return {void}\n */\nexport const setStrictTemplatePolicy = function(useStrictPolicy) {\n  strictTemplatePolicy = useStrictPolicy;\n};\n\n/**\n * Setting to enable dom-module lookup from Polymer.Element.  By default,\n * templates must be defined in script using the `static get template()`\n * getter and the `html` tag function.  To enable legacy loading of templates\n * via dom-module, set this flag to true.\n */\nexport let allowTemplateFromDomModule =\n  window.Polymer && window.Polymer.allowTemplateFromDomModule || false;\n\n/**\n * Sets `lookupTemplateFromDomModule` globally for all elements\n *\n * @param {boolean} allowDomModule enable or disable template lookup\n *   globally\n * @return {void}\n */\nexport const setAllowTemplateFromDomModule = function(allowDomModule) {\n  allowTemplateFromDomModule = allowDomModule;\n};\n\n/**\n * Setting to skip processing style includes and re-writing urls in css styles.\n * Normally \"included\" styles are pulled into the element and all urls in styles\n * are re-written to be relative to the containing script url.\n * If no includes or relative urls are used in styles, these steps can be\n * skipped as an optimization.\n */\nexport let legacyOptimizations =\n  window.Polymer && window.Polymer.legacyOptimizations || false;\n\n/**\n * Sets `legacyOptimizations` globally for all elements to enable optimizations\n * when only legacy based elements are used.\n *\n * @param {boolean} useLegacyOptimizations enable or disable legacy optimizations\n * includes and url rewriting\n * @return {void}\n */\nexport const setLegacyOptimizations = function(useLegacyOptimizations) {\n  legacyOptimizations = useLegacyOptimizations;\n};\n\n/**\n * Setting to add warnings useful when migrating from Polymer 1.x to 2.x.\n */\nexport let legacyWarnings =\n  window.Polymer && window.Polymer.legacyWarnings || false;\n\n/**\n * Sets `legacyWarnings` globally for all elements to migration warnings.\n *\n * @param {boolean} useLegacyWarnings enable or disable warnings\n * @return {void}\n */\nexport const setLegacyWarnings = function(useLegacyWarnings) {\n  legacyWarnings = useLegacyWarnings;\n};\n\n/**\n * Setting to perform initial rendering synchronously when running under ShadyDOM.\n * This matches the behavior of Polymer 1.\n */\nexport let syncInitialRender =\n  window.Polymer && window.Polymer.syncInitialRender || false;\n\n/**\n * Sets `syncInitialRender` globally for all elements to enable synchronous\n * initial rendering.\n *\n * @param {boolean} useSyncInitialRender enable or disable synchronous initial\n * rendering globally.\n * @return {void}\n */\nexport const setSyncInitialRender = function(useSyncInitialRender) {\n  syncInitialRender = useSyncInitialRender;\n};\n\n/**\n * Setting to retain the legacy Polymer 1 behavior for multi-property\n * observers around undefined values. Observers and computed property methods\n * are not called until no argument is undefined.\n */\nexport let legacyUndefined =\n  window.Polymer && window.Polymer.legacyUndefined || false;\n\n/**\n * Sets `legacyUndefined` globally for all elements to enable legacy\n * multi-property behavior for undefined values.\n *\n * @param {boolean} useLegacyUndefined enable or disable legacy\n * multi-property behavior for undefined.\n * @return {void}\n */\nexport const setLegacyUndefined = function(useLegacyUndefined) {\n  legacyUndefined = useLegacyUndefined;\n};\n\n/**\n * Setting to ensure computed properties are computed in order to ensure\n * re-computation never occurs in a given turn.\n */\nexport let orderedComputed =\n  window.Polymer && window.Polymer.orderedComputed || false;\n\n/**\n * Sets `orderedComputed` globally for all elements to enable ordered computed\n * property computation.\n *\n * @param {boolean} useOrderedComputed enable or disable ordered computed effects\n * @return {void}\n */\nexport const setOrderedComputed = function(useOrderedComputed) {\n  orderedComputed = useOrderedComputed;\n};\n\n/**\n * Setting to cancel synthetic click events fired by older mobile browsers. Modern browsers\n * no longer fire synthetic click events, and the cancellation behavior can interfere\n * when programmatically clicking on elements.\n */\nexport let cancelSyntheticClickEvents = true;\n\n/**\n * Sets `setCancelSyntheticEvents` globally for all elements to cancel synthetic click events.\n *\n * @param {boolean} useCancelSyntheticClickEvents enable or disable cancelling synthetic\n * events\n * @return {void}\n */\nexport const setCancelSyntheticClickEvents = function(useCancelSyntheticClickEvents) {\n  cancelSyntheticClickEvents = useCancelSyntheticClickEvents;\n};\n\n/**\n * Setting to remove nested templates inside `dom-if` and `dom-repeat` as\n * part of element template parsing.  This is a performance optimization that\n * eliminates most of the tax of needing two elements due to the loss of\n * type-extended templates as a result of the V1 specification changes.\n */\nexport let removeNestedTemplates =\n  window.Polymer && window.Polymer.removeNestedTemplates || false;\n\n/**\n * Sets `removeNestedTemplates` globally, to eliminate nested templates\n * inside `dom-if` and `dom-repeat` as part of template parsing.\n *\n * @param {boolean} useRemoveNestedTemplates enable or disable removing nested\n *   templates during parsing\n * @return {void}\n */\nexport const setRemoveNestedTemplates = function(useRemoveNestedTemplates) {\n  removeNestedTemplates = useRemoveNestedTemplates;\n};\n\n/**\n * Setting to place `dom-if` elements in a performance-optimized mode that takes\n * advantage of lighter-weight host runtime template stamping to eliminate the\n * need for an intermediate Templatizer `TemplateInstance` to mange the nodes\n * stamped by `dom-if`.  Under this setting, any Templatizer-provided API's\n * such as `modelForElement` will not be available for nodes stamped by\n * `dom-if`.\n */\nexport let fastDomIf = window.Polymer && window.Polymer.fastDomIf || false;\n\n/**\n * Sets `fastDomIf` globally, to put `dom-if` in a performance-optimized mode.\n *\n * @param {boolean} useFastDomIf enable or disable `dom-if` fast-mode\n * @return {void}\n */\nexport const setFastDomIf = function(useFastDomIf) {\n  fastDomIf = useFastDomIf;\n};\n\n/**\n * Setting to disable `dom-change` and `rendered-item-count` events from\n * `dom-if` and `dom-repeat`. Users can opt back into `dom-change` events by\n * setting the `notify-dom-change` attribute (`notifyDomChange: true` property)\n * to `dom-if`/`don-repeat` instances.\n */\nexport let suppressTemplateNotifications =\n  window.Polymer && window.Polymer.suppressTemplateNotifications || false;\n\n/**\n * Sets `suppressTemplateNotifications` globally, to disable `dom-change` and\n * `rendered-item-count` events from `dom-if` and `dom-repeat`.\n *\n * @param {boolean} suppress enable or disable `suppressTemplateNotifications`\n * @return {void}\n */\nexport const setSuppressTemplateNotifications = function(suppress) {\n  suppressTemplateNotifications = suppress;\n};\n\n/**\n * Setting to disable use of dynamic attributes. This is an optimization\n * to avoid setting `observedAttributes`. Instead attributes are read\n * once at create time and set/removeAttribute are patched.\n */\nexport let legacyNoObservedAttributes =\n  window.Polymer && window.Polymer.legacyNoObservedAttributes || false;\n\n/**\n * Sets `legacyNoObservedAttributes` globally, to disable `observedAttributes`.\n *\n * @param {boolean} noObservedAttributes enable or disable `legacyNoObservedAttributes`\n * @return {void}\n */\nexport const setLegacyNoObservedAttributes = function(noObservedAttributes) {\n  legacyNoObservedAttributes = noObservedAttributes;\n};\n\n/**\n * Setting to enable use of `adoptedStyleSheets` for sharing style sheets\n * between component instances' shadow roots, if the app uses built Shady CSS\n * styles.\n */\nexport let useAdoptedStyleSheetsWithBuiltCSS =\n  window.Polymer && window.Polymer.useAdoptedStyleSheetsWithBuiltCSS || false;\n\n/**\n * Sets `useAdoptedStyleSheetsWithBuiltCSS` globally.\n *\n * @param {boolean} value enable or disable `useAdoptedStyleSheetsWithBuiltCSS`\n * @return {void}\n */\nexport const setUseAdoptedStyleSheetsWithBuiltCSS = function(value) {\n  useAdoptedStyleSheetsWithBuiltCSS = value;\n};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\n// unique global id for deduping mixins.\nlet dedupeId = 0;\n\n/**\n * @constructor\n * @extends {Function}\n * @private\n */\nfunction MixinFunction(){}\n/** @type {(WeakMap | undefined)} */\nMixinFunction.prototype.__mixinApplications;\n/** @type {(Object | undefined)} */\nMixinFunction.prototype.__mixinSet;\n\n/* eslint-disable valid-jsdoc */\n/**\n * Wraps an ES6 class expression mixin such that the mixin is only applied\n * if it has not already been applied its base argument. Also memoizes mixin\n * applications.\n *\n * @template T\n * @param {T} mixin ES6 class expression mixin to wrap\n * @return {T}\n * @suppress {invalidCasts}\n */\nexport const dedupingMixin = function(mixin) {\n  let mixinApplications = /** @type {!MixinFunction} */(mixin).__mixinApplications;\n  if (!mixinApplications) {\n    mixinApplications = new WeakMap();\n    /** @type {!MixinFunction} */(mixin).__mixinApplications = mixinApplications;\n  }\n  // maintain a unique id for each mixin\n  let mixinDedupeId = dedupeId++;\n  function dedupingMixin(base) {\n    let baseSet = /** @type {!MixinFunction} */(base).__mixinSet;\n    if (baseSet && baseSet[mixinDedupeId]) {\n      return base;\n    }\n    let map = mixinApplications;\n    let extended = map.get(base);\n    if (!extended) {\n      extended = /** @type {!Function} */(mixin)(base);\n      map.set(base, extended);\n      // copy inherited mixin set from the extended class, or the base class\n      // NOTE: we avoid use of Set here because some browser (IE11)\n      // cannot extend a base Set via the constructor.\n      let mixinSet = Object.create(/** @type {!MixinFunction} */(extended).__mixinSet || baseSet || null);\n      mixinSet[mixinDedupeId] = true;\n      /** @type {!MixinFunction} */(extended).__mixinSet = mixinSet;\n    }\n    return extended;\n  }\n\n  return dedupingMixin;\n};\n/* eslint-enable valid-jsdoc */\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '../utils/boot.js';\n\nimport { resolveUrl, pathFromUrl } from '../utils/resolve-url.js';\nimport { strictTemplatePolicy } from '../utils/settings.js';\n\nlet modules = {};\nlet lcModules = {};\n/**\n * Sets a dom-module into the global registry by id.\n *\n * @param {string} id dom-module id\n * @param {DomModule} module dom-module instance\n * @return {void}\n */\nfunction setModule(id, module) {\n  // store id separate from lowercased id so that\n  // in all cases mixedCase id will stored distinctly\n  // and lowercase version is a fallback\n  modules[id] = lcModules[id.toLowerCase()] = module;\n}\n/**\n * Retrieves a dom-module from the global registry by id.\n *\n * @param {string} id dom-module id\n * @return {DomModule!} dom-module instance\n */\nfunction findModule(id) {\n  return modules[id] || lcModules[id.toLowerCase()];\n}\n\nfunction styleOutsideTemplateCheck(inst) {\n  if (inst.querySelector('style')) {\n    console.warn('dom-module %s has style outside template', inst.id);\n  }\n}\n\n/**\n * The `dom-module` element registers the dom it contains to the name given\n * by the module's id attribute. It provides a unified database of dom\n * accessible via its static `import` API.\n *\n * A key use case of `dom-module` is for providing custom element `<template>`s\n * via HTML imports that are parsed by the native HTML parser, that can be\n * relocated during a bundling pass and still looked up by `id`.\n *\n * Example:\n *\n *     <dom-module id=\"foo\">\n *       <img src=\"stuff.png\">\n *     </dom-module>\n *\n * Then in code in some other location that cannot access the dom-module above\n *\n *     let img = customElements.get('dom-module').import('foo', 'img');\n *\n * @customElement\n * @extends HTMLElement\n * @summary Custom element that provides a registry of relocatable DOM content\n *   by `id` that is agnostic to bundling.\n * @unrestricted\n */\nexport class DomModule extends HTMLElement {\n\n  /** @override */\n  static get observedAttributes() { return ['id']; }\n\n  /**\n   * Retrieves the element specified by the css `selector` in the module\n   * registered by `id`. For example, this.import('foo', 'img');\n   * @param {string} id The id of the dom-module in which to search.\n   * @param {string=} selector The css selector by which to find the element.\n   * @return {Element} Returns the element which matches `selector` in the\n   * module registered at the specified `id`.\n   *\n   * @export\n   * @nocollapse Referred to indirectly in style-gather.js\n   */\n  static import(id, selector) {\n    if (id) {\n      let m = findModule(id);\n      if (m && selector) {\n        return m.querySelector(selector);\n      }\n      return m;\n    }\n    return null;\n  }\n\n  /* eslint-disable no-unused-vars */\n  /**\n   * @param {string} name Name of attribute.\n   * @param {?string} old Old value of attribute.\n   * @param {?string} value Current value of attribute.\n   * @param {?string} namespace Attribute namespace.\n   * @return {void}\n   * @override\n   */\n  attributeChangedCallback(name, old, value, namespace) {\n    if (old !== value) {\n      this.register();\n    }\n  }\n  /* eslint-enable no-unused-args */\n\n  /**\n   * The absolute URL of the original location of this `dom-module`.\n   *\n   * This value will differ from this element's `ownerDocument` in the\n   * following ways:\n   * - Takes into account any `assetpath` attribute added during bundling\n   *   to indicate the original location relative to the bundled location\n   * - Uses the HTMLImports polyfill's `importForElement` API to ensure\n   *   the path is relative to the import document's location since\n   *   `ownerDocument` is not currently polyfilled\n   */\n  get assetpath() {\n    // Don't override existing assetpath.\n    if (!this.__assetpath) {\n      // note: assetpath set via an attribute must be relative to this\n      // element's location; accommodate polyfilled HTMLImports\n      const owner = window.HTMLImports && HTMLImports.importForElement ?\n        HTMLImports.importForElement(this) || document : this.ownerDocument;\n      const url = resolveUrl(\n        this.getAttribute('assetpath') || '', owner.baseURI);\n      this.__assetpath = pathFromUrl(url);\n    }\n    return this.__assetpath;\n  }\n\n  /**\n   * Registers the dom-module at a given id. This method should only be called\n   * when a dom-module is imperatively created. For\n   * example, `document.createElement('dom-module').register('foo')`.\n   * @param {string=} id The id at which to register the dom-module.\n   * @return {void}\n   */\n  register(id) {\n    id = id || this.id;\n    if (id) {\n      // Under strictTemplatePolicy, reject and null out any re-registered\n      // dom-module since it is ambiguous whether first-in or last-in is trusted\n      if (strictTemplatePolicy && findModule(id) !== undefined) {\n        setModule(id, null);\n        throw new Error(`strictTemplatePolicy: dom-module ${id} re-registered`);\n      }\n      this.id = id;\n      setModule(id, this);\n      styleOutsideTemplateCheck(this);\n    }\n  }\n}\n\nDomModule.prototype['modules'] = modules;\n\ncustomElements.define('dom-module', DomModule);\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Module with utilities for collection CSS text from `<templates>`, external\n * stylesheets, and `dom-module`s.\n *\n * @summary Module with utilities for collection CSS text from various sources.\n */\n\nimport { DomModule } from '../elements/dom-module.js';\nimport { resolveCss } from './resolve-url.js';\n\nconst MODULE_STYLE_LINK_SELECTOR = 'link[rel=import][type~=css]';\nconst INCLUDE_ATTR = 'include';\nconst SHADY_UNSCOPED_ATTR = 'shady-unscoped';\n\n/**\n * @param {string} moduleId .\n * @return {?DomModule} .\n */\nfunction importModule(moduleId) {\n  return /** @type {?DomModule} */(DomModule.import(moduleId));\n}\n\nfunction styleForImport(importDoc) {\n  // NOTE: polyfill affordance.\n  // under the HTMLImports polyfill, there will be no 'body',\n  // but the import pseudo-doc can be used directly.\n  let container = importDoc.body ? importDoc.body : importDoc;\n  const importCss = resolveCss(container.textContent,\n    importDoc.baseURI);\n  const style = document.createElement('style');\n  style.textContent = importCss;\n  return style;\n}\n\n/** @typedef {{assetpath: string}} */\nlet templateWithAssetPath; // eslint-disable-line no-unused-vars\n\n\n/**\n * Returns a list of <style> elements in a space-separated list of `dom-module`s.\n *\n * @function\n * @param {string} moduleIds List of dom-module id's within which to\n * search for css.\n * @return {!Array<!HTMLStyleElement>} Array of contained <style> elements\n */\nexport function stylesFromModules(moduleIds) {\n const modules = moduleIds.trim().split(/\\s+/);\n const styles = [];\n for (let i=0; i < modules.length; i++) {\n   styles.push(...stylesFromModule(modules[i]));\n }\n return styles;\n}\n\n/**\n * Returns a list of <style> elements in a given `dom-module`.\n * Styles in a `dom-module` can come either from `<style>`s within the\n * first `<template>`, or else from one or more\n * `<link rel=\"import\" type=\"css\">` links outside the template.\n *\n * @param {string} moduleId dom-module id to gather styles from\n * @return {!Array<!HTMLStyleElement>} Array of contained styles.\n */\nexport function stylesFromModule(moduleId) {\n  const m = importModule(moduleId);\n\n  if (!m) {\n    console.warn('Could not find style data in module named', moduleId);\n    return [];\n  }\n\n  if (m._styles === undefined) {\n    const styles = [];\n    // module imports: <link rel=\"import\" type=\"css\">\n    styles.push(..._stylesFromModuleImports(m));\n    // include css from the first template in the module\n    const template = /** @type {?HTMLTemplateElement} */(\n        m.querySelector('template'));\n    if (template) {\n      styles.push(...stylesFromTemplate(template,\n        /** @type {templateWithAssetPath} */(m).assetpath));\n    }\n\n    m._styles = styles;\n  }\n\n  return m._styles;\n}\n\n/**\n * Returns the `<style>` elements within a given template.\n *\n * @param {!HTMLTemplateElement} template Template to gather styles from\n * @param {string=} baseURI baseURI for style content\n * @return {!Array<!HTMLStyleElement>} Array of styles\n */\nexport function stylesFromTemplate(template, baseURI) {\n  if (!template._styles) {\n    const styles = [];\n    // if element is a template, get content from its .content\n    const e$ = template.content.querySelectorAll('style');\n    for (let i=0; i < e$.length; i++) {\n      let e = e$[i];\n      // support style sharing by allowing styles to \"include\"\n      // other dom-modules that contain styling\n      let include = e.getAttribute(INCLUDE_ATTR);\n      if (include) {\n        styles.push(...stylesFromModules(include).filter(function(item, index, self) {\n          return self.indexOf(item) === index;\n        }));\n      }\n      if (baseURI) {\n        e.textContent =\n            resolveCss(e.textContent, /** @type {string} */ (baseURI));\n      }\n      styles.push(e);\n    }\n    template._styles = styles;\n  }\n  return template._styles;\n}\n\n/**\n * Returns a list of <style> elements  from stylesheets loaded via `<link rel=\"import\" type=\"css\">` links within the specified `dom-module`.\n *\n * @param {string} moduleId Id of `dom-module` to gather CSS from\n * @return {!Array<!HTMLStyleElement>} Array of contained styles.\n */\nexport function stylesFromModuleImports(moduleId) {\n let m = importModule(moduleId);\n return m ? _stylesFromModuleImports(m) : [];\n}\n\n/**\n * @param {!HTMLElement} module dom-module element that could contain `<link rel=\"import\" type=\"css\">` styles\n * @return {!Array<!HTMLStyleElement>} Array of contained styles\n */\nfunction _stylesFromModuleImports(module) {\n  const styles = [];\n  const p$ = module.querySelectorAll(MODULE_STYLE_LINK_SELECTOR);\n  for (let i=0; i < p$.length; i++) {\n    let p = p$[i];\n    if (p.import) {\n      const importDoc = p.import;\n      const unscoped = p.hasAttribute(SHADY_UNSCOPED_ATTR);\n      if (unscoped && !importDoc._unscopedStyle) {\n        const style = styleForImport(importDoc);\n        style.setAttribute(SHADY_UNSCOPED_ATTR, '');\n        importDoc._unscopedStyle = style;\n      } else if (!importDoc._style) {\n        importDoc._style = styleForImport(importDoc);\n      }\n      styles.push(unscoped ? importDoc._unscopedStyle : importDoc._style);\n    }\n  }\n  return styles;\n}\n\n/**\n *\n * Returns CSS text of styles in a space-separated list of `dom-module`s.\n * Note: This method is deprecated, use `stylesFromModules` instead.\n *\n * @deprecated\n * @param {string} moduleIds List of dom-module id's within which to\n * search for css.\n * @return {string} Concatenated CSS content from specified `dom-module`s\n */\nexport function cssFromModules(moduleIds) {\n let modules = moduleIds.trim().split(/\\s+/);\n let cssText = '';\n for (let i=0; i < modules.length; i++) {\n   cssText += cssFromModule(modules[i]);\n }\n return cssText;\n}\n\n/**\n * Returns CSS text of styles in a given `dom-module`.  CSS in a `dom-module`\n * can come either from `<style>`s within the first `<template>`, or else\n * from one or more `<link rel=\"import\" type=\"css\">` links outside the\n * template.\n *\n * Any `<styles>` processed are removed from their original location.\n * Note: This method is deprecated, use `styleFromModule` instead.\n *\n * @deprecated\n * @param {string} moduleId dom-module id to gather styles from\n * @return {string} Concatenated CSS content from specified `dom-module`\n */\nexport function cssFromModule(moduleId) {\n  let m = importModule(moduleId);\n  if (m && m._cssText === undefined) {\n    // module imports: <link rel=\"import\" type=\"css\">\n    let cssText = _cssFromModuleImports(m);\n    // include css from the first template in the module\n    let t = /** @type {?HTMLTemplateElement} */(m.querySelector('template'));\n    if (t) {\n      cssText += cssFromTemplate(t,\n        /** @type {templateWithAssetPath} */(m).assetpath);\n    }\n    m._cssText = cssText || null;\n  }\n  if (!m) {\n    console.warn('Could not find style data in module named', moduleId);\n  }\n  return m && m._cssText || '';\n}\n\n/**\n * Returns CSS text of `<styles>` within a given template.\n *\n * Any `<styles>` processed are removed from their original location.\n * Note: This method is deprecated, use `styleFromTemplate` instead.\n *\n * @deprecated\n * @param {!HTMLTemplateElement} template Template to gather styles from\n * @param {string} baseURI Base URI to resolve the URL against\n * @return {string} Concatenated CSS content from specified template\n */\nexport function cssFromTemplate(template, baseURI) {\n  let cssText = '';\n  const e$ = stylesFromTemplate(template, baseURI);\n  // if element is a template, get content from its .content\n  for (let i=0; i < e$.length; i++) {\n    let e = e$[i];\n    if (e.parentNode) {\n      e.parentNode.removeChild(e);\n    }\n    cssText += e.textContent;\n  }\n  return cssText;\n}\n\n/**\n * Returns CSS text from stylesheets loaded via `<link rel=\"import\" type=\"css\">`\n * links within the specified `dom-module`.\n *\n * Note: This method is deprecated, use `stylesFromModuleImports` instead.\n *\n * @deprecated\n *\n * @param {string} moduleId Id of `dom-module` to gather CSS from\n * @return {string} Concatenated CSS content from links in specified `dom-module`\n */\nexport function cssFromModuleImports(moduleId) {\n  let m = importModule(moduleId);\n  return m ? _cssFromModuleImports(m) : '';\n}\n\n/**\n * @deprecated\n * @param {!HTMLElement} module dom-module element that could contain `<link rel=\"import\" type=\"css\">` styles\n * @return {string} Concatenated CSS content from links in the dom-module\n */\nfunction _cssFromModuleImports(module) {\n  let cssText = '';\n  let styles = _stylesFromModuleImports(module);\n  for (let i=0; i < styles.length; i++) {\n    cssText += styles[i].textContent;\n  }\n  return cssText;\n}\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/* eslint-disable valid-jsdoc */\n/**\n * Node wrapper to ensure ShadowDOM safe operation regardless of polyfill\n * presence or mode. Note that with the introduction of `ShadyDOM.noPatch`,\n * a node wrapper must be used to access ShadowDOM API.\n * This is similar to using `Polymer.dom` but relies exclusively\n * on the presence of the ShadyDOM polyfill rather than requiring the loading\n * of legacy (Polymer.dom) API.\n * @type {function(Node):Node}\n */\nexport const wrap = (window['ShadyDOM'] && window['ShadyDOM']['noPatch'] && window['ShadyDOM']['wrap']) ?\n  window['ShadyDOM']['wrap'] :\n  (window['ShadyDOM'] ? (n) => ShadyDOM['patch'](n) : (n) => n);\n\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\n/**\n * Module with utilities for manipulating structured data path strings.\n *\n * @summary Module with utilities for manipulating structured data path strings.\n */\n\n/**\n * Returns true if the given string is a structured data path (has dots).\n *\n * Example:\n *\n * ```\n * isPath('foo.bar.baz') // true\n * isPath('foo')         // false\n * ```\n *\n * @param {string} path Path string\n * @return {boolean} True if the string contained one or more dots\n */\nexport function isPath(path) {\n  return path.indexOf('.') >= 0;\n}\n\n/**\n * Returns the root property name for the given path.\n *\n * Example:\n *\n * ```\n * root('foo.bar.baz') // 'foo'\n * root('foo')         // 'foo'\n * ```\n *\n * @param {string} path Path string\n * @return {string} Root property name\n */\nexport function root(path) {\n  let dotIndex = path.indexOf('.');\n  if (dotIndex === -1) {\n    return path;\n  }\n  return path.slice(0, dotIndex);\n}\n\n/**\n * Given `base` is `foo.bar`, `foo` is an ancestor, `foo.bar` is not\n * Returns true if the given path is an ancestor of the base path.\n *\n * Example:\n *\n * ```\n * isAncestor('foo.bar', 'foo')         // true\n * isAncestor('foo.bar', 'foo.bar')     // false\n * isAncestor('foo.bar', 'foo.bar.baz') // false\n * ```\n *\n * @param {string} base Path string to test against.\n * @param {string} path Path string to test.\n * @return {boolean} True if `path` is an ancestor of `base`.\n */\nexport function isAncestor(base, path) {\n  //     base.startsWith(path + '.');\n  return base.indexOf(path + '.') === 0;\n}\n\n/**\n * Given `base` is `foo.bar`, `foo.bar.baz` is an descendant\n *\n * Example:\n *\n * ```\n * isDescendant('foo.bar', 'foo.bar.baz') // true\n * isDescendant('foo.bar', 'foo.bar')     // false\n * isDescendant('foo.bar', 'foo')         // false\n * ```\n *\n * @param {string} base Path string to test against.\n * @param {string} path Path string to test.\n * @return {boolean} True if `path` is a descendant of `base`.\n */\nexport function isDescendant(base, path) {\n  //     path.startsWith(base + '.');\n  return path.indexOf(base + '.') === 0;\n}\n\n/**\n * Replaces a previous base path with a new base path, preserving the\n * remainder of the path.\n *\n * User must ensure `path` has a prefix of `base`.\n *\n * Example:\n *\n * ```\n * translate('foo.bar', 'zot', 'foo.bar.baz') // 'zot.baz'\n * ```\n *\n * @param {string} base Current base string to remove\n * @param {string} newBase New base string to replace with\n * @param {string} path Path to translate\n * @return {string} Translated string\n */\nexport function translate(base, newBase, path) {\n  return newBase + path.slice(base.length);\n}\n\n/**\n * @param {string} base Path string to test against\n * @param {string} path Path string to test\n * @return {boolean} True if `path` is equal to `base`\n */\nexport function matches(base, path) {\n  return (base === path) ||\n         isAncestor(base, path) ||\n         isDescendant(base, path);\n}\n\n/**\n * Converts array-based paths to flattened path.  String-based paths\n * are returned as-is.\n *\n * Example:\n *\n * ```\n * normalize(['foo.bar', 0, 'baz'])  // 'foo.bar.0.baz'\n * normalize('foo.bar.0.baz')        // 'foo.bar.0.baz'\n * ```\n *\n * @param {string | !Array<string|number>} path Input path\n * @return {string} Flattened path\n */\nexport function normalize(path) {\n  if (Array.isArray(path)) {\n    let parts = [];\n    for (let i=0; i<path.length; i++) {\n      let args = path[i].toString().split('.');\n      for (let j=0; j<args.length; j++) {\n        parts.push(args[j]);\n      }\n    }\n    return parts.join('.');\n  } else {\n    return path;\n  }\n}\n\n/**\n * Splits a path into an array of property names. Accepts either arrays\n * of path parts or strings.\n *\n * Example:\n *\n * ```\n * split(['foo.bar', 0, 'baz'])  // ['foo', 'bar', '0', 'baz']\n * split('foo.bar.0.baz')        // ['foo', 'bar', '0', 'baz']\n * ```\n *\n * @param {string | !Array<string|number>} path Input path\n * @return {!Array<string>} Array of path parts\n * @suppress {checkTypes}\n */\nexport function split(path) {\n  if (Array.isArray(path)) {\n    return normalize(path).split('.');\n  }\n  return path.toString().split('.');\n}\n\n/**\n * Reads a value from a path.  If any sub-property in the path is `undefined`,\n * this method returns `undefined` (will never throw.\n *\n * @param {Object} root Object from which to dereference path from\n * @param {string | !Array<string|number>} path Path to read\n * @param {Object=} info If an object is provided to `info`, the normalized\n *  (flattened) path will be set to `info.path`.\n * @return {*} Value at path, or `undefined` if the path could not be\n *  fully dereferenced.\n */\nexport function get(root, path, info) {\n  let prop = root;\n  let parts = split(path);\n  // Loop over path parts[0..n-1] and dereference\n  for (let i=0; i<parts.length; i++) {\n    if (!prop) {\n      return;\n    }\n    let part = parts[i];\n    prop = prop[part];\n  }\n  if (info) {\n    info.path = parts.join('.');\n  }\n  return prop;\n}\n\n/**\n * Sets a value to a path.  If any sub-property in the path is `undefined`,\n * this method will no-op.\n *\n * @param {Object} root Object from which to dereference path from\n * @param {string | !Array<string|number>} path Path to set\n * @param {*} value Value to set to path\n * @return {string | undefined} The normalized version of the input path\n */\nexport function set(root, path, value) {\n  let prop = root;\n  let parts = split(path);\n  let last = parts[parts.length-1];\n  if (parts.length > 1) {\n    // Loop over path parts[0..n-2] and dereference\n    for (let i=0; i<parts.length-1; i++) {\n      let part = parts[i];\n      prop = prop[part];\n      if (!prop) {\n        return;\n      }\n    }\n    // Set value to object at end of path\n    prop[last] = value;\n  } else {\n    // Simple property set\n    prop[path] = value;\n  }\n  return parts.join('.');\n}\n\n/**\n * Returns true if the given string is a structured data path (has dots).\n *\n * This function is deprecated.  Use `isPath` instead.\n *\n * Example:\n *\n * ```\n * isDeep('foo.bar.baz') // true\n * isDeep('foo')         // false\n * ```\n *\n * @deprecated\n * @param {string} path Path string\n * @return {boolean} True if the string contained one or more dots\n */\nexport const isDeep = isPath;\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\nconst caseMap = {};\nconst DASH_TO_CAMEL = /-[a-z]/g;\nconst CAMEL_TO_DASH = /([A-Z])/g;\n\n/**\n * @fileoverview Module with utilities for converting between \"dash-case\" and\n * \"camelCase\" identifiers.\n */\n\n/**\n * Converts \"dash-case\" identifier (e.g. `foo-bar-baz`) to \"camelCase\"\n * (e.g. `fooBarBaz`).\n *\n * @param {string} dash Dash-case identifier\n * @return {string} Camel-case representation of the identifier\n */\nexport function dashToCamelCase(dash) {\n  return caseMap[dash] || (\n    caseMap[dash] = dash.indexOf('-') < 0 ? dash : dash.replace(DASH_TO_CAMEL,\n      (m) => m[1].toUpperCase()\n    )\n  );\n}\n\n/**\n * Converts \"camelCase\" identifier (e.g. `fooBarBaz`) to \"dash-case\"\n * (e.g. `foo-bar-baz`).\n *\n * @param {string} camel Camel-case identifier\n * @return {string} Dash-case representation of the identifier\n */\nexport function camelToDashCase(camel) {\n  return caseMap[camel] || (\n    caseMap[camel] = camel.replace(CAMEL_TO_DASH, '-$1').toLowerCase()\n  );\n}\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * @fileoverview\n *\n * This module provides a number of strategies for enqueuing asynchronous\n * tasks. Each sub-module provides a standard `run(fn)` interface that returns a\n * handle, and a `cancel(handle)` interface for canceling async tasks before\n * they run.\n *\n * @summary Module that provides a number of strategies for enqueuing\n * asynchronous tasks.\n */\n\nimport './boot.js';\n\n// Microtask implemented using Mutation Observer\nlet microtaskCurrHandle = 0;\nlet microtaskLastHandle = 0;\nlet microtaskCallbacks = [];\nlet microtaskNodeContent = 0;\nlet microtaskScheduled = false;\nlet microtaskNode = document.createTextNode('');\nnew window.MutationObserver(microtaskFlush).observe(microtaskNode, {characterData: true});\n\nfunction microtaskFlush() {\n  microtaskScheduled = false;\n  const len = microtaskCallbacks.length;\n  for (let i = 0; i < len; i++) {\n    let cb = microtaskCallbacks[i];\n    if (cb) {\n      try {\n        cb();\n      } catch (e) {\n        setTimeout(() => { throw e; });\n      }\n    }\n  }\n  microtaskCallbacks.splice(0, len);\n  microtaskLastHandle += len;\n}\n\n/**\n * Async interface wrapper around `setTimeout`.\n *\n * @namespace\n * @summary Async interface wrapper around `setTimeout`.\n */\nconst timeOut = {\n  /**\n   * Returns a sub-module with the async interface providing the provided\n   * delay.\n   *\n   * @memberof timeOut\n   * @param {number=} delay Time to wait before calling callbacks in ms\n   * @return {!AsyncInterface} An async timeout interface\n   */\n  after(delay) {\n    return {\n      run(fn) { return window.setTimeout(fn, delay); },\n      cancel(handle) {\n        window.clearTimeout(handle);\n      }\n    };\n  },\n  /**\n   * Enqueues a function called in the next task.\n   *\n   * @memberof timeOut\n   * @param {!Function} fn Callback to run\n   * @param {number=} delay Delay in milliseconds\n   * @return {number} Handle used for canceling task\n   */\n  run(fn, delay) {\n    return window.setTimeout(fn, delay);\n  },\n  /**\n   * Cancels a previously enqueued `timeOut` callback.\n   *\n   * @memberof timeOut\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.clearTimeout(handle);\n  }\n};\nexport {timeOut};\n\n/**\n * Async interface wrapper around `requestAnimationFrame`.\n *\n * @namespace\n * @summary Async interface wrapper around `requestAnimationFrame`.\n */\nconst animationFrame = {\n  /**\n   * Enqueues a function called at `requestAnimationFrame` timing.\n   *\n   * @memberof animationFrame\n   * @param {function(number):void} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(fn) {\n    return window.requestAnimationFrame(fn);\n  },\n  /**\n   * Cancels a previously enqueued `animationFrame` callback.\n   *\n   * @memberof animationFrame\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.cancelAnimationFrame(handle);\n  }\n};\nexport {animationFrame};\n\n/**\n * Async interface wrapper around `requestIdleCallback`.  Falls back to\n * `setTimeout` on browsers that do not support `requestIdleCallback`.\n *\n * @namespace\n * @summary Async interface wrapper around `requestIdleCallback`.\n */\nconst idlePeriod = {\n  /**\n   * Enqueues a function called at `requestIdleCallback` timing.\n   *\n   * @memberof idlePeriod\n   * @param {function(!IdleDeadline):void} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(fn) {\n    return window.requestIdleCallback ?\n      window.requestIdleCallback(fn) :\n      window.setTimeout(fn, 16);\n  },\n  /**\n   * Cancels a previously enqueued `idlePeriod` callback.\n   *\n   * @memberof idlePeriod\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.cancelIdleCallback ?\n      window.cancelIdleCallback(handle) :\n      window.clearTimeout(handle);\n  }\n};\nexport {idlePeriod};\n\n/**\n * Async interface for enqueuing callbacks that run at microtask timing.\n *\n * Note that microtask timing is achieved via a single `MutationObserver`,\n * and thus callbacks enqueued with this API will all run in a single\n * batch, and not interleaved with other microtasks such as promises.\n * Promises are avoided as an implementation choice for the time being\n * due to Safari bugs that cause Promises to lack microtask guarantees.\n *\n * @namespace\n * @summary Async interface for enqueuing callbacks that run at microtask\n *   timing.\n */\nconst microTask = {\n\n  /**\n   * Enqueues a function called at microtask timing.\n   *\n   * @memberof microTask\n   * @param {!Function=} callback Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(callback) {\n    if (!microtaskScheduled) {\n      microtaskScheduled = true;\n      microtaskNode.textContent = microtaskNodeContent++;\n    }\n    microtaskCallbacks.push(callback);\n    return microtaskCurrHandle++;\n  },\n\n  /**\n   * Cancels a previously enqueued `microTask` callback.\n   *\n   * @memberof microTask\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    const idx = handle - microtaskLastHandle;\n    if (idx >= 0) {\n      if (!microtaskCallbacks[idx]) {\n        throw new Error('invalid async handle: ' + handle);\n      }\n      microtaskCallbacks[idx] = null;\n    }\n  }\n\n};\nexport {microTask};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '../utils/boot.js';\n\nimport { dedupingMixin } from '../utils/mixin.js';\nimport { microTask } from '../utils/async.js';\nimport { wrap } from '../utils/wrap.js';\n\n/** @const {!AsyncInterface} */\nconst microtask = microTask;\n\n/**\n * Element class mixin that provides basic meta-programming for creating one\n * or more property accessors (getter/setter pair) that enqueue an async\n * (batched) `_propertiesChanged` callback.\n *\n * For basic usage of this mixin, call `MyClass.createProperties(props)`\n * once at class definition time to create property accessors for properties\n * named in props, implement `_propertiesChanged` to react as desired to\n * property changes, and implement `static get observedAttributes()` and\n * include lowercase versions of any property names that should be set from\n * attributes. Last, call `this._enableProperties()` in the element's\n * `connectedCallback` to enable the accessors.\n *\n * @mixinFunction\n * @polymer\n * @summary Element class mixin for reacting to property changes from\n *   generated property accessors.\n * @template T\n * @param {function(new:T)} superClass Class to apply mixin to.\n * @return {function(new:T)} superClass with mixin applied.\n */\nexport const PropertiesChanged = dedupingMixin(\n    /**\n     * @template T\n     * @param {function(new:T)} superClass Class to apply mixin to.\n     * @return {function(new:T)} superClass with mixin applied.\n     */\n    (superClass) => {\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_PropertiesChanged}\n   * @unrestricted\n   */\n  class PropertiesChanged extends superClass {\n\n    /**\n     * Creates property accessors for the given property names.\n     * @param {!Object} props Object whose keys are names of accessors.\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createProperties(props) {\n      const proto = this.prototype;\n      for (let prop in props) {\n        // don't stomp an existing accessor\n        if (!(prop in proto)) {\n          proto._createPropertyAccessor(prop);\n        }\n      }\n    }\n\n    /**\n     * Returns an attribute name that corresponds to the given property.\n     * The attribute name is the lowercased property name. Override to\n     * customize this mapping.\n     * @param {string} property Property to convert\n     * @return {string} Attribute name corresponding to the given property.\n     *\n     * @protected\n     * @nocollapse\n     */\n    static attributeNameForProperty(property) {\n      return property.toLowerCase();\n    }\n\n    /**\n     * Override point to provide a type to which to deserialize a value to\n     * a given property.\n     * @param {string} name Name of property\n     *\n     * @protected\n     * @nocollapse\n     */\n    static typeForProperty(name) { } //eslint-disable-line no-unused-vars\n\n    /**\n     * Creates a setter/getter pair for the named property with its own\n     * local storage.  The getter returns the value in the local storage,\n     * and the setter calls `_setProperty`, which updates the local storage\n     * for the property and enqueues a `_propertiesChanged` callback.\n     *\n     * This method may be called on a prototype or an instance.  Calling\n     * this method may overwrite a property value that already exists on\n     * the prototype/instance by creating the accessor.\n     *\n     * @param {string} property Name of the property\n     * @param {boolean=} readOnly When true, no setter is created; the\n     *   protected `_setProperty` function must be used to set the property\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _createPropertyAccessor(property, readOnly) {\n      this._addPropertyToAttributeMap(property);\n      if (!this.hasOwnProperty(JSCompiler_renameProperty('__dataHasAccessor', this))) {\n        this.__dataHasAccessor = Object.assign({}, this.__dataHasAccessor);\n      }\n      if (!this.__dataHasAccessor[property]) {\n        this.__dataHasAccessor[property] = true;\n        this._definePropertyAccessor(property, readOnly);\n      }\n    }\n\n    /**\n     * Adds the given `property` to a map matching attribute names\n     * to property names, using `attributeNameForProperty`. This map is\n     * used when deserializing attribute values to properties.\n     *\n     * @param {string} property Name of the property\n     * @override\n     */\n    _addPropertyToAttributeMap(property) {\n      if (!this.hasOwnProperty(JSCompiler_renameProperty('__dataAttributes', this))) {\n        this.__dataAttributes = Object.assign({}, this.__dataAttributes);\n      }\n      // This check is technically not correct; it's an optimization that\n      // assumes that if a _property_ name is already in the map (note this is\n      // an attr->property map), the property mapped directly to the attribute\n      // and it has already been mapped.  This would fail if\n      // `attributeNameForProperty` were overridden such that this was not the\n      // case.\n      let attr = this.__dataAttributes[property];\n      if (!attr) {\n        attr = this.constructor.attributeNameForProperty(property);\n        this.__dataAttributes[attr] = property;\n      }\n      return attr;\n    }\n\n    /**\n     * Defines a property accessor for the given property.\n     * @param {string} property Name of the property\n     * @param {boolean=} readOnly When true, no setter is created\n     * @return {void}\n     * @override\n     */\n     _definePropertyAccessor(property, readOnly) {\n      Object.defineProperty(this, property, {\n        /* eslint-disable valid-jsdoc */\n        /** @this {PropertiesChanged} */\n        get() {\n          // Inline for perf instead of using `_getProperty`\n          return this.__data[property];\n        },\n        /** @this {PropertiesChanged} */\n        set: readOnly ? function () {} : function (value) {\n          // Inline for perf instead of using `_setProperty`\n          if (this._setPendingProperty(property, value, true)) {\n            this._invalidateProperties();\n          }\n        }\n        /* eslint-enable */\n      });\n    }\n\n    constructor() {\n      super();\n      /** @type {boolean} */\n      this.__dataEnabled = false;\n      this.__dataReady = false;\n      this.__dataInvalid = false;\n      this.__data = {};\n      this.__dataPending = null;\n      this.__dataOld = null;\n      this.__dataInstanceProps = null;\n      /** @type {number} */\n      // NOTE: used to track re-entrant calls to `_flushProperties`\n      this.__dataCounter = 0;\n      this.__serializing = false;\n      this._initializeProperties();\n    }\n\n    /**\n     * Lifecycle callback called when properties are enabled via\n     * `_enableProperties`.\n     *\n     * Users may override this function to implement behavior that is\n     * dependent on the element having its property data initialized, e.g.\n     * from defaults (initialized from `constructor`, `_initializeProperties`),\n     * `attributeChangedCallback`, or values propagated from host e.g. via\n     * bindings.  `super.ready()` must be called to ensure the data system\n     * becomes enabled.\n     *\n     * @return {void}\n     * @public\n     * @override\n     */\n    ready() {\n      this.__dataReady = true;\n      this._flushProperties();\n    }\n\n    /**\n     * Initializes the local storage for property accessors.\n     *\n     * Provided as an override point for performing any setup work prior\n     * to initializing the property accessor system.\n     *\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _initializeProperties() {\n      // Capture instance properties; these will be set into accessors\n      // during first flush. Don't set them here, since we want\n      // these to overwrite defaults/constructor assignments\n      for (let p in this.__dataHasAccessor) {\n        if (this.hasOwnProperty(p)) {\n          this.__dataInstanceProps = this.__dataInstanceProps || {};\n          this.__dataInstanceProps[p] = this[p];\n          delete this[p];\n        }\n      }\n    }\n\n    /**\n     * Called at ready time with bag of instance properties that overwrote\n     * accessors when the element upgraded.\n     *\n     * The default implementation sets these properties back into the\n     * setter at ready time.  This method is provided as an override\n     * point for customizing or providing more efficient initialization.\n     *\n     * @param {Object} props Bag of property values that were overwritten\n     *   when creating property accessors.\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _initializeInstanceProperties(props) {\n      Object.assign(this, props);\n    }\n\n    /**\n     * Updates the local storage for a property (via `_setPendingProperty`)\n     * and enqueues a `_proeprtiesChanged` callback.\n     *\n     * @param {string} property Name of the property\n     * @param {*} value Value to set\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _setProperty(property, value) {\n      if (this._setPendingProperty(property, value)) {\n        this._invalidateProperties();\n      }\n    }\n\n    /**\n     * Returns the value for the given property.\n     * @param {string} property Name of property\n     * @return {*} Value for the given property\n     * @protected\n     * @override\n     */\n    _getProperty(property) {\n      return this.__data[property];\n    }\n\n    /* eslint-disable no-unused-vars */\n    /**\n     * Updates the local storage for a property, records the previous value,\n     * and adds it to the set of \"pending changes\" that will be passed to the\n     * `_propertiesChanged` callback.  This method does not enqueue the\n     * `_propertiesChanged` callback.\n     *\n     * @param {string} property Name of the property\n     * @param {*} value Value to set\n     * @param {boolean=} ext Not used here; affordance for closure\n     * @return {boolean} Returns true if the property changed\n     * @protected\n     * @override\n     */\n    _setPendingProperty(property, value, ext) {\n      let old = this.__data[property];\n      let changed = this._shouldPropertyChange(property, value, old);\n      if (changed) {\n        if (!this.__dataPending) {\n          this.__dataPending = {};\n          this.__dataOld = {};\n        }\n        // Ensure old is captured from the last turn\n        if (this.__dataOld && !(property in this.__dataOld)) {\n          this.__dataOld[property] = old;\n        }\n        this.__data[property] = value;\n        this.__dataPending[property] = value;\n      }\n      return changed;\n    }\n    /* eslint-enable */\n\n    /**\n     * @param {string} property Name of the property\n     * @return {boolean} Returns true if the property is pending.\n     */\n    _isPropertyPending(property) {\n      return !!(this.__dataPending && this.__dataPending.hasOwnProperty(property));\n    }\n\n    /**\n     * Marks the properties as invalid, and enqueues an async\n     * `_propertiesChanged` callback.\n     *\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _invalidateProperties() {\n      if (!this.__dataInvalid && this.__dataReady) {\n        this.__dataInvalid = true;\n        microtask.run(() => {\n          if (this.__dataInvalid) {\n            this.__dataInvalid = false;\n            this._flushProperties();\n          }\n        });\n      }\n    }\n\n    /**\n     * Call to enable property accessor processing. Before this method is\n     * called accessor values will be set but side effects are\n     * queued. When called, any pending side effects occur immediately.\n     * For elements, generally `connectedCallback` is a normal spot to do so.\n     * It is safe to call this method multiple times as it only turns on\n     * property accessors once.\n     *\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _enableProperties() {\n      if (!this.__dataEnabled) {\n        this.__dataEnabled = true;\n        if (this.__dataInstanceProps) {\n          this._initializeInstanceProperties(this.__dataInstanceProps);\n          this.__dataInstanceProps = null;\n        }\n        this.ready();\n      }\n    }\n\n    /**\n     * Calls the `_propertiesChanged` callback with the current set of\n     * pending changes (and old values recorded when pending changes were\n     * set), and resets the pending set of changes. Generally, this method\n     * should not be called in user code.\n     *\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _flushProperties() {\n      this.__dataCounter++;\n      const props = this.__data;\n      const changedProps = this.__dataPending;\n      const old = this.__dataOld;\n      if (this._shouldPropertiesChange(props, changedProps, old)) {\n        this.__dataPending = null;\n        this.__dataOld = null;\n        this._propertiesChanged(props, changedProps, old);\n      }\n      this.__dataCounter--;\n    }\n\n    /**\n     * Called in `_flushProperties` to determine if `_propertiesChanged`\n     * should be called. The default implementation returns true if\n     * properties are pending. Override to customize when\n     * `_propertiesChanged` is called.\n     * @param {!Object} currentProps Bag of all current accessor values\n     * @param {?Object} changedProps Bag of properties changed since the last\n     *   call to `_propertiesChanged`\n     * @param {?Object} oldProps Bag of previous values for each property\n     *   in `changedProps`\n     * @return {boolean} true if changedProps is truthy\n     * @override\n     */\n    _shouldPropertiesChange(currentProps, changedProps, oldProps) { // eslint-disable-line no-unused-vars\n      return Boolean(changedProps);\n    }\n\n    /**\n     * Callback called when any properties with accessors created via\n     * `_createPropertyAccessor` have been set.\n     *\n     * @param {!Object} currentProps Bag of all current accessor values\n     * @param {?Object} changedProps Bag of properties changed since the last\n     *   call to `_propertiesChanged`\n     * @param {?Object} oldProps Bag of previous values for each property\n     *   in `changedProps`\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _propertiesChanged(currentProps, changedProps, oldProps) { // eslint-disable-line no-unused-vars\n    }\n\n    /**\n     * Method called to determine whether a property value should be\n     * considered as a change and cause the `_propertiesChanged` callback\n     * to be enqueued.\n     *\n     * The default implementation returns `true` if a strict equality\n     * check fails. The method always returns false for `NaN`.\n     *\n     * Override this method to e.g. provide stricter checking for\n     * Objects/Arrays when using immutable patterns.\n     *\n     * @param {string} property Property name\n     * @param {*} value New property value\n     * @param {*} old Previous property value\n     * @return {boolean} Whether the property should be considered a change\n     *   and enqueue a `_proeprtiesChanged` callback\n     * @protected\n     * @override\n     */\n    _shouldPropertyChange(property, value, old) {\n      return (\n        // Strict equality check\n        (old !== value &&\n          // This ensures (old==NaN, value==NaN) always returns false\n          (old === old || value === value))\n      );\n    }\n\n    /**\n     * Implements native Custom Elements `attributeChangedCallback` to\n     * set an attribute value to a property via `_attributeToProperty`.\n     *\n     * @param {string} name Name of attribute that changed\n     * @param {?string} old Old attribute value\n     * @param {?string} value New attribute value\n     * @param {?string} namespace Attribute namespace.\n     * @return {void}\n     * @suppress {missingProperties} Super may or may not implement the callback\n     * @override\n     */\n    attributeChangedCallback(name, old, value, namespace) {\n      if (old !== value) {\n        this._attributeToProperty(name, value);\n      }\n      if (super.attributeChangedCallback) {\n        super.attributeChangedCallback(name, old, value, namespace);\n      }\n    }\n\n    /**\n     * Deserializes an attribute to its associated property.\n     *\n     * This method calls the `_deserializeValue` method to convert the string to\n     * a typed value.\n     *\n     * @param {string} attribute Name of attribute to deserialize.\n     * @param {?string} value of the attribute.\n     * @param {*=} type type to deserialize to, defaults to the value\n     * returned from `typeForProperty`\n     * @return {void}\n     * @override\n     */\n    _attributeToProperty(attribute, value, type) {\n      if (!this.__serializing) {\n        const map = this.__dataAttributes;\n        const property = map && map[attribute] || attribute;\n        this[property] = this._deserializeValue(value, type ||\n          this.constructor.typeForProperty(property));\n      }\n    }\n\n    /**\n     * Serializes a property to its associated attribute.\n     *\n     * @suppress {invalidCasts} Closure can't figure out `this` is an element.\n     *\n     * @param {string} property Property name to reflect.\n     * @param {string=} attribute Attribute name to reflect to.\n     * @param {*=} value Property value to refect.\n     * @return {void}\n     * @override\n     */\n    _propertyToAttribute(property, attribute, value) {\n      this.__serializing = true;\n      value = (arguments.length < 3) ? this[property] : value;\n      this._valueToNodeAttribute(/** @type {!HTMLElement} */(this), value,\n        attribute || this.constructor.attributeNameForProperty(property));\n      this.__serializing = false;\n    }\n\n    /**\n     * Sets a typed value to an HTML attribute on a node.\n     *\n     * This method calls the `_serializeValue` method to convert the typed\n     * value to a string.  If the `_serializeValue` method returns `undefined`,\n     * the attribute will be removed (this is the default for boolean\n     * type `false`).\n     *\n     * @param {Element} node Element to set attribute to.\n     * @param {*} value Value to serialize.\n     * @param {string} attribute Attribute name to serialize to.\n     * @return {void}\n     * @override\n     */\n    _valueToNodeAttribute(node, value, attribute) {\n      const str = this._serializeValue(value);\n      if (attribute === 'class' || attribute === 'name' || attribute === 'slot') {\n        node = /** @type {?Element} */(wrap(node));\n      }\n      if (str === undefined) {\n        node.removeAttribute(attribute);\n      } else {\n        node.setAttribute(\n            attribute,\n            // Closure's type for `setAttribute`'s second parameter incorrectly\n            // excludes `TrustedScript`.\n            (str === '' && window.trustedTypes) ?\n                /** @type {?} */ (window.trustedTypes.emptyScript) :\n                str);\n      }\n    }\n\n    /**\n     * Converts a typed JavaScript value to a string.\n     *\n     * This method is called when setting JS property values to\n     * HTML attributes.  Users may override this method to provide\n     * serialization for custom types.\n     *\n     * @param {*} value Property value to serialize.\n     * @return {string | undefined} String serialized from the provided\n     * property  value.\n     * @override\n     */\n    _serializeValue(value) {\n      switch (typeof value) {\n        case 'boolean':\n          return value ? '' : undefined;\n        default:\n          return value != null ? value.toString() : undefined;\n      }\n    }\n\n    /**\n     * Converts a string to a typed JavaScript value.\n     *\n     * This method is called when reading HTML attribute values to\n     * JS properties.  Users may override this method to provide\n     * deserialization for custom `type`s. Types for `Boolean`, `String`,\n     * and `Number` convert attributes to the expected types.\n     *\n     * @param {?string} value Value to deserialize.\n     * @param {*=} type Type to deserialize the string to.\n     * @return {*} Typed value deserialized from the provided string.\n     * @override\n     */\n    _deserializeValue(value, type) {\n      switch (type) {\n        case Boolean:\n          return (value !== null);\n        case Number:\n          return Number(value);\n        default:\n          return value;\n      }\n    }\n\n  }\n\n  return PropertiesChanged;\n});\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '../utils/boot.js';\n\nimport { dedupingMixin } from '../utils/mixin.js';\nimport { camelToDashCase, dashToCamelCase } from '../utils/case-map.js';\nimport { PropertiesChanged } from './properties-changed.js';\n\n// Save map of native properties; this forms a blacklist or properties\n// that won't have their values \"saved\" by `saveAccessorValue`, since\n// reading from an HTMLElement accessor from the context of a prototype throws\nconst nativeProperties = {};\nlet proto = HTMLElement.prototype;\nwhile (proto) {\n  let props = Object.getOwnPropertyNames(proto);\n  for (let i=0; i<props.length; i++) {\n    nativeProperties[props[i]] = true;\n  }\n  proto = Object.getPrototypeOf(proto);\n}\n\nconst isTrustedType = (() => {\n  if (!window.trustedTypes) {\n    return () => false;\n  }\n  return (val) => trustedTypes.isHTML(val) ||\n        trustedTypes.isScript(val) || trustedTypes.isScriptURL(val);\n})();\n\n/**\n * Used to save the value of a property that will be overridden with\n * an accessor. If the `model` is a prototype, the values will be saved\n * in `__dataProto`, and it's up to the user (or downstream mixin) to\n * decide how/when to set these values back into the accessors.\n * If `model` is already an instance (it has a `__data` property), then\n * the value will be set as a pending property, meaning the user should\n * call `_invalidateProperties` or `_flushProperties` to take effect\n *\n * @param {Object} model Prototype or instance\n * @param {string} property Name of property\n * @return {void}\n * @private\n */\nfunction saveAccessorValue(model, property) {\n  // Don't read/store value for any native properties since they could throw\n  if (!nativeProperties[property]) {\n    let value = model[property];\n    if (value !== undefined) {\n      if (model.__data) {\n        // Adding accessor to instance; update the property\n        // It is the user's responsibility to call _flushProperties\n        model._setPendingProperty(property, value);\n      } else {\n        // Adding accessor to proto; save proto's value for instance-time use\n        if (!model.__dataProto) {\n          model.__dataProto = {};\n        } else if (!model.hasOwnProperty(JSCompiler_renameProperty('__dataProto', model))) {\n          model.__dataProto = Object.create(model.__dataProto);\n        }\n        model.__dataProto[property] = value;\n      }\n    }\n  }\n}\n\n/**\n * Element class mixin that provides basic meta-programming for creating one\n * or more property accessors (getter/setter pair) that enqueue an async\n * (batched) `_propertiesChanged` callback.\n *\n * For basic usage of this mixin:\n *\n * -   Declare attributes to observe via the standard `static get\n *     observedAttributes()`. Use `dash-case` attribute names to represent\n *     `camelCase` property names.\n * -   Implement the `_propertiesChanged` callback on the class.\n * -   Call `MyClass.createPropertiesForAttributes()` **once** on the class to\n *     generate property accessors for each observed attribute. This must be\n *     called before the first instance is created, for example, by calling it\n *     before calling `customElements.define`. It can also be called lazily from\n *     the element's `constructor`, as long as it's guarded so that the call is\n *     only made once, when the first instance is created.\n * -   Call `this._enableProperties()` in the element's `connectedCallback` to\n *     enable the accessors.\n *\n * Any `observedAttributes` will automatically be\n * deserialized via `attributeChangedCallback` and set to the associated\n * property using `dash-case`-to-`camelCase` convention.\n *\n * @mixinFunction\n * @polymer\n * @appliesMixin PropertiesChanged\n * @summary Element class mixin for reacting to property changes from\n *   generated property accessors.\n * @template T\n * @param {function(new:T)} superClass Class to apply mixin to.\n * @return {function(new:T)} superClass with mixin applied.\n */\nexport const PropertyAccessors = dedupingMixin(superClass => {\n\n  /**\n   * @constructor\n   * @implements {Polymer_PropertiesChanged}\n   * @unrestricted\n   * @private\n   */\n   const base = PropertiesChanged(superClass);\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_PropertyAccessors}\n   * @extends {base}\n   * @unrestricted\n   */\n  class PropertyAccessors extends base {\n\n    /**\n     * Generates property accessors for all attributes in the standard\n     * static `observedAttributes` array.\n     *\n     * Attribute names are mapped to property names using the `dash-case` to\n     * `camelCase` convention\n     *\n     * @return {void}\n     * @nocollapse\n     */\n    static createPropertiesForAttributes() {\n      let a$ =  /** @type {?} */ (this).observedAttributes;\n      for (let i=0; i < a$.length; i++) {\n        this.prototype._createPropertyAccessor(dashToCamelCase(a$[i]));\n      }\n    }\n\n    /**\n     * Returns an attribute name that corresponds to the given property.\n     * By default, converts camel to dash case, e.g. `fooBar` to `foo-bar`.\n     * @param {string} property Property to convert\n     * @return {string} Attribute name corresponding to the given property.\n     *\n     * @protected\n     * @nocollapse\n     */\n    static attributeNameForProperty(property) {\n      return camelToDashCase(property);\n    }\n\n    /**\n     * Overrides PropertiesChanged implementation to initialize values for\n     * accessors created for values that already existed on the element\n     * prototype.\n     *\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _initializeProperties() {\n      if (this.__dataProto) {\n        this._initializeProtoProperties(this.__dataProto);\n        this.__dataProto = null;\n      }\n      super._initializeProperties();\n    }\n\n    /**\n     * Called at instance time with bag of properties that were overwritten\n     * by accessors on the prototype when accessors were created.\n     *\n     * The default implementation sets these properties back into the\n     * setter at instance time.  This method is provided as an override\n     * point for customizing or providing more efficient initialization.\n     *\n     * @param {Object} props Bag of property values that were overwritten\n     *   when creating property accessors.\n     * @return {void}\n     * @protected\n     * @override\n     */\n    _initializeProtoProperties(props) {\n      for (let p in props) {\n        this._setProperty(p, props[p]);\n      }\n    }\n\n    /**\n     * Ensures the element has the given attribute. If it does not,\n     * assigns the given value to the attribute.\n     *\n     * @suppress {invalidCasts} Closure can't figure out `this` is infact an\n     *     element\n     *\n     * @param {string} attribute Name of attribute to ensure is set.\n     * @param {string} value of the attribute.\n     * @return {void}\n     * @override\n     */\n    _ensureAttribute(attribute, value) {\n      const el = /** @type {!HTMLElement} */(this);\n      if (!el.hasAttribute(attribute)) {\n        this._valueToNodeAttribute(el, value, attribute);\n      }\n    }\n\n    /**\n     * Overrides PropertiesChanged implemention to serialize objects as JSON.\n     *\n     * @param {*} value Property value to serialize.\n     * @return {string | undefined} String serialized from the provided property\n     *     value.\n     * @override\n     */\n    _serializeValue(value) {\n      /* eslint-disable no-fallthrough */\n      switch (typeof value) {\n        case 'object':\n          if (value instanceof Date) {\n            return value.toString();\n          } else if (value) {\n            if (isTrustedType(value)) {\n              /**\n               * Here `value` isn't actually a string, but it should be\n               * passed into APIs that normally expect a string, like\n               * elem.setAttribute.\n               */\n              return /** @type {?} */ (value);\n            }\n            try {\n              return JSON.stringify(value);\n            } catch(x) {\n              return '';\n            }\n          }\n\n        default:\n          return super._serializeValue(value);\n      }\n    }\n\n    /**\n     * Converts a string to a typed JavaScript value.\n     *\n     * This method is called by Polymer when reading HTML attribute values to\n     * JS properties.  Users may override this method on Polymer element\n     * prototypes to provide deserialization for custom `type`s.  Note,\n     * the `type` argument is the value of the `type` field provided in the\n     * `properties` configuration object for a given property, and is\n     * by convention the constructor for the type to deserialize.\n     *\n     *\n     * @param {?string} value Attribute value to deserialize.\n     * @param {*=} type Type to deserialize the string to.\n     * @return {*} Typed value deserialized from the provided string.\n     * @override\n     */\n    _deserializeValue(value, type) {\n      /**\n       * @type {*}\n       */\n      let outValue;\n      switch (type) {\n        case Object:\n          try {\n            outValue = JSON.parse(/** @type {string} */(value));\n          } catch(x) {\n            // allow non-JSON literals like Strings and Numbers\n            outValue = value;\n          }\n          break;\n        case Array:\n          try {\n            outValue = JSON.parse(/** @type {string} */(value));\n          } catch(x) {\n            outValue = null;\n            console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${value}`);\n          }\n          break;\n        case Date:\n          outValue = isNaN(value) ? String(value) : Number(value);\n          outValue = new Date(outValue);\n          break;\n        default:\n          outValue = super._deserializeValue(value, type);\n          break;\n      }\n      return outValue;\n    }\n    /* eslint-enable no-fallthrough */\n\n    /**\n     * Overrides PropertiesChanged implementation to save existing prototype\n     * property value so that it can be reset.\n     * @param {string} property Name of the property\n     * @param {boolean=} readOnly When true, no setter is created\n     *\n     * When calling on a prototype, any overwritten values are saved in\n     * `__dataProto`, and it is up to the subclasser to decide how/when\n     * to set those properties back into the accessor.  When calling on an\n     * instance, the overwritten value is set via `_setPendingProperty`,\n     * and the user should call `_invalidateProperties` or `_flushProperties`\n     * for the values to take effect.\n     * @protected\n     * @return {void}\n     * @override\n     */\n    _definePropertyAccessor(property, readOnly) {\n      saveAccessorValue(this, property);\n      super._definePropertyAccessor(property, readOnly);\n    }\n\n    /**\n     * Returns true if this library created an accessor for the given property.\n     *\n     * @param {string} property Property name\n     * @return {boolean} True if an accessor was created\n     * @override\n     */\n    _hasAccessor(property) {\n      return this.__dataHasAccessor && this.__dataHasAccessor[property];\n    }\n\n    /**\n     * Returns true if the specified property has a pending change.\n     *\n     * @param {string} prop Property name\n     * @return {boolean} True if property has a pending change\n     * @protected\n     * @override\n     */\n    _isPropertyPending(prop) {\n      return Boolean(this.__dataPending && (prop in this.__dataPending));\n    }\n\n  }\n\n  return PropertyAccessors;\n\n});\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '../utils/boot.js';\n\nimport { dedupingMixin } from '../utils/mixin.js';\n\n// 1.x backwards-compatible auto-wrapper for template type extensions\n// This is a clear layering violation and gives favored-nation status to\n// dom-if and dom-repeat templates.  This is a conceit we're choosing to keep\n// a.) to ease 1.x backwards-compatibility due to loss of `is`, and\n// b.) to maintain if/repeat capability in parser-constrained elements\n//     (e.g. table, select) in lieu of native CE type extensions without\n//     massive new invention in this space (e.g. directive system)\nconst templateExtensions = {\n  'dom-if': true,\n  'dom-repeat': true\n};\n\nlet placeholderBugDetect = false;\nlet placeholderBug = false;\n\nfunction hasPlaceholderBug() {\n  if (!placeholderBugDetect) {\n    placeholderBugDetect = true;\n    const t = document.createElement('textarea');\n    t.placeholder = 'a';\n    placeholderBug = t.placeholder === t.textContent;\n  }\n  return placeholderBug;\n}\n\n/**\n * Some browsers have a bug with textarea, where placeholder text is copied as\n * a textnode child of the textarea.\n *\n * If the placeholder is a binding, this can break template stamping in two\n * ways.\n *\n * One issue is that when the `placeholder` attribute is removed when the\n * binding is processed, the textnode child of the textarea is deleted, and the\n * template info tries to bind into that node.\n *\n * With `legacyOptimizations` in use, when the template is stamped and the\n * `textarea.textContent` binding is processed, no corresponding node is found\n * because it was removed during parsing. An exception is generated when this\n * binding is updated.\n *\n * With `legacyOptimizations` not in use, the template is cloned before\n * processing and this changes the above behavior. The cloned template also has\n * a value property set to the placeholder and textContent. This prevents the\n * removal of the textContent when the placeholder attribute is removed.\n * Therefore the exception does not occur. However, there is an extra\n * unnecessary binding.\n *\n * @param {!Node} node Check node for placeholder bug\n * @return {void}\n */\nfunction fixPlaceholder(node) {\n  if (hasPlaceholderBug() && node.localName === 'textarea' && node.placeholder\n        && node.placeholder === node.textContent) {\n    node.textContent = null;\n  }\n}\n\n/**\n * Copies an attribute from one element to another, converting the value to a\n * `TrustedScript` if it is named like a Polymer template event listener.\n *\n * @param {!Element} dest The element to set the attribute on\n * @param {!Element} src The element to read the attribute from\n * @param {string} name The name of the attribute\n */\nconst copyAttributeWithTemplateEventPolicy = (() => {\n  /**\n   * This `TrustedTypePolicy` is used to work around a Chrome bug in the Trusted\n   * Types API where any attribute that starts with `on` may only be set to a\n   * `TrustedScript` value, even if that attribute would not cause an event\n   * listener to be created. (See https://crbug.com/993268 for details.)\n   *\n   * Polymer's template system allows `<dom-if>` and `<dom-repeat>` to be\n   * written using the `<template is=\"...\">` syntax, even if there is no UA\n   * support for custom element extensions of built-in elements. In doing so, it\n   * copies attributes from the original `<template>` to a newly created\n   * `<dom-if>` or `<dom-repeat>`, which can trigger the bug mentioned above if\n   * any of those attributes uses Polymer's `on-` syntax for event listeners.\n   * (Note, the value of these `on-` listeners is not evaluated as script: it is\n   * the name of a member function of a component that will be used as the event\n   * listener.)\n   *\n   * @type {!TrustedTypePolicy|undefined}\n   */\n  const polymerTemplateEventAttributePolicy = window.trustedTypes &&\n      window.trustedTypes.createPolicy(\n          'polymer-template-event-attribute-policy', {\n            createScript: x => x,\n          });\n\n  return (dest, src, name) => {\n    const value = src.getAttribute(name);\n\n    if (polymerTemplateEventAttributePolicy && name.startsWith('on-')) {\n      dest.setAttribute(\n          name, polymerTemplateEventAttributePolicy.createScript(value, name));\n      return;\n    }\n\n    dest.setAttribute(name, value);\n  };\n})();\n\nfunction wrapTemplateExtension(node) {\n  let is = node.getAttribute('is');\n  if (is && templateExtensions[is]) {\n    let t = node;\n    t.removeAttribute('is');\n    node = t.ownerDocument.createElement(is);\n    t.parentNode.replaceChild(node, t);\n    node.appendChild(t);\n    while(t.attributes.length) {\n      const {name} = t.attributes[0];\n      copyAttributeWithTemplateEventPolicy(node, t, name);\n      t.removeAttribute(name);\n    }\n  }\n  return node;\n}\n\nfunction findTemplateNode(root, nodeInfo) {\n  // recursively ascend tree until we hit root\n  let parent = nodeInfo.parentInfo && findTemplateNode(root, nodeInfo.parentInfo);\n  // unwind the stack, returning the indexed node at each level\n  if (parent) {\n    // note: marginally faster than indexing via childNodes\n    // (http://jsperf.com/childnodes-lookup)\n    for (let n=parent.firstChild, i=0; n; n=n.nextSibling) {\n      if (nodeInfo.parentIndex === i++) {\n        return n;\n      }\n    }\n  } else {\n    return root;\n  }\n}\n\n// construct `$` map (from id annotations)\nfunction applyIdToMap(inst, map, node, nodeInfo) {\n  if (nodeInfo.id) {\n    map[nodeInfo.id] = node;\n  }\n}\n\n// install event listeners (from event annotations)\nfunction applyEventListener(inst, node, nodeInfo) {\n  if (nodeInfo.events && nodeInfo.events.length) {\n    for (let j=0, e$=nodeInfo.events, e; (j<e$.length) && (e=e$[j]); j++) {\n      inst._addMethodEventListenerToNode(node, e.name, e.value, inst);\n    }\n  }\n}\n\n// push configuration references at configure time\nfunction applyTemplateInfo(inst, node, nodeInfo, parentTemplateInfo) {\n  if (nodeInfo.templateInfo) {\n    // Give the node an instance of this templateInfo and set its parent\n    node._templateInfo = nodeInfo.templateInfo;\n    node._parentTemplateInfo = parentTemplateInfo;\n  }\n}\n\nfunction createNodeEventHandler(context, eventName, methodName) {\n  // Instances can optionally have a _methodHost which allows redirecting where\n  // to find methods. Currently used by `templatize`.\n  context = context._methodHost || context;\n  let handler = function(e) {\n    if (context[methodName]) {\n      context[methodName](e, e.detail);\n    } else {\n      console.warn('listener method `' + methodName + '` not defined');\n    }\n  };\n  return handler;\n}\n\n/**\n * Element mixin that provides basic template parsing and stamping, including\n * the following template-related features for stamped templates:\n *\n * - Declarative event listeners (`on-eventname=\"listener\"`)\n * - Map of node id's to stamped node instances (`this.$.id`)\n * - Nested template content caching/removal and re-installation (performance\n *   optimization)\n *\n * @mixinFunction\n * @polymer\n * @summary Element class mixin that provides basic template parsing and stamping\n */\nexport const TemplateStamp = dedupingMixin(\n    /**\n     * @template T\n     * @param {function(new:T)} superClass Class to apply mixin to.\n     * @return {function(new:T)} superClass with mixin applied.\n     */\n    (superClass) => {\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_TemplateStamp}\n   */\n  class TemplateStamp extends superClass {\n\n    /**\n     * Scans a template to produce template metadata.\n     *\n     * Template-specific metadata are stored in the object returned, and node-\n     * specific metadata are stored in objects in its flattened `nodeInfoList`\n     * array.  Only nodes in the template that were parsed as nodes of\n     * interest contain an object in `nodeInfoList`.  Each `nodeInfo` object\n     * contains an `index` (`childNodes` index in parent) and optionally\n     * `parent`, which points to node info of its parent (including its index).\n     *\n     * The template metadata object returned from this method has the following\n     * structure (many fields optional):\n     *\n     * ```js\n     *   {\n     *     // Flattened list of node metadata (for nodes that generated metadata)\n     *     nodeInfoList: [\n     *       {\n     *         // `id` attribute for any nodes with id's for generating `$` map\n     *         id: {string},\n     *         // `on-event=\"handler\"` metadata\n     *         events: [\n     *           {\n     *             name: {string},   // event name\n     *             value: {string},  // handler method name\n     *           }, ...\n     *         ],\n     *         // Notes when the template contained a `<slot>` for shady DOM\n     *         // optimization purposes\n     *         hasInsertionPoint: {boolean},\n     *         // For nested `<template>`` nodes, nested template metadata\n     *         templateInfo: {object}, // nested template metadata\n     *         // Metadata to allow efficient retrieval of instanced node\n     *         // corresponding to this metadata\n     *         parentInfo: {number},   // reference to parent nodeInfo>\n     *         parentIndex: {number},  // index in parent's `childNodes` collection\n     *         infoIndex: {number},    // index of this `nodeInfo` in `templateInfo.nodeInfoList`\n     *       },\n     *       ...\n     *     ],\n     *     // When true, the template had the `strip-whitespace` attribute\n     *     // or was nested in a template with that setting\n     *     stripWhitespace: {boolean},\n     *     // For nested templates, nested template content is moved into\n     *     // a document fragment stored here; this is an optimization to\n     *     // avoid the cost of nested template cloning\n     *     content: {DocumentFragment}\n     *   }\n     * ```\n     *\n     * This method kicks off a recursive treewalk as follows:\n     *\n     * ```\n     *    _parseTemplate <---------------------+\n     *      _parseTemplateContent              |\n     *        _parseTemplateNode  <------------|--+\n     *          _parseTemplateNestedTemplate --+  |\n     *          _parseTemplateChildNodes ---------+\n     *          _parseTemplateNodeAttributes\n     *            _parseTemplateNodeAttribute\n     *\n     * ```\n     *\n     * These methods may be overridden to add custom metadata about templates\n     * to either `templateInfo` or `nodeInfo`.\n     *\n     * Note that this method may be destructive to the template, in that\n     * e.g. event annotations may be removed after being noted in the\n     * template metadata.\n     *\n     * @param {!HTMLTemplateElement} template Template to parse\n     * @param {TemplateInfo=} outerTemplateInfo Template metadata from the outer\n     *   template, for parsing nested templates\n     * @return {!TemplateInfo} Parsed template metadata\n     * @nocollapse\n     */\n    static _parseTemplate(template, outerTemplateInfo) {\n      // since a template may be re-used, memo-ize metadata\n      if (!template._templateInfo) {\n        // TODO(rictic): fix typing\n        let /** ? */ templateInfo = template._templateInfo = {};\n        templateInfo.nodeInfoList = [];\n        templateInfo.nestedTemplate = Boolean(outerTemplateInfo);\n        templateInfo.stripWhiteSpace =\n          (outerTemplateInfo && outerTemplateInfo.stripWhiteSpace) ||\n          (template.hasAttribute && template.hasAttribute('strip-whitespace'));\n         // TODO(rictic): fix typing\n         this._parseTemplateContent(\n             template, templateInfo, /** @type {?} */ ({parent: null}));\n      }\n      return template._templateInfo;\n    }\n\n    /**\n     * See docs for _parseTemplateNode.\n     *\n     * @param {!HTMLTemplateElement} template .\n     * @param {!TemplateInfo} templateInfo .\n     * @param {!NodeInfo} nodeInfo .\n     * @return {boolean} .\n     * @nocollapse\n     */\n    static _parseTemplateContent(template, templateInfo, nodeInfo) {\n      return this._parseTemplateNode(template.content, templateInfo, nodeInfo);\n    }\n\n    /**\n     * Parses template node and adds template and node metadata based on\n     * the current node, and its `childNodes` and `attributes`.\n     *\n     * This method may be overridden to add custom node or template specific\n     * metadata based on this node.\n     *\n     * @param {Node} node Node to parse\n     * @param {!TemplateInfo} templateInfo Template metadata for current template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @nocollapse\n     */\n    static _parseTemplateNode(node, templateInfo, nodeInfo) {\n      let noted = false;\n      let element = /** @type {!HTMLTemplateElement} */ (node);\n      if (element.localName == 'template' && !element.hasAttribute('preserve-content')) {\n        noted = this._parseTemplateNestedTemplate(element, templateInfo, nodeInfo) || noted;\n      } else if (element.localName === 'slot') {\n        // For ShadyDom optimization, indicating there is an insertion point\n        templateInfo.hasInsertionPoint = true;\n      }\n      fixPlaceholder(element);\n      if (element.firstChild) {\n        this._parseTemplateChildNodes(element, templateInfo, nodeInfo);\n      }\n      if (element.hasAttributes && element.hasAttributes()) {\n        noted = this._parseTemplateNodeAttributes(element, templateInfo, nodeInfo) || noted;\n      }\n      // Checking `nodeInfo.noted` allows a child node of this node (who gets\n      // access to `parentInfo`) to cause the parent to be noted, which\n      // otherwise has no return path via `_parseTemplateChildNodes` (used by\n      // some optimizations)\n      return noted || nodeInfo.noted;\n    }\n\n    /**\n     * Parses template child nodes for the given root node.\n     *\n     * This method also wraps whitelisted legacy template extensions\n     * (`is=\"dom-if\"` and `is=\"dom-repeat\"`) with their equivalent element\n     * wrappers, collapses text nodes, and strips whitespace from the template\n     * if the `templateInfo.stripWhitespace` setting was provided.\n     *\n     * @param {Node} root Root node whose `childNodes` will be parsed\n     * @param {!TemplateInfo} templateInfo Template metadata for current template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {void}\n     */\n    static _parseTemplateChildNodes(root, templateInfo, nodeInfo) {\n      if (root.localName === 'script' || root.localName === 'style') {\n        return;\n      }\n      for (let node=root.firstChild, parentIndex=0, next; node; node=next) {\n        // Wrap templates\n        if (node.localName == 'template') {\n          node = wrapTemplateExtension(node);\n        }\n        // collapse adjacent textNodes: fixes an IE issue that can cause\n        // text nodes to be inexplicably split =(\n        // note that root.normalize() should work but does not so we do this\n        // manually.\n        next = node.nextSibling;\n        if (node.nodeType === Node.TEXT_NODE) {\n          let /** Node */ n = next;\n          while (n && (n.nodeType === Node.TEXT_NODE)) {\n            node.textContent += n.textContent;\n            next = n.nextSibling;\n            root.removeChild(n);\n            n = next;\n          }\n          // optionally strip whitespace\n          if (templateInfo.stripWhiteSpace && !node.textContent.trim()) {\n            root.removeChild(node);\n            continue;\n          }\n        }\n        let childInfo =\n            /** @type {!NodeInfo} */ ({parentIndex, parentInfo: nodeInfo});\n        if (this._parseTemplateNode(node, templateInfo, childInfo)) {\n          childInfo.infoIndex = templateInfo.nodeInfoList.push(childInfo) - 1;\n        }\n        // Increment if not removed\n        if (node.parentNode) {\n          parentIndex++;\n        }\n      }\n    }\n\n    /**\n     * Parses template content for the given nested `<template>`.\n     *\n     * Nested template info is stored as `templateInfo` in the current node's\n     * `nodeInfo`. `template.content` is removed and stored in `templateInfo`.\n     * It will then be the responsibility of the host to set it back to the\n     * template and for users stamping nested templates to use the\n     * `_contentForTemplate` method to retrieve the content for this template\n     * (an optimization to avoid the cost of cloning nested template content).\n     *\n     * @param {HTMLTemplateElement} node Node to parse (a <template>)\n     * @param {TemplateInfo} outerTemplateInfo Template metadata for current template\n     *   that includes the template `node`\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @nocollapse\n     */\n    static _parseTemplateNestedTemplate(node, outerTemplateInfo, nodeInfo) {\n      // TODO(rictic): the type of node should be non-null\n      let element = /** @type {!HTMLTemplateElement} */ (node);\n      let templateInfo = this._parseTemplate(element, outerTemplateInfo);\n      let content = templateInfo.content =\n          element.content.ownerDocument.createDocumentFragment();\n      content.appendChild(element.content);\n      nodeInfo.templateInfo = templateInfo;\n      return true;\n    }\n\n    /**\n     * Parses template node attributes and adds node metadata to `nodeInfo`\n     * for nodes of interest.\n     *\n     * @param {Element} node Node to parse\n     * @param {!TemplateInfo} templateInfo Template metadata for current\n     *     template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @nocollapse\n     */\n    static _parseTemplateNodeAttributes(node, templateInfo, nodeInfo) {\n      // Make copy of original attribute list, since the order may change\n      // as attributes are added and removed\n      let noted = false;\n      let attrs = Array.from(node.attributes);\n      for (let i=attrs.length-1, a; (a=attrs[i]); i--) {\n        noted = this._parseTemplateNodeAttribute(node, templateInfo, nodeInfo, a.name, a.value) || noted;\n      }\n      return noted;\n    }\n\n    /**\n     * Parses a single template node attribute and adds node metadata to\n     * `nodeInfo` for attributes of interest.\n     *\n     * This implementation adds metadata for `on-event=\"handler\"` attributes\n     * and `id` attributes.\n     *\n     * @param {Element} node Node to parse\n     * @param {!TemplateInfo} templateInfo Template metadata for current template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @param {string} name Attribute name\n     * @param {string} value Attribute value\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @nocollapse\n     */\n    static _parseTemplateNodeAttribute(node, templateInfo, nodeInfo, name, value) {\n      // events (on-*)\n      if (name.slice(0, 3) === 'on-') {\n        node.removeAttribute(name);\n        nodeInfo.events = nodeInfo.events || [];\n        nodeInfo.events.push({\n          name: name.slice(3),\n          value\n        });\n        return true;\n      }\n      // static id\n      else if (name === 'id') {\n        nodeInfo.id = value;\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Returns the `content` document fragment for a given template.\n     *\n     * For nested templates, Polymer performs an optimization to cache nested\n     * template content to avoid the cost of cloning deeply nested templates.\n     * This method retrieves the cached content for a given template.\n     *\n     * @param {HTMLTemplateElement} template Template to retrieve `content` for\n     * @return {DocumentFragment} Content fragment\n     * @nocollapse\n     */\n    static _contentForTemplate(template) {\n      let templateInfo = /** @type {HTMLTemplateElementWithInfo} */ (template)._templateInfo;\n      return (templateInfo && templateInfo.content) || template.content;\n    }\n\n    /**\n     * Clones the provided template content and returns a document fragment\n     * containing the cloned dom.\n     *\n     * The template is parsed (once and memoized) using this library's\n     * template parsing features, and provides the following value-added\n     * features:\n     * * Adds declarative event listeners for `on-event=\"handler\"` attributes\n     * * Generates an \"id map\" for all nodes with id's under `$` on returned\n     *   document fragment\n     * * Passes template info including `content` back to templates as\n     *   `_templateInfo` (a performance optimization to avoid deep template\n     *   cloning)\n     *\n     * Note that the memoized template parsing process is destructive to the\n     * template: attributes for bindings and declarative event listeners are\n     * removed after being noted in notes, and any nested `<template>.content`\n     * is removed and stored in notes as well.\n     *\n     * @param {!HTMLTemplateElement} template Template to stamp\n     * @param {TemplateInfo=} templateInfo Optional template info associated\n     *   with the template to be stamped; if omitted the template will be\n     *   automatically parsed.\n     * @return {!StampedTemplate} Cloned template content\n     * @override\n     */\n    _stampTemplate(template, templateInfo) {\n      // Polyfill support: bootstrap the template if it has not already been\n      if (template && !template.content &&\n          window.HTMLTemplateElement && HTMLTemplateElement.decorate) {\n        HTMLTemplateElement.decorate(template);\n      }\n      // Accepting the `templateInfo` via an argument allows for creating\n      // instances of the `templateInfo` by the caller, useful for adding\n      // instance-time information to the prototypical data\n      templateInfo = templateInfo || this.constructor._parseTemplate(template);\n      let nodeInfo = templateInfo.nodeInfoList;\n      let content = templateInfo.content || template.content;\n      let dom = /** @type {DocumentFragment} */ (document.importNode(content, true));\n      // NOTE: ShadyDom optimization indicating there is an insertion point\n      dom.__noInsertionPoint = !templateInfo.hasInsertionPoint;\n      let nodes = dom.nodeList = new Array(nodeInfo.length);\n      dom.$ = {};\n      for (let i=0, l=nodeInfo.length, info; (i<l) && (info=nodeInfo[i]); i++) {\n        let node = nodes[i] = findTemplateNode(dom, info);\n        applyIdToMap(this, dom.$, node, info);\n        applyTemplateInfo(this, node, info, templateInfo);\n        applyEventListener(this, node, info);\n      }\n      dom = /** @type {!StampedTemplate} */(dom); // eslint-disable-line no-self-assign\n      return dom;\n    }\n\n    /**\n     * Adds an event listener by method name for the event provided.\n     *\n     * This method generates a handler function that looks up the method\n     * name at handling time.\n     *\n     * @param {!EventTarget} node Node to add listener on\n     * @param {string} eventName Name of event\n     * @param {string} methodName Name of method\n     * @param {*=} context Context the method will be called on (defaults\n     *   to `node`)\n     * @return {Function} Generated handler function\n     * @override\n     */\n    _addMethodEventListenerToNode(node, eventName, methodName, context) {\n      context = context || node;\n      let handler = createNodeEventHandler(context, eventName, methodName);\n      this._addEventListenerToNode(node, eventName, handler);\n      return handler;\n    }\n\n    /**\n     * Override point for adding custom or simulated event handling.\n     *\n     * @param {!EventTarget} node Node to add event listener to\n     * @param {string} eventName Name of event\n     * @param {function(!Event):void} handler Listener function to add\n     * @return {void}\n     * @override\n     */\n    _addEventListenerToNode(node, eventName, handler) {\n      node.addEventListener(eventName, handler);\n    }\n\n    /**\n     * Override point for adding custom or simulated event handling.\n     *\n     * @param {!EventTarget} node Node to remove event listener from\n     * @param {string} eventName Name of event\n     * @param {function(!Event):void} handler Listener function to remove\n     * @return {void}\n     * @override\n     */\n    _removeEventListenerFromNode(node, eventName, handler) {\n      node.removeEventListener(eventName, handler);\n    }\n\n  }\n\n  return TemplateStamp;\n\n});\n","/**\n * @fileoverview\n * @suppress {checkPrototypalTypes}\n * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\nimport '../utils/boot.js';\nimport { wrap } from '../utils/wrap.js';\nimport { dedupingMixin } from '../utils/mixin.js';\nimport { root, isAncestor, isDescendant, get, translate, isPath, set, normalize } from '../utils/path.js';\n/* for notify, reflect */\nimport { camelToDashCase, dashToCamelCase } from '../utils/case-map.js';\nimport { PropertyAccessors } from './property-accessors.js';\n/* for annotated effects */\nimport { TemplateStamp } from './template-stamp.js';\nimport { sanitizeDOMValue, legacyUndefined, orderedComputed, removeNestedTemplates, fastDomIf } from '../utils/settings.js';\n\n// Monotonically increasing unique ID used for de-duping effects triggered\n// from multiple properties in the same turn\nlet dedupeId = 0;\n\nconst NOOP = [];\n\n/**\n * Property effect types; effects are stored on the prototype using these keys\n * @enum {string}\n */\nconst TYPES = {\n  COMPUTE: '__computeEffects',\n  REFLECT: '__reflectEffects',\n  NOTIFY: '__notifyEffects',\n  PROPAGATE: '__propagateEffects',\n  OBSERVE: '__observeEffects',\n  READ_ONLY: '__readOnly'\n};\n\nconst COMPUTE_INFO = '__computeInfo';\n\n/** @const {!RegExp} */\nconst capitalAttributeRegex = /[A-Z]/;\n\n/**\n * @typedef {{\n * name: (string | undefined),\n * structured: (boolean | undefined),\n * wildcard: (boolean | undefined)\n * }}\n */\nlet DataTrigger; //eslint-disable-line no-unused-vars\n\n/**\n * @typedef {{\n * info: ?,\n * trigger: (!DataTrigger | undefined),\n * fn: (!Function | undefined)\n * }}\n */\nlet DataEffect; //eslint-disable-line no-unused-vars\n\n/**\n * Ensures that the model has an own-property map of effects for the given type.\n * The model may be a prototype or an instance.\n *\n * Property effects are stored as arrays of effects by property in a map,\n * by named type on the model. e.g.\n *\n *   __computeEffects: {\n *     foo: [ ... ],\n *     bar: [ ... ]\n *   }\n *\n * If the model does not yet have an effect map for the type, one is created\n * and returned.  If it does, but it is not an own property (i.e. the\n * prototype had effects), the the map is deeply cloned and the copy is\n * set on the model and returned, ready for new effects to be added.\n *\n * @param {Object} model Prototype or instance\n * @param {string} type Property effect type\n * @param {boolean=} cloneArrays Clone any arrays assigned to the map when\n *   extending a superclass map onto this subclass\n * @return {Object} The own-property map of effects for the given type\n * @private\n */\nfunction ensureOwnEffectMap(model, type, cloneArrays) {\n  let effects = model[type];\n  if (!effects) {\n    effects = model[type] = {};\n  } else if (!model.hasOwnProperty(type)) {\n    effects = model[type] = Object.create(model[type]);\n    if (cloneArrays) {\n      for (let p in effects) {\n        let protoFx = effects[p];\n        // Perf optimization over Array.slice\n        let instFx = effects[p] = Array(protoFx.length);\n        for (let i=0; i<protoFx.length; i++) {\n          instFx[i] = protoFx[i];\n        }\n      }\n    }\n  }\n  return effects;\n}\n\n// -- effects ----------------------------------------------\n\n/**\n * Runs all effects of a given type for the given set of property changes\n * on an instance.\n *\n * @param {!Polymer_PropertyEffects} inst The instance with effects to run\n * @param {?Object} effects Object map of property-to-Array of effects\n * @param {?Object} props Bag of current property changes\n * @param {?Object=} oldProps Bag of previous values for changed properties\n * @param {boolean=} hasPaths True with `props` contains one or more paths\n * @param {*=} extraArgs Additional metadata to pass to effect function\n * @return {boolean} True if an effect ran for this property\n * @private\n */\nfunction runEffects(inst, effects, props, oldProps, hasPaths, extraArgs) {\n  if (effects) {\n    let ran = false;\n    const id = dedupeId++;\n    for (let prop in props) {\n      // Inline `runEffectsForProperty` for perf.\n      let rootProperty = hasPaths ? root(prop) : prop;\n      let fxs = effects[rootProperty];\n      if (fxs) {\n        for (let i=0, l=fxs.length, fx; (i<l) && (fx=fxs[i]); i++) {\n          if ((!fx.info || fx.info.lastRun !== id) &&\n              (!hasPaths || pathMatchesTrigger(prop, fx.trigger))) {\n            if (fx.info) {\n              fx.info.lastRun = id;\n            }\n            fx.fn(inst, prop, props, oldProps, fx.info, hasPaths, extraArgs);\n            ran = true;\n          }\n        }\n      }\n    }\n    return ran;\n  }\n  return false;\n}\n\n/**\n * Runs a list of effects for a given property.\n *\n * @param {!Polymer_PropertyEffects} inst The instance with effects to run\n * @param {!Object} effects Object map of property-to-Array of effects\n * @param {number} dedupeId Counter used for de-duping effects\n * @param {string} prop Name of changed property\n * @param {*} props Changed properties\n * @param {*} oldProps Old properties\n * @param {boolean=} hasPaths True with `props` contains one or more paths\n * @param {*=} extraArgs Additional metadata to pass to effect function\n * @return {boolean} True if an effect ran for this property\n * @private\n */\nfunction runEffectsForProperty(inst, effects, dedupeId, prop, props, oldProps, hasPaths, extraArgs) {\n  let ran = false;\n  let rootProperty = hasPaths ? root(prop) : prop;\n  let fxs = effects[rootProperty];\n  if (fxs) {\n    for (let i=0, l=fxs.length, fx; (i<l) && (fx=fxs[i]); i++) {\n      if ((!fx.info || fx.info.lastRun !== dedupeId) &&\n          (!hasPaths || pathMatchesTrigger(prop, fx.trigger))) {\n        if (fx.info) {\n          fx.info.lastRun = dedupeId;\n        }\n        fx.fn(inst, prop, props, oldProps, fx.info, hasPaths, extraArgs);\n        ran = true;\n      }\n    }\n  }\n  return ran;\n}\n\n/**\n * Determines whether a property/path that has changed matches the trigger\n * criteria for an effect.  A trigger is a descriptor with the following\n * structure, which matches the descriptors returned from `parseArg`.\n * e.g. for `foo.bar.*`:\n * ```\n * trigger: {\n *   name: 'a.b',\n *   structured: true,\n *   wildcard: true\n * }\n * ```\n * If no trigger is given, the path is deemed to match.\n *\n * @param {string} path Path or property that changed\n * @param {?DataTrigger} trigger Descriptor\n * @return {boolean} Whether the path matched the trigger\n */\nfunction pathMatchesTrigger(path, trigger) {\n  if (trigger) {\n    let triggerPath = /** @type {string} */ (trigger.name);\n    return (triggerPath == path) ||\n        !!(trigger.structured && isAncestor(triggerPath, path)) ||\n        !!(trigger.wildcard && isDescendant(triggerPath, path));\n  } else {\n    return true;\n  }\n}\n\n/**\n * Implements the \"observer\" effect.\n *\n * Calls the method with `info.methodName` on the instance, passing the\n * new and old values.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @return {void}\n * @private\n */\nfunction runObserverEffect(inst, property, props, oldProps, info) {\n  let fn = typeof info.method === \"string\" ? inst[info.method] : info.method;\n  let changedProp = info.property;\n  if (fn) {\n    fn.call(inst, inst.__data[changedProp], oldProps[changedProp]);\n  } else if (!info.dynamicFn) {\n    console.warn('observer method `' + info.method + '` not defined');\n  }\n}\n\n/**\n * Runs \"notify\" effects for a set of changed properties.\n *\n * This method differs from the generic `runEffects` method in that it\n * will dispatch path notification events in the case that the property\n * changed was a path and the root property for that path didn't have a\n * \"notify\" effect.  This is to maintain 1.0 behavior that did not require\n * `notify: true` to ensure object sub-property notifications were\n * sent.\n *\n * @param {!Polymer_PropertyEffects} inst The instance with effects to run\n * @param {Object} notifyProps Bag of properties to notify\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @return {void}\n * @private\n */\nfunction runNotifyEffects(inst, notifyProps, props, oldProps, hasPaths) {\n  // Notify\n  let fxs = inst[TYPES.NOTIFY];\n  let notified;\n  let id = dedupeId++;\n  // Try normal notify effects; if none, fall back to try path notification\n  for (let prop in notifyProps) {\n    if (notifyProps[prop]) {\n      if (fxs && runEffectsForProperty(inst, fxs, id, prop, props, oldProps, hasPaths)) {\n        notified = true;\n      } else if (hasPaths && notifyPath(inst, prop, props)) {\n        notified = true;\n      }\n    }\n  }\n  // Flush host if we actually notified and host was batching\n  // And the host has already initialized clients; this prevents\n  // an issue with a host observing data changes before clients are ready.\n  let host;\n  if (notified && (host = inst.__dataHost) && host._invalidateProperties) {\n    host._invalidateProperties();\n  }\n}\n\n/**\n * Dispatches {property}-changed events with path information in the detail\n * object to indicate a sub-path of the property was changed.\n *\n * @param {!Polymer_PropertyEffects} inst The element from which to fire the\n *     event\n * @param {string} path The path that was changed\n * @param {Object} props Bag of current property changes\n * @return {boolean} Returns true if the path was notified\n * @private\n */\nfunction notifyPath(inst, path, props) {\n  let rootProperty = root(path);\n  if (rootProperty !== path) {\n    let eventName = camelToDashCase(rootProperty) + '-changed';\n    dispatchNotifyEvent(inst, eventName, props[path], path);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Dispatches {property}-changed events to indicate a property (or path)\n * changed.\n *\n * @param {!Polymer_PropertyEffects} inst The element from which to fire the\n *     event\n * @param {string} eventName The name of the event to send\n *     ('{property}-changed')\n * @param {*} value The value of the changed property\n * @param {string | null | undefined} path If a sub-path of this property\n *     changed, the path that changed (optional).\n * @return {void}\n * @private\n * @suppress {invalidCasts}\n */\nfunction dispatchNotifyEvent(inst, eventName, value, path) {\n  let detail = {\n    value: value,\n    queueProperty: true\n  };\n  if (path) {\n    detail.path = path;\n  }\n  // As a performance optimization, we could elide the wrap here since notifying\n  // events are non-bubbling and shouldn't need retargeting. However, a very\n  // small number of internal tests failed in obscure ways, which may indicate\n  // user code relied on timing differences resulting from ShadyDOM flushing\n  // as a result of the wrapped `dispatchEvent`.\n  wrap(/** @type {!HTMLElement} */(inst)).dispatchEvent(new CustomEvent(eventName, { detail }));\n}\n\n/**\n * Implements the \"notify\" effect.\n *\n * Dispatches a non-bubbling event named `info.eventName` on the instance\n * with a detail object containing the new `value`.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @return {void}\n * @private\n */\nfunction runNotifyEffect(inst, property, props, oldProps, info, hasPaths) {\n  let rootProperty = hasPaths ? root(property) : property;\n  let path = rootProperty != property ? property : null;\n  let value = path ? get(inst, path) : inst.__data[property];\n  if (path && value === undefined) {\n    value = props[property];  // specifically for .splices\n  }\n  dispatchNotifyEvent(inst, info.eventName, value, path);\n}\n\n/**\n * Handler function for 2-way notification events. Receives context\n * information captured in the `addNotifyListener` closure from the\n * `__notifyListeners` metadata.\n *\n * Sets the value of the notified property to the host property or path.  If\n * the event contained path information, translate that path to the host\n * scope's name for that path first.\n *\n * @param {CustomEvent} event Notification event (e.g. '<property>-changed')\n * @param {!Polymer_PropertyEffects} inst Host element instance handling the\n *     notification event\n * @param {string} fromProp Child element property that was bound\n * @param {string} toPath Host property/path that was bound\n * @param {boolean} negate Whether the binding was negated\n * @return {void}\n * @private\n */\nfunction handleNotification(event, inst, fromProp, toPath, negate) {\n  let value;\n  let detail = /** @type {Object} */(event.detail);\n  let fromPath = detail && detail.path;\n  if (fromPath) {\n    toPath = translate(fromProp, toPath, fromPath);\n    value = detail && detail.value;\n  } else {\n    value = event.currentTarget[fromProp];\n  }\n  value = negate ? !value : value;\n  if (!inst[TYPES.READ_ONLY] || !inst[TYPES.READ_ONLY][toPath]) {\n    if (inst._setPendingPropertyOrPath(toPath, value, true, Boolean(fromPath))\n      && (!detail || !detail.queueProperty)) {\n      inst._invalidateProperties();\n    }\n  }\n}\n\n/**\n * Implements the \"reflect\" effect.\n *\n * Sets the attribute named `info.attrName` to the given property value.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @return {void}\n * @private\n */\nfunction runReflectEffect(inst, property, props, oldProps, info) {\n  let value = inst.__data[property];\n  if (sanitizeDOMValue) {\n    value = sanitizeDOMValue(value, info.attrName, 'attribute', /** @type {Node} */(inst));\n  }\n  inst._propertyToAttribute(property, info.attrName, value);\n}\n\n/**\n * Runs \"computed\" effects for a set of changed properties.\n *\n * This method differs from the generic `runEffects` method in that it\n * continues to run computed effects based on the output of each pass until\n * there are no more newly computed properties.  This ensures that all\n * properties that will be computed by the initial set of changes are\n * computed before other effects (binding propagation, observers, and notify)\n * run.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {?Object} changedProps Bag of changed properties\n * @param {?Object} oldProps Bag of previous values for changed properties\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @return {void}\n * @private\n */\nfunction runComputedEffects(inst, changedProps, oldProps, hasPaths) {\n  let computeEffects = inst[TYPES.COMPUTE];\n  if (computeEffects) {\n    if (orderedComputed) {\n      // Runs computed effects in efficient order by keeping a topologically-\n      // sorted queue of compute effects to run, and inserting subsequently\n      // invalidated effects as they are run\n      dedupeId++;\n      const order = getComputedOrder(inst);\n      const queue = [];\n      for (let p in changedProps) {\n        enqueueEffectsFor(p, computeEffects, queue, order, hasPaths);\n      }\n      let info;\n      while ((info = queue.shift())) {\n        if (runComputedEffect(inst, '', changedProps, oldProps, info)) {\n          enqueueEffectsFor(info.methodInfo, computeEffects, queue, order, hasPaths);\n        }\n      }\n      Object.assign(/** @type {!Object} */ (oldProps), inst.__dataOld);\n      Object.assign(/** @type {!Object} */ (changedProps), inst.__dataPending);\n      inst.__dataPending = null;\n    } else {\n      // Original Polymer 2.x computed effects order, which continues running\n      // effects until no further computed properties have been invalidated\n      let inputProps = changedProps;\n      while (runEffects(inst, computeEffects, inputProps, oldProps, hasPaths)) {\n        Object.assign(/** @type {!Object} */ (oldProps), inst.__dataOld);\n        Object.assign(/** @type {!Object} */ (changedProps), inst.__dataPending);\n        inputProps = inst.__dataPending;\n        inst.__dataPending = null;\n      }\n    }\n  }\n}\n\n/**\n * Inserts a computed effect into a queue, given the specified order. Performs\n * the insert using a binary search.\n *\n * Used by `orderedComputed: true` computed property algorithm.\n *\n * @param {Object} info Property effects metadata\n * @param {Array<Object>} queue Ordered queue of effects\n * @param {Map<string,number>} order Map of computed property name->topological\n *   sort order\n */\nconst insertEffect = (info, queue, order) => {\n  let start = 0;\n  let end = queue.length - 1;\n  let idx = -1;\n  while (start <= end) {\n    const mid = (start + end) >> 1;\n    // Note `methodInfo` is where the computed property name is stored in\n    // the effect metadata\n    const cmp = order.get(queue[mid].methodInfo) - order.get(info.methodInfo);\n    if (cmp < 0) {\n      start = mid + 1;\n    } else if (cmp > 0) {\n      end = mid - 1;\n    } else {\n      idx = mid;\n      break;\n    }\n  }\n  if (idx < 0) {\n    idx = end + 1;\n  }\n  queue.splice(idx, 0, info);\n};\n\n/**\n * Inserts all downstream computed effects invalidated by the specified property\n * into the topologically-sorted queue of effects to be run.\n *\n * Used by `orderedComputed: true` computed property algorithm.\n *\n * @param {string} prop Property name\n * @param {Object} computeEffects Computed effects for this element\n * @param {Array<Object>} queue Topologically-sorted queue of computed effects\n *   to be run\n * @param {Map<string,number>} order Map of computed property name->topological\n *   sort order\n * @param {boolean} hasPaths True with `changedProps` contains one or more paths\n */\nconst enqueueEffectsFor = (prop, computeEffects, queue, order, hasPaths) => {\n  const rootProperty = hasPaths ? root(prop) : prop;\n  const fxs = computeEffects[rootProperty];\n  if (fxs) {\n    for (let i=0; i<fxs.length; i++) {\n      const fx = fxs[i];\n      if ((fx.info.lastRun !== dedupeId) &&\n          (!hasPaths || pathMatchesTrigger(prop, fx.trigger))) {\n        fx.info.lastRun = dedupeId;\n        insertEffect(fx.info, queue, order);\n      }\n    }\n  }\n};\n\n/**\n * Generates and retrieves a memoized map of computed property name to its\n * topologically-sorted order.\n *\n * The map is generated by first assigning a \"dependency count\" to each property\n * (defined as number properties it depends on, including its method for\n * \"dynamic functions\"). Any properties that have no dependencies are added to\n * the `ready` queue, which are properties whose order can be added to the final\n * order map. Properties are popped off the `ready` queue one by one and a.) added as\n * the next property in the order map, and b.) each property that it is a\n * dependency for has its dep count decremented (and if that property's dep\n * count goes to zero, it is added to the `ready` queue), until all properties\n * have been visited and ordered.\n *\n * Used by `orderedComputed: true` computed property algorithm.\n *\n * @param {!Polymer_PropertyEffects} inst The instance to retrieve the computed\n *   effect order for.\n * @return {Map<string,number>} Map of computed property name->topological sort\n *   order\n */\nfunction getComputedOrder(inst) {\n  let ordered = inst.constructor.__orderedComputedDeps;\n  if (!ordered) {\n    ordered = new Map();\n    const effects = inst[TYPES.COMPUTE];\n    let {counts, ready, total} = dependencyCounts(inst);\n    let curr;\n    while ((curr = ready.shift())) {\n      ordered.set(curr, ordered.size);\n      const computedByCurr = effects[curr];\n      if (computedByCurr) {\n        computedByCurr.forEach(fx => {\n          // Note `methodInfo` is where the computed property name is stored\n          const computedProp = fx.info.methodInfo;\n          --total;\n          if (--counts[computedProp] === 0) {\n            ready.push(computedProp);\n          }\n        });\n      }\n    }\n    if (total !== 0) {\n      const el = /** @type {HTMLElement} */ (inst);\n      console.warn(`Computed graph for ${el.localName} incomplete; circular?`);\n    }\n    inst.constructor.__orderedComputedDeps = ordered;\n  }\n  return ordered;\n}\n\n/**\n * Generates a map of property-to-dependency count (`counts`, where \"dependency\n * count\" is the number of dependencies a given property has assuming it is a\n * computed property, otherwise 0).  It also returns a pre-populated list of\n * `ready` properties that have no dependencies and a `total` count, which is\n * used for error-checking the graph.\n *\n * Used by `orderedComputed: true` computed property algorithm.\n *\n * @param {!Polymer_PropertyEffects} inst The instance to generate dependency\n *   counts for.\n * @return {!Object} Object containing `counts` map (property-to-dependency\n *   count) and pre-populated `ready` array of properties that had zero\n *   dependencies.\n */\nfunction dependencyCounts(inst) {\n  const infoForComputed = inst[COMPUTE_INFO];\n  const counts = {};\n  const computedDeps = inst[TYPES.COMPUTE];\n  const ready = [];\n  let total = 0;\n  // Count dependencies for each computed property\n  for (let p in infoForComputed) {\n    const info = infoForComputed[p];\n    // Be sure to add the method name itself in case of \"dynamic functions\"\n    total += counts[p] =\n      info.args.filter(a => !a.literal).length + (info.dynamicFn ? 1 : 0);\n  }\n  // Build list of ready properties (that aren't themselves computed)\n  for (let p in computedDeps) {\n    if (!infoForComputed[p]) {\n      ready.push(p);\n    }\n  }\n  return {counts, ready, total};\n}\n\n/**\n * Implements the \"computed property\" effect by running the method with the\n * values of the arguments specified in the `info` object and setting the\n * return value to the computed property specified.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {?Object} changedProps Bag of current property changes\n * @param {?Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @return {boolean} True when the property being computed changed\n * @private\n */\nfunction runComputedEffect(inst, property, changedProps, oldProps, info) {\n  // Dirty check dependencies and run if any invalid\n  let result = runMethodEffect(inst, property, changedProps, oldProps, info);\n  // Abort if method returns a no-op result\n  if (result === NOOP) {\n    return false;\n  }\n  let computedProp = info.methodInfo;\n  if (inst.__dataHasAccessor && inst.__dataHasAccessor[computedProp]) {\n    return inst._setPendingProperty(computedProp, result, true);\n  } else {\n    inst[computedProp] = result;\n    return false;\n  }\n}\n\n/**\n * Computes path changes based on path links set up using the `linkPaths`\n * API.\n *\n * @param {!Polymer_PropertyEffects} inst The instance whose props are changing\n * @param {string} path Path that has changed\n * @param {*} value Value of changed path\n * @return {void}\n * @private\n */\nfunction computeLinkedPaths(inst, path, value) {\n  let links = inst.__dataLinkedPaths;\n  if (links) {\n    let link;\n    for (let a in links) {\n      let b = links[a];\n      if (isDescendant(a, path)) {\n        link = translate(a, b, path);\n        inst._setPendingPropertyOrPath(link, value, true, true);\n      } else if (isDescendant(b, path)) {\n        link = translate(b, a, path);\n        inst._setPendingPropertyOrPath(link, value, true, true);\n      }\n    }\n  }\n}\n\n// -- bindings ----------------------------------------------\n\n/**\n * Adds binding metadata to the current `nodeInfo`, and binding effects\n * for all part dependencies to `templateInfo`.\n *\n * @param {Function} constructor Class that `_parseTemplate` is currently\n *   running on\n * @param {TemplateInfo} templateInfo Template metadata for current template\n * @param {NodeInfo} nodeInfo Node metadata for current template node\n * @param {string} kind Binding kind, either 'property', 'attribute', or 'text'\n * @param {string} target Target property name\n * @param {!Array<!BindingPart>} parts Array of binding part metadata\n * @param {string=} literal Literal text surrounding binding parts (specified\n *   only for 'property' bindings, since these must be initialized as part\n *   of boot-up)\n * @return {void}\n * @private\n */\nfunction addBinding(constructor, templateInfo, nodeInfo, kind, target, parts, literal) {\n  // Create binding metadata and add to nodeInfo\n  nodeInfo.bindings = nodeInfo.bindings || [];\n  let /** Binding */ binding = { kind, target, parts, literal, isCompound: (parts.length !== 1) };\n  nodeInfo.bindings.push(binding);\n  // Add listener info to binding metadata\n  if (shouldAddListener(binding)) {\n    let {event, negate} = binding.parts[0];\n    binding.listenerEvent = event || (camelToDashCase(target) + '-changed');\n    binding.listenerNegate = negate;\n  }\n  // Add \"propagate\" property effects to templateInfo\n  let index = templateInfo.nodeInfoList.length;\n  for (let i=0; i<binding.parts.length; i++) {\n    let part = binding.parts[i];\n    part.compoundIndex = i;\n    addEffectForBindingPart(constructor, templateInfo, binding, part, index);\n  }\n}\n\n/**\n * Adds property effects to the given `templateInfo` for the given binding\n * part.\n *\n * @param {Function} constructor Class that `_parseTemplate` is currently\n *   running on\n * @param {TemplateInfo} templateInfo Template metadata for current template\n * @param {!Binding} binding Binding metadata\n * @param {!BindingPart} part Binding part metadata\n * @param {number} index Index into `nodeInfoList` for this node\n * @return {void}\n */\nfunction addEffectForBindingPart(constructor, templateInfo, binding, part, index) {\n  if (!part.literal) {\n    if (binding.kind === 'attribute' && binding.target[0] === '-') {\n      console.warn('Cannot set attribute ' + binding.target +\n        ' because \"-\" is not a valid attribute starting character');\n    } else {\n      let dependencies = part.dependencies;\n      let info = { index, binding, part, evaluator: constructor };\n      for (let j=0; j<dependencies.length; j++) {\n        let trigger = dependencies[j];\n        if (typeof trigger == 'string') {\n          trigger = parseArg(trigger);\n          trigger.wildcard = true;\n        }\n        constructor._addTemplatePropertyEffect(templateInfo, trigger.rootProperty, {\n          fn: runBindingEffect,\n          info, trigger\n        });\n      }\n    }\n  }\n}\n\n/**\n * Implements the \"binding\" (property/path binding) effect.\n *\n * Note that binding syntax is overridable via `_parseBindings` and\n * `_evaluateBinding`.  This method will call `_evaluateBinding` for any\n * non-literal parts returned from `_parseBindings`.  However,\n * there is no support for _path_ bindings via custom binding parts,\n * as this is specific to Polymer's path binding syntax.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} path Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @param {boolean} hasPaths True with `props` contains one or more paths\n * @param {Array} nodeList List of nodes associated with `nodeInfoList` template\n *   metadata\n * @return {void}\n * @private\n */\nfunction runBindingEffect(inst, path, props, oldProps, info, hasPaths, nodeList) {\n  let node = nodeList[info.index];\n  let binding = info.binding;\n  let part = info.part;\n  // Subpath notification: transform path and set to client\n  // e.g.: foo=\"{{obj.sub}}\", path: 'obj.sub.prop', set 'foo.prop'=obj.sub.prop\n  if (hasPaths && part.source && (path.length > part.source.length) &&\n      (binding.kind == 'property') && !binding.isCompound &&\n      node.__isPropertyEffectsClient &&\n      node.__dataHasAccessor && node.__dataHasAccessor[binding.target]) {\n    let value = props[path];\n    path = translate(part.source, binding.target, path);\n    if (node._setPendingPropertyOrPath(path, value, false, true)) {\n      inst._enqueueClient(node);\n    }\n  } else {\n    let value = info.evaluator._evaluateBinding(inst, part, path, props, oldProps, hasPaths);\n    // Propagate value to child\n    // Abort if value is a no-op result\n    if (value !== NOOP) {\n      applyBindingValue(inst, node, binding, part, value);\n    }\n  }\n}\n\n/**\n * Sets the value for an \"binding\" (binding) effect to a node,\n * either as a property or attribute.\n *\n * @param {!Polymer_PropertyEffects} inst The instance owning the binding effect\n * @param {Node} node Target node for binding\n * @param {!Binding} binding Binding metadata\n * @param {!BindingPart} part Binding part metadata\n * @param {*} value Value to set\n * @return {void}\n * @private\n */\nfunction applyBindingValue(inst, node, binding, part, value) {\n  value = computeBindingValue(node, value, binding, part);\n  if (sanitizeDOMValue) {\n    value = sanitizeDOMValue(value, binding.target, binding.kind, node);\n  }\n  if (binding.kind == 'attribute') {\n    // Attribute binding\n    inst._valueToNodeAttribute(/** @type {Element} */(node), value, binding.target);\n  } else {\n    // Property binding\n    let prop = binding.target;\n    if (node.__isPropertyEffectsClient &&\n        node.__dataHasAccessor && node.__dataHasAccessor[prop]) {\n      if (!node[TYPES.READ_ONLY] || !node[TYPES.READ_ONLY][prop]) {\n        if (node._setPendingProperty(prop, value)) {\n          inst._enqueueClient(node);\n        }\n      }\n    } else {\n      // In legacy no-batching mode, bindings applied before dataReady are\n      // equivalent to the \"apply config\" phase, which only set managed props\n      inst._setUnmanagedPropertyToNode(node, prop, value);\n    }\n  }\n}\n\n/**\n * Transforms an \"binding\" effect value based on compound & negation\n * effect metadata, as well as handling for special-case properties\n *\n * @param {Node} node Node the value will be set to\n * @param {*} value Value to set\n * @param {!Binding} binding Binding metadata\n * @param {!BindingPart} part Binding part metadata\n * @return {*} Transformed value to set\n * @private\n */\nfunction computeBindingValue(node, value, binding, part) {\n  if (binding.isCompound) {\n    let storage = node.__dataCompoundStorage[binding.target];\n    storage[part.compoundIndex] = value;\n    value = storage.join('');\n  }\n  if (binding.kind !== 'attribute') {\n    // Some browsers serialize `undefined` to `\"undefined\"`\n    if (binding.target === 'textContent' ||\n        (binding.target === 'value' &&\n          (node.localName === 'input' || node.localName === 'textarea'))) {\n      value = value == undefined ? '' : value;\n    }\n  }\n  return value;\n}\n\n/**\n * Returns true if a binding's metadata meets all the requirements to allow\n * 2-way binding, and therefore a `<property>-changed` event listener should be\n * added:\n * - used curly braces\n * - is a property (not attribute) binding\n * - is not a textContent binding\n * - is not compound\n *\n * @param {!Binding} binding Binding metadata\n * @return {boolean} True if 2-way listener should be added\n * @private\n */\nfunction shouldAddListener(binding) {\n  return Boolean(binding.target) &&\n         binding.kind != 'attribute' &&\n         binding.kind != 'text' &&\n         !binding.isCompound &&\n         binding.parts[0].mode === '{';\n}\n\n/**\n * Setup compound binding storage structures, notify listeners, and dataHost\n * references onto the bound nodeList.\n *\n * @param {!Polymer_PropertyEffects} inst Instance that bas been previously\n *     bound\n * @param {TemplateInfo} templateInfo Template metadata\n * @return {void}\n * @private\n */\nfunction setupBindings(inst, templateInfo) {\n  // Setup compound storage, dataHost, and notify listeners\n  let {nodeList, nodeInfoList} = templateInfo;\n  if (nodeInfoList.length) {\n    for (let i=0; i < nodeInfoList.length; i++) {\n      let info = nodeInfoList[i];\n      let node = nodeList[i];\n      let bindings = info.bindings;\n      if (bindings) {\n        for (let i=0; i<bindings.length; i++) {\n          let binding = bindings[i];\n          setupCompoundStorage(node, binding);\n          addNotifyListener(node, inst, binding);\n        }\n      }\n      // This ensures all bound elements have a host set, regardless\n      // of whether they upgrade synchronous to creation\n      node.__dataHost = inst;\n    }\n  }\n}\n\n/**\n * Initializes `__dataCompoundStorage` local storage on a bound node with\n * initial literal data for compound bindings, and sets the joined\n * literal parts to the bound property.\n *\n * When changes to compound parts occur, they are first set into the compound\n * storage array for that property, and then the array is joined to result in\n * the final value set to the property/attribute.\n *\n * @param {Node} node Bound node to initialize\n * @param {Binding} binding Binding metadata\n * @return {void}\n * @private\n */\nfunction setupCompoundStorage(node, binding) {\n  if (binding.isCompound) {\n    // Create compound storage map\n    let storage = node.__dataCompoundStorage ||\n      (node.__dataCompoundStorage = {});\n    let parts = binding.parts;\n    // Copy literals from parts into storage for this binding\n    let literals = new Array(parts.length);\n    for (let j=0; j<parts.length; j++) {\n      literals[j] = parts[j].literal;\n    }\n    let target = binding.target;\n    storage[target] = literals;\n    // Configure properties with their literal parts\n    if (binding.literal && binding.kind == 'property') {\n      // Note, className needs style scoping so this needs wrapping.\n      // We may also want to consider doing this for `textContent` and\n      // `innerHTML`.\n      if (target === 'className') {\n        node = wrap(node);\n      }\n      node[target] = binding.literal;\n    }\n  }\n}\n\n/**\n * Adds a 2-way binding notification event listener to the node specified\n *\n * @param {Object} node Child element to add listener to\n * @param {!Polymer_PropertyEffects} inst Host element instance to handle\n *     notification event\n * @param {Binding} binding Binding metadata\n * @return {void}\n * @private\n */\nfunction addNotifyListener(node, inst, binding) {\n  if (binding.listenerEvent) {\n    let part = binding.parts[0];\n    node.addEventListener(binding.listenerEvent, function(e) {\n      handleNotification(e, inst, binding.target, part.source, part.negate);\n    });\n  }\n}\n\n// -- for method-based effects (complexObserver & computed) --------------\n\n/**\n * Adds property effects for each argument in the method signature (and\n * optionally, for the method name if `dynamic` is true) that calls the\n * provided effect function.\n *\n * @param {Element | Object} model Prototype or instance\n * @param {!MethodSignature} sig Method signature metadata\n * @param {string} type Type of property effect to add\n * @param {Function} effectFn Function to run when arguments change\n * @param {*=} methodInfo Effect-specific information to be included in\n *   method effect metadata\n * @param {boolean|Object=} dynamicFn Boolean or object map indicating whether\n *   method names should be included as a dependency to the effect. Note,\n *   defaults to true if the signature is static (sig.static is true).\n * @return {!Object} Effect metadata for this method effect\n * @private\n */\nfunction createMethodEffect(model, sig, type, effectFn, methodInfo, dynamicFn) {\n  dynamicFn = sig.static || (dynamicFn &&\n    (typeof dynamicFn !== 'object' || dynamicFn[sig.methodName]));\n  let info = {\n    methodName: sig.methodName,\n    args: sig.args,\n    methodInfo,\n    dynamicFn\n  };\n  for (let i=0, arg; (i<sig.args.length) && (arg=sig.args[i]); i++) {\n    if (!arg.literal) {\n      model._addPropertyEffect(arg.rootProperty, type, {\n        fn: effectFn, info: info, trigger: arg\n      });\n    }\n  }\n  if (dynamicFn) {\n    model._addPropertyEffect(sig.methodName, type, {\n      fn: effectFn, info: info\n    });\n  }\n  return info;\n}\n\n/**\n * Calls a method with arguments marshaled from properties on the instance\n * based on the method signature contained in the effect metadata.\n *\n * Multi-property observers, computed properties, and inline computing\n * functions call this function to invoke the method, then use the return\n * value accordingly.\n *\n * @param {!Polymer_PropertyEffects} inst The instance the effect will be run on\n * @param {string} property Name of property\n * @param {Object} props Bag of current property changes\n * @param {Object} oldProps Bag of previous values for changed properties\n * @param {?} info Effect metadata\n * @return {*} Returns the return value from the method invocation\n * @private\n */\nfunction runMethodEffect(inst, property, props, oldProps, info) {\n  // Instances can optionally have a _methodHost which allows redirecting where\n  // to find methods. Currently used by `templatize`.\n  let context = inst._methodHost || inst;\n  let fn = context[info.methodName];\n  if (fn) {\n    let args = inst._marshalArgs(info.args, property, props);\n    return args === NOOP ? NOOP : fn.apply(context, args);\n  } else if (!info.dynamicFn) {\n    console.warn('method `' + info.methodName + '` not defined');\n  }\n}\n\nconst emptyArray = [];\n\n// Regular expressions used for binding\nconst IDENT  = '(?:' + '[a-zA-Z_$][\\\\w.:$\\\\-*]*' + ')';\nconst NUMBER = '(?:' + '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?' + ')';\nconst SQUOTE_STRING = '(?:' + '\\'(?:[^\\'\\\\\\\\]|\\\\\\\\.)*\\'' + ')';\nconst DQUOTE_STRING = '(?:' + '\"(?:[^\"\\\\\\\\]|\\\\\\\\.)*\"' + ')';\nconst STRING = '(?:' + SQUOTE_STRING + '|' + DQUOTE_STRING + ')';\nconst ARGUMENT = '(?:(' + IDENT + '|' + NUMBER + '|' +  STRING + ')\\\\s*' + ')';\nconst ARGUMENTS = '(?:' + ARGUMENT + '(?:,\\\\s*' + ARGUMENT + ')*' + ')';\nconst ARGUMENT_LIST = '(?:' + '\\\\(\\\\s*' +\n                              '(?:' + ARGUMENTS + '?' + ')' +\n                            '\\\\)\\\\s*' + ')';\nconst BINDING = '(' + IDENT + '\\\\s*' + ARGUMENT_LIST + '?' + ')'; // Group 3\nconst OPEN_BRACKET = '(\\\\[\\\\[|{{)' + '\\\\s*';\nconst CLOSE_BRACKET = '(?:]]|}})';\nconst NEGATE = '(?:(!)\\\\s*)?'; // Group 2\nconst EXPRESSION = OPEN_BRACKET + NEGATE + BINDING + CLOSE_BRACKET;\nconst bindingRegex = new RegExp(EXPRESSION, \"g\");\n\n/**\n * Create a string from binding parts of all the literal parts\n *\n * @param {!Array<BindingPart>} parts All parts to stringify\n * @return {string} String made from the literal parts\n */\nfunction literalFromParts(parts) {\n  let s = '';\n  for (let i=0; i<parts.length; i++) {\n    let literal = parts[i].literal;\n    s += literal || '';\n  }\n  return s;\n}\n\n/**\n * Parses an expression string for a method signature, and returns a metadata\n * describing the method in terms of `methodName`, `static` (whether all the\n * arguments are literals), and an array of `args`\n *\n * @param {string} expression The expression to parse\n * @return {?MethodSignature} The method metadata object if a method expression was\n *   found, otherwise `undefined`\n * @private\n */\nfunction parseMethod(expression) {\n  // tries to match valid javascript property names\n  let m = expression.match(/([^\\s]+?)\\(([\\s\\S]*)\\)/);\n  if (m) {\n    let methodName = m[1];\n    let sig = { methodName, static: true, args: emptyArray };\n    if (m[2].trim()) {\n      // replace escaped commas with comma entity, split on un-escaped commas\n      let args = m[2].replace(/\\\\,/g, '&comma;').split(',');\n      return parseArgs(args, sig);\n    } else {\n      return sig;\n    }\n  }\n  return null;\n}\n\n/**\n * Parses an array of arguments and sets the `args` property of the supplied\n * signature metadata object. Sets the `static` property to false if any\n * argument is a non-literal.\n *\n * @param {!Array<string>} argList Array of argument names\n * @param {!MethodSignature} sig Method signature metadata object\n * @return {!MethodSignature} The updated signature metadata object\n * @private\n */\nfunction parseArgs(argList, sig) {\n  sig.args = argList.map(function(rawArg) {\n    let arg = parseArg(rawArg);\n    if (!arg.literal) {\n      sig.static = false;\n    }\n    return arg;\n  }, this);\n  return sig;\n}\n\n/**\n * Parses an individual argument, and returns an argument metadata object\n * with the following fields:\n *\n *   {\n *     value: 'prop',        // property/path or literal value\n *     literal: false,       // whether argument is a literal\n *     structured: false,    // whether the property is a path\n *     rootProperty: 'prop', // the root property of the path\n *     wildcard: false       // whether the argument was a wildcard '.*' path\n *   }\n *\n * @param {string} rawArg The string value of the argument\n * @return {!MethodArg} Argument metadata object\n * @private\n */\nfunction parseArg(rawArg) {\n  // clean up whitespace\n  let arg = rawArg.trim()\n    // replace comma entity with comma\n    .replace(/&comma;/g, ',')\n    // repair extra escape sequences; note only commas strictly need\n    // escaping, but we allow any other char to be escaped since its\n    // likely users will do this\n    .replace(/\\\\(.)/g, '$1')\n    ;\n  // basic argument descriptor\n  let a = {\n    name: arg,\n    value: '',\n    literal: false\n  };\n  // detect literal value (must be String or Number)\n  let fc = arg[0];\n  if (fc === '-') {\n    fc = arg[1];\n  }\n  if (fc >= '0' && fc <= '9') {\n    fc = '#';\n  }\n  switch(fc) {\n    case \"'\":\n    case '\"':\n      a.value = arg.slice(1, -1);\n      a.literal = true;\n      break;\n    case '#':\n      a.value = Number(arg);\n      a.literal = true;\n      break;\n  }\n  // if not literal, look for structured path\n  if (!a.literal) {\n    a.rootProperty = root(arg);\n    // detect structured path (has dots)\n    a.structured = isPath(arg);\n    if (a.structured) {\n      a.wildcard = (arg.slice(-2) == '.*');\n      if (a.wildcard) {\n        a.name = arg.slice(0, -2);\n      }\n    }\n  }\n  return a;\n}\n\nfunction getArgValue(data, props, path) {\n  let value = get(data, path);\n  // when data is not stored e.g. `splices`, get the value from changedProps\n  // TODO(kschaaf): Note, this can cause a rare issue where the wildcard\n  // info.value could pull a stale value out of changedProps during a reentrant\n  // change that sets the value back to undefined.\n  // https://github.com/Polymer/polymer/issues/5479\n  if (value === undefined) {\n    value = props[path];\n  }\n  return value;\n}\n\n// data api\n\n/**\n * Sends array splice notifications (`.splices` and `.length`)\n *\n * Note: this implementation only accepts normalized paths\n *\n * @param {!Polymer_PropertyEffects} inst Instance to send notifications to\n * @param {Array} array The array the mutations occurred on\n * @param {string} path The path to the array that was mutated\n * @param {Array} splices Array of splice records\n * @return {void}\n * @private\n */\nfunction notifySplices(inst, array, path, splices) {\n  const splicesData = { indexSplices: splices };\n  // Legacy behavior stored splices in `__data__` so it was *not* ephemeral.\n  // To match this behavior, we store splices directly on the array.\n  if (legacyUndefined && !inst._overrideLegacyUndefined) {\n    array.splices = splicesData;\n  }\n  inst.notifyPath(path + '.splices', splicesData);\n  inst.notifyPath(path + '.length', array.length);\n  // Clear splice data only when it's stored on the array.\n  if (legacyUndefined && !inst._overrideLegacyUndefined) {\n    splicesData.indexSplices = [];\n  }\n}\n\n/**\n * Creates a splice record and sends an array splice notification for\n * the described mutation\n *\n * Note: this implementation only accepts normalized paths\n *\n * @param {!Polymer_PropertyEffects} inst Instance to send notifications to\n * @param {Array} array The array the mutations occurred on\n * @param {string} path The path to the array that was mutated\n * @param {number} index Index at which the array mutation occurred\n * @param {number} addedCount Number of added items\n * @param {Array} removed Array of removed items\n * @return {void}\n * @private\n */\nfunction notifySplice(inst, array, path, index, addedCount, removed) {\n  notifySplices(inst, array, path, [{\n    index: index,\n    addedCount: addedCount,\n    removed: removed,\n    object: array,\n    type: 'splice'\n  }]);\n}\n\n/**\n * Returns an upper-cased version of the string.\n *\n * @param {string} name String to uppercase\n * @return {string} Uppercased string\n * @private\n */\nfunction upper(name) {\n  return name[0].toUpperCase() + name.substring(1);\n}\n\n/**\n * Element class mixin that provides meta-programming for Polymer's template\n * binding and data observation (collectively, \"property effects\") system.\n *\n * This mixin uses provides the following key static methods for adding\n * property effects to an element class:\n * - `addPropertyEffect`\n * - `createPropertyObserver`\n * - `createMethodObserver`\n * - `createNotifyingProperty`\n * - `createReadOnlyProperty`\n * - `createReflectedProperty`\n * - `createComputedProperty`\n * - `bindTemplate`\n *\n * Each method creates one or more property accessors, along with metadata\n * used by this mixin's implementation of `_propertiesChanged` to perform\n * the property effects.\n *\n * Underscored versions of the above methods also exist on the element\n * prototype for adding property effects on instances at runtime.\n *\n * Note that this mixin overrides several `PropertyAccessors` methods, in\n * many cases to maintain guarantees provided by the Polymer 1.x features;\n * notably it changes property accessors to be synchronous by default\n * whereas the default when using `PropertyAccessors` standalone is to be\n * async by default.\n *\n * @mixinFunction\n * @polymer\n * @appliesMixin TemplateStamp\n * @appliesMixin PropertyAccessors\n * @summary Element class mixin that provides meta-programming for Polymer's\n * template binding and data observation system.\n */\nexport const PropertyEffects = dedupingMixin(superClass => {\n\n  /**\n   * @constructor\n   * @implements {Polymer_PropertyAccessors}\n   * @implements {Polymer_TemplateStamp}\n   * @unrestricted\n   * @private\n   */\n  const propertyEffectsBase = TemplateStamp(PropertyAccessors(superClass));\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @implements {Polymer_PropertyEffects}\n   * @extends {propertyEffectsBase}\n   * @unrestricted\n   */\n  class PropertyEffects extends propertyEffectsBase {\n\n    constructor() {\n      super();\n      /** @type {boolean} */\n      // Used to identify users of this mixin, ala instanceof\n      this.__isPropertyEffectsClient = true;\n      /** @type {boolean} */\n      this.__dataClientsReady;\n      /** @type {Array} */\n      this.__dataPendingClients;\n      /** @type {Object} */\n      this.__dataToNotify;\n      /** @type {Object} */\n      this.__dataLinkedPaths;\n      /** @type {boolean} */\n      this.__dataHasPaths;\n      /** @type {Object} */\n      this.__dataCompoundStorage;\n      /** @type {Polymer_PropertyEffects} */\n      this.__dataHost;\n      /** @type {!Object} */\n      this.__dataTemp;\n      /** @type {boolean} */\n      this.__dataClientsInitialized;\n      /** @type {!Object} */\n      this.__data;\n      /** @type {!Object|null} */\n      this.__dataPending;\n      /** @type {!Object} */\n      this.__dataOld;\n      /** @type {Object} */\n      this.__computeEffects;\n      /** @type {Object} */\n      this.__computeInfo;\n      /** @type {Object} */\n      this.__reflectEffects;\n      /** @type {Object} */\n      this.__notifyEffects;\n      /** @type {Object} */\n      this.__propagateEffects;\n      /** @type {Object} */\n      this.__observeEffects;\n      /** @type {Object} */\n      this.__readOnly;\n      /** @type {!TemplateInfo} */\n      this.__templateInfo;\n      /** @type {boolean} */\n      this._overrideLegacyUndefined;\n    }\n\n    get PROPERTY_EFFECT_TYPES() {\n      return TYPES;\n    }\n\n    /**\n     * @override\n     * @return {void}\n     */\n    _initializeProperties() {\n      super._initializeProperties();\n      this._registerHost();\n      this.__dataClientsReady = false;\n      this.__dataPendingClients = null;\n      this.__dataToNotify = null;\n      this.__dataLinkedPaths = null;\n      this.__dataHasPaths = false;\n      // May be set on instance prior to upgrade\n      this.__dataCompoundStorage = this.__dataCompoundStorage || null;\n      this.__dataHost = this.__dataHost || null;\n      this.__dataTemp = {};\n      this.__dataClientsInitialized = false;\n    }\n\n    _registerHost() {\n      if (hostStack.length) {\n        let host = hostStack[hostStack.length-1];\n        host._enqueueClient(this);\n        // This ensures even non-bound elements have a host set, as\n        // long as they upgrade synchronously\n        this.__dataHost = host;\n      }\n    }\n\n    /**\n     * Overrides `PropertyAccessors` implementation to provide a\n     * more efficient implementation of initializing properties from\n     * the prototype on the instance.\n     *\n     * @override\n     * @param {Object} props Properties to initialize on the prototype\n     * @return {void}\n     */\n    _initializeProtoProperties(props) {\n      this.__data = Object.create(props);\n      this.__dataPending = Object.create(props);\n      this.__dataOld = {};\n    }\n\n    /**\n     * Overrides `PropertyAccessors` implementation to avoid setting\n     * `_setProperty`'s `shouldNotify: true`.\n     *\n     * @override\n     * @param {Object} props Properties to initialize on the instance\n     * @return {void}\n     */\n    _initializeInstanceProperties(props) {\n      let readOnly = this[TYPES.READ_ONLY];\n      for (let prop in props) {\n        if (!readOnly || !readOnly[prop]) {\n          this.__dataPending = this.__dataPending || {};\n          this.__dataOld = this.__dataOld || {};\n          this.__data[prop] = this.__dataPending[prop] = props[prop];\n        }\n      }\n    }\n\n    // Prototype setup ----------------------------------------\n\n    /**\n     * Equivalent to static `addPropertyEffect` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Property that should trigger the effect\n     * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @param {Object=} effect Effect metadata object\n     * @return {void}\n     * @protected\n     */\n    _addPropertyEffect(property, type, effect) {\n      this._createPropertyAccessor(property, type == TYPES.READ_ONLY);\n      // effects are accumulated into arrays per property based on type\n      let effects = ensureOwnEffectMap(this, type, true)[property];\n      if (!effects) {\n        effects = this[type][property] = [];\n      }\n      effects.push(effect);\n    }\n\n    /**\n     * Removes the given property effect.\n     *\n     * @override\n     * @param {string} property Property the effect was associated with\n     * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @param {Object=} effect Effect metadata object to remove\n     * @return {void}\n     */\n    _removePropertyEffect(property, type, effect) {\n      let effects = ensureOwnEffectMap(this, type, true)[property];\n      let idx = effects.indexOf(effect);\n      if (idx >= 0) {\n        effects.splice(idx, 1);\n      }\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a property effect\n     * of a certain type.\n     *\n     * @override\n     * @param {string} property Property name\n     * @param {string=} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @return {boolean} True if the prototype/instance has an effect of this\n     *     type\n     * @protected\n     */\n    _hasPropertyEffect(property, type) {\n      let effects = this[type];\n      return Boolean(effects && effects[property]);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"read only\"\n     * accessor for the given property.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this\n     *     type\n     * @protected\n     */\n    _hasReadOnlyEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.READ_ONLY);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"notify\"\n     * property effect for the given property.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this\n     *     type\n     * @protected\n     */\n    _hasNotifyEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.NOTIFY);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"reflect to\n     * attribute\" property effect for the given property.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this\n     *     type\n     * @protected\n     */\n    _hasReflectEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.REFLECT);\n    }\n\n    /**\n     * Returns whether the current prototype/instance has a \"computed\"\n     * property effect for the given property.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {boolean} True if the prototype/instance has an effect of this\n     *     type\n     * @protected\n     */\n    _hasComputedEffect(property) {\n      return this._hasPropertyEffect(property, TYPES.COMPUTE);\n    }\n\n    // Runtime ----------------------------------------\n\n    /**\n     * Sets a pending property or path.  If the root property of the path in\n     * question had no accessor, the path is set, otherwise it is enqueued\n     * via `_setPendingProperty`.\n     *\n     * This function isolates relatively expensive functionality necessary\n     * for the public API (`set`, `setProperties`, `notifyPath`, and property\n     * change listeners via {{...}} bindings), such that it is only done\n     * when paths enter the system, and not at every propagation step.  It\n     * also sets a `__dataHasPaths` flag on the instance which is used to\n     * fast-path slower path-matching code in the property effects host paths.\n     *\n     * `path` can be a path string or array of path parts as accepted by the\n     * public API.\n     *\n     * @override\n     * @param {string | !Array<number|string>} path Path to set\n     * @param {*} value Value to set\n     * @param {boolean=} shouldNotify Set to true if this change should\n     *  cause a property notification event dispatch\n     * @param {boolean=} isPathNotification If the path being set is a path\n     *   notification of an already changed value, as opposed to a request\n     *   to set and notify the change.  In the latter `false` case, a dirty\n     *   check is performed and then the value is set to the path before\n     *   enqueuing the pending property change.\n     * @return {boolean} Returns true if the property/path was enqueued in\n     *   the pending changes bag.\n     * @protected\n     */\n    _setPendingPropertyOrPath(path, value, shouldNotify, isPathNotification) {\n      if (isPathNotification ||\n          root(Array.isArray(path) ? path[0] : path) !== path) {\n        // Dirty check changes being set to a path against the actual object,\n        // since this is the entry point for paths into the system; from here\n        // the only dirty checks are against the `__dataTemp` cache to prevent\n        // duplicate work in the same turn only. Note, if this was a notification\n        // of a change already set to a path (isPathNotification: true),\n        // we always let the change through and skip the `set` since it was\n        // already dirty checked at the point of entry and the underlying\n        // object has already been updated\n        if (!isPathNotification) {\n          let old = get(this, path);\n          path = /** @type {string} */ (set(this, path, value));\n          // Use property-accessor's simpler dirty check\n          if (!path || !super._shouldPropertyChange(path, value, old)) {\n            return false;\n          }\n        }\n        this.__dataHasPaths = true;\n        if (this._setPendingProperty(/**@type{string}*/(path), value, shouldNotify)) {\n          computeLinkedPaths(this, /**@type{string}*/ (path), value);\n          return true;\n        }\n      } else {\n        if (this.__dataHasAccessor && this.__dataHasAccessor[path]) {\n          return this._setPendingProperty(/**@type{string}*/(path), value, shouldNotify);\n        } else {\n          this[path] = value;\n        }\n      }\n      return false;\n    }\n\n    /**\n     * Applies a value to a non-Polymer element/node's property.\n     *\n     * The implementation makes a best-effort at binding interop:\n     * Some native element properties have side-effects when\n     * re-setting the same value (e.g. setting `<input>.value` resets the\n     * cursor position), so we do a dirty-check before setting the value.\n     * However, for better interop with non-Polymer custom elements that\n     * accept objects, we explicitly re-set object changes coming from the\n     * Polymer world (which may include deep object changes without the\n     * top reference changing), erring on the side of providing more\n     * information.\n     *\n     * Users may override this method to provide alternate approaches.\n     *\n     * @override\n     * @param {!Node} node The node to set a property on\n     * @param {string} prop The property to set\n     * @param {*} value The value to set\n     * @return {void}\n     * @protected\n     */\n    _setUnmanagedPropertyToNode(node, prop, value) {\n      // It is a judgment call that resetting primitives is\n      // \"bad\" and resettings objects is also \"good\"; alternatively we could\n      // implement a whitelist of tag & property values that should never\n      // be reset (e.g. <input>.value && <select>.value)\n      if (value !== node[prop] || typeof value == 'object') {\n        // Note, className needs style scoping so this needs wrapping.\n        if (prop === 'className') {\n          node = /** @type {!Node} */(wrap(node));\n        }\n        node[prop] = value;\n      }\n    }\n\n    /**\n     * Overrides the `PropertiesChanged` implementation to introduce special\n     * dirty check logic depending on the property & value being set:\n     *\n     * 1. Any value set to a path (e.g. 'obj.prop': 42 or 'obj.prop': {...})\n     *    Stored in `__dataTemp`, dirty checked against `__dataTemp`\n     * 2. Object set to simple property (e.g. 'prop': {...})\n     *    Stored in `__dataTemp` and `__data`, dirty checked against\n     *    `__dataTemp` by default implementation of `_shouldPropertyChange`\n     * 3. Primitive value set to simple property (e.g. 'prop': 42)\n     *    Stored in `__data`, dirty checked against `__data`\n     *\n     * The dirty-check is important to prevent cycles due to two-way\n     * notification, but paths and objects are only dirty checked against any\n     * previous value set during this turn via a \"temporary cache\" that is\n     * cleared when the last `_propertiesChanged` exits. This is so:\n     * a. any cached array paths (e.g. 'array.3.prop') may be invalidated\n     *    due to array mutations like shift/unshift/splice; this is fine\n     *    since path changes are dirty-checked at user entry points like `set`\n     * b. dirty-checking for objects only lasts one turn to allow the user\n     *    to mutate the object in-place and re-set it with the same identity\n     *    and have all sub-properties re-propagated in a subsequent turn.\n     *\n     * The temp cache is not necessarily sufficient to prevent invalid array\n     * paths, since a splice can happen during the same turn (with pathological\n     * user code); we could introduce a \"fixup\" for temporarily cached array\n     * paths if needed: https://github.com/Polymer/polymer/issues/4227\n     *\n     * @override\n     * @param {string} property Name of the property\n     * @param {*} value Value to set\n     * @param {boolean=} shouldNotify True if property should fire notification\n     *   event (applies only for `notify: true` properties)\n     * @return {boolean} Returns true if the property changed\n     */\n    _setPendingProperty(property, value, shouldNotify) {\n      let propIsPath = this.__dataHasPaths && isPath(property);\n      let prevProps = propIsPath ? this.__dataTemp : this.__data;\n      if (this._shouldPropertyChange(property, value, prevProps[property])) {\n        if (!this.__dataPending) {\n          this.__dataPending = {};\n          this.__dataOld = {};\n        }\n        // Ensure old is captured from the last turn\n        if (!(property in this.__dataOld)) {\n          this.__dataOld[property] = this.__data[property];\n        }\n        // Paths are stored in temporary cache (cleared at end of turn),\n        // which is used for dirty-checking, all others stored in __data\n        if (propIsPath) {\n          this.__dataTemp[property] = value;\n        } else {\n          this.__data[property] = value;\n        }\n        // All changes go into pending property bag, passed to _propertiesChanged\n        this.__dataPending[property] = value;\n        // Track properties that should notify separately\n        if (propIsPath || (this[TYPES.NOTIFY] && this[TYPES.NOTIFY][property])) {\n          this.__dataToNotify = this.__dataToNotify || {};\n          this.__dataToNotify[property] = shouldNotify;\n        }\n        return true;\n      }\n      return false;\n    }\n\n    /**\n     * Overrides base implementation to ensure all accessors set `shouldNotify`\n     * to true, for per-property notification tracking.\n     *\n     * @override\n     * @param {string} property Name of the property\n     * @param {*} value Value to set\n     * @return {void}\n     */\n    _setProperty(property, value) {\n      if (this._setPendingProperty(property, value, true)) {\n        this._invalidateProperties();\n      }\n    }\n\n    /**\n     * Overrides `PropertyAccessor`'s default async queuing of\n     * `_propertiesChanged`: if `__dataReady` is false (has not yet been\n     * manually flushed), the function no-ops; otherwise flushes\n     * `_propertiesChanged` synchronously.\n     *\n     * @override\n     * @return {void}\n     */\n    _invalidateProperties() {\n      if (this.__dataReady) {\n        this._flushProperties();\n      }\n    }\n\n    /**\n     * Enqueues the given client on a list of pending clients, whose\n     * pending property changes can later be flushed via a call to\n     * `_flushClients`.\n     *\n     * @override\n     * @param {Object} client PropertyEffects client to enqueue\n     * @return {void}\n     * @protected\n     */\n    _enqueueClient(client) {\n      this.__dataPendingClients = this.__dataPendingClients || [];\n      if (client !== this) {\n        this.__dataPendingClients.push(client);\n      }\n    }\n\n    /**\n     * Flushes any clients previously enqueued via `_enqueueClient`, causing\n     * their `_flushProperties` method to run.\n     *\n     * @override\n     * @return {void}\n     * @protected\n     */\n    _flushClients() {\n      if (!this.__dataClientsReady) {\n        this.__dataClientsReady = true;\n        this._readyClients();\n        // Override point where accessors are turned on; importantly,\n        // this is after clients have fully readied, providing a guarantee\n        // that any property effects occur only after all clients are ready.\n        this.__dataReady = true;\n      } else {\n        this.__enableOrFlushClients();\n      }\n    }\n\n    // NOTE: We ensure clients either enable or flush as appropriate. This\n    // handles two corner cases:\n    // (1) clients flush properly when connected/enabled before the host\n    // enables; e.g.\n    //   (a) Templatize stamps with no properties and does not flush and\n    //   (b) the instance is inserted into dom and\n    //   (c) then the instance flushes.\n    // (2) clients enable properly when not connected/enabled when the host\n    // flushes; e.g.\n    //   (a) a template is runtime stamped and not yet connected/enabled\n    //   (b) a host sets a property, causing stamped dom to flush\n    //   (c) the stamped dom enables.\n    __enableOrFlushClients() {\n      let clients = this.__dataPendingClients;\n      if (clients) {\n        this.__dataPendingClients = null;\n        for (let i=0; i < clients.length; i++) {\n          let client = clients[i];\n          if (!client.__dataEnabled) {\n            client._enableProperties();\n          } else if (client.__dataPending) {\n            client._flushProperties();\n          }\n        }\n      }\n    }\n\n    /**\n     * Perform any initial setup on client dom. Called before the first\n     * `_flushProperties` call on client dom and before any element\n     * observers are called.\n     *\n     * @override\n     * @return {void}\n     * @protected\n     */\n    _readyClients() {\n      this.__enableOrFlushClients();\n    }\n\n    /**\n     * Sets a bag of property changes to this instance, and\n     * synchronously processes all effects of the properties as a batch.\n     *\n     * Property names must be simple properties, not paths.  Batched\n     * path propagation is not supported.\n     *\n     * @override\n     * @param {Object} props Bag of one or more key-value pairs whose key is\n     *   a property and value is the new value to set for that property.\n     * @param {boolean=} setReadOnly When true, any private values set in\n     *   `props` will be set. By default, `setProperties` will not set\n     *   `readOnly: true` root properties.\n     * @return {void}\n     * @public\n     */\n    setProperties(props, setReadOnly) {\n      for (let path in props) {\n        if (setReadOnly || !this[TYPES.READ_ONLY] || !this[TYPES.READ_ONLY][path]) {\n          //TODO(kschaaf): explicitly disallow paths in setProperty?\n          // wildcard observers currently only pass the first changed path\n          // in the `info` object, and you could do some odd things batching\n          // paths, e.g. {'foo.bar': {...}, 'foo': null}\n          this._setPendingPropertyOrPath(path, props[path], true);\n        }\n      }\n      this._invalidateProperties();\n    }\n\n    /**\n     * Overrides `PropertyAccessors` so that property accessor\n     * side effects are not enabled until after client dom is fully ready.\n     * Also calls `_flushClients` callback to ensure client dom is enabled\n     * that was not enabled as a result of flushing properties.\n     *\n     * @override\n     * @return {void}\n     */\n    ready() {\n      // It is important that `super.ready()` is not called here as it\n      // immediately turns on accessors. Instead, we wait until `readyClients`\n      // to enable accessors to provide a guarantee that clients are ready\n      // before processing any accessors side effects.\n      this._flushProperties();\n      // If no data was pending, `_flushProperties` will not `flushClients`\n      // so ensure this is done.\n      if (!this.__dataClientsReady) {\n        this._flushClients();\n      }\n      // Before ready, client notifications do not trigger _flushProperties.\n      // Therefore a flush is necessary here if data has been set.\n      if (this.__dataPending) {\n        this._flushProperties();\n      }\n    }\n\n    /**\n     * Implements `PropertyAccessors`'s properties changed callback.\n     *\n     * Runs each class of effects for the batch of changed properties in\n     * a specific order (compute, propagate, reflect, observe, notify).\n     *\n     * @override\n     * @param {!Object} currentProps Bag of all current accessor values\n     * @param {?Object} changedProps Bag of properties changed since the last\n     *   call to `_propertiesChanged`\n     * @param {?Object} oldProps Bag of previous values for each property\n     *   in `changedProps`\n     * @return {void}\n     */\n    _propertiesChanged(currentProps, changedProps, oldProps) {\n      // ----------------------------\n      // let c = Object.getOwnPropertyNames(changedProps || {});\n      // window.debug && console.group(this.localName + '#' + this.id + ': ' + c);\n      // if (window.debug) { debugger; }\n      // ----------------------------\n      let hasPaths = this.__dataHasPaths;\n      this.__dataHasPaths = false;\n      let notifyProps;\n      // Compute properties\n      runComputedEffects(this, changedProps, oldProps, hasPaths);\n      // Clear notify properties prior to possible reentry (propagate, observe),\n      // but after computing effects have a chance to add to them\n      notifyProps = this.__dataToNotify;\n      this.__dataToNotify = null;\n      // Propagate properties to clients\n      this._propagatePropertyChanges(changedProps, oldProps, hasPaths);\n      // Flush clients\n      this._flushClients();\n      // Reflect properties\n      runEffects(this, this[TYPES.REFLECT], changedProps, oldProps, hasPaths);\n      // Observe properties\n      runEffects(this, this[TYPES.OBSERVE], changedProps, oldProps, hasPaths);\n      // Notify properties to host\n      if (notifyProps) {\n        runNotifyEffects(this, notifyProps, changedProps, oldProps, hasPaths);\n      }\n      // Clear temporary cache at end of turn\n      if (this.__dataCounter == 1) {\n        this.__dataTemp = {};\n      }\n      // ----------------------------\n      // window.debug && console.groupEnd(this.localName + '#' + this.id + ': ' + c);\n      // ----------------------------\n    }\n\n    /**\n     * Called to propagate any property changes to stamped template nodes\n     * managed by this element.\n     *\n     * @override\n     * @param {Object} changedProps Bag of changed properties\n     * @param {Object} oldProps Bag of previous values for changed properties\n     * @param {boolean} hasPaths True with `props` contains one or more paths\n     * @return {void}\n     * @protected\n     */\n    _propagatePropertyChanges(changedProps, oldProps, hasPaths) {\n      if (this[TYPES.PROPAGATE]) {\n        runEffects(this, this[TYPES.PROPAGATE], changedProps, oldProps, hasPaths);\n      }\n      if (this.__templateInfo) {\n        this._runEffectsForTemplate(this.__templateInfo, changedProps, oldProps, hasPaths);\n      }\n    }\n\n    _runEffectsForTemplate(templateInfo, changedProps, oldProps, hasPaths) {\n      const baseRunEffects = (changedProps, hasPaths) => {\n        runEffects(this, templateInfo.propertyEffects, changedProps, oldProps,\n          hasPaths, templateInfo.nodeList);\n        for (let info=templateInfo.firstChild; info; info=info.nextSibling) {\n          this._runEffectsForTemplate(info, changedProps, oldProps, hasPaths);\n        }\n      };\n      if (templateInfo.runEffects) {\n        templateInfo.runEffects(baseRunEffects, changedProps, hasPaths);\n      } else {\n        baseRunEffects(changedProps, hasPaths);\n      }\n    }\n\n    /**\n     * Aliases one data path as another, such that path notifications from one\n     * are routed to the other.\n     *\n     * @override\n     * @param {string | !Array<string|number>} to Target path to link.\n     * @param {string | !Array<string|number>} from Source path to link.\n     * @return {void}\n     * @public\n     */\n    linkPaths(to, from) {\n      to = normalize(to);\n      from = normalize(from);\n      this.__dataLinkedPaths = this.__dataLinkedPaths || {};\n      this.__dataLinkedPaths[to] = from;\n    }\n\n    /**\n     * Removes a data path alias previously established with `_linkPaths`.\n     *\n     * Note, the path to unlink should be the target (`to`) used when\n     * linking the paths.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Target path to unlink.\n     * @return {void}\n     * @public\n     */\n    unlinkPaths(path) {\n      path = normalize(path);\n      if (this.__dataLinkedPaths) {\n        delete this.__dataLinkedPaths[path];\n      }\n    }\n\n    /**\n     * Notify that an array has changed.\n     *\n     * Example:\n     *\n     *     this.items = [ {name: 'Jim'}, {name: 'Todd'}, {name: 'Bill'} ];\n     *     ...\n     *     this.items.splice(1, 1, {name: 'Sam'});\n     *     this.items.push({name: 'Bob'});\n     *     this.notifySplices('items', [\n     *       { index: 1, removed: [{name: 'Todd'}], addedCount: 1,\n     *         object: this.items, type: 'splice' },\n     *       { index: 3, removed: [], addedCount: 1,\n     *         object: this.items, type: 'splice'}\n     *     ]);\n     *\n     * @param {string} path Path that should be notified.\n     * @param {Array} splices Array of splice records indicating ordered\n     *   changes that occurred to the array. Each record should have the\n     *   following fields:\n     *    * index: index at which the change occurred\n     *    * removed: array of items that were removed from this index\n     *    * addedCount: number of new items added at this index\n     *    * object: a reference to the array in question\n     *    * type: the string literal 'splice'\n     *\n     *   Note that splice records _must_ be normalized such that they are\n     *   reported in index order (raw results from `Object.observe` are not\n     *   ordered and must be normalized/merged before notifying).\n     *\n     * @override\n     * @return {void}\n     * @public\n     */\n    notifySplices(path, splices) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get(this, path, info));\n      notifySplices(this, array, info.path, splices);\n    }\n\n    /**\n     * Convenience method for reading a value from a path.\n     *\n     * Note, if any part in the path is undefined, this method returns\n     * `undefined` (this method does not throw when dereferencing undefined\n     * paths).\n     *\n     * @override\n     * @param {(string|!Array<(string|number)>)} path Path to the value\n     *   to read.  The path may be specified as a string (e.g. `foo.bar.baz`)\n     *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n     *   bracketed expressions are not supported; string-based path parts\n     *   *must* be separated by dots.  Note that when dereferencing array\n     *   indices, the index may be used as a dotted part directly\n     *   (e.g. `users.12.name` or `['users', 12, 'name']`).\n     * @param {Object=} root Root object from which the path is evaluated.\n     * @return {*} Value at the path, or `undefined` if any part of the path\n     *   is undefined.\n     * @public\n     */\n    get(path, root) {\n      return get(root || this, path);\n    }\n\n    /**\n     * Convenience method for setting a value to a path and notifying any\n     * elements bound to the same path.\n     *\n     * Note, if any part in the path except for the last is undefined,\n     * this method does nothing (this method does not throw when\n     * dereferencing undefined paths).\n     *\n     * @override\n     * @param {(string|!Array<(string|number)>)} path Path to the value\n     *   to write.  The path may be specified as a string (e.g. `'foo.bar.baz'`)\n     *   or an array of path parts (e.g. `['foo.bar', 'baz']`).  Note that\n     *   bracketed expressions are not supported; string-based path parts\n     *   *must* be separated by dots.  Note that when dereferencing array\n     *   indices, the index may be used as a dotted part directly\n     *   (e.g. `'users.12.name'` or `['users', 12, 'name']`).\n     * @param {*} value Value to set at the specified path.\n     * @param {Object=} root Root object from which the path is evaluated.\n     *   When specified, no notification will occur.\n     * @return {void}\n     * @public\n     */\n    set(path, value, root) {\n      if (root) {\n        set(root, path, value);\n      } else {\n        if (!this[TYPES.READ_ONLY] || !this[TYPES.READ_ONLY][/** @type {string} */(path)]) {\n          if (this._setPendingPropertyOrPath(path, value, true)) {\n            this._invalidateProperties();\n          }\n        }\n      }\n    }\n\n    /**\n     * Adds items onto the end of the array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.push`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Path to array.\n     * @param {...*} items Items to push onto array\n     * @return {number} New length of the array.\n     * @public\n     */\n    push(path, ...items) {\n      let info = {path: ''};\n      let array = /** @type {Array}*/(get(this, path, info));\n      let len = array.length;\n      let ret = array.push(...items);\n      if (items.length) {\n        notifySplice(this, array, info.path, len, items.length, []);\n      }\n      return ret;\n    }\n\n    /**\n     * Removes an item from the end of array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.pop`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Path to array.\n     * @return {*} Item that was removed.\n     * @public\n     */\n    pop(path) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get(this, path, info));\n      let hadLength = Boolean(array.length);\n      let ret = array.pop();\n      if (hadLength) {\n        notifySplice(this, array, info.path, array.length, 0, [ret]);\n      }\n      return ret;\n    }\n\n    /**\n     * Starting from the start index specified, removes 0 or more items\n     * from the array and inserts 0 or more new items in their place.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.splice`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Path to array.\n     * @param {number} start Index from which to start removing/inserting.\n     * @param {number=} deleteCount Number of items to remove.\n     * @param {...*} items Items to insert into array.\n     * @return {!Array} Array of removed items.\n     * @public\n     */\n    splice(path, start, deleteCount, ...items) {\n      let info = {path : ''};\n      let array = /** @type {Array} */(get(this, path, info));\n      // Normalize fancy native splice handling of crazy start values\n      if (start < 0) {\n        start = array.length - Math.floor(-start);\n      } else if (start) {\n        start = Math.floor(start);\n      }\n      // array.splice does different things based on the number of arguments\n      // you pass in. Therefore, array.splice(0) and array.splice(0, undefined)\n      // do different things. In the former, the whole array is cleared. In the\n      // latter, no items are removed.\n      // This means that we need to detect whether 1. one of the arguments\n      // is actually passed in and then 2. determine how many arguments\n      // we should pass on to the native array.splice\n      //\n      let ret;\n      // Omit any additional arguments if they were not passed in\n      if (arguments.length === 2) {\n        ret = array.splice(start);\n      // Either start was undefined and the others were defined, but in this\n      // case we can safely pass on all arguments\n      //\n      // Note: this includes the case where none of the arguments were passed in,\n      // e.g. this.splice('array'). However, if both start and deleteCount\n      // are undefined, array.splice will not modify the array (as expected)\n      } else {\n        ret = array.splice(start, deleteCount, ...items);\n      }\n      // At the end, check whether any items were passed in (e.g. insertions)\n      // or if the return array contains items (e.g. deletions).\n      // Only notify if items were added or deleted.\n      if (items.length || ret.length) {\n        notifySplice(this, array, info.path, start, items.length, ret);\n      }\n      return ret;\n    }\n\n    /**\n     * Removes an item from the beginning of array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.pop`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Path to array.\n     * @return {*} Item that was removed.\n     * @public\n     */\n    shift(path) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get(this, path, info));\n      let hadLength = Boolean(array.length);\n      let ret = array.shift();\n      if (hadLength) {\n        notifySplice(this, array, info.path, 0, 0, [ret]);\n      }\n      return ret;\n    }\n\n    /**\n     * Adds items onto the beginning of the array at the path specified.\n     *\n     * The arguments after `path` and return value match that of\n     * `Array.prototype.push`.\n     *\n     * This method notifies other paths to the same array that a\n     * splice occurred to the array.\n     *\n     * @override\n     * @param {string | !Array<string|number>} path Path to array.\n     * @param {...*} items Items to insert info array\n     * @return {number} New length of the array.\n     * @public\n     */\n    unshift(path, ...items) {\n      let info = {path: ''};\n      let array = /** @type {Array} */(get(this, path, info));\n      let ret = array.unshift(...items);\n      if (items.length) {\n        notifySplice(this, array, info.path, 0, items.length, []);\n      }\n      return ret;\n    }\n\n    /**\n     * Notify that a path has changed.\n     *\n     * Example:\n     *\n     *     this.item.user.name = 'Bob';\n     *     this.notifyPath('item.user.name');\n     *\n     * @override\n     * @param {string} path Path that should be notified.\n     * @param {*=} value Value at the path (optional).\n     * @return {void}\n     * @public\n     */\n    notifyPath(path, value) {\n      /** @type {string} */\n      let propPath;\n      if (arguments.length == 1) {\n        // Get value if not supplied\n        let info = {path: ''};\n        value = get(this, path, info);\n        propPath = info.path;\n      } else if (Array.isArray(path)) {\n        // Normalize path if needed\n        propPath = normalize(path);\n      } else {\n        propPath = /** @type{string} */(path);\n      }\n      if (this._setPendingPropertyOrPath(propPath, value, true, true)) {\n        this._invalidateProperties();\n      }\n    }\n\n    /**\n     * Equivalent to static `createReadOnlyProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Property name\n     * @param {boolean=} protectedSetter Creates a custom protected setter\n     *   when `true`.\n     * @return {void}\n     * @protected\n     */\n    _createReadOnlyProperty(property, protectedSetter) {\n      this._addPropertyEffect(property, TYPES.READ_ONLY);\n      if (protectedSetter) {\n        this['_set' + upper(property)] = /** @this {PropertyEffects} */function(value) {\n          this._setProperty(property, value);\n        };\n      }\n    }\n\n    /**\n     * Equivalent to static `createPropertyObserver` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Property name\n     * @param {string|function(*,*)} method Function or name of observer method\n     *     to call\n     * @param {boolean=} dynamicFn Whether the method name should be included as\n     *   a dependency to the effect.\n     * @return {void}\n     * @protected\n     */\n    _createPropertyObserver(property, method, dynamicFn) {\n      let info = { property, method, dynamicFn: Boolean(dynamicFn) };\n      this._addPropertyEffect(property, TYPES.OBSERVE, {\n        fn: runObserverEffect, info, trigger: {name: property}\n      });\n      if (dynamicFn) {\n        this._addPropertyEffect(/** @type {string} */(method), TYPES.OBSERVE, {\n          fn: runObserverEffect, info, trigger: {name: method}\n        });\n      }\n    }\n\n    /**\n     * Equivalent to static `createMethodObserver` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n     *   whether method names should be included as a dependency to the effect.\n     * @return {void}\n     * @protected\n     */\n    _createMethodObserver(expression, dynamicFn) {\n      let sig = parseMethod(expression);\n      if (!sig) {\n        throw new Error(\"Malformed observer expression '\" + expression + \"'\");\n      }\n      createMethodEffect(this, sig, TYPES.OBSERVE, runMethodEffect, null, dynamicFn);\n    }\n\n    /**\n     * Equivalent to static `createNotifyingProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {void}\n     * @protected\n     */\n    _createNotifyingProperty(property) {\n      this._addPropertyEffect(property, TYPES.NOTIFY, {\n        fn: runNotifyEffect,\n        info: {\n          eventName: camelToDashCase(property) + '-changed',\n          property: property\n        }\n      });\n    }\n\n    /**\n     * Equivalent to static `createReflectedProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Property name\n     * @return {void}\n     * @protected\n     * @suppress {missingProperties} go/missingfnprops\n     */\n    _createReflectedProperty(property) {\n      let attr = this.constructor.attributeNameForProperty(property);\n      if (attr[0] === '-') {\n        console.warn('Property ' + property + ' cannot be reflected to attribute ' +\n          attr + ' because \"-\" is not a valid starting attribute name. Use a lowercase first letter for the property instead.');\n      } else {\n        this._addPropertyEffect(property, TYPES.REFLECT, {\n          fn: runReflectEffect,\n          info: {\n            attrName: attr\n          }\n        });\n      }\n    }\n\n    /**\n     * Equivalent to static `createComputedProperty` API but can be called on\n     * an instance to add effects at runtime.  See that method for\n     * full API docs.\n     *\n     * @override\n     * @param {string} property Name of computed property to set\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n     *   whether method names should be included as a dependency to the effect.\n     * @return {void}\n     * @protected\n     */\n    _createComputedProperty(property, expression, dynamicFn) {\n      let sig = parseMethod(expression);\n      if (!sig) {\n        throw new Error(\"Malformed computed expression '\" + expression + \"'\");\n      }\n      const info = createMethodEffect(this, sig, TYPES.COMPUTE, runComputedEffect, property, dynamicFn);\n      // Effects are normally stored as map of dependency->effect, but for\n      // ordered computation, we also need tree of computedProp->dependencies\n      ensureOwnEffectMap(this, COMPUTE_INFO)[property] = info;\n    }\n\n    /**\n     * Gather the argument values for a method specified in the provided array\n     * of argument metadata.\n     *\n     * The `path` and `value` arguments are used to fill in wildcard descriptor\n     * when the method is being called as a result of a path notification.\n     *\n     * @param {!Array<!MethodArg>} args Array of argument metadata\n     * @param {string} path Property/path name that triggered the method effect\n     * @param {Object} props Bag of current property changes\n     * @return {!Array<*>} Array of argument values\n     * @private\n     */\n    _marshalArgs(args, path, props) {\n      const data = this.__data;\n      const values = [];\n      for (let i=0, l=args.length; i<l; i++) {\n        let {name, structured, wildcard, value, literal} = args[i];\n        if (!literal) {\n          if (wildcard) {\n            const matches = isDescendant(name, path);\n            const pathValue = getArgValue(data, props, matches ? path : name);\n            value = {\n              path: matches ? path : name,\n              value: pathValue,\n              base: matches ? get(data, name) : pathValue\n            };\n          } else {\n            value = structured ? getArgValue(data, props, name) : data[name];\n          }\n        }\n        // When the `legacyUndefined` flag is enabled, pass a no-op value\n        // so that the observer, computed property, or compound binding is aborted.\n        if (legacyUndefined && !this._overrideLegacyUndefined && value === undefined && args.length > 1) {\n          return NOOP;\n        }\n        values[i] = value;\n      }\n      return values;\n    }\n\n    // -- static class methods ------------\n\n    /**\n     * Ensures an accessor exists for the specified property, and adds\n     * to a list of \"property effects\" that will run when the accessor for\n     * the specified property is set.  Effects are grouped by \"type\", which\n     * roughly corresponds to a phase in effect processing.  The effect\n     * metadata should be in the following form:\n     *\n     *     {\n     *       fn: effectFunction, // Reference to function to call to perform effect\n     *       info: { ... }       // Effect metadata passed to function\n     *       trigger: {          // Optional triggering metadata; if not provided\n     *         name: string      // the property is treated as a wildcard\n     *         structured: boolean\n     *         wildcard: boolean\n     *       }\n     *     }\n     *\n     * Effects are called from `_propertiesChanged` in the following order by\n     * type:\n     *\n     * 1. COMPUTE\n     * 2. PROPAGATE\n     * 3. REFLECT\n     * 4. OBSERVE\n     * 5. NOTIFY\n     *\n     * Effect functions are called with the following signature:\n     *\n     *     effectFunction(inst, path, props, oldProps, info, hasPaths)\n     *\n     * @param {string} property Property that should trigger the effect\n     * @param {string} type Effect type, from this.PROPERTY_EFFECT_TYPES\n     * @param {Object=} effect Effect metadata object\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static addPropertyEffect(property, type, effect) {\n      this.prototype._addPropertyEffect(property, type, effect);\n    }\n\n    /**\n     * Creates a single-property observer for the given property.\n     *\n     * @param {string} property Property name\n     * @param {string|function(*,*)} method Function or name of observer method to call\n     * @param {boolean=} dynamicFn Whether the method name should be included as\n     *   a dependency to the effect.\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createPropertyObserver(property, method, dynamicFn) {\n      this.prototype._createPropertyObserver(property, method, dynamicFn);\n    }\n\n    /**\n     * Creates a multi-property \"method observer\" based on the provided\n     * expression, which should be a string in the form of a normal JavaScript\n     * function signature: `'methodName(arg1, [..., argn])'`.  Each argument\n     * should correspond to a property or path in the context of this\n     * prototype (or instance), or may be a literal string or number.\n     *\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating\n     * @return {void}\n     *   whether method names should be included as a dependency to the effect.\n     * @protected\n     * @nocollapse\n     */\n    static createMethodObserver(expression, dynamicFn) {\n      this.prototype._createMethodObserver(expression, dynamicFn);\n    }\n\n    /**\n     * Causes the setter for the given property to dispatch `<property>-changed`\n     * events to notify of changes to the property.\n     *\n     * @param {string} property Property name\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createNotifyingProperty(property) {\n      this.prototype._createNotifyingProperty(property);\n    }\n\n    /**\n     * Creates a read-only accessor for the given property.\n     *\n     * To set the property, use the protected `_setProperty` API.\n     * To create a custom protected setter (e.g. `_setMyProp()` for\n     * property `myProp`), pass `true` for `protectedSetter`.\n     *\n     * Note, if the property will have other property effects, this method\n     * should be called first, before adding other effects.\n     *\n     * @param {string} property Property name\n     * @param {boolean=} protectedSetter Creates a custom protected setter\n     *   when `true`.\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createReadOnlyProperty(property, protectedSetter) {\n      this.prototype._createReadOnlyProperty(property, protectedSetter);\n    }\n\n    /**\n     * Causes the setter for the given property to reflect the property value\n     * to a (dash-cased) attribute of the same name.\n     *\n     * @param {string} property Property name\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createReflectedProperty(property) {\n      this.prototype._createReflectedProperty(property);\n    }\n\n    /**\n     * Creates a computed property whose value is set to the result of the\n     * method described by the given `expression` each time one or more\n     * arguments to the method changes.  The expression should be a string\n     * in the form of a normal JavaScript function signature:\n     * `'methodName(arg1, [..., argn])'`\n     *\n     * @param {string} property Name of computed property to set\n     * @param {string} expression Method expression\n     * @param {boolean|Object=} dynamicFn Boolean or object map indicating whether\n     *   method names should be included as a dependency to the effect.\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createComputedProperty(property, expression, dynamicFn) {\n      this.prototype._createComputedProperty(property, expression, dynamicFn);\n    }\n\n    /**\n     * Parses the provided template to ensure binding effects are created\n     * for them, and then ensures property accessors are created for any\n     * dependent properties in the template.  Binding effects for bound\n     * templates are stored in a linked list on the instance so that\n     * templates can be efficiently stamped and unstamped.\n     *\n     * @param {!HTMLTemplateElement} template Template containing binding\n     *   bindings\n     * @return {!TemplateInfo} Template metadata object\n     * @protected\n     * @nocollapse\n     */\n    static bindTemplate(template) {\n      return this.prototype._bindTemplate(template);\n    }\n\n    // -- binding ----------------------------------------------\n\n    /*\n     * Overview of binding flow:\n     *\n     * During finalization (`instanceBinding==false`, `wasPreBound==false`):\n     *  `_bindTemplate(t, false)` called directly during finalization - parses\n     *  the template (for the first time), and then assigns that _prototypical_\n     *  template info to `__preboundTemplateInfo` _on the prototype_; note in\n     *  this case `wasPreBound` is false; this is the first time we're binding\n     *  it, thus we create accessors.\n     *\n     * During first stamping (`instanceBinding==true`, `wasPreBound==true`):\n     *   `_stampTemplate` calls `_bindTemplate(t, true)`: the `templateInfo`\n     *   returned matches the prebound one, and so this is `wasPreBound == true`\n     *   state; thus we _skip_ creating accessors, but _do_ create an instance\n     *   of the template info to serve as the start of our linked list (needs to\n     *   be an instance, not the prototypical one, so that we can add `nodeList`\n     *   to it to contain the `nodeInfo`-ordered list of instance nodes for\n     *   bindings, and so we can chain runtime-stamped template infos off of\n     *   it). At this point, the call to `_stampTemplate` calls\n     *   `applyTemplateInfo` for each nested `<template>` found during parsing\n     *   to hand prototypical `_templateInfo` to them; we also pass the _parent_\n     *   `templateInfo` to the `<template>` so that we have the instance-time\n     *   parent to link the `templateInfo` under in the case it was\n     *   runtime-stamped.\n     *\n     * During subsequent runtime stamping (`instanceBinding==true`,\n     *   `wasPreBound==false`): `_stampTemplate` calls `_bindTemplate(t, true)`\n     *   - here `templateInfo` is guaranteed to _not_ match the prebound one,\n     *   because it was either a different template altogether, or even if it\n     *   was the same template, the step above created a instance of the info;\n     *   in this case `wasPreBound == false`, so we _do_ create accessors, _and_\n     *   link a instance into the linked list.\n     */\n\n    /**\n     * Equivalent to static `bindTemplate` API but can be called on an instance\n     * to add effects at runtime.  See that method for full API docs.\n     *\n     * This method may be called on the prototype (for prototypical template\n     * binding, to avoid creating accessors every instance) once per prototype,\n     * and will be called with `runtimeBinding: true` by `_stampTemplate` to\n     * create and link an instance of the template metadata associated with a\n     * particular stamping.\n     *\n     * @override\n     * @param {!HTMLTemplateElement} template Template containing binding\n     * bindings\n     * @param {boolean=} instanceBinding When false (default), performs\n     * \"prototypical\" binding of the template and overwrites any previously\n     * bound template for the class. When true (as passed from\n     * `_stampTemplate`), the template info is instanced and linked into the\n     * list of bound templates.\n     * @return {!TemplateInfo} Template metadata object; for `runtimeBinding`,\n     * this is an instance of the prototypical template info\n     * @protected\n     * @suppress {missingProperties} go/missingfnprops\n     */\n    _bindTemplate(template, instanceBinding) {\n      let templateInfo = this.constructor._parseTemplate(template);\n      let wasPreBound = this.__preBoundTemplateInfo == templateInfo;\n      // Optimization: since this is called twice for proto-bound templates,\n      // don't attempt to recreate accessors if this template was pre-bound\n      if (!wasPreBound) {\n        for (let prop in templateInfo.propertyEffects) {\n          this._createPropertyAccessor(prop);\n        }\n      }\n      if (instanceBinding) {\n        // For instance-time binding, create instance of template metadata\n        // and link into tree of templates if necessary\n        templateInfo = /** @type {!TemplateInfo} */(Object.create(templateInfo));\n        templateInfo.wasPreBound = wasPreBound;\n        if (!this.__templateInfo) {\n          // Set the info to the root of the tree\n          this.__templateInfo = templateInfo;\n        } else {\n          // Append this template info onto the end of its parent template's\n          // list, which will determine the tree structure via which property\n          // effects are run; if this template was not nested in another\n          // template, use the root template (the first stamped one) as the\n          // parent. Note, `parent` is the `templateInfo` instance for this\n          // template's parent (containing) template, which was set up in\n          // `applyTemplateInfo`.  While a given template's `parent` is set\n          // apriori, it is only added to the parent's child list at the point\n          // that it is being bound, since a template may or may not ever be\n          // stamped, and may be stamped more than once (in which case instances\n          // of the template info will be in the tree under its parent more than\n          // once).\n          const parent = template._parentTemplateInfo || this.__templateInfo;\n          const previous = parent.lastChild;\n          templateInfo.parent = parent;\n          parent.lastChild = templateInfo;\n          templateInfo.previousSibling = previous;\n          if (previous) {\n            previous.nextSibling = templateInfo;\n          } else {\n            parent.firstChild = templateInfo;\n          }\n        }\n      } else {\n        this.__preBoundTemplateInfo = templateInfo;\n      }\n      return templateInfo;\n    }\n\n    /**\n     * Adds a property effect to the given template metadata, which is run\n     * at the \"propagate\" stage of `_propertiesChanged` when the template\n     * has been bound to the element via `_bindTemplate`.\n     *\n     * The `effect` object should match the format in `_addPropertyEffect`.\n     *\n     * @param {Object} templateInfo Template metadata to add effect to\n     * @param {string} prop Property that should trigger the effect\n     * @param {Object=} effect Effect metadata object\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static _addTemplatePropertyEffect(templateInfo, prop, effect) {\n      let hostProps = templateInfo.hostProps = templateInfo.hostProps || {};\n      hostProps[prop] = true;\n      let effects = templateInfo.propertyEffects = templateInfo.propertyEffects || {};\n      let propEffects = effects[prop] = effects[prop] || [];\n      propEffects.push(effect);\n    }\n\n    /**\n     * Stamps the provided template and performs instance-time setup for\n     * Polymer template features, including data bindings, declarative event\n     * listeners, and the `this.$` map of `id`'s to nodes.  A document fragment\n     * is returned containing the stamped DOM, ready for insertion into the\n     * DOM.\n     *\n     * This method may be called more than once; however note that due to\n     * `shadycss` polyfill limitations, only styles from templates prepared\n     * using `ShadyCSS.prepareTemplate` will be correctly polyfilled (scoped\n     * to the shadow root and support CSS custom properties), and note that\n     * `ShadyCSS.prepareTemplate` may only be called once per element. As such,\n     * any styles required by in runtime-stamped templates must be included\n     * in the main element template.\n     *\n     * @param {!HTMLTemplateElement} template Template to stamp\n     * @param {TemplateInfo=} templateInfo Optional bound template info associated\n     *   with the template to be stamped; if omitted the template will be\n     *   automatically bound.\n     * @return {!StampedTemplate} Cloned template content\n     * @override\n     * @protected\n     */\n    _stampTemplate(template, templateInfo) {\n      templateInfo =  templateInfo || /** @type {!TemplateInfo} */(this._bindTemplate(template, true));\n      // Ensures that created dom is `_enqueueClient`'d to this element so\n      // that it can be flushed on next call to `_flushProperties`\n      hostStack.push(this);\n      let dom = super._stampTemplate(template, templateInfo);\n      hostStack.pop();\n      // Add template-instance-specific data to instanced templateInfo\n      templateInfo.nodeList = dom.nodeList;\n      // Capture child nodes to allow unstamping of non-prototypical templates\n      if (!templateInfo.wasPreBound) {\n        let nodes = templateInfo.childNodes = [];\n        for (let n=dom.firstChild; n; n=n.nextSibling) {\n          nodes.push(n);\n        }\n      }\n      dom.templateInfo = templateInfo;\n      // Setup compound storage, 2-way listeners, and dataHost for bindings\n      setupBindings(this, templateInfo);\n      // Flush properties into template nodes; the check on `__dataClientsReady`\n      // ensures we don't needlessly run effects for an element's initial\n      // prototypical template stamping since they will happen as a part of the\n      // first call to `_propertiesChanged`. This flag is set to true\n      // after running the initial propagate effects, and immediately before\n      // flushing clients. Since downstream clients could cause stamping on\n      // this host (e.g. a fastDomIf `dom-if` being forced to render\n      // synchronously), this flag ensures effects for runtime-stamped templates\n      // are run at this point during the initial element boot-up.\n      if (this.__dataClientsReady) {\n        this._runEffectsForTemplate(templateInfo, this.__data, null, false);\n        this._flushClients();\n      }\n      return dom;\n    }\n\n    /**\n     * Removes and unbinds the nodes previously contained in the provided\n     * DocumentFragment returned from `_stampTemplate`.\n     *\n     * @override\n     * @param {!StampedTemplate} dom DocumentFragment previously returned\n     *   from `_stampTemplate` associated with the nodes to be removed\n     * @return {void}\n     * @protected\n     */\n    _removeBoundDom(dom) {\n      // Unlink template info; Note that while the child is unlinked from its\n      // parent list, a template's `parent` reference is never removed, since\n      // this is is determined by the tree structure and applied at\n      // `applyTemplateInfo` time.\n      const templateInfo = dom.templateInfo;\n      const {previousSibling, nextSibling, parent} = templateInfo;\n      if (previousSibling) {\n        previousSibling.nextSibling = nextSibling;\n      } else if (parent) {\n        parent.firstChild = nextSibling;\n      }\n      if (nextSibling) {\n        nextSibling.previousSibling = previousSibling;\n      } else if (parent) {\n        parent.lastChild = previousSibling;\n      }\n      templateInfo.nextSibling = templateInfo.previousSibling = null;\n      // Remove stamped nodes\n      let nodes = templateInfo.childNodes;\n      for (let i=0; i<nodes.length; i++) {\n        let node = nodes[i];\n        wrap(wrap(node).parentNode).removeChild(node);\n      }\n    }\n\n    /**\n     * Overrides default `TemplateStamp` implementation to add support for\n     * parsing bindings from `TextNode`'s' `textContent`.  A `bindings`\n     * array is added to `nodeInfo` and populated with binding metadata\n     * with information capturing the binding target, and a `parts` array\n     * with one or more metadata objects capturing the source(s) of the\n     * binding.\n     *\n     * @param {Node} node Node to parse\n     * @param {TemplateInfo} templateInfo Template metadata for current template\n     * @param {NodeInfo} nodeInfo Node metadata for current template node\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _parseTemplateNode(node, templateInfo, nodeInfo) {\n      // TODO(https://github.com/google/closure-compiler/issues/3240):\n      //     Change back to just super.methodCall()\n      let noted = propertyEffectsBase._parseTemplateNode.call(\n        this, node, templateInfo, nodeInfo);\n      if (node.nodeType === Node.TEXT_NODE) {\n        let parts = this._parseBindings(node.textContent, templateInfo);\n        if (parts) {\n          // Initialize the textContent with any literal parts\n          // NOTE: default to a space here so the textNode remains; some browsers\n          // (IE) omit an empty textNode following cloneNode/importNode.\n          node.textContent = literalFromParts(parts) || ' ';\n          addBinding(this, templateInfo, nodeInfo, 'text', 'textContent', parts);\n          noted = true;\n        }\n      }\n      return noted;\n    }\n\n    /**\n     * Overrides default `TemplateStamp` implementation to add support for\n     * parsing bindings from attributes.  A `bindings`\n     * array is added to `nodeInfo` and populated with binding metadata\n     * with information capturing the binding target, and a `parts` array\n     * with one or more metadata objects capturing the source(s) of the\n     * binding.\n     *\n     * @param {Element} node Node to parse\n     * @param {TemplateInfo} templateInfo Template metadata for current template\n     * @param {NodeInfo} nodeInfo Node metadata for current template node\n     * @param {string} name Attribute name\n     * @param {string} value Attribute value\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _parseTemplateNodeAttribute(node, templateInfo, nodeInfo, name, value) {\n      let parts = this._parseBindings(value, templateInfo);\n      if (parts) {\n        // Attribute or property\n        let origName = name;\n        let kind = 'property';\n        // The only way we see a capital letter here is if the attr has\n        // a capital letter in it per spec. In this case, to make sure\n        // this binding works, we go ahead and make the binding to the attribute.\n        if (capitalAttributeRegex.test(name)) {\n          kind = 'attribute';\n        } else if (name[name.length-1] == '$') {\n          name = name.slice(0, -1);\n          kind = 'attribute';\n        }\n        // Initialize attribute bindings with any literal parts\n        let literal = literalFromParts(parts);\n        if (literal && kind == 'attribute') {\n          // Ensure a ShadyCSS template scoped style is not removed\n          // when a class$ binding's initial literal value is set.\n          if (name == 'class' && node.hasAttribute('class')) {\n            literal += ' ' + node.getAttribute(name);\n          }\n          node.setAttribute(name, literal);\n        }\n        // support disable-upgrade\n        if (kind == 'attribute' && origName == 'disable-upgrade$') {\n          node.setAttribute(name, '');\n        }\n        // Clear attribute before removing, since IE won't allow removing\n        // `value` attribute if it previously had a value (can't\n        // unconditionally set '' before removing since attributes with `$`\n        // can't be set using setAttribute)\n        if (node.localName === 'input' && origName === 'value') {\n          node.setAttribute(origName, '');\n        }\n        // Remove annotation\n        node.removeAttribute(origName);\n        // Case hackery: attributes are lower-case, but bind targets\n        // (properties) are case sensitive. Gambit is to map dash-case to\n        // camel-case: `foo-bar` becomes `fooBar`.\n        // Attribute bindings are excepted.\n        if (kind === 'property') {\n          name = dashToCamelCase(name);\n        }\n        addBinding(this, templateInfo, nodeInfo, kind, name, parts, literal);\n        return true;\n      } else {\n        // TODO(https://github.com/google/closure-compiler/issues/3240):\n        //     Change back to just super.methodCall()\n        return propertyEffectsBase._parseTemplateNodeAttribute.call(\n          this, node, templateInfo, nodeInfo, name, value);\n      }\n    }\n\n    /**\n     * Overrides default `TemplateStamp` implementation to add support for\n     * binding the properties that a nested template depends on to the template\n     * as `_host_<property>`.\n     *\n     * @param {Node} node Node to parse\n     * @param {TemplateInfo} templateInfo Template metadata for current template\n     * @param {NodeInfo} nodeInfo Node metadata for current template node\n     * @return {boolean} `true` if the visited node added node-specific\n     *   metadata to `nodeInfo`\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _parseTemplateNestedTemplate(node, templateInfo, nodeInfo) {\n      // TODO(https://github.com/google/closure-compiler/issues/3240):\n      //     Change back to just super.methodCall()\n      let noted = propertyEffectsBase._parseTemplateNestedTemplate.call(\n        this, node, templateInfo, nodeInfo);\n      const parent = node.parentNode;\n      const nestedTemplateInfo = nodeInfo.templateInfo;\n      const isDomIf = parent.localName === 'dom-if';\n      const isDomRepeat = parent.localName === 'dom-repeat';\n      // Remove nested template and redirect its host bindings & templateInfo\n      // onto the parent (dom-if/repeat element)'s nodeInfo\n      if (removeNestedTemplates && (isDomIf || isDomRepeat)) {\n        parent.removeChild(node);\n        // Use the parent's nodeInfo (for the dom-if/repeat) to record the\n        // templateInfo, and use that for any host property bindings below\n        nodeInfo = nodeInfo.parentInfo;\n        nodeInfo.templateInfo = nestedTemplateInfo;\n        // Ensure the parent dom-if/repeat is noted since it now may have host\n        // bindings; it may not have been if it did not have its own bindings\n        nodeInfo.noted = true;\n        noted = false;\n      }\n      // Merge host props into outer template and add bindings\n      let hostProps = nestedTemplateInfo.hostProps;\n      if (fastDomIf && isDomIf) {\n        // `fastDomIf` mode uses runtime-template stamping to add accessors/\n        // effects to properties used in its template; as such we don't need to\n        // tax the host element with `_host_` bindings for the `dom-if`.\n        // However, in the event it is nested in a `dom-repeat`, it is still\n        // important that its host properties are added to the\n        // TemplateInstance's `hostProps` so that they are forwarded to the\n        // TemplateInstance.\n        if (hostProps) {\n          templateInfo.hostProps =\n            Object.assign(templateInfo.hostProps || {}, hostProps);\n          // Ensure the dom-if is noted so that it has a __dataHost, since\n          // `fastDomIf` uses the host for runtime template stamping; note this\n          // was already ensured above in the `removeNestedTemplates` case\n          if (!removeNestedTemplates) {\n            nodeInfo.parentInfo.noted = true;\n          }\n        }\n      } else {\n        let mode = '{';\n        for (let source in hostProps) {\n          let parts = [{ mode, source, dependencies: [source], hostProp: true }];\n          addBinding(this, templateInfo, nodeInfo, 'property', '_host_' + source, parts);\n        }\n      }\n      return noted;\n    }\n\n    /**\n     * Called to parse text in a template (either attribute values or\n     * textContent) into binding metadata.\n     *\n     * Any overrides of this method should return an array of binding part\n     * metadata  representing one or more bindings found in the provided text\n     * and any \"literal\" text in between.  Any non-literal parts will be passed\n     * to `_evaluateBinding` when any dependencies change.  The only required\n     * fields of each \"part\" in the returned array are as follows:\n     *\n     * - `dependencies` - Array containing trigger metadata for each property\n     *   that should trigger the binding to update\n     * - `literal` - String containing text if the part represents a literal;\n     *   in this case no `dependencies` are needed\n     *\n     * Additional metadata for use by `_evaluateBinding` may be provided in\n     * each part object as needed.\n     *\n     * The default implementation handles the following types of bindings\n     * (one or more may be intermixed with literal strings):\n     * - Property binding: `[[prop]]`\n     * - Path binding: `[[object.prop]]`\n     * - Negated property or path bindings: `[[!prop]]` or `[[!object.prop]]`\n     * - Two-way property or path bindings (supports negation):\n     *   `{{prop}}`, `{{object.prop}}`, `{{!prop}}` or `{{!object.prop}}`\n     * - Inline computed method (supports negation):\n     *   `[[compute(a, 'literal', b)]]`, `[[!compute(a, 'literal', b)]]`\n     *\n     * The default implementation uses a regular expression for best\n     * performance. However, the regular expression uses a white-list of\n     * allowed characters in a data-binding, which causes problems for\n     * data-bindings that do use characters not in this white-list.\n     *\n     * Instead of updating the white-list with all allowed characters,\n     * there is a StrictBindingParser (see lib/mixins/strict-binding-parser)\n     * that uses a state machine instead. This state machine is able to handle\n     * all characters. However, it is slightly less performant, therefore we\n     * extracted it into a separate optional mixin.\n     *\n     * @param {string} text Text to parse from attribute or textContent\n     * @param {Object} templateInfo Current template metadata\n     * @return {Array<!BindingPart>} Array of binding part metadata\n     * @protected\n     * @nocollapse\n     */\n    static _parseBindings(text, templateInfo) {\n      let parts = [];\n      let lastIndex = 0;\n      let m;\n      // Example: \"literal1{{prop}}literal2[[!compute(foo,bar)]]final\"\n      // Regex matches:\n      //        Iteration 1:  Iteration 2:\n      // m[1]: '{{'          '[['\n      // m[2]: ''            '!'\n      // m[3]: 'prop'        'compute(foo,bar)'\n      while ((m = bindingRegex.exec(text)) !== null) {\n        // Add literal part\n        if (m.index > lastIndex) {\n          parts.push({literal: text.slice(lastIndex, m.index)});\n        }\n        // Add binding part\n        let mode = m[1][0];\n        let negate = Boolean(m[2]);\n        let source = m[3].trim();\n        let customEvent = false, notifyEvent = '', colon = -1;\n        if (mode == '{' && (colon = source.indexOf('::')) > 0) {\n          notifyEvent = source.substring(colon + 2);\n          source = source.substring(0, colon);\n          customEvent = true;\n        }\n        let signature = parseMethod(source);\n        let dependencies = [];\n        if (signature) {\n          // Inline computed function\n          let {args, methodName} = signature;\n          for (let i=0; i<args.length; i++) {\n            let arg = args[i];\n            if (!arg.literal) {\n              dependencies.push(arg);\n            }\n          }\n          let dynamicFns = templateInfo.dynamicFns;\n          if (dynamicFns && dynamicFns[methodName] || signature.static) {\n            dependencies.push(methodName);\n            signature.dynamicFn = true;\n          }\n        } else {\n          // Property or path\n          dependencies.push(source);\n        }\n        parts.push({\n          source, mode, negate, customEvent, signature, dependencies,\n          event: notifyEvent\n        });\n        lastIndex = bindingRegex.lastIndex;\n      }\n      // Add a final literal part\n      if (lastIndex && lastIndex < text.length) {\n        let literal = text.substring(lastIndex);\n        if (literal) {\n          parts.push({\n            literal: literal\n          });\n        }\n      }\n      if (parts.length) {\n        return parts;\n      } else {\n        return null;\n      }\n    }\n\n    /**\n     * Called to evaluate a previously parsed binding part based on a set of\n     * one or more changed dependencies.\n     *\n     * @param {!Polymer_PropertyEffects} inst Element that should be used as\n     *     scope for binding dependencies\n     * @param {BindingPart} part Binding part metadata\n     * @param {string} path Property/path that triggered this effect\n     * @param {Object} props Bag of current property changes\n     * @param {Object} oldProps Bag of previous values for changed properties\n     * @param {boolean} hasPaths True with `props` contains one or more paths\n     * @return {*} Value the binding part evaluated to\n     * @protected\n     * @nocollapse\n     */\n    static _evaluateBinding(inst, part, path, props, oldProps, hasPaths) {\n      let value;\n      if (part.signature) {\n        value = runMethodEffect(inst, path, props, oldProps, part.signature);\n      } else if (path != part.source) {\n        value = get(inst, part.source);\n      } else {\n        if (hasPaths && isPath(path)) {\n          value = get(inst, path);\n        } else {\n          value = inst.__data[path];\n        }\n      }\n      if (part.negate) {\n        value = !value;\n      }\n      return value;\n    }\n\n  }\n\n  return PropertyEffects;\n});\n\n/**\n * Stack for enqueuing client dom created by a host element.\n *\n * By default elements are flushed via `_flushProperties` when\n * `connectedCallback` is called. Elements attach their client dom to\n * themselves at `ready` time which results from this first flush.\n * This provides an ordering guarantee that the client dom an element\n * creates is flushed before the element itself (i.e. client `ready`\n * fires before host `ready`).\n *\n * However, if `_flushProperties` is called *before* an element is connected,\n * as for example `Templatize` does, this ordering guarantee cannot be\n * satisfied because no elements are connected. (Note: Bound elements that\n * receive data do become enqueued clients and are properly ordered but\n * unbound elements are not.)\n *\n * To maintain the desired \"client before host\" ordering guarantee for this\n * case we rely on the \"host stack. Client nodes registers themselves with\n * the creating host element when created. This ensures that all client dom\n * is readied in the proper order, maintaining the desired guarantee.\n *\n * @private\n */\nconst hostStack = [];\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Total number of Polymer element instances created.\n * @type {number}\n */\nexport let instanceCount = 0;\n\nexport function incrementInstanceCount() {\n  instanceCount++;\n}\n\n/**\n * Array of Polymer element classes that have been finalized.\n * @type {!Array<!PolymerElementConstructor>}\n */\nexport const registrations = [];\n\n/**\n * @param {!PolymerElementConstructor} prototype Element prototype to log\n * @private\n */\nfunction _regLog(prototype) {\n  console.log('[' + /** @type {?} */(prototype).is + ']: registered');\n}\n\n/**\n * Registers a class prototype for telemetry purposes.\n * @param {!PolymerElementConstructor} prototype Element prototype to register\n * @protected\n */\nexport function register(prototype) {\n  registrations.push(prototype);\n}\n\n/**\n * Logs all elements registered with an `is` to the console.\n * @public\n */\nexport function dumpRegistrations() {\n  registrations.forEach(_regLog);\n}","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport '../utils/boot.js';\n\nimport { dedupingMixin } from '../utils/mixin.js';\nimport { register, incrementInstanceCount } from '../utils/telemetry.js';\nimport { PropertiesChanged } from './properties-changed.js';\n\n/**\n * Creates a copy of `props` with each property normalized such that\n * upgraded it is an object with at least a type property { type: Type}.\n *\n * @param {!Object} props Properties to normalize\n * @return {!Object} Copy of input `props` with normalized properties that\n * are in the form {type: Type}\n * @private\n */\nfunction normalizeProperties(props) {\n  const output = {};\n  for (let p in props) {\n    const o = props[p];\n    output[p] = (typeof o === 'function') ? {type: o} : o;\n  }\n  return output;\n}\n\n/**\n * Mixin that provides a minimal starting point to using the PropertiesChanged\n * mixin by providing a mechanism to declare properties in a static\n * getter (e.g. static get properties() { return { foo: String } }). Changes\n * are reported via the `_propertiesChanged` method.\n *\n * This mixin provides no specific support for rendering. Users are expected\n * to create a ShadowRoot and put content into it and update it in whatever\n * way makes sense. This can be done in reaction to properties changing by\n * implementing `_propertiesChanged`.\n *\n * @mixinFunction\n * @polymer\n * @appliesMixin PropertiesChanged\n * @summary Mixin that provides a minimal starting point for using\n * the PropertiesChanged mixin by providing a declarative `properties` object.\n * @template T\n * @param {function(new:T)} superClass Class to apply mixin to.\n * @return {function(new:T)} superClass with mixin applied.\n */\nexport const PropertiesMixin = dedupingMixin(superClass => {\n\n /**\n  * @constructor\n  * @implements {Polymer_PropertiesChanged}\n  * @private\n  */\n const base = PropertiesChanged(superClass);\n\n /**\n  * Returns the super class constructor for the given class, if it is an\n  * instance of the PropertiesMixin.\n  *\n  * @param {!PropertiesMixinConstructor} constructor PropertiesMixin constructor\n  * @return {?PropertiesMixinConstructor} Super class constructor\n  */\n function superPropertiesClass(constructor) {\n   const superCtor = Object.getPrototypeOf(constructor);\n\n   // Note, the `PropertiesMixin` class below only refers to the class\n   // generated by this call to the mixin; the instanceof test only works\n   // because the mixin is deduped and guaranteed only to apply once, hence\n   // all constructors in a proto chain will see the same `PropertiesMixin`\n   return (superCtor.prototype instanceof PropertiesMixin) ?\n     /** @type {!PropertiesMixinConstructor} */ (superCtor) : null;\n }\n\n /**\n  * Returns a memoized version of the `properties` object for the\n  * given class. Properties not in object format are converted to at\n  * least {type}.\n  *\n  * @param {PropertiesMixinConstructor} constructor PropertiesMixin constructor\n  * @return {Object} Memoized properties object\n  */\n function ownProperties(constructor) {\n   if (!constructor.hasOwnProperty(JSCompiler_renameProperty('__ownProperties', constructor))) {\n     let props = null;\n\n     if (constructor.hasOwnProperty(JSCompiler_renameProperty('properties', constructor))) {\n       const properties = constructor.properties;\n\n       if (properties) {\n        props = normalizeProperties(properties);\n       }\n     }\n\n     constructor.__ownProperties = props;\n   }\n   return constructor.__ownProperties;\n }\n\n /**\n  * @polymer\n  * @mixinClass\n  * @extends {base}\n  * @implements {Polymer_PropertiesMixin}\n  * @unrestricted\n  */\n class PropertiesMixin extends base {\n\n   /**\n    * Implements standard custom elements getter to observes the attributes\n    * listed in `properties`.\n    * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n    * @nocollapse\n    */\n   static get observedAttributes() {\n     if (!this.hasOwnProperty(JSCompiler_renameProperty('__observedAttributes', this))) {\n       register(this.prototype);\n       const props = this._properties;\n       this.__observedAttributes = props ? Object.keys(props).map(p => this.prototype._addPropertyToAttributeMap(p)) : [];\n     }\n     return this.__observedAttributes;\n   }\n\n   /**\n    * Finalizes an element definition, including ensuring any super classes\n    * are also finalized. This includes ensuring property\n    * accessors exist on the element prototype. This method calls\n    * `_finalizeClass` to finalize each constructor in the prototype chain.\n    * @return {void}\n    * @nocollapse\n    */\n   static finalize() {\n     if (!this.hasOwnProperty(JSCompiler_renameProperty('__finalized', this))) {\n       const superCtor = superPropertiesClass(/** @type {!PropertiesMixinConstructor} */(this));\n       if (superCtor) {\n         superCtor.finalize();\n       }\n       this.__finalized = true;\n       this._finalizeClass();\n     }\n   }\n\n   /**\n    * Finalize an element class. This includes ensuring property\n    * accessors exist on the element prototype. This method is called by\n    * `finalize` and finalizes the class constructor.\n    *\n    * @protected\n    * @nocollapse\n    */\n   static _finalizeClass() {\n     const props = ownProperties(/** @type {!PropertiesMixinConstructor} */(this));\n     if (props) {\n       /** @type {?} */ (this).createProperties(props);\n     }\n   }\n\n   /**\n    * Returns a memoized version of all properties, including those inherited\n    * from super classes. Properties not in object format are converted to\n    * at least {type}.\n    *\n    * @return {Object} Object containing properties for this class\n    * @protected\n    * @nocollapse\n    */\n   static get _properties() {\n     if (!this.hasOwnProperty(\n       JSCompiler_renameProperty('__properties', this))) {\n       const superCtor = superPropertiesClass(/** @type {!PropertiesMixinConstructor} */(this));\n       this.__properties = Object.assign({},\n         superCtor && superCtor._properties,\n         ownProperties(/** @type {PropertiesMixinConstructor} */(this)));\n     }\n     return this.__properties;\n   }\n\n   /**\n    * Overrides `PropertiesChanged` method to return type specified in the\n    * static `properties` object for the given property.\n    * @param {string} name Name of property\n    * @return {*} Type to which to deserialize attribute\n    *\n    * @protected\n    * @nocollapse\n    */\n   static typeForProperty(name) {\n     const info = this._properties[name];\n     return info && info.type;\n   }\n\n   /**\n    * Overrides `PropertiesChanged` method and adds a call to\n    * `finalize` which lazily configures the element's property accessors.\n    * @override\n    * @return {void}\n    */\n   _initializeProperties() {\n     incrementInstanceCount();\n     this.constructor.finalize();\n     super._initializeProperties();\n   }\n\n   /**\n    * Called when the element is added to a document.\n    * Calls `_enableProperties` to turn on property system from\n    * `PropertiesChanged`.\n    * @suppress {missingProperties} Super may or may not implement the callback\n    * @return {void}\n    * @override\n    */\n   connectedCallback() {\n     if (super.connectedCallback) {\n       super.connectedCallback();\n     }\n     this._enableProperties();\n   }\n\n   /**\n    * Called when the element is removed from a document\n    * @suppress {missingProperties} Super may or may not implement the callback\n    * @return {void}\n    * @override\n    */\n   disconnectedCallback() {\n     if (super.disconnectedCallback) {\n       super.disconnectedCallback();\n     }\n   }\n\n }\n\n return PropertiesMixin;\n\n});\n","/**\n * @fileoverview\n * @suppress {checkPrototypalTypes}\n * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt The complete set of authors may be found\n * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may\n * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by\n * Google as part of the polymer project is also subject to an additional IP\n * rights grant found at http://polymer.github.io/PATENTS.txt\n */\nimport '../utils/boot.js';\n\nimport { rootPath, strictTemplatePolicy, allowTemplateFromDomModule, legacyOptimizations, legacyWarnings, syncInitialRender, supportsAdoptingStyleSheets, useAdoptedStyleSheetsWithBuiltCSS } from '../utils/settings.js';\nimport { dedupingMixin } from '../utils/mixin.js';\nimport { stylesFromTemplate, stylesFromModuleImports } from '../utils/style-gather.js';\nimport { pathFromUrl, resolveCss, resolveUrl } from '../utils/resolve-url.js';\nimport { DomModule } from '../elements/dom-module.js';\nimport { PropertyEffects } from './property-effects.js';\nimport { PropertiesMixin } from './properties-mixin.js';\nimport { wrap } from '../utils/wrap.js';\n\n/**\n * Current Polymer version in Semver notation.\n * @type {string} Semver notation of the current version of Polymer.\n */\nexport const version = '3.5.2';\n\nexport const builtCSS = window.ShadyCSS && window.ShadyCSS['cssBuild'];\n\n/**\n * Element class mixin that provides the core API for Polymer's meta-programming\n * features including template stamping, data-binding, attribute deserialization,\n * and property change observation.\n *\n * Subclassers may provide the following static getters to return metadata\n * used to configure Polymer's features for the class:\n *\n * - `static get is()`: When the template is provided via a `dom-module`,\n *   users should return the `dom-module` id from a static `is` getter.  If\n *   no template is needed or the template is provided directly via the\n *   `template` getter, there is no need to define `is` for the element.\n *\n * - `static get template()`: Users may provide the template directly (as\n *   opposed to via `dom-module`) by implementing a static `template` getter.\n *   The getter must return an `HTMLTemplateElement`.\n *\n * - `static get properties()`: Should return an object describing\n *   property-related metadata used by Polymer features (key: property name\n *   value: object containing property metadata). Valid keys in per-property\n *   metadata include:\n *   - `type` (String|Number|Object|Array|...): Used by\n *     `attributeChangedCallback` to determine how string-based attributes\n *     are deserialized to JavaScript property values.\n *   - `notify` (boolean): Causes a change in the property to fire a\n *     non-bubbling event called `<property>-changed`. Elements that have\n *     enabled two-way binding to the property use this event to observe changes.\n *   - `readOnly` (boolean): Creates a getter for the property, but no setter.\n *     To set a read-only property, use the private setter method\n *     `_setProperty(property, value)`.\n *   - `observer` (string): Observer method name that will be called when\n *     the property changes. The arguments of the method are\n *     `(value, previousValue)`.\n *   - `computed` (string): String describing method and dependent properties\n *     for computing the value of this property (e.g. `'computeFoo(bar, zot)'`).\n *     Computed properties are read-only by default and can only be changed\n *     via the return value of the computing method.\n *\n * - `static get observers()`: Array of strings describing multi-property\n *   observer methods and their dependent properties (e.g.\n *   `'observeABC(a, b, c)'`).\n *\n * The base class provides default implementations for the following standard\n * custom element lifecycle callbacks; users may override these, but should\n * call the super method to ensure\n * - `constructor`: Run when the element is created or upgraded\n * - `connectedCallback`: Run each time the element is connected to the\n *   document\n * - `disconnectedCallback`: Run each time the element is disconnected from\n *   the document\n * - `attributeChangedCallback`: Run each time an attribute in\n *   `observedAttributes` is set or removed (note: this element's default\n *   `observedAttributes` implementation will automatically return an array\n *   of dash-cased attributes based on `properties`)\n *\n * @mixinFunction\n * @polymer\n * @appliesMixin PropertyEffects\n * @appliesMixin PropertiesMixin\n * @property rootPath {string} Set to the value of `rootPath`,\n *   which defaults to the main document path\n * @property importPath {string} Set to the value of the class's static\n *   `importPath` property, which defaults to the path of this element's\n *   `dom-module` (when `is` is used), but can be overridden for other\n *   import strategies.\n * @summary Element class mixin that provides the core API for Polymer's\n * meta-programming features.\n * @template T\n * @param {function(new:T)} superClass Class to apply mixin to.\n * @return {function(new:T)} superClass with mixin applied.\n */\nexport const ElementMixin = dedupingMixin(base => {\n  /**\n   * @constructor\n   * @implements {Polymer_PropertyEffects}\n   * @implements {Polymer_PropertiesMixin}\n   * @extends {HTMLElement}\n   * @private\n   */\n  const polymerElementBase = PropertiesMixin(PropertyEffects(base));\n\n  /**\n   * Returns a list of properties with default values.\n   * This list is created as an optimization since it is a subset of\n   * the list returned from `_properties`.\n   * This list is used in `_initializeProperties` to set property defaults.\n   *\n   * @param {PolymerElementConstructor} constructor Element class\n   * @return {PolymerElementProperties} Flattened properties for this class\n   *   that have default values\n   * @private\n   */\n  function propertyDefaults(constructor) {\n    if (!constructor.hasOwnProperty(\n      JSCompiler_renameProperty('__propertyDefaults', constructor))) {\n      constructor.__propertyDefaults = null;\n      let props = constructor._properties;\n      for (let p in props) {\n        let info = props[p];\n        if ('value' in info) {\n          constructor.__propertyDefaults = constructor.__propertyDefaults || {};\n          constructor.__propertyDefaults[p] = info;\n        }\n      }\n    }\n    return constructor.__propertyDefaults;\n  }\n\n  /**\n   * Returns a memoized version of the `observers` array.\n   * @param {PolymerElementConstructor} constructor Element class\n   * @return {Array} Array containing own observers for the given class\n   * @protected\n   */\n  function ownObservers(constructor) {\n    if (!constructor.hasOwnProperty(\n      JSCompiler_renameProperty('__ownObservers', constructor))) {\n      constructor.__ownObservers =\n          constructor.hasOwnProperty(\n              JSCompiler_renameProperty('observers', constructor)) ?\n          /** @type {PolymerElementConstructor} */ (constructor).observers :\n          null;\n    }\n    return constructor.__ownObservers;\n  }\n\n  /**\n   * Creates effects for a property.\n   *\n   * Note, once a property has been set to\n   * `readOnly`, `computed`, `reflectToAttribute`, or `notify`\n   * these values may not be changed. For example, a subclass cannot\n   * alter these settings. However, additional `observers` may be added\n   * by subclasses.\n   *\n   * The info object should contain property metadata as follows:\n   *\n   * * `type`: {function} type to which an attribute matching the property\n   * is deserialized. Note the property is camel-cased from a dash-cased\n   * attribute. For example, 'foo-bar' attribute is deserialized to a\n   * property named 'fooBar'.\n   *\n   * * `readOnly`: {boolean} creates a readOnly property and\n   * makes a private setter for the private of the form '_setFoo' for a\n   * property 'foo',\n   *\n   * * `computed`: {string} creates a computed property. A computed property\n   * is also automatically set to `readOnly: true`. The value is calculated\n   * by running a method and arguments parsed from the given string. For\n   * example 'compute(foo)' will compute a given property when the\n   * 'foo' property changes by executing the 'compute' method. This method\n   * must return the computed value.\n   *\n   * * `reflectToAttribute`: {boolean} If true, the property value is reflected\n   * to an attribute of the same name. Note, the attribute is dash-cased\n   * so a property named 'fooBar' is reflected as 'foo-bar'.\n   *\n   * * `notify`: {boolean} sends a non-bubbling notification event when\n   * the property changes. For example, a property named 'foo' sends an\n   * event named 'foo-changed' with `event.detail` set to the value of\n   * the property.\n   *\n   * * observer: {string} name of a method that runs when the property\n   * changes. The arguments of the method are (value, previousValue).\n   *\n   * Note: Users may want control over modifying property\n   * effects via subclassing. For example, a user might want to make a\n   * reflectToAttribute property not do so in a subclass. We've chosen to\n   * disable this because it leads to additional complication.\n   * For example, a readOnly effect generates a special setter. If a subclass\n   * disables the effect, the setter would fail unexpectedly.\n   * Based on feedback, we may want to try to make effects more malleable\n   * and/or provide an advanced api for manipulating them.\n   *\n   * @param {!PolymerElement} proto Element class prototype to add accessors\n   *   and effects to\n   * @param {string} name Name of the property.\n   * @param {Object} info Info object from which to create property effects.\n   * Supported keys:\n   * @param {Object} allProps Flattened map of all properties defined in this\n   *   element (including inherited properties)\n   * @return {void}\n   * @private\n   */\n  function createPropertyFromConfig(proto, name, info, allProps) {\n    // computed forces readOnly...\n    if (info.computed) {\n      info.readOnly = true;\n    }\n    // Note, since all computed properties are readOnly, this prevents\n    // adding additional computed property effects (which leads to a confusing\n    // setup where multiple triggers for setting a property)\n    // While we do have `hasComputedEffect` this is set on the property's\n    // dependencies rather than itself.\n    if (info.computed) {\n      if (proto._hasReadOnlyEffect(name)) {\n        console.warn(`Cannot redefine computed property '${name}'.`);\n      } else {\n        proto._createComputedProperty(name, info.computed, allProps);\n      }\n    }\n    if (info.readOnly && !proto._hasReadOnlyEffect(name)) {\n      proto._createReadOnlyProperty(name, !info.computed);\n    } else if (info.readOnly === false && proto._hasReadOnlyEffect(name)) {\n      console.warn(`Cannot make readOnly property '${name}' non-readOnly.`);\n    }\n    if (info.reflectToAttribute && !proto._hasReflectEffect(name)) {\n      proto._createReflectedProperty(name);\n    } else if (info.reflectToAttribute === false && proto._hasReflectEffect(name)) {\n      console.warn(`Cannot make reflected property '${name}' non-reflected.`);\n    }\n    if (info.notify && !proto._hasNotifyEffect(name)) {\n      proto._createNotifyingProperty(name);\n    } else if (info.notify === false && proto._hasNotifyEffect(name)) {\n      console.warn(`Cannot make notify property '${name}' non-notify.`);\n    }\n    // always add observer\n    if (info.observer) {\n      proto._createPropertyObserver(name, info.observer, allProps[info.observer]);\n    }\n    // always create the mapping from attribute back to property for deserialization.\n    proto._addPropertyToAttributeMap(name);\n  }\n\n  /**\n   * Process all style elements in the element template. Styles with the\n   * `include` attribute are processed such that any styles in\n   * the associated \"style modules\" are included in the element template.\n   * @param {PolymerElementConstructor} klass Element class\n   * @param {!HTMLTemplateElement} template Template to process\n   * @param {string} is Name of element\n   * @param {string} baseURI Base URI for element\n   * @private\n   */\n  function processElementStyles(klass, template, is, baseURI) {\n    if (!builtCSS) {\n      const templateStyles = template.content.querySelectorAll('style');\n      const stylesWithImports = stylesFromTemplate(template);\n      // insert styles from <link rel=\"import\" type=\"css\"> at the top of the template\n      const linkedStyles = stylesFromModuleImports(is);\n      const firstTemplateChild = template.content.firstElementChild;\n      for (let idx = 0; idx < linkedStyles.length; idx++) {\n        let s = linkedStyles[idx];\n        s.textContent = klass._processStyleText(s.textContent, baseURI);\n        template.content.insertBefore(s, firstTemplateChild);\n      }\n      // keep track of the last \"concrete\" style in the template we have encountered\n      let templateStyleIndex = 0;\n      // ensure all gathered styles are actually in this template.\n      for (let i = 0; i < stylesWithImports.length; i++) {\n        let s = stylesWithImports[i];\n        let templateStyle = templateStyles[templateStyleIndex];\n        // if the style is not in this template, it's been \"included\" and\n        // we put a clone of it in the template before the style that included it\n        if (templateStyle !== s) {\n          s = s.cloneNode(true);\n          templateStyle.parentNode.insertBefore(s, templateStyle);\n        } else {\n          templateStyleIndex++;\n        }\n        s.textContent = klass._processStyleText(s.textContent, baseURI);\n      }\n    }\n    if (window.ShadyCSS) {\n      window.ShadyCSS.prepareTemplate(template, is);\n    }\n    // Support for `adoptedStylesheets` relies on using native Shadow DOM\n    // and built CSS. Built CSS is required because runtime transformation of\n    // `@apply` is not supported. This is because ShadyCSS relies on being able\n    // to update a `style` element in the element template and this is\n    // removed when using `adoptedStyleSheets`.\n    // Note, it would be more efficient to allow style includes to become\n    // separate stylesheets; however, because of `@apply` these are\n    // potentially not shareable and sharing the ones that could be shared\n    // would require some coordination. To keep it simple, all the includes\n    // and styles are collapsed into a single shareable stylesheet.\n    if (useAdoptedStyleSheetsWithBuiltCSS && builtCSS &&\n        supportsAdoptingStyleSheets) {\n      // Remove styles in template and make a shareable stylesheet\n      const styles = template.content.querySelectorAll('style');\n      if (styles) {\n        let css = '';\n        Array.from(styles).forEach(s => {\n          css += s.textContent;\n          s.parentNode.removeChild(s);\n        });\n        klass._styleSheet = new CSSStyleSheet();\n        klass._styleSheet.replaceSync(css);\n      }\n    }\n  }\n\n  /**\n   * Look up template from dom-module for element\n   *\n   * @param {string} is Element name to look up\n   * @return {?HTMLTemplateElement|undefined} Template found in dom module, or\n   *   undefined if not found\n   * @protected\n   */\n  function getTemplateFromDomModule(is) {\n    let template = null;\n    // Under strictTemplatePolicy in 3.x+, dom-module lookup is only allowed\n    // when opted-in via allowTemplateFromDomModule\n    if (is && (!strictTemplatePolicy || allowTemplateFromDomModule)) {\n      template = /** @type {?HTMLTemplateElement} */ (\n          DomModule.import(is, 'template'));\n      // Under strictTemplatePolicy, require any element with an `is`\n      // specified to have a dom-module\n      if (strictTemplatePolicy && !template) {\n        throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${is}`);\n      }\n    }\n    return template;\n  }\n\n  /**\n   * @polymer\n   * @mixinClass\n   * @unrestricted\n   * @implements {Polymer_ElementMixin}\n   * @extends {polymerElementBase}\n   */\n  class PolymerElement extends polymerElementBase {\n\n    /**\n     * Current Polymer version in Semver notation.\n     * @type {string} Semver notation of the current version of Polymer.\n     * @nocollapse\n     */\n    static get polymerElementVersion() {\n      return version;\n    }\n\n    /**\n     * Override of PropertiesMixin _finalizeClass to create observers and\n     * find the template.\n     * @return {void}\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _finalizeClass() {\n      // TODO(https://github.com/google/closure-compiler/issues/3240):\n      //     Change back to just super.methodCall()\n      polymerElementBase._finalizeClass.call(this);\n      const observers = ownObservers(this);\n      if (observers) {\n        this.createObservers(observers, this._properties);\n      }\n      this._prepareTemplate();\n    }\n\n    /** @nocollapse */\n    static _prepareTemplate() {\n      // note: create \"working\" template that is finalized at instance time\n      let template = /** @type {PolymerElementConstructor} */ (this).template;\n      if (template) {\n        if (typeof template === 'string') {\n          console.error('template getter must return HTMLTemplateElement');\n          template = null;\n        } else if (!legacyOptimizations) {\n          template = template.cloneNode(true);\n        }\n      }\n\n      /** @override */\n      this.prototype._template = template;\n    }\n\n    /**\n     * Override of PropertiesChanged createProperties to create accessors\n     * and property effects for all of the properties.\n     * @param {!Object} props .\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createProperties(props) {\n      for (let p in props) {\n        createPropertyFromConfig(\n            /** @type {?} */ (this.prototype), p, props[p], props);\n      }\n    }\n\n    /**\n     * Creates observers for the given `observers` array.\n     * Leverages `PropertyEffects` to create observers.\n     * @param {Object} observers Array of observer descriptors for\n     *   this class\n     * @param {Object} dynamicFns Object containing keys for any properties\n     *   that are functions and should trigger the effect when the function\n     *   reference is changed\n     * @return {void}\n     * @protected\n     * @nocollapse\n     */\n    static createObservers(observers, dynamicFns) {\n      const proto = this.prototype;\n      for (let i=0; i < observers.length; i++) {\n        proto._createMethodObserver(observers[i], dynamicFns);\n      }\n    }\n\n    /**\n     * Returns the template that will be stamped into this element's shadow root.\n     *\n     * If a `static get is()` getter is defined, the default implementation will\n     * return the first `<template>` in a `dom-module` whose `id` matches this\n     * element's `is` (note that a `_template` property on the class prototype\n     * takes precedence over the `dom-module` template, to maintain legacy\n     * element semantics; a subclass will subsequently fall back to its super\n     * class template if neither a `prototype._template` or a `dom-module` for\n     * the class's `is` was found).\n     *\n     * Users may override this getter to return an arbitrary template\n     * (in which case the `is` getter is unnecessary). The template returned\n     * must be an `HTMLTemplateElement`.\n     *\n     * Note that when subclassing, if the super class overrode the default\n     * implementation and the subclass would like to provide an alternate\n     * template via a `dom-module`, it should override this getter and\n     * return `DomModule.import(this.is, 'template')`.\n     *\n     * If a subclass would like to modify the super class template, it should\n     * clone it rather than modify it in place.  If the getter does expensive\n     * work such as cloning/modifying a template, it should memoize the\n     * template for maximum performance:\n     *\n     *   let memoizedTemplate;\n     *   class MySubClass extends MySuperClass {\n     *     static get template() {\n     *       if (!memoizedTemplate) {\n     *         memoizedTemplate = super.template.cloneNode(true);\n     *         let subContent = document.createElement('div');\n     *         subContent.textContent = 'This came from MySubClass';\n     *         memoizedTemplate.content.appendChild(subContent);\n     *       }\n     *       return memoizedTemplate;\n     *     }\n     *   }\n     *\n     * @return {!HTMLTemplateElement|string} Template to be stamped\n     * @nocollapse\n     */\n    static get template() {\n      // Explanation of template-related properties:\n      // - constructor.template (this getter): the template for the class.\n      //     This can come from the prototype (for legacy elements), from a\n      //     dom-module, or from the super class's template (or can be overridden\n      //     altogether by the user)\n      // - constructor._template: memoized version of constructor.template\n      // - prototype._template: working template for the element, which will be\n      //     parsed and modified in place. It is a cloned version of\n      //     constructor.template, saved in _finalizeClass(). Note that before\n      //     this getter is called, for legacy elements this could be from a\n      //     _template field on the info object passed to Polymer(), a behavior,\n      //     or set in registered(); once the static getter runs, a clone of it\n      //     will overwrite it on the prototype as the working template.\n      if (!this.hasOwnProperty(JSCompiler_renameProperty('_template', this))) {\n        let protoTemplate = this.prototype.hasOwnProperty(\n          JSCompiler_renameProperty('_template', this.prototype)) ?\n          this.prototype._template : undefined;\n        // Accept a function for the legacy Polymer({_template:...}) field for\n        // lazy parsing\n        if (typeof protoTemplate === 'function') {\n          protoTemplate = protoTemplate();\n        }\n        this._template =\n          // If user has put template on prototype (e.g. in legacy via registered\n          // callback or info object), prefer that first. Note that `null` is\n          // used as a sentinel to indicate \"no template\" and can be used to\n          // override a super template, whereas `undefined` is used as a\n          // sentinel to mean \"fall-back to default template lookup\" via\n          // dom-module and/or super.template.\n          protoTemplate !== undefined ? protoTemplate :\n          // Look in dom-module associated with this element's is\n          ((this.hasOwnProperty(JSCompiler_renameProperty('is', this)) &&\n          (getTemplateFromDomModule(/** @type {PolymerElementConstructor}*/ (this).is))) ||\n          // Next look for superclass template (call the super impl this\n          // way so that `this` points to the superclass)\n          Object.getPrototypeOf(/** @type {PolymerElementConstructor}*/ (this).prototype).constructor.template);\n      }\n      return this._template;\n    }\n\n    /**\n     * Set the template.\n     *\n     * @param {!HTMLTemplateElement|string} value Template to set.\n     * @nocollapse\n     */\n    static set template(value) {\n      this._template = value;\n    }\n\n    /**\n     * Path matching the url from which the element was imported.\n     *\n     * This path is used to resolve url's in template style cssText.\n     * The `importPath` property is also set on element instances and can be\n     * used to create bindings relative to the import path.\n     *\n     * For elements defined in ES modules, users should implement\n     * `static get importMeta() { return import.meta; }`, and the default\n     * implementation of `importPath` will  return `import.meta.url`'s path.\n     * For elements defined in HTML imports, this getter will return the path\n     * to the document containing a `dom-module` element matching this\n     * element's static `is` property.\n     *\n     * Note, this path should contain a trailing `/`.\n     *\n     * @return {string} The import path for this element class\n     * @suppress {missingProperties}\n     * @nocollapse\n     */\n    static get importPath() {\n      if (!this.hasOwnProperty(JSCompiler_renameProperty('_importPath', this))) {\n        const meta = this.importMeta;\n        if (meta) {\n          this._importPath = pathFromUrl(meta.url);\n        } else {\n          const module = DomModule.import(/** @type {PolymerElementConstructor} */ (this).is);\n          this._importPath = (module && module.assetpath) ||\n            Object.getPrototypeOf(/** @type {PolymerElementConstructor}*/ (this).prototype).constructor.importPath;\n        }\n      }\n      return this._importPath;\n    }\n\n    constructor() {\n      super();\n      /** @type {HTMLTemplateElement} */\n      this._template;\n      /** @type {string} */\n      this._importPath;\n      /** @type {string} */\n      this.rootPath;\n      /** @type {string} */\n      this.importPath;\n      /** @type {StampedTemplate | HTMLElement | ShadowRoot} */\n      this.root;\n      /** @type {!Object<string, !Element>} */\n      this.$;\n    }\n\n    /**\n     * Overrides the default `PropertyAccessors` to ensure class\n     * metaprogramming related to property accessors and effects has\n     * completed (calls `finalize`).\n     *\n     * It also initializes any property defaults provided via `value` in\n     * `properties` metadata.\n     *\n     * @return {void}\n     * @override\n     * @suppress {invalidCasts,missingProperties} go/missingfnprops\n     */\n    _initializeProperties() {\n      this.constructor.finalize();\n      // note: finalize template when we have access to `localName` to\n      // avoid dependence on `is` for polyfilling styling.\n      this.constructor._finalizeTemplate(/** @type {!HTMLElement} */(this).localName);\n      super._initializeProperties();\n      // set path defaults\n      this.rootPath = rootPath;\n      this.importPath = this.constructor.importPath;\n      // apply property defaults...\n      let p$ = propertyDefaults(this.constructor);\n      if (!p$) {\n        return;\n      }\n      for (let p in p$) {\n        let info = p$[p];\n        if (this._canApplyPropertyDefault(p)) {\n          let value = typeof info.value == 'function' ?\n            info.value.call(this) :\n            info.value;\n          // Set via `_setProperty` if there is an accessor, to enable\n          // initializing readOnly property defaults\n          if (this._hasAccessor(p)) {\n            this._setPendingProperty(p, value, true);\n          } else {\n            this[p] = value;\n          }\n        }\n      }\n    }\n\n    /**\n     * Determines if a property dfeault can be applied. For example, this\n     * prevents a default from being applied when a property that has no\n     * accessor is overridden by its host before upgrade (e.g. via a binding).\n     * @override\n     * @param {string} property Name of the property\n     * @return {boolean} Returns true if the property default can be applied.\n     */\n    _canApplyPropertyDefault(property) {\n      return !this.hasOwnProperty(property);\n    }\n\n    /**\n     * Gather style text for a style element in the template.\n     *\n     * @param {string} cssText Text containing styling to process\n     * @param {string} baseURI Base URI to rebase CSS paths against\n     * @return {string} The processed CSS text\n     * @protected\n     * @nocollapse\n     */\n    static _processStyleText(cssText, baseURI) {\n      return resolveCss(cssText, baseURI);\n    }\n\n    /**\n    * Configures an element `proto` to function with a given `template`.\n    * The element name `is` and extends `ext` must be specified for ShadyCSS\n    * style scoping.\n    *\n    * @param {string} is Tag name (or type extension name) for this element\n    * @return {void}\n    * @protected\n    * @nocollapse\n    */\n    static _finalizeTemplate(is) {\n      /** @const {HTMLTemplateElement} */\n      const template = this.prototype._template;\n      if (template && !template.__polymerFinalized) {\n        template.__polymerFinalized = true;\n        const importPath = this.importPath;\n        const baseURI = importPath ? resolveUrl(importPath) : '';\n        // e.g. support `include=\"module-name\"`, and ShadyCSS\n        processElementStyles(this, template, is, baseURI);\n        this.prototype._bindTemplate(template);\n      }\n    }\n\n    /**\n     * Provides a default implementation of the standard Custom Elements\n     * `connectedCallback`.\n     *\n     * The default implementation enables the property effects system and\n     * flushes any pending properties, and updates shimmed CSS properties\n     * when using the ShadyCSS scoping/custom properties polyfill.\n     *\n     * @override\n     * @suppress {missingProperties, invalidCasts} Super may or may not\n     *     implement the callback\n     * @return {void}\n     */\n    connectedCallback() {\n      if (window.ShadyCSS && this._template) {\n        window.ShadyCSS.styleElement(/** @type {!HTMLElement} */(this));\n      }\n      super.connectedCallback();\n    }\n\n    /**\n     * Stamps the element template.\n     *\n     * @return {void}\n     * @override\n     */\n    ready() {\n      if (this._template) {\n        this.root = this._stampTemplate(this._template);\n        this.$ = this.root.$;\n      }\n      super.ready();\n    }\n\n    /**\n     * Implements `PropertyEffects`'s `_readyClients` call. Attaches\n     * element dom by calling `_attachDom` with the dom stamped from the\n     * element's template via `_stampTemplate`. Note that this allows\n     * client dom to be attached to the element prior to any observers\n     * running.\n     *\n     * @return {void}\n     * @override\n     */\n    _readyClients() {\n      if (this._template) {\n        this.root = this._attachDom(/** @type {StampedTemplate} */(this.root));\n      }\n      // The super._readyClients here sets the clients initialized flag.\n      // We must wait to do this until after client dom is created/attached\n      // so that this flag can be checked to prevent notifications fired\n      // during this process from being handled before clients are ready.\n      super._readyClients();\n    }\n\n\n    /**\n     * Attaches an element's stamped dom to itself. By default,\n     * this method creates a `shadowRoot` and adds the dom to it.\n     * However, this method may be overridden to allow an element\n     * to put its dom in another location.\n     *\n     * @override\n     * @throws {Error}\n     * @suppress {missingReturn}\n     * @param {StampedTemplate} dom to attach to the element.\n     * @return {ShadowRoot} node to which the dom has been attached.\n     */\n    _attachDom(dom) {\n      const n = wrap(this);\n      if (n.attachShadow) {\n        if (dom) {\n          if (!n.shadowRoot) {\n            n.attachShadow({mode: 'open', shadyUpgradeFragment: dom});\n            n.shadowRoot.appendChild(dom);\n            // When `adoptedStyleSheets` is supported a stylesheet is made\n            // available on the element constructor.\n            if (this.constructor._styleSheet) {\n              n.shadowRoot.adoptedStyleSheets = [this.constructor._styleSheet];\n            }\n          }\n          if (syncInitialRender && window.ShadyDOM) {\n            window.ShadyDOM.flushInitial(n.shadowRoot);\n          }\n          return n.shadowRoot;\n        }\n        return null;\n      } else {\n        throw new Error('ShadowDOM not available. ' +\n          // TODO(sorvell): move to compile-time conditional when supported\n        'PolymerElement can create dom as children instead of in ' +\n        'ShadowDOM by setting `this.root = this;\\` before \\`ready\\`.');\n      }\n    }\n\n    /**\n     * When using the ShadyCSS scoping and custom property shim, causes all\n     * shimmed styles in this element (and its subtree) to be updated\n     * based on current custom property values.\n     *\n     * The optional parameter overrides inline custom property styles with an\n     * object of properties where the keys are CSS properties, and the values\n     * are strings.\n     *\n     * Example: `this.updateStyles({'--color': 'blue'})`\n     *\n     * These properties are retained unless a value of `null` is set.\n     *\n     * Note: This function does not support updating CSS mixins.\n     * You can not dynamically change the value of an `@apply`.\n     *\n     * @override\n     * @param {Object=} properties Bag of custom property key/values to\n     *   apply to this element.\n     * @return {void}\n     * @suppress {invalidCasts}\n     */\n    updateStyles(properties) {\n      if (window.ShadyCSS) {\n        window.ShadyCSS.styleSubtree(/** @type {!HTMLElement} */(this), properties);\n      }\n    }\n\n    /**\n     * Rewrites a given URL relative to a base URL. The base URL defaults to\n     * the original location of the document containing the `dom-module` for\n     * this element. This method will return the same URL before and after\n     * bundling.\n     *\n     * Note that this function performs no resolution for URLs that start\n     * with `/` (absolute URLs) or `#` (hash identifiers).  For general purpose\n     * URL resolution, use `window.URL`.\n     *\n     * @override\n     * @param {string} url URL to resolve.\n     * @param {string=} base Optional base URL to resolve against, defaults\n     * to the element's `importPath`\n     * @return {string} Rewritten URL relative to base\n     */\n    resolveUrl(url, base) {\n      if (!base && this.importPath) {\n        base = resolveUrl(this.importPath);\n      }\n      return resolveUrl(url, base);\n    }\n\n    /**\n     * Overrides `PropertyEffects` to add map of dynamic functions on\n     * template info, for consumption by `PropertyEffects` template binding\n     * code. This map determines which method templates should have accessors\n     * created for them.\n     *\n     * @param {!HTMLTemplateElement} template Template\n     * @param {!TemplateInfo} templateInfo Template metadata for current template\n     * @param {!NodeInfo} nodeInfo Node metadata for current template.\n     * @return {boolean} .\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _parseTemplateContent(template, templateInfo, nodeInfo) {\n      templateInfo.dynamicFns = templateInfo.dynamicFns || this._properties;\n      // TODO(https://github.com/google/closure-compiler/issues/3240):\n      //     Change back to just super.methodCall()\n      return polymerElementBase._parseTemplateContent.call(\n        this, template, templateInfo, nodeInfo);\n    }\n\n    /**\n     * Overrides `PropertyEffects` to warn on use of undeclared properties in\n     * template.\n     *\n     * @param {Object} templateInfo Template metadata to add effect to\n     * @param {string} prop Property that should trigger the effect\n     * @param {Object=} effect Effect metadata object\n     * @return {void}\n     * @protected\n     * @suppress {missingProperties} Interfaces in closure do not inherit statics, but classes do\n     * @nocollapse\n     */\n    static _addTemplatePropertyEffect(templateInfo, prop, effect) {\n      // Warn if properties are used in template without being declared.\n      // Properties must be listed in `properties` to be included in\n      // `observedAttributes` since CE V1 reads that at registration time, and\n      // since we want to keep template parsing lazy, we can't automatically\n      // add undeclared properties used in templates to `observedAttributes`.\n      // The warning is only enabled in `legacyOptimizations` mode, since\n      // we don't want to spam existing users who might have adopted the\n      // shorthand when attribute deserialization is not important.\n      if (legacyWarnings && !(prop in this._properties) &&\n          // Methods used in templates with no dependencies (or only literal\n          // dependencies) become accessors with template effects; ignore these\n          !(effect.info.part.signature && effect.info.part.signature.static) &&\n          // Warnings for bindings added to nested templates are handled by\n          // templatizer so ignore both the host-to-template bindings\n          // (`hostProp`) and TemplateInstance-to-child bindings\n          // (`nestedTemplate`)\n          !effect.info.part.hostProp && !templateInfo.nestedTemplate) {\n        console.warn(`Property '${prop}' used in template but not declared in 'properties'; ` +\n          `attribute will not be observed.`);\n      }\n      // TODO(https://github.com/google/closure-compiler/issues/3240):\n      //     Change back to just super.methodCall()\n      return polymerElementBase._addTemplatePropertyEffect.call(\n        this, templateInfo, prop, effect);\n    }\n\n  }\n\n  return PolymerElement;\n});\n\n/**\n * When using the ShadyCSS scoping and custom property shim, causes all\n * shimmed `styles` (via `custom-style`) in the document (and its subtree)\n * to be updated based on current custom property values.\n *\n * The optional parameter overrides inline custom property styles with an\n * object of properties where the keys are CSS properties, and the values\n * are strings.\n *\n * Example: `updateStyles({'--color': 'blue'})`\n *\n * These properties are retained unless a value of `null` is set.\n *\n * @param {Object=} props Bag of custom property key/values to\n *   apply to the document.\n * @return {void}\n */\nexport const updateStyles = function(props) {\n  if (window.ShadyCSS) {\n    window.ShadyCSS.styleDocument(props);\n  }\n};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nimport './boot.js';\n\n/**\n * Our TrustedTypePolicy for HTML which is declared using the Polymer html\n * template tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n *\n * @type {!TrustedTypePolicy|undefined}\n */\nconst policy = window.trustedTypes &&\n    trustedTypes.createPolicy('polymer-html-literal', {createHTML: (s) => s});\n\n/**\n * Class representing a static string value which can be used to filter\n * strings by asseting that they have been created via this class. The\n * `value` property returns the string passed to the constructor.\n */\nclass LiteralString {\n  /**\n   * @param {!ITemplateArray} strings Constant parts of tagged template literal\n   * @param {!Array<*>} values Variable parts of tagged template literal\n   */\n  constructor(strings, values) {\n    assertValidTemplateStringParameters(strings, values);\n    const string = values.reduce(\n        (acc, v, idx) => acc + literalValue(v) + strings[idx + 1], strings[0]);\n    /** @type {string} */\n    this.value = string.toString();\n  }\n  /**\n   * @return {string} LiteralString string value\n   * @override\n   */\n  toString() {\n    return this.value;\n  }\n}\n\n/**\n * @param {*} value Object to stringify into HTML\n * @return {string} HTML stringified form of `obj`\n */\nfunction literalValue(value) {\n  if (value instanceof LiteralString) {\n    return /** @type {!LiteralString} */(value).value;\n  } else {\n    throw new Error(\n        `non-literal value passed to Polymer's htmlLiteral function: ${value}`\n    );\n  }\n}\n\n/**\n * @param {*} value Object to stringify into HTML\n * @return {string} HTML stringified form of `obj`\n */\nfunction htmlValue(value) {\n  if (value instanceof HTMLTemplateElement) {\n    // This might be an mXSS risk – mainly in the case where this template\n    // contains untrusted content that was believed to be sanitized.\n    // However we can't just use the XMLSerializer here because it misencodes\n    // `>` characters inside style tags.\n    // For an example of an actual case that hit this encoding issue,\n    // see b/198592167\n    return /** @type {!HTMLTemplateElement } */(value).innerHTML;\n  } else if (value instanceof LiteralString) {\n    return literalValue(value);\n  } else {\n    throw new Error(\n        `non-template value passed to Polymer's html function: ${value}`);\n  }\n}\n\n/**\n * A template literal tag that creates an HTML <template> element from the\n * contents of the string.\n *\n * This allows you to write a Polymer Template in JavaScript.\n *\n * Templates can be composed by interpolating `HTMLTemplateElement`s in\n * expressions in the JavaScript template literal. The nested template's\n * `innerHTML` is included in the containing template.  The only other\n * values allowed in expressions are those returned from `htmlLiteral`\n * which ensures only literal values from JS source ever reach the HTML, to\n * guard against XSS risks.\n *\n * All other values are disallowed in expressions to help prevent XSS\n * attacks; however, `htmlLiteral` can be used to compose static\n * string values into templates. This is useful to compose strings into\n * places that do not accept html, like the css text of a `style`\n * element.\n *\n * Example:\n *\n *     static get template() {\n *       return html`\n *         <style>:host{ content:\"...\" }</style>\n *         <div class=\"shadowed\">${this.partialTemplate}</div>\n *         ${super.template}\n *       `;\n *     }\n *     static get partialTemplate() { return html`<span>Partial!</span>`; }\n *\n * @param {!ITemplateArray} strings Constant parts of tagged template literal\n * @param {...*} values Variable parts of tagged template literal\n * @return {!HTMLTemplateElement} Constructed HTMLTemplateElement\n */\nexport const html = function html(strings, ...values) {\n  assertValidTemplateStringParameters(strings, values);\n  const template =\n      /** @type {!HTMLTemplateElement} */ (document.createElement('template'));\n  let value = values.reduce(\n      (acc, v, idx) => acc + htmlValue(v) + strings[idx + 1], strings[0]);\n  if (policy) {\n    value = policy.createHTML(value);\n  }\n  template.innerHTML = value;\n  return template;\n};\n\n/**\n * @param {!ITemplateArray} strings Constant parts of tagged template literal\n * @param {!Array<*>} values Array of values from quasis\n */\nconst assertValidTemplateStringParameters = (strings, values) => {\n  // Note: if/when https://github.com/tc39/proposal-array-is-template-object\n  // is standardized, use that instead when available, as it can perform an\n  // unforgable check (though of course, the function itself can be forged).\n  if (!Array.isArray(strings) || !Array.isArray(strings.raw) ||\n      (values.length !== strings.length - 1)) {\n    // This is either caused by a browser bug, a compiler bug, or someone\n    // calling the html template tag function as a regular function.\n    //\n    throw new TypeError('Invalid call to the html template tag');\n  }\n};\n\n/**\n * An html literal tag that can be used with `html` to compose.\n * a literal string.\n *\n * Example:\n *\n *     static get template() {\n *       return html`\n *         <style>\n *           :host { display: block; }\n *           ${this.styleTemplate()}\n *         </style>\n *         <div class=\"shadowed\">${staticValue}</div>\n *         ${super.template}\n *       `;\n *     }\n *     static get styleTemplate() {\n *        return htmlLiteral`.shadowed { background: gray; }`;\n *     }\n *\n * @param {!ITemplateArray} strings Constant parts of tagged template literal\n * @param {...*} values Variable parts of tagged template literal\n * @return {!LiteralString} Constructed literal string\n */\nexport const htmlLiteral = function(strings, ...values) {\n  return new LiteralString(strings, values);\n};\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nimport { ElementMixin, version } from './lib/mixins/element-mixin.js';\nexport { html } from './lib/utils/html-tag.js';\n\nexport { version };\n\n/**\n * Base class that provides the core API for Polymer's meta-programming\n * features including template stamping, data-binding, attribute deserialization,\n * and property change observation.\n *\n * @customElement\n * @polymer\n * @constructor\n * @implements {Polymer_ElementMixin}\n * @extends HTMLElement\n * @appliesMixin ElementMixin\n * @summary Custom element base class that provides the core API for Polymer's\n *   key meta-programming features including template stamping, data-binding,\n *   attribute deserialization, and property change observation\n */\nexport const PolymerElement = ElementMixin(HTMLElement);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @fileoverview\n *\n * This module provides a number of strategies for enqueuing asynchronous\n * tasks. Each sub-module provides a standard `run(fn)` interface that returns a\n * handle, and a `cancel(handle)` interface for canceling async tasks before\n * they run.\n *\n * @summary Module that provides a number of strategies for enqueuing\n * asynchronous tasks.\n */\n\nlet microtaskCurrHandle = 0;\nlet microtaskLastHandle = 0;\nconst microtaskCallbacks = [];\nlet microtaskScheduled = false;\n\nfunction microtaskFlush() {\n  microtaskScheduled = false;\n  const len = microtaskCallbacks.length;\n  for (let i = 0; i < len; i++) {\n    const cb = microtaskCallbacks[i];\n    if (cb) {\n      try {\n        cb();\n      } catch (e) {\n        setTimeout(() => {\n          throw e;\n        });\n      }\n    }\n  }\n  microtaskCallbacks.splice(0, len);\n  microtaskLastHandle += len;\n}\n\n/**\n * Async interface wrapper around `setTimeout`.\n *\n * @namespace\n * @summary Async interface wrapper around `setTimeout`.\n */\nconst timeOut = {\n  /**\n   * Returns a sub-module with the async interface providing the provided\n   * delay.\n   *\n   * @memberof timeOut\n   * @param {number=} delay Time to wait before calling callbacks in ms\n   * @return {!AsyncInterface} An async timeout interface\n   */\n  after(delay) {\n    return {\n      run(fn) {\n        return window.setTimeout(fn, delay);\n      },\n      cancel(handle) {\n        window.clearTimeout(handle);\n      },\n    };\n  },\n  /**\n   * Enqueues a function called in the next task.\n   *\n   * @memberof timeOut\n   * @param {!Function} fn Callback to run\n   * @param {number=} delay Delay in milliseconds\n   * @return {number} Handle used for canceling task\n   */\n  run(fn, delay) {\n    return window.setTimeout(fn, delay);\n  },\n  /**\n   * Cancels a previously enqueued `timeOut` callback.\n   *\n   * @memberof timeOut\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.clearTimeout(handle);\n  },\n};\nexport { timeOut };\n\n/**\n * Async interface wrapper around `requestAnimationFrame`.\n *\n * @namespace\n * @summary Async interface wrapper around `requestAnimationFrame`.\n */\nconst animationFrame = {\n  /**\n   * Enqueues a function called at `requestAnimationFrame` timing.\n   *\n   * @memberof animationFrame\n   * @param {function(number):void} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(fn) {\n    return window.requestAnimationFrame(fn);\n  },\n  /**\n   * Cancels a previously enqueued `animationFrame` callback.\n   *\n   * @memberof animationFrame\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    window.cancelAnimationFrame(handle);\n  },\n};\nexport { animationFrame };\n\n/**\n * Async interface wrapper around `requestIdleCallback`.  Falls back to\n * `setTimeout` on browsers that do not support `requestIdleCallback`.\n *\n * @namespace\n * @summary Async interface wrapper around `requestIdleCallback`.\n */\nconst idlePeriod = {\n  /**\n   * Enqueues a function called at `requestIdleCallback` timing.\n   *\n   * @memberof idlePeriod\n   * @param {function(!IdleDeadline):void} fn Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(fn) {\n    return window.requestIdleCallback ? window.requestIdleCallback(fn) : window.setTimeout(fn, 16);\n  },\n  /**\n   * Cancels a previously enqueued `idlePeriod` callback.\n   *\n   * @memberof idlePeriod\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    if (window.cancelIdleCallback) {\n      window.cancelIdleCallback(handle);\n    } else {\n      window.clearTimeout(handle);\n    }\n  },\n};\nexport { idlePeriod };\n\n/**\n * Async interface for enqueuing callbacks that run at microtask timing.\n *\n * @namespace\n * @summary Async interface for enqueuing callbacks that run at microtask\n *   timing.\n */\nconst microTask = {\n  /**\n   * Enqueues a function called at microtask timing.\n   *\n   * @memberof microTask\n   * @param {!Function=} callback Callback to run\n   * @return {number} Handle used for canceling task\n   */\n  run(callback) {\n    if (!microtaskScheduled) {\n      microtaskScheduled = true;\n      queueMicrotask(() => microtaskFlush());\n    }\n    microtaskCallbacks.push(callback);\n    const result = microtaskCurrHandle;\n    microtaskCurrHandle += 1;\n    return result;\n  },\n\n  /**\n   * Cancels a previously enqueued `microTask` callback.\n   *\n   * @memberof microTask\n   * @param {number} handle Handle returned from `run` of callback to cancel\n   * @return {void}\n   */\n  cancel(handle) {\n    const idx = handle - microtaskLastHandle;\n    if (idx >= 0) {\n      if (!microtaskCallbacks[idx]) {\n        throw new Error(`invalid async handle: ${handle}`);\n      }\n      microtaskCallbacks[idx] = null;\n    }\n  },\n};\nexport { microTask };\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nconst debouncerQueue = new Set();\n\n/**\n * @summary Collapse multiple callbacks into one invocation after a timer.\n */\nexport class Debouncer {\n  /**\n   * Creates a debouncer if no debouncer is passed as a parameter\n   * or it cancels an active debouncer otherwise. The following\n   * example shows how a debouncer can be called multiple times within a\n   * microtask and \"debounced\" such that the provided callback function is\n   * called once. Add this method to a custom element:\n   *\n   * ```js\n   * import {microTask} from '@vaadin/component-base/src/async.js';\n   * import {Debouncer} from '@vaadin/component-base/src/debounce.js';\n   * // ...\n   *\n   * _debounceWork() {\n   *   this._debounceJob = Debouncer.debounce(this._debounceJob,\n   *       microTask, () => this._doWork());\n   * }\n   * ```\n   *\n   * If the `_debounceWork` method is called multiple times within the same\n   * microtask, the `_doWork` function will be called only once at the next\n   * microtask checkpoint.\n   *\n   * Note: In testing it is often convenient to avoid asynchrony. To accomplish\n   * this with a debouncer, you can use `enqueueDebouncer` and\n   * `flush`. For example, extend the above example by adding\n   * `enqueueDebouncer(this._debounceJob)` at the end of the\n   * `_debounceWork` method. Then in a test, call `flush` to ensure\n   * the debouncer has completed.\n   *\n   * @param {Debouncer?} debouncer Debouncer object.\n   * @param {!AsyncInterface} asyncModule Object with Async interface\n   * @param {function()} callback Callback to run.\n   * @return {!Debouncer} Returns a debouncer object.\n   */\n  static debounce(debouncer, asyncModule, callback) {\n    if (debouncer instanceof Debouncer) {\n      // Cancel the async callback, but leave in debouncerQueue if it was\n      // enqueued, to maintain 1.x flush order\n      debouncer._cancelAsync();\n    } else {\n      debouncer = new Debouncer();\n    }\n    debouncer.setConfig(asyncModule, callback);\n    return debouncer;\n  }\n\n  constructor() {\n    this._asyncModule = null;\n    this._callback = null;\n    this._timer = null;\n  }\n\n  /**\n   * Sets the scheduler; that is, a module with the Async interface,\n   * a callback and optional arguments to be passed to the run function\n   * from the async module.\n   *\n   * @param {!AsyncInterface} asyncModule Object with Async interface.\n   * @param {function()} callback Callback to run.\n   * @return {void}\n   */\n  setConfig(asyncModule, callback) {\n    this._asyncModule = asyncModule;\n    this._callback = callback;\n    this._timer = this._asyncModule.run(() => {\n      this._timer = null;\n      debouncerQueue.delete(this);\n      this._callback();\n    });\n  }\n\n  /**\n   * Cancels an active debouncer and returns a reference to itself.\n   *\n   * @return {void}\n   */\n  cancel() {\n    if (this.isActive()) {\n      this._cancelAsync();\n      // Canceling a debouncer removes its spot from the flush queue,\n      // so if a debouncer is manually canceled and re-debounced, it\n      // will reset its flush order (this is a very minor difference from 1.x)\n      // Re-debouncing via the `debounce` API retains the 1.x FIFO flush order\n      debouncerQueue.delete(this);\n    }\n  }\n\n  /**\n   * Cancels a debouncer's async callback.\n   *\n   * @return {void}\n   */\n  _cancelAsync() {\n    if (this.isActive()) {\n      this._asyncModule.cancel(/** @type {number} */ (this._timer));\n      this._timer = null;\n    }\n  }\n\n  /**\n   * Flushes an active debouncer and returns a reference to itself.\n   *\n   * @return {void}\n   */\n  flush() {\n    if (this.isActive()) {\n      this.cancel();\n      this._callback();\n    }\n  }\n\n  /**\n   * Returns true if the debouncer is active.\n   *\n   * @return {boolean} True if active.\n   */\n  isActive() {\n    return this._timer != null;\n  }\n}\n\n/**\n * Adds a `Debouncer` to a list of globally flushable tasks.\n *\n * @param {!Debouncer} debouncer Debouncer to enqueue\n * @return {void}\n */\nexport function enqueueDebouncer(debouncer) {\n  debouncerQueue.add(debouncer);\n}\n\n/**\n * Flushes any enqueued debouncers\n *\n * @return {boolean} Returns whether any debouncers were flushed\n */\nexport function flushDebouncers() {\n  const didFlush = Boolean(debouncerQueue.size);\n  // If new debouncers are added while flushing, Set.forEach will ensure\n  // newly added ones are also flushed\n  debouncerQueue.forEach((debouncer) => {\n    try {\n      debouncer.flush();\n    } catch (e) {\n      setTimeout(() => {\n        throw e;\n      });\n    }\n  });\n  return didFlush;\n}\n\nexport const flush = () => {\n  let debouncers;\n  do {\n    debouncers = flushDebouncers();\n  } while (debouncers);\n};\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * Array of Vaadin custom element classes that have been subscribed to the dir changes.\n */\nconst directionSubscribers = [];\n\nfunction alignDirs(element, documentDir, elementDir = element.getAttribute('dir')) {\n  if (documentDir) {\n    element.setAttribute('dir', documentDir);\n  } else if (elementDir != null) {\n    element.removeAttribute('dir');\n  }\n}\n\nfunction getDocumentDir() {\n  return document.documentElement.getAttribute('dir');\n}\n\nfunction directionUpdater() {\n  const documentDir = getDocumentDir();\n  directionSubscribers.forEach((element) => {\n    alignDirs(element, documentDir);\n  });\n}\n\nconst directionObserver = new MutationObserver(directionUpdater);\ndirectionObserver.observe(document.documentElement, { attributes: true, attributeFilter: ['dir'] });\n\n/**\n * A mixin to handle `dir` attribute based on the one set on the `<html>` element.\n *\n * @polymerMixin\n */\nexport const DirMixin = (superClass) =>\n  class VaadinDirMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * @protected\n         */\n        dir: {\n          type: String,\n          value: '',\n          reflectToAttribute: true,\n          converter: {\n            fromAttribute: (attr) => {\n              return !attr ? '' : attr;\n            },\n            toAttribute: (prop) => {\n              return prop === '' ? null : prop;\n            },\n          },\n        },\n      };\n    }\n\n    /**\n     * @return {boolean}\n     * @protected\n     */\n    get __isRTL() {\n      return this.getAttribute('dir') === 'rtl';\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n\n      if (!this.hasAttribute('dir') || this.__restoreSubscription) {\n        this.__subscribe();\n        alignDirs(this, getDocumentDir(), null);\n      }\n    }\n\n    /** @protected */\n    attributeChangedCallback(name, oldValue, newValue) {\n      super.attributeChangedCallback(name, oldValue, newValue);\n      if (name !== 'dir') {\n        return;\n      }\n\n      const documentDir = getDocumentDir();\n\n      // New value equals to the document direction and the element is not subscribed to the changes\n      const newValueEqlDocDir = newValue === documentDir && directionSubscribers.indexOf(this) === -1;\n      // Value was emptied and the element is not subscribed to the changes\n      const newValueEmptied = !newValue && oldValue && directionSubscribers.indexOf(this) === -1;\n      // New value is different and the old equals to document direction and the element is not subscribed to the changes\n      const newDiffValue = newValue !== documentDir && oldValue === documentDir;\n\n      if (newValueEqlDocDir || newValueEmptied) {\n        this.__subscribe();\n        alignDirs(this, documentDir, newValue);\n      } else if (newDiffValue) {\n        this.__unsubscribe();\n      }\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      this.__restoreSubscription = directionSubscribers.includes(this);\n      this.__unsubscribe();\n    }\n\n    /** @protected */\n    _valueToNodeAttribute(node, value, attribute) {\n      // Override default Polymer attribute reflection to match native behavior of HTMLElement.dir property\n      // If the property contains an empty string then it should not create an empty attribute\n      if (attribute === 'dir' && value === '' && !node.hasAttribute('dir')) {\n        return;\n      }\n      super._valueToNodeAttribute(node, value, attribute);\n    }\n\n    /** @protected */\n    _attributeToProperty(attribute, value, type) {\n      // Override default Polymer attribute reflection to match native behavior of HTMLElement.dir property\n      // If the attribute is removed, then the dir property should contain an empty string instead of null\n      if (attribute === 'dir' && !value) {\n        this.dir = '';\n      } else {\n        super._attributeToProperty(attribute, value, type);\n      }\n    }\n\n    /** @private */\n    __subscribe() {\n      if (!directionSubscribers.includes(this)) {\n        directionSubscribers.push(this);\n      }\n    }\n\n    /** @private */\n    __unsubscribe() {\n      if (directionSubscribers.includes(this)) {\n        directionSubscribers.splice(directionSubscribers.indexOf(this), 1);\n      }\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2023 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * Convenience method for reading a value from a path.\n *\n * @param {string} path\n * @param {object} object\n */\nexport function get(path, object) {\n  return path.split('.').reduce((obj, property) => (obj ? obj[property] : undefined), object);\n}\n\n/**\n * Convenience method for setting a value to a path.\n *\n * @param {string} path\n * @param {unknown} value\n * @param {object} object\n */\nexport function set(path, value, object) {\n  const pathParts = path.split('.');\n  const lastPart = pathParts.pop();\n  const target = pathParts.reduce((target, part) => target[part], object);\n  target[lastPart] = value;\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * Passes the component to the template renderer callback if the template renderer is imported.\n * Otherwise, if there is a template, it warns that the template renderer needs to be imported.\n *\n * @param {HTMLElement} component\n */\nexport function processTemplates(component) {\n  if (window.Vaadin && window.Vaadin.templateRendererCallback) {\n    window.Vaadin.templateRendererCallback(component);\n    return;\n  }\n\n  if (component.querySelector('template')) {\n    console.warn(\n      `WARNING: <template> inside <${component.localName}> is no longer supported. Import @vaadin/polymer-legacy-adapter/template-renderer.js to enable compatibility.`,\n    );\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * Returns an array of ancestor root nodes for the given node.\n *\n * A root node is either a document node or a document fragment node (Shadow Root).\n * The array is collected by a bottom-up DOM traversing that starts with the given node\n * and involves both the light DOM and ancestor shadow DOM trees.\n *\n * @param {Node} node\n * @return {Node[]}\n */\nexport function getAncestorRootNodes(node) {\n  const result = [];\n\n  while (node) {\n    if (node.nodeType === Node.DOCUMENT_NODE) {\n      result.push(node);\n      break;\n    }\n\n    if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      result.push(node);\n      node = node.host;\n      continue;\n    }\n\n    if (node.assignedSlot) {\n      node = node.assignedSlot;\n      continue;\n    }\n\n    node = node.parentNode;\n  }\n\n  return result;\n}\n\n/**\n * Returns the list of flattened elements for the given `node`.\n * This list consists of a node's children and, for any children that are\n * `<slot>` elements, the expanded flattened list of `assignedElements`.\n *\n * @param {Node} node\n * @return {Element[]}\n */\nexport function getFlattenedElements(node) {\n  const result = [];\n  let elements;\n  if (node.localName === 'slot') {\n    elements = node.assignedElements();\n  } else {\n    result.push(node);\n    elements = [...node.children];\n  }\n  elements.forEach((elem) => result.push(...getFlattenedElements(elem)));\n  return result;\n}\n\n/**\n * Traverses the given node and its parents, including those that are across\n * the shadow root boundaries, until it finds a node that matches the selector.\n *\n * @param {string} selector The CSS selector to match against\n * @param {Node} node The starting node for the traversal\n * @return {Node | null} The closest matching element, or null if no match is found\n */\nexport function getClosestElement(selector, node) {\n  if (!node) {\n    return null;\n  }\n\n  return node.closest(selector) || getClosestElement(selector, node.getRootNode().host);\n}\n\n/**\n * Takes a string with values separated by space and returns a set the values\n *\n * @param {string} value\n * @return {Set<string>}\n */\nexport function deserializeAttributeValue(value) {\n  if (!value) {\n    return new Set();\n  }\n\n  return new Set(value.split(' '));\n}\n\n/**\n * Takes a set of string values and returns a string with values separated by space\n *\n * @param {Set<string>} values\n * @return {string}\n */\nexport function serializeAttributeValue(values) {\n  return values ? [...values].join(' ') : '';\n}\n\n/**\n * Adds a value to an attribute containing space-delimited values.\n *\n * @param {HTMLElement} element\n * @param {string} attr\n * @param {string} value\n */\nexport function addValueToAttribute(element, attr, value) {\n  const values = deserializeAttributeValue(element.getAttribute(attr));\n  values.add(value);\n  element.setAttribute(attr, serializeAttributeValue(values));\n}\n\n/**\n * Removes a value from an attribute containing space-delimited values.\n * If the value is the last one, the whole attribute is removed.\n *\n * @param {HTMLElement} element\n * @param {string} attr\n * @param {string} value\n */\nexport function removeValueFromAttribute(element, attr, value) {\n  const values = deserializeAttributeValue(element.getAttribute(attr));\n  values.delete(value);\n  if (values.size === 0) {\n    element.removeAttribute(attr);\n    return;\n  }\n  element.setAttribute(attr, serializeAttributeValue(values));\n}\n\n/**\n * Returns true if the given node is an empty text node, false otherwise.\n *\n * @param {Node} node\n * @return {boolean}\n */\nexport function isEmptyTextNode(node) {\n  return node.nodeType === Node.TEXT_NODE && node.textContent.trim() === '';\n}\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { microTask } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\nimport { addValueToAttribute, removeValueFromAttribute } from '@vaadin/component-base/src/dom-utils.js';\n\n/**\n * Returns the cells of the given row, excluding the details cell.\n *\n * @param {HTMLTableRowElement} row the table row\n * @return {HTMLTableCellElement[]} array of cells\n */\nexport function getBodyRowCells(row) {\n  // If available, return the cached cells. Otherwise, query the cells directly from the row.\n  return row.__cells || Array.from(row.querySelectorAll('[part~=\"cell\"]:not([part~=\"details-cell\"])'));\n}\n\n/**\n * @param {HTMLElement} container the DOM element with children\n * @param {Function} callback function to call on each child\n */\nexport function iterateChildren(container, callback) {\n  [...container.children].forEach(callback);\n}\n\n/**\n * Iterates over the cells of a row. This includes the details cell if\n * present and any other cell that may be physically detached from the row\n * due to lazy column reordering.\n *\n * @param {HTMLTableRowElement} row the table row\n * @param {Function} callback function to call on each cell\n */\nexport function iterateRowCells(row, callback) {\n  getBodyRowCells(row).forEach(callback);\n  if (row.__detailsCell) {\n    callback(row.__detailsCell);\n  }\n}\n\n/**\n * @param {Array<Object>} columns array of columns to be modified\n * @param {number} scope multiplier added to base order for each column\n * @param {number} baseOrder base number used for order\n */\nexport function updateColumnOrders(columns, scope, baseOrder) {\n  let c = 1;\n  columns.forEach((column) => {\n    // Avoid multiples of 10 because they introduce and extra zero and\n    // causes the underlying calculations for child order goes wrong\n    if (c % 10 === 0) {\n      c += 1;\n    }\n    column._order = baseOrder + c * scope;\n    c += 1;\n  });\n}\n\n/**\n * @param {!HTMLElement} element\n * @param {string} attribute\n * @param {boolean | string | null | undefined} value\n */\nexport function updateState(element, attribute, value) {\n  switch (typeof value) {\n    case 'boolean':\n      element.toggleAttribute(attribute, value);\n      break;\n    case 'string':\n      element.setAttribute(attribute, value);\n      break;\n    default:\n      // Value set to null / undefined\n      element.removeAttribute(attribute);\n      break;\n  }\n}\n\n/**\n * @param {!HTMLElement} element\n * @param {boolean | string | null | undefined} value\n * @param {string} part\n */\nexport function updatePart(element, value, part) {\n  if (value || value === '') {\n    addValueToAttribute(element, 'part', part);\n  } else {\n    removeValueFromAttribute(element, 'part', part);\n  }\n}\n\n/**\n * @param {HTMLTableCellElement[]} cells\n * @param {string} part\n * @param {boolean | string | null | undefined} value\n */\nexport function updateCellsPart(cells, part, value) {\n  cells.forEach((cell) => {\n    updatePart(cell, value, part);\n  });\n}\n\n/**\n * @param {!HTMLElement} row\n * @param {Object} states\n */\nexport function updateBooleanRowStates(row, states) {\n  const cells = getBodyRowCells(row);\n\n  Object.entries(states).forEach(([state, value]) => {\n    // Row state attribute\n    updateState(row, state, value);\n\n    const rowPart = `${state}-row`;\n\n    // Row part attribute\n    updatePart(row, value, rowPart);\n\n    // Cells part attribute\n    updateCellsPart(cells, `${rowPart}-cell`, value);\n  });\n}\n\n/**\n * @param {!HTMLElement} row\n * @param {Object} states\n */\nexport function updateStringRowStates(row, states) {\n  const cells = getBodyRowCells(row);\n\n  Object.entries(states).forEach(([state, value]) => {\n    const prevValue = row.getAttribute(state);\n\n    // Row state attribute\n    updateState(row, state, value);\n\n    // remove previous part from row and cells if there was any\n    if (prevValue) {\n      const prevRowPart = `${state}-${prevValue}-row`;\n      updatePart(row, false, prevRowPart);\n      updateCellsPart(cells, `${prevRowPart}-cell`, false);\n    }\n\n    // set new part to rows and cells if there is a value\n    if (value) {\n      const rowPart = `${state}-${value}-row`;\n      updatePart(row, value, rowPart);\n      updateCellsPart(cells, `${rowPart}-cell`, value);\n    }\n  });\n}\n\n/**\n * @param {!HTMLElement} cell\n * @param {string} attribute\n * @param {boolean | string | null | undefined} value\n * @param {string} part\n * @param {?string} oldPart\n */\nexport function updateCellState(cell, attribute, value, part, oldPart) {\n  // Toggle state attribute on the cell\n  updateState(cell, attribute, value);\n\n  // Remove old part from the attribute\n  if (oldPart) {\n    updatePart(cell, false, oldPart);\n  }\n\n  // Add new part to the cell attribute\n  updatePart(cell, value, part || `${attribute}-cell`);\n}\n\n/**\n * A helper for observing flattened child column list of an element.\n */\nexport class ColumnObserver {\n  constructor(host, callback) {\n    this.__host = host;\n    this.__callback = callback;\n    this.__currentSlots = [];\n\n    this.__onMutation = this.__onMutation.bind(this);\n    this.__observer = new MutationObserver(this.__onMutation);\n    this.__observer.observe(host, {\n      childList: true,\n    });\n\n    // The observer callback is invoked once initially.\n    this.__initialCallDebouncer = Debouncer.debounce(this.__initialCallDebouncer, microTask, () => this.__onMutation());\n  }\n\n  disconnect() {\n    this.__observer.disconnect();\n    this.__initialCallDebouncer.cancel();\n    this.__toggleSlotChangeListeners(false);\n  }\n\n  flush() {\n    this.__onMutation();\n  }\n\n  __toggleSlotChangeListeners(add) {\n    this.__currentSlots.forEach((slot) => {\n      if (add) {\n        slot.addEventListener('slotchange', this.__onMutation);\n      } else {\n        slot.removeEventListener('slotchange', this.__onMutation);\n      }\n    });\n  }\n\n  __onMutation() {\n    // Detect if this is the initial call\n    const initialCall = !this.__currentColumns;\n    this.__currentColumns ||= [];\n\n    // Detect added and removed columns or if the columns order has changed\n    const columns = ColumnObserver.getColumns(this.__host);\n    const addedColumns = columns.filter((column) => !this.__currentColumns.includes(column));\n    const removedColumns = this.__currentColumns.filter((column) => !columns.includes(column));\n    const orderChanged = this.__currentColumns.some((column, index) => column !== columns[index]);\n    this.__currentColumns = columns;\n\n    // Update the list of child slots and toggle their slotchange listeners\n    this.__toggleSlotChangeListeners(false);\n    this.__currentSlots = [...this.__host.children].filter((child) => child instanceof HTMLSlotElement);\n    this.__toggleSlotChangeListeners(true);\n\n    // Invoke the callback if there are changes in the child columns or if this is the initial call\n    const invokeCallback = initialCall || addedColumns.length || removedColumns.length || orderChanged;\n    if (invokeCallback) {\n      this.__callback(addedColumns, removedColumns);\n    }\n  }\n\n  /**\n   * Default filter for column elements.\n   */\n  static __isColumnElement(node) {\n    return node.nodeType === Node.ELEMENT_NODE && /\\bcolumn\\b/u.test(node.localName);\n  }\n\n  static getColumns(host) {\n    const columns = [];\n\n    // A temporary workaround for backwards compatibility\n    const isColumnElement = host._isColumnElement || ColumnObserver.__isColumnElement;\n\n    [...host.children].forEach((child) => {\n      if (isColumnElement(child)) {\n        // The child is a column element, add it to the list\n        columns.push(child);\n      } else if (child instanceof HTMLSlotElement) {\n        // The child is a slot, add all assigned column elements to the list\n        [...child.assignedElements({ flatten: true })]\n          .filter((assignedElement) => isColumnElement(assignedElement))\n          .forEach((assignedElement) => columns.push(assignedElement));\n      }\n    });\n\n    return columns;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { animationFrame } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\nimport { DirMixin } from '@vaadin/component-base/src/dir-mixin.js';\nimport { get } from '@vaadin/component-base/src/path-utils.js';\nimport { processTemplates } from '@vaadin/component-base/src/templates.js';\nimport { updateCellState } from './vaadin-grid-helpers.js';\n\n/**\n * @polymerMixin\n */\nexport const ColumnBaseMixin = (superClass) =>\n  class ColumnBaseMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * When set to true, the column is user-resizable.\n         * @default false\n         */\n        resizable: {\n          type: Boolean,\n          sync: true,\n          value() {\n            if (this.localName === 'vaadin-grid-column-group') {\n              return;\n            }\n\n            const parent = this.parentNode;\n            if (parent && parent.localName === 'vaadin-grid-column-group') {\n              return parent.resizable || false;\n            }\n            return false;\n          },\n        },\n\n        /**\n         * When true, the column is frozen. When a column inside of a column group is frozen,\n         * all of the sibling columns inside the group will get frozen also.\n         * @type {boolean}\n         */\n        frozen: {\n          type: Boolean,\n          value: false,\n          sync: true,\n        },\n\n        /**\n         * When true, the column is frozen to end of grid.\n         *\n         * When a column inside of a column group is frozen to end, all of the sibling columns\n         * inside the group will get frozen to end also.\n         *\n         * Column can not be set as `frozen` and `frozenToEnd` at the same time.\n         * @attr {boolean} frozen-to-end\n         * @type {boolean}\n         */\n        frozenToEnd: {\n          type: Boolean,\n          value: false,\n          sync: true,\n        },\n\n        /**\n         * When true, the cells for this column will be rendered with the `role` attribute\n         * set as `rowheader`, instead of the `gridcell` role value used by default.\n         *\n         * When a column is set as row header, its cells will be announced by screen readers\n         * while navigating to help user identify the current row as uniquely as possible.\n         *\n         * @attr {boolean} row-header\n         * @type {boolean}\n         */\n        rowHeader: {\n          type: Boolean,\n          value: false,\n          sync: true,\n        },\n\n        /**\n         * When set to true, the cells for this column are hidden.\n         */\n        hidden: {\n          type: Boolean,\n          value: false,\n          sync: true,\n        },\n\n        /**\n         * Text content to display in the header cell of the column.\n         */\n        header: {\n          type: String,\n          sync: true,\n        },\n\n        /**\n         * Aligns the columns cell content horizontally.\n         * Supported values: \"start\", \"center\" and \"end\".\n         * @attr {start|center|end} text-align\n         * @type {GridColumnTextAlign | null | undefined}\n         */\n        textAlign: {\n          type: String,\n          sync: true,\n        },\n\n        /**\n         * Custom part name for the header cell.\n         *\n         * @attr {string} header-part-name\n         */\n        headerPartName: {\n          type: String,\n          sync: true,\n        },\n\n        /**\n         * Custom part name for the footer cell.\n         *\n         * @attr {string} footer-part-name\n         */\n        footerPartName: {\n          type: String,\n          sync: true,\n        },\n\n        /**\n         * @type {boolean}\n         * @protected\n         */\n        _lastFrozen: {\n          type: Boolean,\n          value: false,\n          sync: true,\n        },\n\n        /**\n         * @type {boolean}\n         * @protected\n         */\n        _bodyContentHidden: {\n          type: Boolean,\n          value: false,\n          sync: true,\n        },\n\n        /**\n         * @type {boolean}\n         * @protected\n         */\n        _firstFrozenToEnd: {\n          type: Boolean,\n          value: false,\n          sync: true,\n        },\n\n        /** @protected */\n        _order: {\n          type: Number,\n          sync: true,\n        },\n\n        /** @private */\n        _reorderStatus: {\n          type: Boolean,\n          sync: true,\n        },\n\n        /**\n         * @type {Array<!HTMLElement>}\n         * @protected\n         */\n        _emptyCells: Array,\n\n        /** @private */\n        _headerCell: Object,\n\n        /** @private */\n        _footerCell: Object,\n\n        /** @protected */\n        _grid: Object,\n\n        /**\n         * By default, the Polymer doesn't invoke the observer\n         * during initialization if all of its dependencies are `undefined`.\n         * This internal property can be used to force initial invocation of an observer\n         * even the other dependencies of the observer are `undefined`.\n         *\n         * @private\n         */\n        __initialized: {\n          type: Boolean,\n          value: true,\n        },\n\n        /**\n         * Custom function for rendering the header content.\n         * Receives two arguments:\n         *\n         * - `root` The header cell content DOM element. Append your content to it.\n         * - `column` The `<vaadin-grid-column>` element.\n         *\n         * @type {GridHeaderFooterRenderer | null | undefined}\n         */\n        headerRenderer: {\n          type: Function,\n          sync: true,\n        },\n\n        /**\n         * Represents the final header renderer computed on the set of observable arguments.\n         * It is supposed to be used internally when rendering the header cell content.\n         *\n         * @protected\n         * @type {GridHeaderFooterRenderer | undefined}\n         */\n        _headerRenderer: {\n          type: Function,\n          computed: '_computeHeaderRenderer(headerRenderer, header, __initialized)',\n          sync: true,\n        },\n\n        /**\n         * Custom function for rendering the footer content.\n         * Receives two arguments:\n         *\n         * - `root` The footer cell content DOM element. Append your content to it.\n         * - `column` The `<vaadin-grid-column>` element.\n         *\n         * @type {GridHeaderFooterRenderer | null | undefined}\n         */\n        footerRenderer: {\n          type: Function,\n          sync: true,\n        },\n\n        /**\n         * Represents the final footer renderer computed on the set of observable arguments.\n         * It is supposed to be used internally when rendering the footer cell content.\n         *\n         * @protected\n         * @type {GridHeaderFooterRenderer | undefined}\n         */\n        _footerRenderer: {\n          type: Function,\n          computed: '_computeFooterRenderer(footerRenderer, __initialized)',\n          sync: true,\n        },\n\n        /**\n         * An internal property that is mainly used by `vaadin-template-renderer`\n         * to identify grid column elements.\n         *\n         * @private\n         */\n        __gridColumnElement: {\n          type: Boolean,\n          value: true,\n        },\n      };\n    }\n\n    static get observers() {\n      return [\n        '_widthChanged(width, _headerCell, _footerCell, _cells)',\n        '_frozenChanged(frozen, _headerCell, _footerCell, _cells)',\n        '_frozenToEndChanged(frozenToEnd, _headerCell, _footerCell, _cells)',\n        '_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells)',\n        '_textAlignChanged(textAlign, _cells, _headerCell, _footerCell)',\n        '_orderChanged(_order, _headerCell, _footerCell, _cells)',\n        '_lastFrozenChanged(_lastFrozen)',\n        '_firstFrozenToEndChanged(_firstFrozenToEnd)',\n        '_onRendererOrBindingChanged(_renderer, _cells, _bodyContentHidden, path)',\n        '_onHeaderRendererOrBindingChanged(_headerRenderer, _headerCell, path, header)',\n        '_onFooterRendererOrBindingChanged(_footerRenderer, _footerCell)',\n        '_resizableChanged(resizable, _headerCell)',\n        '_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells)',\n        '_hiddenChanged(hidden, _headerCell, _footerCell, _cells)',\n        '_rowHeaderChanged(rowHeader, _cells)',\n        '__headerFooterPartNameChanged(_headerCell, _footerCell, headerPartName, footerPartName)',\n      ];\n    }\n\n    /**\n     * @return {!Grid | undefined}\n     * @protected\n     */\n    get _grid() {\n      if (!this._gridValue) {\n        this._gridValue = this._findHostGrid();\n      }\n      return this._gridValue;\n    }\n\n    /**\n     * @return {!Array<!HTMLElement>}\n     * @protected\n     */\n    get _allCells() {\n      return []\n        .concat(this._cells || [])\n        .concat(this._emptyCells || [])\n        .concat(this._headerCell)\n        .concat(this._footerCell)\n        .filter((cell) => cell);\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n\n      // Adds the column cells to the grid after the column is attached\n      requestAnimationFrame(() => {\n        // Skip if the column has been detached\n        if (!this._grid) {\n          return;\n        }\n\n        this._allCells.forEach((cell) => {\n          if (!cell._content.parentNode) {\n            this._grid.appendChild(cell._content);\n          }\n        });\n      });\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n\n      // Removes the column cells from the grid after the column is detached\n      requestAnimationFrame(() => {\n        // Skip if the column has been attached again\n        if (this._grid) {\n          return;\n        }\n\n        this._allCells.forEach((cell) => {\n          if (cell._content.parentNode) {\n            cell._content.parentNode.removeChild(cell._content);\n          }\n        });\n      });\n\n      this._gridValue = undefined;\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      processTemplates(this);\n    }\n\n    /**\n     * @return {!Grid | undefined}\n     * @protected\n     */\n    _findHostGrid() {\n      // eslint-disable-next-line @typescript-eslint/no-this-alias, consistent-this\n      let el = this;\n      // Custom elements extending grid must have a specific localName\n      while (el && !/^vaadin.*grid(-pro)?$/u.test(el.localName)) {\n        el = el.assignedSlot ? el.assignedSlot.parentNode : el.parentNode;\n      }\n      return el || undefined;\n    }\n\n    /** @protected */\n    _renderHeaderAndFooter() {\n      this._renderHeaderCellContent(this._headerRenderer, this._headerCell);\n      this._renderFooterCellContent(this._footerRenderer, this._footerCell);\n    }\n\n    /** @private */\n    _flexGrowChanged(flexGrow) {\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._columnPropChanged('flexGrow');\n      }\n\n      this._allCells.forEach((cell) => {\n        cell.style.flexGrow = flexGrow;\n      });\n    }\n\n    /** @private */\n    _orderChanged(order) {\n      this._allCells.forEach((cell) => {\n        cell.style.order = order;\n      });\n    }\n\n    /** @private */\n    _widthChanged(width) {\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._columnPropChanged('width');\n      }\n\n      this._allCells.forEach((cell) => {\n        cell.style.width = width;\n      });\n    }\n\n    /** @private */\n    _frozenChanged(frozen) {\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._columnPropChanged('frozen', frozen);\n      }\n\n      this._allCells.forEach((cell) => {\n        updateCellState(cell, 'frozen', frozen);\n      });\n\n      if (this._grid && this._grid._frozenCellsChanged) {\n        this._grid._frozenCellsChanged();\n      }\n    }\n\n    /** @private */\n    _frozenToEndChanged(frozenToEnd) {\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._columnPropChanged('frozenToEnd', frozenToEnd);\n      }\n\n      this._allCells.forEach((cell) => {\n        // Skip sizer cells to keep correct scrollWidth.\n        if (this._grid && cell.parentElement === this._grid.$.sizer) {\n          return;\n        }\n\n        updateCellState(cell, 'frozen-to-end', frozenToEnd);\n      });\n\n      if (this._grid && this._grid._frozenCellsChanged) {\n        this._grid._frozenCellsChanged();\n      }\n    }\n\n    /** @private */\n    _lastFrozenChanged(lastFrozen) {\n      this._allCells.forEach((cell) => {\n        updateCellState(cell, 'last-frozen', lastFrozen);\n      });\n\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._lastFrozen = lastFrozen;\n      }\n    }\n\n    /** @private */\n    _firstFrozenToEndChanged(firstFrozenToEnd) {\n      this._allCells.forEach((cell) => {\n        // Skip sizer cells to keep correct scrollWidth.\n        if (this._grid && cell.parentElement === this._grid.$.sizer) {\n          return;\n        }\n\n        updateCellState(cell, 'first-frozen-to-end', firstFrozenToEnd);\n      });\n\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._firstFrozenToEnd = firstFrozenToEnd;\n      }\n    }\n\n    /** @private */\n    _rowHeaderChanged(rowHeader, cells) {\n      if (!cells) {\n        return;\n      }\n\n      cells.forEach((cell) => {\n        cell.setAttribute('role', rowHeader ? 'rowheader' : 'gridcell');\n      });\n    }\n\n    /**\n     * @param {string} path\n     * @return {string}\n     * @protected\n     */\n    _generateHeader(path) {\n      return path\n        .substr(path.lastIndexOf('.') + 1)\n        .replace(/([A-Z])/gu, '-$1')\n        .toLowerCase()\n        .replace(/-/gu, ' ')\n        .replace(/^./u, (match) => match.toUpperCase());\n    }\n\n    /** @private */\n    _reorderStatusChanged(reorderStatus) {\n      const prevStatus = this.__previousReorderStatus;\n      const oldPart = prevStatus ? `reorder-${prevStatus}-cell` : '';\n      const newPart = `reorder-${reorderStatus}-cell`;\n\n      this._allCells.forEach((cell) => {\n        updateCellState(cell, 'reorder-status', reorderStatus, newPart, oldPart);\n      });\n\n      this.__previousReorderStatus = reorderStatus;\n    }\n\n    /** @private */\n    _resizableChanged(resizable, headerCell) {\n      if (resizable === undefined || headerCell === undefined) {\n        return;\n      }\n\n      if (headerCell) {\n        [headerCell].concat(this._emptyCells).forEach((cell) => {\n          if (cell) {\n            const existingHandle = cell.querySelector('[part~=\"resize-handle\"]');\n            if (existingHandle) {\n              cell.removeChild(existingHandle);\n            }\n\n            if (resizable) {\n              const handle = document.createElement('div');\n              handle.setAttribute('part', 'resize-handle');\n              cell.appendChild(handle);\n            }\n          }\n        });\n      }\n    }\n\n    /** @private */\n    _textAlignChanged(textAlign) {\n      if (textAlign === undefined || this._grid === undefined) {\n        return;\n      }\n      if (['start', 'end', 'center'].indexOf(textAlign) === -1) {\n        console.warn('textAlign can only be set as \"start\", \"end\" or \"center\"');\n        return;\n      }\n\n      let textAlignFallback;\n      if (getComputedStyle(this._grid).direction === 'ltr') {\n        if (textAlign === 'start') {\n          textAlignFallback = 'left';\n        } else if (textAlign === 'end') {\n          textAlignFallback = 'right';\n        }\n      } else if (textAlign === 'start') {\n        textAlignFallback = 'right';\n      } else if (textAlign === 'end') {\n        textAlignFallback = 'left';\n      }\n\n      this._allCells.forEach((cell) => {\n        cell._content.style.textAlign = textAlign;\n        if (getComputedStyle(cell._content).textAlign !== textAlign) {\n          cell._content.style.textAlign = textAlignFallback;\n        }\n      });\n    }\n\n    /** @private */\n    _hiddenChanged(hidden) {\n      if (this.parentElement && this.parentElement._columnPropChanged) {\n        this.parentElement._columnPropChanged('hidden', hidden);\n      }\n\n      if (!!hidden !== !!this._previousHidden && this._grid) {\n        if (hidden === true) {\n          this._allCells.forEach((cell) => {\n            if (cell._content.parentNode) {\n              cell._content.parentNode.removeChild(cell._content);\n            }\n          });\n        }\n        this._grid._debouncerHiddenChanged = Debouncer.debounce(\n          this._grid._debouncerHiddenChanged,\n          animationFrame,\n          () => {\n            if (this._grid && this._grid._renderColumnTree) {\n              this._grid._renderColumnTree(this._grid._columnTree);\n            }\n          },\n        );\n\n        if (this._grid._debounceUpdateFrozenColumn) {\n          this._grid._debounceUpdateFrozenColumn();\n        }\n\n        if (this._grid._resetKeyboardNavigation) {\n          this._grid._resetKeyboardNavigation();\n        }\n      }\n      this._previousHidden = hidden;\n    }\n\n    /** @protected */\n    _runRenderer(renderer, cell, model) {\n      const isVisibleBodyCell = model && model.item && !cell.parentElement.hidden;\n      const shouldRender = isVisibleBodyCell || renderer === this._headerRenderer || renderer === this._footerRenderer;\n      if (!shouldRender) {\n        return;\n      }\n\n      const args = [cell._content, this];\n      if (isVisibleBodyCell) {\n        args.push(model);\n      }\n\n      renderer.apply(this, args);\n    }\n\n    /**\n     * Renders the content to the given cells using a renderer.\n     *\n     * @private\n     */\n    __renderCellsContent(renderer, cells) {\n      // Skip if the column is hidden or not attached to a grid.\n      if (this.hidden || !this._grid) {\n        return;\n      }\n\n      cells.forEach((cell) => {\n        if (!cell.parentElement) {\n          return;\n        }\n\n        const model = this._grid.__getRowModel(cell.parentElement);\n\n        if (!renderer) {\n          return;\n        }\n\n        if (cell._renderer !== renderer) {\n          this._clearCellContent(cell);\n        }\n\n        cell._renderer = renderer;\n\n        this._runRenderer(renderer, cell, model);\n      });\n    }\n\n    /**\n     * Clears the content of a cell.\n     *\n     * @protected\n     */\n    _clearCellContent(cell) {\n      cell._content.innerHTML = '';\n      // Whenever a Lit-based renderer is used, it assigns a Lit part to the node it was rendered into.\n      // When clearing the rendered content, this part needs to be manually disposed of.\n      // Otherwise, using a Lit-based renderer on the same node will throw an exception or render nothing afterward.\n      delete cell._content._$litPart$;\n    }\n\n    /**\n     * Renders the header cell content using a renderer,\n     * and then updates the visibility of the parent row depending on\n     * whether all its children cells are empty or not.\n     *\n     * @protected\n     */\n    _renderHeaderCellContent(headerRenderer, headerCell) {\n      if (!headerCell || !headerRenderer) {\n        return;\n      }\n\n      this.__renderCellsContent(headerRenderer, [headerCell]);\n      if (this._grid && headerCell.parentElement) {\n        this._grid.__debounceUpdateHeaderFooterRowVisibility(headerCell.parentElement);\n      }\n    }\n\n    /** @protected */\n    _onHeaderRendererOrBindingChanged(headerRenderer, headerCell, ..._bindings) {\n      this._renderHeaderCellContent(headerRenderer, headerCell);\n    }\n\n    /** @private */\n    __headerFooterPartNameChanged(headerCell, footerCell, headerPartName, footerPartName) {\n      [\n        { cell: headerCell, partName: headerPartName },\n        { cell: footerCell, partName: footerPartName },\n      ].forEach(({ cell, partName }) => {\n        if (cell) {\n          const customParts = cell.__customParts || [];\n          cell.part.remove(...customParts);\n\n          cell.__customParts = partName ? partName.trim().split(' ') : [];\n          cell.part.add(...cell.__customParts);\n        }\n      });\n    }\n\n    /**\n     * Renders the content of body cells using a renderer.\n     *\n     * @protected\n     */\n    _renderBodyCellsContent(renderer, cells) {\n      if (!cells || !renderer) {\n        return;\n      }\n\n      this.__renderCellsContent(renderer, cells);\n    }\n\n    /** @protected */\n    _onRendererOrBindingChanged(renderer, cells, ..._bindings) {\n      this._renderBodyCellsContent(renderer, cells);\n    }\n\n    /**\n     * Renders the footer cell content using a renderer\n     * and then updates the visibility of the parent row depending on\n     * whether all its children cells are empty or not.\n     *\n     * @protected\n     */\n    _renderFooterCellContent(footerRenderer, footerCell) {\n      if (!footerCell || !footerRenderer) {\n        return;\n      }\n\n      this.__renderCellsContent(footerRenderer, [footerCell]);\n      if (this._grid && footerCell.parentElement) {\n        this._grid.__debounceUpdateHeaderFooterRowVisibility(footerCell.parentElement);\n      }\n    }\n\n    /** @protected */\n    _onFooterRendererOrBindingChanged(footerRenderer, footerCell) {\n      this._renderFooterCellContent(footerRenderer, footerCell);\n    }\n\n    /** @private */\n    __setTextContent(node, textContent) {\n      if (node.textContent !== textContent) {\n        node.textContent = textContent;\n      }\n    }\n\n    /**\n     * Renders the text header to the header cell.\n     *\n     * @private\n     */\n    __textHeaderRenderer() {\n      this.__setTextContent(this._headerCell._content, this.header);\n    }\n\n    /**\n     * Computes the property name based on the path and renders it to the header cell.\n     * If the path is not defined, then nothing is rendered.\n     *\n     * @protected\n     */\n    _defaultHeaderRenderer() {\n      if (!this.path) {\n        return;\n      }\n\n      this.__setTextContent(this._headerCell._content, this._generateHeader(this.path));\n    }\n\n    /**\n     * Computes the item property value based on the path and renders it to the body cell.\n     * If the path is not defined, then nothing is rendered.\n     *\n     * @protected\n     */\n    _defaultRenderer(root, _owner, { item }) {\n      if (!this.path) {\n        return;\n      }\n\n      this.__setTextContent(root, get(this.path, item));\n    }\n\n    /**\n     * By default, nothing is rendered to the footer cell.\n     *\n     * @protected\n     */\n    _defaultFooterRenderer() {}\n\n    /**\n     * Computes the final header renderer for the `_headerRenderer` computed property.\n     * All the arguments are observable by the Polymer, it re-calls the method\n     * once an argument is changed to update the property value.\n     *\n     * @protected\n     * @return {GridHeaderFooterRenderer | undefined}\n     */\n    _computeHeaderRenderer(headerRenderer, header) {\n      if (headerRenderer) {\n        return headerRenderer;\n      }\n\n      if (header !== undefined && header !== null) {\n        return this.__textHeaderRenderer;\n      }\n\n      return this._defaultHeaderRenderer;\n    }\n\n    /**\n     * Computes the final renderer for the `_renderer` property.\n     * All the arguments are observable by the Polymer, it re-calls the method\n     * once an argument is changed to update the property value.\n     *\n     * @protected\n     * @return {GridBodyRenderer | undefined}\n     */\n    _computeRenderer(renderer) {\n      if (renderer) {\n        return renderer;\n      }\n\n      return this._defaultRenderer;\n    }\n\n    /**\n     * Computes the final footer renderer for the `_footerRenderer` property.\n     * All the arguments are observable by the Polymer, it re-calls the method\n     * once an argument is changed to update the property value.\n     *\n     * @protected\n     * @return {GridHeaderFooterRenderer | undefined}\n     */\n    _computeFooterRenderer(footerRenderer) {\n      if (footerRenderer) {\n        return footerRenderer;\n      }\n\n      return this._defaultFooterRenderer;\n    }\n  };\n\n/**\n * @polymerMixin\n * @mixes ColumnBaseMixin\n * @mixes DirMixin\n */\nexport const GridColumnMixin = (superClass) =>\n  class extends ColumnBaseMixin(DirMixin(superClass)) {\n    static get properties() {\n      return {\n        /**\n         * Width of the cells for this column.\n         *\n         * Please note that using the `em` length unit is discouraged as\n         * it might lead to misalignment issues if the header, body, and footer\n         * cells have different font sizes. Instead, use `rem` if you need\n         * a length unit relative to the font size.\n         */\n        width: {\n          type: String,\n          value: '100px',\n          sync: true,\n        },\n\n        /**\n         * Flex grow ratio for the cell widths. When set to 0, cell width is fixed.\n         * @attr {number} flex-grow\n         * @type {number}\n         */\n        flexGrow: {\n          type: Number,\n          value: 1,\n          sync: true,\n        },\n\n        /**\n         * Custom function for rendering the cell content.\n         * Receives three arguments:\n         *\n         * - `root` The cell content DOM element. Append your content to it.\n         * - `column` The `<vaadin-grid-column>` element.\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.expanded` Sublevel toggle state.\n         *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n         *   - `model.selected` Selected state.\n         *   - `model.detailsOpened` Details opened state.\n         *\n         * @type {GridBodyRenderer | null | undefined}\n         */\n        renderer: {\n          type: Function,\n          sync: true,\n        },\n\n        /**\n         * Represents the final renderer computed on the set of observable arguments.\n         * It is supposed to be used internally when rendering the content of a body cell.\n         *\n         * @protected\n         * @type {GridBodyRenderer | undefined}\n         */\n        _renderer: {\n          type: Function,\n          computed: '_computeRenderer(renderer, __initialized)',\n          sync: true,\n        },\n\n        /**\n         * Path to an item sub-property whose value gets displayed in the column body cells.\n         * The property name is also shown in the column header if an explicit header or renderer isn't defined.\n         */\n        path: {\n          type: String,\n          sync: true,\n        },\n\n        /**\n         * Automatically sets the width of the column based on the column contents when this is set to `true`.\n         *\n         * For performance reasons the column width is calculated automatically only once when the grid items\n         * are rendered for the first time and the calculation only considers the rows which are currently\n         * rendered in DOM (a bit more than what is currently visible). If the grid is scrolled, or the cell\n         * content changes, the column width might not match the contents anymore.\n         *\n         * Hidden columns are ignored in the calculation and their widths are not automatically updated when\n         * you show a column that was initially hidden.\n         *\n         * You can manually trigger the auto sizing behavior again by calling `grid.recalculateColumnWidths()`.\n         *\n         * The column width may still grow larger when `flexGrow` is not 0.\n         * @attr {boolean} auto-width\n         * @type {boolean}\n         */\n        autoWidth: {\n          type: Boolean,\n          value: false,\n        },\n\n        /**\n         * When true, wraps the cell's slot into an element with role=\"button\", and sets\n         * the tabindex attribute on the button element, instead of the cell itself.\n         * This is needed to keep focus in sync with VoiceOver cursor when navigating\n         * with Control + Option + arrow keys: focusing the `<td>` element does not fire\n         * a focus event, but focusing an element with role=\"button\" inside a cell fires it.\n         * @protected\n         */\n        _focusButtonMode: {\n          type: Boolean,\n          value: false,\n        },\n\n        /**\n         * @type {Array<!HTMLElement>}\n         * @protected\n         */\n        _cells: {\n          type: Array,\n          sync: true,\n        },\n      };\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\nimport { GridColumnMixin } from './vaadin-grid-column-mixin.js';\n\n/**\n * A `<vaadin-grid-column>` is used to configure how a column in `<vaadin-grid>`\n * should look like.\n *\n * See [`<vaadin-grid>`](#/elements/vaadin-grid) documentation for instructions on how\n * to configure the `<vaadin-grid-column>`.\n *\n * @customElement\n * @extends HTMLElement\n * @mixes GridColumnMixin\n */\nclass GridColumn extends GridColumnMixin(PolymerElement) {\n  static get is() {\n    return 'vaadin-grid-column';\n  }\n}\n\ndefineCustomElement(GridColumn);\n\nexport { GridColumn };\n\nexport { ColumnBaseMixin } from './vaadin-grid-column-mixin.js';\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\n/**\n * @typedef ReactiveController\n * @type {import('lit').ReactiveController}\n */\n\n/**\n * A mixin for connecting controllers to the element.\n *\n * @polymerMixin\n */\nexport const ControllerMixin = dedupingMixin((superClass) => {\n  // If the superclass extends from LitElement,\n  // use its own controllers implementation.\n  if (typeof superClass.prototype.addController === 'function') {\n    return superClass;\n  }\n\n  return class ControllerMixinClass extends superClass {\n    constructor() {\n      super();\n\n      /**\n       * @type {Set<ReactiveController>}\n       */\n      this.__controllers = new Set();\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n\n      this.__controllers.forEach((c) => {\n        if (c.hostConnected) {\n          c.hostConnected();\n        }\n      });\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n\n      this.__controllers.forEach((c) => {\n        if (c.hostDisconnected) {\n          c.hostDisconnected();\n        }\n      });\n    }\n\n    /**\n     * Registers a controller to participate in the element update cycle.\n     *\n     * @param {ReactiveController} controller\n     * @protected\n     */\n    addController(controller) {\n      this.__controllers.add(controller);\n      // Call hostConnected if a controller is added after the element is attached.\n      if (this.$ !== undefined && this.isConnected && controller.hostConnected) {\n        controller.hostConnected();\n      }\n    }\n\n    /**\n     * Removes a controller from the element.\n     *\n     * @param {ReactiveController} controller\n     * @protected\n     */\n    removeController(controller) {\n      this.__controllers.delete(controller);\n    }\n  };\n});\n","const DEV_MODE_CODE_REGEXP =\n  /\\/\\*[\\*!]\\s+vaadin-dev-mode:start([\\s\\S]*)vaadin-dev-mode:end\\s+\\*\\*\\//i;\n\nconst FlowClients = window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients;\n\nfunction isMinified() {\n  function test() {\n    /** vaadin-dev-mode:start\n    return false;\n    vaadin-dev-mode:end **/\n    return true;\n  }\n  return uncommentAndRun(test);\n}\n\nfunction isDevelopmentMode() {\n  try {\n    if (isForcedDevelopmentMode()) {\n      return true;\n    }\n\n    if (!isLocalhost()) {\n      return false;\n    }\n\n    if (FlowClients) {\n      return !isFlowProductionMode();\n    }\n\n    return !isMinified();\n  } catch (e) {\n    // Some error in this code, assume production so no further actions will be taken\n    return false;\n  }\n}\n\nfunction isForcedDevelopmentMode() {\n  return localStorage.getItem(\"vaadin.developmentmode.force\");\n}\n\nfunction isLocalhost() {\n  return ([\"localhost\",\"127.0.0.1\"].indexOf(window.location.hostname) >= 0);\n}\n\nfunction isFlowProductionMode() {\n  if (FlowClients) {\n    const productionModeApps = Object.keys(FlowClients)\n      .map(key => FlowClients[key])\n      .filter(client => client.productionMode);\n    if (productionModeApps.length > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction uncommentAndRun(callback, args) {\n  if (typeof callback !== 'function') {\n    return;\n  }\n\n  const match = DEV_MODE_CODE_REGEXP.exec(callback.toString());\n  if (match) {\n    try {\n      // requires CSP: script-src 'unsafe-eval'\n      callback = new Function(match[1]);\n    } catch (e) {\n      // eat the exception\n      console.log('vaadin-development-mode-detector: uncommentAndRun() failed', e)\n    }\n  }\n\n  return callback(args);\n}\n\n// A guard against polymer-modulizer removing the window.Vaadin\n// initialization above.\nwindow['Vaadin'] = window['Vaadin'] || {};\n\n/**\n * Inspects the source code of the given `callback` function for\n * specially-marked _commented_ code. If such commented code is found in the\n * callback source, uncomments and runs that code instead of the callback\n * itself. Otherwise runs the callback as is.\n *\n * The optional arguments are passed into the callback / uncommented code,\n * the result is returned.\n *\n * See the `isMinified()` function source code in this file for an example.\n *\n */\nexport const runIfDevelopmentMode = function(callback, args) {\n  if (window.Vaadin.developmentMode) {\n    return uncommentAndRun(callback, args);\n  }\n};\n\nif (window.Vaadin.developmentMode === undefined) {\n  window.Vaadin.developmentMode = isDevelopmentMode();\n}\n","/* This file is autogenerated from src/vaadin-usage-statistics.tpl.html */\n/*\n\nThis script gathers usage statistics from the application running in development mode.\n\nStatistics gathering is automatically disabled and excluded from production builds.\n\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\n\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport { runIfDevelopmentMode } from '@vaadin/vaadin-development-mode-detector/vaadin-development-mode-detector.js';\n\nfunction maybeGatherAndSendStats() {\n  /*! vaadin-dev-mode:start\n  (function () {\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar getPolymerVersion = function getPolymerVersion() {\n  return window.Polymer && window.Polymer.version;\n};\n\nvar StatisticsGatherer = function () {\n  function StatisticsGatherer(logger) {\n    classCallCheck(this, StatisticsGatherer);\n\n    this.now = new Date().getTime();\n    this.logger = logger;\n  }\n\n  createClass(StatisticsGatherer, [{\n    key: 'frameworkVersionDetectors',\n    value: function frameworkVersionDetectors() {\n      return {\n        'Flow': function Flow() {\n          if (window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients) {\n            var flowVersions = Object.keys(window.Vaadin.Flow.clients).map(function (key) {\n              return window.Vaadin.Flow.clients[key];\n            }).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().flow;\n            });\n            if (flowVersions.length > 0) {\n              return flowVersions[0];\n            }\n          }\n        },\n        'Vaadin Framework': function VaadinFramework() {\n          if (window.vaadin && window.vaadin.clients) {\n            var frameworkVersions = Object.values(window.vaadin.clients).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().vaadinVersion;\n            });\n            if (frameworkVersions.length > 0) {\n              return frameworkVersions[0];\n            }\n          }\n        },\n        'AngularJs': function AngularJs() {\n          if (window.angular && window.angular.version && window.angular.version) {\n            return window.angular.version.full;\n          }\n        },\n        'Angular': function Angular() {\n          if (window.ng) {\n            var tags = document.querySelectorAll(\"[ng-version]\");\n            if (tags.length > 0) {\n              return tags[0].getAttribute(\"ng-version\");\n            }\n            return \"Unknown\";\n          }\n        },\n        'Backbone.js': function BackboneJs() {\n          if (window.Backbone) {\n            return window.Backbone.VERSION;\n          }\n        },\n        'React': function React() {\n          var reactSelector = '[data-reactroot], [data-reactid]';\n          if (!!document.querySelector(reactSelector)) {\n            // React does not publish the version by default\n            return \"unknown\";\n          }\n        },\n        'Ember': function Ember() {\n          if (window.Em && window.Em.VERSION) {\n            return window.Em.VERSION;\n          } else if (window.Ember && window.Ember.VERSION) {\n            return window.Ember.VERSION;\n          }\n        },\n        'jQuery': function (_jQuery) {\n          function jQuery() {\n            return _jQuery.apply(this, arguments);\n          }\n\n          jQuery.toString = function () {\n            return _jQuery.toString();\n          };\n\n          return jQuery;\n        }(function () {\n          if (typeof jQuery === 'function' && jQuery.prototype.jquery !== undefined) {\n            return jQuery.prototype.jquery;\n          }\n        }),\n        'Polymer': function Polymer() {\n          var version = getPolymerVersion();\n          if (version) {\n            return version;\n          }\n        },\n        'LitElement': function LitElement() {\n          var version = window.litElementVersions && window.litElementVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'LitHtml': function LitHtml() {\n          var version = window.litHtmlVersions && window.litHtmlVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'Vue.js': function VueJs() {\n          if (window.Vue) {\n            return window.Vue.version;\n          }\n        }\n      };\n    }\n  }, {\n    key: 'getUsedVaadinElements',\n    value: function getUsedVaadinElements(elements) {\n      var version = getPolymerVersion();\n      var elementClasses = void 0;\n      // NOTE: In case you edit the code here, YOU MUST UPDATE any statistics reporting code in Flow.\n      // Check all locations calling the method getEntries() in\n      // https://github.com/vaadin/flow/blob/master/flow-server/src/main/java/com/vaadin/flow/internal/UsageStatistics.java#L106\n      // Currently it is only used by BootstrapHandler.\n      if (version && version.indexOf('2') === 0) {\n        // Polymer 2: components classes are stored in window.Vaadin\n        elementClasses = Object.keys(window.Vaadin).map(function (c) {\n          return window.Vaadin[c];\n        }).filter(function (c) {\n          return c.is;\n        });\n      } else {\n        // Polymer 3: components classes are stored in window.Vaadin.registrations\n        elementClasses = window.Vaadin.registrations || [];\n      }\n      elementClasses.forEach(function (klass) {\n        var version = klass.version ? klass.version : \"0.0.0\";\n        elements[klass.is] = { version: version };\n      });\n    }\n  }, {\n    key: 'getUsedVaadinThemes',\n    value: function getUsedVaadinThemes(themes) {\n      ['Lumo', 'Material'].forEach(function (themeName) {\n        var theme;\n        var version = getPolymerVersion();\n        if (version && version.indexOf('2') === 0) {\n          // Polymer 2: themes are stored in window.Vaadin\n          theme = window.Vaadin[themeName];\n        } else {\n          // Polymer 3: themes are stored in custom element registry\n          theme = customElements.get('vaadin-' + themeName.toLowerCase() + '-styles');\n        }\n        if (theme && theme.version) {\n          themes[themeName] = { version: theme.version };\n        }\n      });\n    }\n  }, {\n    key: 'getFrameworks',\n    value: function getFrameworks(frameworks) {\n      var detectors = this.frameworkVersionDetectors();\n      Object.keys(detectors).forEach(function (framework) {\n        var detector = detectors[framework];\n        try {\n          var version = detector();\n          if (version) {\n            frameworks[framework] = { version: version };\n          }\n        } catch (e) {}\n      });\n    }\n  }, {\n    key: 'gather',\n    value: function gather(storage) {\n      var storedStats = storage.read();\n      var gatheredStats = {};\n      var types = [\"elements\", \"frameworks\", \"themes\"];\n\n      types.forEach(function (type) {\n        gatheredStats[type] = {};\n        if (!storedStats[type]) {\n          storedStats[type] = {};\n        }\n      });\n\n      var previousStats = JSON.stringify(storedStats);\n\n      this.getUsedVaadinElements(gatheredStats.elements);\n      this.getFrameworks(gatheredStats.frameworks);\n      this.getUsedVaadinThemes(gatheredStats.themes);\n\n      var now = this.now;\n      types.forEach(function (type) {\n        var keys = Object.keys(gatheredStats[type]);\n        keys.forEach(function (key) {\n          if (!storedStats[type][key] || _typeof(storedStats[type][key]) != _typeof({})) {\n            storedStats[type][key] = { firstUsed: now };\n          }\n          // Discards any previously logged version number\n          storedStats[type][key].version = gatheredStats[type][key].version;\n          storedStats[type][key].lastUsed = now;\n        });\n      });\n\n      var newStats = JSON.stringify(storedStats);\n      storage.write(newStats);\n      if (newStats != previousStats && Object.keys(storedStats).length > 0) {\n        this.logger.debug(\"New stats: \" + newStats);\n      }\n    }\n  }]);\n  return StatisticsGatherer;\n}();\n\nvar StatisticsStorage = function () {\n  function StatisticsStorage(key) {\n    classCallCheck(this, StatisticsStorage);\n\n    this.key = key;\n  }\n\n  createClass(StatisticsStorage, [{\n    key: 'read',\n    value: function read() {\n      var localStorageStatsString = localStorage.getItem(this.key);\n      try {\n        return JSON.parse(localStorageStatsString ? localStorageStatsString : '{}');\n      } catch (e) {\n        return {};\n      }\n    }\n  }, {\n    key: 'write',\n    value: function write(data) {\n      localStorage.setItem(this.key, data);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      localStorage.removeItem(this.key);\n    }\n  }, {\n    key: 'isEmpty',\n    value: function isEmpty() {\n      var storedStats = this.read();\n      var empty = true;\n      Object.keys(storedStats).forEach(function (key) {\n        if (Object.keys(storedStats[key]).length > 0) {\n          empty = false;\n        }\n      });\n\n      return empty;\n    }\n  }]);\n  return StatisticsStorage;\n}();\n\nvar StatisticsSender = function () {\n  function StatisticsSender(url, logger) {\n    classCallCheck(this, StatisticsSender);\n\n    this.url = url;\n    this.logger = logger;\n  }\n\n  createClass(StatisticsSender, [{\n    key: 'send',\n    value: function send(data, errorHandler) {\n      var logger = this.logger;\n\n      if (navigator.onLine === false) {\n        logger.debug(\"Offline, can't send\");\n        errorHandler();\n        return;\n      }\n      logger.debug(\"Sending data to \" + this.url);\n\n      var req = new XMLHttpRequest();\n      req.withCredentials = true;\n      req.addEventListener(\"load\", function () {\n        // Stats sent, nothing more to do\n        logger.debug(\"Response: \" + req.responseText);\n      });\n      req.addEventListener(\"error\", function () {\n        logger.debug(\"Send failed\");\n        errorHandler();\n      });\n      req.addEventListener(\"abort\", function () {\n        logger.debug(\"Send aborted\");\n        errorHandler();\n      });\n      req.open(\"POST\", this.url);\n      req.setRequestHeader(\"Content-Type\", \"application/json\");\n      req.send(data);\n    }\n  }]);\n  return StatisticsSender;\n}();\n\nvar StatisticsLogger = function () {\n  function StatisticsLogger(id) {\n    classCallCheck(this, StatisticsLogger);\n\n    this.id = id;\n  }\n\n  createClass(StatisticsLogger, [{\n    key: '_isDebug',\n    value: function _isDebug() {\n      return localStorage.getItem(\"vaadin.\" + this.id + \".debug\");\n    }\n  }, {\n    key: 'debug',\n    value: function debug(msg) {\n      if (this._isDebug()) {\n        console.info(this.id + \": \" + msg);\n      }\n    }\n  }]);\n  return StatisticsLogger;\n}();\n\nvar UsageStatistics = function () {\n  function UsageStatistics() {\n    classCallCheck(this, UsageStatistics);\n\n    this.now = new Date();\n    this.timeNow = this.now.getTime();\n    this.gatherDelay = 10; // Delay between loading this file and gathering stats\n    this.initialDelay = 24 * 60 * 60;\n\n    this.logger = new StatisticsLogger(\"statistics\");\n    this.storage = new StatisticsStorage(\"vaadin.statistics.basket\");\n    this.gatherer = new StatisticsGatherer(this.logger);\n    this.sender = new StatisticsSender(\"https://tools.vaadin.com/usage-stats/submit\", this.logger);\n  }\n\n  createClass(UsageStatistics, [{\n    key: 'maybeGatherAndSend',\n    value: function maybeGatherAndSend() {\n      var _this = this;\n\n      if (localStorage.getItem(UsageStatistics.optOutKey)) {\n        return;\n      }\n      this.gatherer.gather(this.storage);\n      setTimeout(function () {\n        _this.maybeSend();\n      }, this.gatherDelay * 1000);\n    }\n  }, {\n    key: 'lottery',\n    value: function lottery() {\n      return true;\n    }\n  }, {\n    key: 'currentMonth',\n    value: function currentMonth() {\n      return this.now.getYear() * 12 + this.now.getMonth();\n    }\n  }, {\n    key: 'maybeSend',\n    value: function maybeSend() {\n      var firstUse = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      var monthProcessed = Number(localStorage.getItem(UsageStatistics.monthProcessedKey));\n\n      if (!firstUse) {\n        // Use a grace period to avoid interfering with tests, incognito mode etc\n        firstUse = this.timeNow;\n        localStorage.setItem(UsageStatistics.firstUseKey, firstUse);\n      }\n\n      if (this.timeNow < firstUse + this.initialDelay * 1000) {\n        this.logger.debug(\"No statistics will be sent until the initial delay of \" + this.initialDelay + \"s has passed\");\n        return;\n      }\n      if (this.currentMonth() <= monthProcessed) {\n        this.logger.debug(\"This month has already been processed\");\n        return;\n      }\n      localStorage.setItem(UsageStatistics.monthProcessedKey, this.currentMonth());\n      // Use random sampling\n      if (this.lottery()) {\n        this.logger.debug(\"Congratulations, we have a winner!\");\n      } else {\n        this.logger.debug(\"Sorry, no stats from you this time\");\n        return;\n      }\n\n      this.send();\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      // Ensure we have the latest data\n      this.gatherer.gather(this.storage);\n\n      // Read, send and clean up\n      var data = this.storage.read();\n      data[\"firstUse\"] = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      data[\"usageStatisticsVersion\"] = UsageStatistics.version;\n      var info = 'This request contains usage statistics gathered from the application running in development mode. \\n\\nStatistics gathering is automatically disabled and excluded from production builds.\\n\\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\\n\\n\\n\\n';\n      var self = this;\n      this.sender.send(info + JSON.stringify(data), function () {\n        // Revert the 'month processed' flag\n        localStorage.setItem(UsageStatistics.monthProcessedKey, self.currentMonth() - 1);\n      });\n    }\n  }], [{\n    key: 'version',\n    get: function get$1() {\n      return '2.1.2';\n    }\n  }, {\n    key: 'firstUseKey',\n    get: function get$1() {\n      return 'vaadin.statistics.firstuse';\n    }\n  }, {\n    key: 'monthProcessedKey',\n    get: function get$1() {\n      return 'vaadin.statistics.monthProcessed';\n    }\n  }, {\n    key: 'optOutKey',\n    get: function get$1() {\n      return 'vaadin.statistics.optout';\n    }\n  }]);\n  return UsageStatistics;\n}();\n\ntry {\n  window.Vaadin = window.Vaadin || {};\n  window.Vaadin.usageStatsChecker = window.Vaadin.usageStatsChecker || new UsageStatistics();\n  window.Vaadin.usageStatsChecker.maybeGatherAndSend();\n} catch (e) {\n  // Intentionally ignored as this is not a problem in the app being developed\n}\n\n}());\n\n  vaadin-dev-mode:end **/\n}\n\nexport const usageStatistics = function() {\n  if (typeof runIfDevelopmentMode === 'function') {\n    return runIfDevelopmentMode(maybeGatherAndSendStats);\n  }\n};\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { setCancelSyntheticClickEvents } from '@polymer/polymer/lib/utils/settings.js';\nimport { usageStatistics } from '@vaadin/vaadin-usage-statistics/vaadin-usage-statistics.js';\nimport { idlePeriod } from './async.js';\nimport { Debouncer, enqueueDebouncer } from './debounce.js';\nimport { DirMixin } from './dir-mixin.js';\n\n// This setting affects the legacy Polymer gestures which get activated\n// once you import any iron component e.g iron-icon.\n// It has to be explicitly disabled to prevent click issues in iOS + VoiceOver\n// for buttons that are based on `[role=button]` e.g vaadin-button.\nsetCancelSyntheticClickEvents(false);\n\nif (!window.Vaadin) {\n  window.Vaadin = {};\n}\n\n/**\n * Array of Vaadin custom element classes that have been finalized.\n */\nif (!window.Vaadin.registrations) {\n  window.Vaadin.registrations = [];\n}\n\nif (!window.Vaadin.developmentModeCallback) {\n  window.Vaadin.developmentModeCallback = {};\n}\n\nwindow.Vaadin.developmentModeCallback['vaadin-usage-statistics'] = function () {\n  usageStatistics();\n};\n\nlet statsJob;\n\nconst registered = new Set();\n\n/**\n * @polymerMixin\n * @mixes DirMixin\n */\nexport const ElementMixin = (superClass) =>\n  class VaadinElementMixin extends DirMixin(superClass) {\n    /** @protected */\n    static finalize() {\n      super.finalize();\n\n      const { is } = this;\n\n      // Registers a class prototype for telemetry purposes.\n      if (is && !registered.has(is)) {\n        window.Vaadin.registrations.push(this);\n        registered.add(is);\n\n        if (window.Vaadin.developmentModeCallback) {\n          statsJob = Debouncer.debounce(statsJob, idlePeriod, () => {\n            window.Vaadin.developmentModeCallback['vaadin-usage-statistics']();\n          });\n          enqueueDebouncer(statsJob);\n        }\n      }\n    }\n\n    constructor() {\n      super();\n\n      if (document.doctype === null) {\n        console.warn(\n          'Vaadin components require the \"standards mode\" declaration. Please add <!DOCTYPE html> to the HTML document.',\n        );\n      }\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n// We consider the keyboard to be active if the window has received a keydown\n// event since the last mousedown event.\nlet keyboardActive = false;\n\n// Listen for top-level keydown and mousedown events.\n// Use capture phase so we detect events even if they're handled.\nwindow.addEventListener(\n  'keydown',\n  () => {\n    keyboardActive = true;\n  },\n  { capture: true },\n);\n\nwindow.addEventListener(\n  'mousedown',\n  () => {\n    keyboardActive = false;\n  },\n  { capture: true },\n);\n\n/**\n * Returns the actually focused element by traversing shadow\n * trees recursively to ensure it's the leaf element.\n *\n * @return {Element}\n */\nexport function getDeepActiveElement() {\n  let host = document.activeElement || document.body;\n  while (host.shadowRoot && host.shadowRoot.activeElement) {\n    host = host.shadowRoot.activeElement;\n  }\n  return host;\n}\n\n/**\n * Returns true if the window has received a keydown\n * event since the last mousedown event.\n *\n * @return {boolean}\n */\nexport function isKeyboardActive() {\n  return keyboardActive;\n}\n\n/**\n * Returns true if the element is hidden directly with `display: none` or `visibility: hidden`,\n * false otherwise.\n *\n * The method doesn't traverse the element's ancestors, it only checks for the CSS properties\n * set directly to or inherited by the element.\n *\n * @param {HTMLElement} element\n * @return {boolean}\n */\nfunction isElementHiddenDirectly(element) {\n  // Check inline style first to save a re-flow.\n  const style = element.style;\n  if (style.visibility === 'hidden' || style.display === 'none') {\n    return true;\n  }\n\n  const computedStyle = window.getComputedStyle(element);\n  if (computedStyle.visibility === 'hidden' || computedStyle.display === 'none') {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * Returns if element `a` has lower tab order compared to element `b`\n * (both elements are assumed to be focusable and tabbable).\n * Elements with tabindex = 0 have lower tab order compared to elements\n * with tabindex > 0.\n * If both have same tabindex, it returns false.\n *\n * @param {HTMLElement} a\n * @param {HTMLElement} b\n * @return {boolean}\n */\nfunction hasLowerTabOrder(a, b) {\n  // Normalize tabIndexes\n  // e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`\n  const ati = Math.max(a.tabIndex, 0);\n  const bti = Math.max(b.tabIndex, 0);\n  return ati === 0 || bti === 0 ? bti > ati : ati > bti;\n}\n\n/**\n * Merge sort iterator, merges the two arrays into one, sorted by tabindex.\n *\n * @param {HTMLElement[]} left\n * @param {HTMLElement[]} right\n * @return {HTMLElement[]}\n */\nfunction mergeSortByTabIndex(left, right) {\n  const result = [];\n  while (left.length > 0 && right.length > 0) {\n    if (hasLowerTabOrder(left[0], right[0])) {\n      result.push(right.shift());\n    } else {\n      result.push(left.shift());\n    }\n  }\n\n  return result.concat(left, right);\n}\n\n/**\n * Sorts an array of elements by tabindex. Returns a new array.\n *\n * @param {HTMLElement[]} elements\n * @return {HTMLElement[]}\n */\nfunction sortElementsByTabIndex(elements) {\n  // Implement a merge sort as Array.prototype.sort does a non-stable sort\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\n  const len = elements.length;\n  if (len < 2) {\n    return elements;\n  }\n  const pivot = Math.ceil(len / 2);\n  const left = sortElementsByTabIndex(elements.slice(0, pivot));\n  const right = sortElementsByTabIndex(elements.slice(pivot));\n\n  return mergeSortByTabIndex(left, right);\n}\n\n/**\n * Returns true if the element is hidden, false otherwise.\n *\n * An element is treated as hidden when any of the following conditions are met:\n * - the element itself or one of its ancestors has `display: none`.\n * - the element has or inherits `visibility: hidden`.\n *\n * @param {HTMLElement} element\n * @return {boolean}\n */\nexport function isElementHidden(element) {\n  // `offsetParent` is `null` when the element itself\n  // or one of its ancestors is hidden with `display: none`.\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent\n  // However `offsetParent` is also null when the element is using fixed\n  // positioning, so additionally check if the element takes up layout space.\n  if (element.offsetParent === null && element.clientWidth === 0 && element.clientHeight === 0) {\n    return true;\n  }\n\n  return isElementHiddenDirectly(element);\n}\n\n/**\n * Returns true if the element is focusable, otherwise false.\n *\n * The list of focusable elements is taken from http://stackoverflow.com/a/1600194/4228703.\n * However, there isn't a definite list, it's up to the browser.\n * The only standard we have is DOM Level 2 HTML https://www.w3.org/TR/DOM-Level-2-HTML/html.html,\n * according to which the only elements that have a `focus()` method are:\n * - HTMLInputElement\n * - HTMLSelectElement\n * - HTMLTextAreaElement\n * - HTMLAnchorElement\n *\n * This notably omits HTMLButtonElement and HTMLAreaElement.\n * Referring to these tests with tabbables in different browsers\n * http://allyjs.io/data-tables/focusable.html\n *\n * @param {HTMLElement} element\n * @return {boolean}\n */\nexport function isElementFocusable(element) {\n  // The element cannot be focused if its `tabindex` attribute is set to `-1`.\n  if (element.matches('[tabindex=\"-1\"]')) {\n    return false;\n  }\n\n  // Elements that cannot be focused if they have a `disabled` attribute.\n  if (element.matches('input, select, textarea, button, object')) {\n    return element.matches(':not([disabled])');\n  }\n\n  // Elements that can be focused even if they have a `disabled` attribute.\n  return element.matches('a[href], area[href], iframe, [tabindex], [contentEditable]');\n}\n\n/**\n * Returns true if the element is focused, false otherwise.\n *\n * @param {HTMLElement} element\n * @return {boolean}\n */\nexport function isElementFocused(element) {\n  return element.getRootNode().activeElement === element;\n}\n\n/**\n * Returns the normalized element tabindex. If not focusable, returns -1.\n * It checks for the attribute \"tabindex\" instead of the element property\n * `tabIndex` since browsers assign different values to it.\n * e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`\n *\n * @param {HTMLElement} element\n * @return {number}\n */\nfunction normalizeTabIndex(element) {\n  if (!isElementFocusable(element)) {\n    return -1;\n  }\n\n  const tabIndex = element.getAttribute('tabindex') || 0;\n  return Number(tabIndex);\n}\n\n/**\n * Searches for nodes that are tabbable and adds them to the `result` array.\n * Returns if the `result` array needs to be sorted by tabindex.\n *\n * @param {Node} node The starting point for the search; added to `result` if tabbable.\n * @param {HTMLElement[]} result\n * @return {boolean}\n * @private\n */\nfunction collectFocusableNodes(node, result) {\n  if (node.nodeType !== Node.ELEMENT_NODE || isElementHiddenDirectly(node)) {\n    // Don't traverse children if the node is not an HTML element or not visible.\n    return false;\n  }\n\n  const element = /** @type {HTMLElement} */ (node);\n  const tabIndex = normalizeTabIndex(element);\n  let needsSort = tabIndex > 0;\n  if (tabIndex >= 0) {\n    result.push(element);\n  }\n\n  let children = [];\n  if (element.localName === 'slot') {\n    children = element.assignedNodes({ flatten: true });\n  } else {\n    // Use shadow root if possible, will check for distributed nodes.\n    children = (element.shadowRoot || element).children;\n  }\n  [...children].forEach((child) => {\n    // Ensure method is always invoked to collect focusable children.\n    needsSort = collectFocusableNodes(child, result) || needsSort;\n  });\n  return needsSort;\n}\n\n/**\n * Returns a tab-ordered array of focusable elements for a root element.\n * The resulting array will include the root element if it is focusable.\n *\n * The method traverses nodes in shadow DOM trees too if any.\n *\n * @param {HTMLElement} element\n * @return {HTMLElement[]}\n */\nexport function getFocusableElements(element) {\n  const focusableElements = [];\n  const needsSortByTabIndex = collectFocusableNodes(element, focusableElements);\n  // If there is at least one element with tabindex > 0,\n  // we need to sort the final array by tabindex.\n  if (needsSortByTabIndex) {\n    return sortElementsByTabIndex(focusableElements);\n  }\n  return focusableElements;\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\n/**\n * A mixin to provide disabled property for field components.\n *\n * @polymerMixin\n */\nexport const DisabledMixin = dedupingMixin(\n  (superclass) =>\n    class DisabledMixinClass extends superclass {\n      static get properties() {\n        return {\n          /**\n           * If true, the user cannot interact with this element.\n           */\n          disabled: {\n            type: Boolean,\n            value: false,\n            observer: '_disabledChanged',\n            reflectToAttribute: true,\n            sync: true,\n          },\n        };\n      }\n\n      /**\n       * @param {boolean} disabled\n       * @protected\n       */\n      _disabledChanged(disabled) {\n        this._setAriaDisabled(disabled);\n      }\n\n      /**\n       * @param {boolean} disabled\n       * @protected\n       */\n      _setAriaDisabled(disabled) {\n        if (disabled) {\n          this.setAttribute('aria-disabled', 'true');\n        } else {\n          this.removeAttribute('aria-disabled');\n        }\n      }\n\n      /**\n       * Overrides the default element `click` method in order to prevent\n       * firing the `click` event when the element is disabled.\n       * @protected\n       * @override\n       */\n      click() {\n        if (!this.disabled) {\n          super.click();\n        }\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { DisabledMixin } from './disabled-mixin.js';\n\n/**\n * A mixin to toggle the `tabindex` attribute.\n *\n * The attribute is set to -1 whenever the user disables the element\n * and restored with the last known value once the element is enabled.\n *\n * @polymerMixin\n * @mixes DisabledMixin\n */\nexport const TabindexMixin = (superclass) =>\n  class TabindexMixinClass extends DisabledMixin(superclass) {\n    static get properties() {\n      return {\n        /**\n         * Indicates whether the element can be focused and where it participates in sequential keyboard navigation.\n         *\n         * @protected\n         */\n        tabindex: {\n          type: Number,\n          reflectToAttribute: true,\n          observer: '_tabindexChanged',\n        },\n\n        /**\n         * Stores the last known tabindex since the element has been disabled.\n         *\n         * @protected\n         */\n        _lastTabIndex: {\n          type: Number,\n        },\n      };\n    }\n\n    /**\n     * When the element gets disabled, the observer saves the last known tabindex\n     * and makes the element not focusable by setting tabindex to -1.\n     * As soon as the element gets enabled, the observer restores the last known tabindex\n     * so that the element can be focusable again.\n     *\n     * @protected\n     * @override\n     */\n    _disabledChanged(disabled, oldDisabled) {\n      super._disabledChanged(disabled, oldDisabled);\n\n      if (disabled) {\n        if (this.tabindex !== undefined) {\n          this._lastTabIndex = this.tabindex;\n        }\n        this.tabindex = -1;\n      } else if (oldDisabled) {\n        this.tabindex = this._lastTabIndex;\n      }\n    }\n\n    /**\n     * When the user has changed tabindex while the element is disabled,\n     * the observer reverts tabindex to -1 and rather saves the new tabindex value to apply it later.\n     * The new value will be applied as soon as the element becomes enabled.\n     *\n     * @protected\n     */\n    _tabindexChanged(tabindex) {\n      if (this.disabled && tabindex !== -1) {\n        this._lastTabIndex = tabindex;\n        this.tabindex = -1;\n      }\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nconst testUserAgent = (regexp) => regexp.test(navigator.userAgent);\n\nconst testPlatform = (regexp) => regexp.test(navigator.platform);\n\nconst testVendor = (regexp) => regexp.test(navigator.vendor);\n\nexport const isAndroid = testUserAgent(/Android/u);\n\nexport const isChrome = testUserAgent(/Chrome/u) && testVendor(/Google Inc/u);\n\nexport const isFirefox = testUserAgent(/Firefox/u);\n\n// IPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\nexport const isIPad = testPlatform(/^iPad/u) || (testPlatform(/^Mac/u) && navigator.maxTouchPoints > 1);\n\nexport const isIPhone = testPlatform(/^iPhone/u);\n\nexport const isIOS = isIPhone || isIPad;\n\nexport const isSafari = testUserAgent(/^((?!chrome|android).)*safari/iu);\n\nexport const isTouch = (() => {\n  try {\n    document.createEvent('TouchEvent');\n    return true;\n  } catch (_) {\n    return false;\n  }\n})();\n\nexport const supportsAdoptingStyleSheets =\n  window.ShadowRoot && 'adoptedStyleSheets' in Document.prototype && 'replace' in CSSStyleSheet.prototype;\n","/**\n * @license\n * Copyright (c) 2023 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * A helper for observing slot changes.\n */\nexport class SlotObserver {\n  constructor(slot, callback) {\n    /** @type HTMLSlotElement */\n    this.slot = slot;\n\n    /** @type Function */\n    this.callback = callback;\n\n    /** @type {Node[]} */\n    this._storedNodes = [];\n\n    this._connected = false;\n    this._scheduled = false;\n\n    this._boundSchedule = () => {\n      this._schedule();\n    };\n\n    this.connect();\n    this._schedule();\n  }\n\n  /**\n   * Activates an observer. This method is automatically called when\n   * a `SlotObserver` is created. It should only be called to  re-activate\n   * an observer that has been deactivated via the `disconnect` method.\n   */\n  connect() {\n    this.slot.addEventListener('slotchange', this._boundSchedule);\n    this._connected = true;\n  }\n\n  /**\n   * Deactivates the observer. After calling this method the observer callback\n   * will not be called when changes to slotted nodes occur. The `connect` method\n   * may be subsequently called to reactivate the observer.\n   */\n  disconnect() {\n    this.slot.removeEventListener('slotchange', this._boundSchedule);\n    this._connected = false;\n  }\n\n  /** @private */\n  _schedule() {\n    if (!this._scheduled) {\n      this._scheduled = true;\n\n      queueMicrotask(() => {\n        this.flush();\n      });\n    }\n  }\n\n  /**\n   * Run the observer callback synchronously.\n   */\n  flush() {\n    if (!this._connected) {\n      return;\n    }\n\n    this._scheduled = false;\n\n    this._processNodes();\n  }\n\n  /** @private */\n  _processNodes() {\n    const currentNodes = this.slot.assignedNodes({ flatten: true });\n\n    let addedNodes = [];\n    const removedNodes = [];\n    const movedNodes = [];\n\n    if (currentNodes.length) {\n      addedNodes = currentNodes.filter((node) => !this._storedNodes.includes(node));\n    }\n\n    if (this._storedNodes.length) {\n      this._storedNodes.forEach((node, index) => {\n        const idx = currentNodes.indexOf(node);\n        if (idx === -1) {\n          removedNodes.push(node);\n        } else if (idx !== index) {\n          movedNodes.push(node);\n        }\n      });\n    }\n\n    if (addedNodes.length || removedNodes.length || movedNodes.length) {\n      this.callback({ addedNodes, currentNodes, movedNodes, removedNodes });\n    }\n\n    this._storedNodes = currentNodes;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nlet uniqueId = 0;\n\n/**\n * Resets the unique id counter.\n *\n * @return {void}\n */\nexport function resetUniqueId() {\n  uniqueId = 0;\n}\n\n/**\n * Returns a unique integer id.\n *\n * @return {number}\n */\nexport function generateUniqueId() {\n  // eslint-disable-next-line no-plusplus\n  return uniqueId++;\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { isEmptyTextNode } from './dom-utils.js';\nimport { SlotObserver } from './slot-observer.js';\nimport { generateUniqueId } from './unique-id-utils.js';\n\n/**\n * A controller for providing content to slot element and observing changes.\n */\nexport class SlotController extends EventTarget {\n  /**\n   * Ensure that every instance has unique ID.\n   *\n   * @param {HTMLElement} host\n   * @param {string} slotName\n   * @return {string}\n   * @protected\n   */\n  static generateId(host, prefix = 'default') {\n    return `${prefix}-${host.localName}-${generateUniqueId()}`;\n  }\n\n  constructor(host, slotName, tagName, config = {}) {\n    super();\n\n    const { initializer, multiple, observe, useUniqueId, uniqueIdPrefix } = config;\n\n    this.host = host;\n    this.slotName = slotName;\n    this.tagName = tagName;\n    this.observe = typeof observe === 'boolean' ? observe : true;\n    this.multiple = typeof multiple === 'boolean' ? multiple : false;\n    this.slotInitializer = initializer;\n\n    if (multiple) {\n      this.nodes = [];\n    }\n\n    // Only generate the default ID if requested by the controller.\n    if (useUniqueId) {\n      this.defaultId = this.constructor.generateId(host, uniqueIdPrefix || slotName);\n    }\n  }\n\n  hostConnected() {\n    if (!this.initialized) {\n      if (this.multiple) {\n        this.initMultiple();\n      } else {\n        this.initSingle();\n      }\n\n      if (this.observe) {\n        this.observeSlot();\n      }\n\n      this.initialized = true;\n    }\n  }\n\n  /** @protected */\n  initSingle() {\n    let node = this.getSlotChild();\n\n    if (!node) {\n      node = this.attachDefaultNode();\n      this.initNode(node);\n    } else {\n      this.node = node;\n      this.initAddedNode(node);\n    }\n  }\n\n  /** @protected */\n  initMultiple() {\n    const children = this.getSlotChildren();\n\n    if (children.length === 0) {\n      const defaultNode = this.attachDefaultNode();\n      if (defaultNode) {\n        this.nodes = [defaultNode];\n        this.initNode(defaultNode);\n      }\n    } else {\n      this.nodes = children;\n      children.forEach((node) => {\n        this.initAddedNode(node);\n      });\n    }\n  }\n\n  /**\n   * Create and attach default node using the provided tag name, if any.\n   * @return {Node | undefined}\n   * @protected\n   */\n  attachDefaultNode() {\n    const { host, slotName, tagName } = this;\n\n    // Check if the node was created previously and if so, reuse it.\n    let node = this.defaultNode;\n\n    // Tag name is optional, sometimes we don't init default content.\n    if (!node && tagName) {\n      node = document.createElement(tagName);\n      if (node instanceof Element) {\n        if (slotName !== '') {\n          node.setAttribute('slot', slotName);\n        }\n        this.defaultNode = node;\n      }\n    }\n\n    if (node) {\n      this.node = node;\n      host.appendChild(node);\n    }\n\n    return node;\n  }\n\n  /**\n   * Return the list of nodes matching the slot managed by the controller.\n   * @return {Node}\n   */\n  getSlotChildren() {\n    const { slotName } = this;\n    return Array.from(this.host.childNodes).filter((node) => {\n      // Either an element (any slot) or a text node (only un-named slot).\n      return (\n        (node.nodeType === Node.ELEMENT_NODE && node.slot === slotName) ||\n        (node.nodeType === Node.TEXT_NODE && node.textContent.trim() && slotName === '')\n      );\n    });\n  }\n\n  /**\n   * Return a reference to the node managed by the controller.\n   * @return {Node}\n   */\n  getSlotChild() {\n    return this.getSlotChildren()[0];\n  }\n\n  /**\n   * Run `slotInitializer` for the node managed by the controller.\n   *\n   * @param {Node} node\n   * @protected\n   */\n  initNode(node) {\n    const { slotInitializer } = this;\n    // Don't try to bind `this` to initializer (normally it's arrow function).\n    // Instead, pass the host as a first argument to access component's state.\n    if (slotInitializer) {\n      slotInitializer(node, this.host);\n    }\n  }\n\n  /**\n   * Override to initialize the newly added custom node.\n   *\n   * @param {Node} _node\n   * @protected\n   */\n  initCustomNode(_node) {}\n\n  /**\n   * Override to teardown slotted node when it's removed.\n   *\n   * @param {Node} _node\n   * @protected\n   */\n  teardownNode(_node) {}\n\n  /**\n   * Run both `initCustomNode` and `initNode` for a custom slotted node.\n   *\n   * @param {Node} node\n   * @protected\n   */\n  initAddedNode(node) {\n    if (node !== this.defaultNode) {\n      this.initCustomNode(node);\n      this.initNode(node);\n    }\n  }\n\n  /**\n   * Setup the observer to manage slot content changes.\n   * @protected\n   */\n  observeSlot() {\n    const { slotName } = this;\n    const selector = slotName === '' ? 'slot:not([name])' : `slot[name=${slotName}]`;\n    const slot = this.host.shadowRoot.querySelector(selector);\n\n    this.__slotObserver = new SlotObserver(slot, ({ addedNodes, removedNodes }) => {\n      const current = this.multiple ? this.nodes : [this.node];\n\n      // Calling `slot.assignedNodes()` includes whitespace text nodes in case of default slot:\n      // unlike comment nodes, they are not filtered out. So we need to manually ignore them.\n      const newNodes = addedNodes.filter((node) => !isEmptyTextNode(node) && !current.includes(node));\n\n      if (removedNodes.length) {\n        this.nodes = current.filter((node) => !removedNodes.includes(node));\n\n        removedNodes.forEach((node) => {\n          this.teardownNode(node);\n        });\n      }\n\n      if (newNodes && newNodes.length > 0) {\n        if (this.multiple) {\n          // Remove default node if exists\n          if (this.defaultNode) {\n            this.defaultNode.remove();\n          }\n          this.nodes = [...current, ...newNodes].filter((node) => node !== this.defaultNode);\n          newNodes.forEach((node) => {\n            this.initAddedNode(node);\n          });\n        } else {\n          // Remove previous node if exists\n          if (this.node) {\n            this.node.remove();\n          }\n          this.node = newNodes[0];\n          this.initAddedNode(this.node);\n        }\n      }\n    });\n  }\n}\n","/**\n * @license\n * Copyright (c) 2022 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { SlotController } from './slot-controller.js';\n\n/**\n * A controller that manages the slotted tooltip element.\n */\nexport class TooltipController extends SlotController {\n  constructor(host) {\n    // Do not provide slot factory to create tooltip lazily.\n    super(host, 'tooltip');\n\n    this.setTarget(host);\n  }\n\n  /**\n   * Override to initialize the newly added custom tooltip.\n   *\n   * @param {Node} tooltipNode\n   * @protected\n   * @override\n   */\n  initCustomNode(tooltipNode) {\n    tooltipNode.target = this.target;\n\n    if (this.ariaTarget !== undefined) {\n      tooltipNode.ariaTarget = this.ariaTarget;\n    }\n\n    if (this.context !== undefined) {\n      tooltipNode.context = this.context;\n    }\n\n    if (this.manual !== undefined) {\n      tooltipNode.manual = this.manual;\n    }\n\n    if (this.opened !== undefined) {\n      tooltipNode.opened = this.opened;\n    }\n\n    if (this.position !== undefined) {\n      tooltipNode._position = this.position;\n    }\n\n    if (this.shouldShow !== undefined) {\n      tooltipNode.shouldShow = this.shouldShow;\n    }\n\n    this.__notifyChange();\n  }\n\n  /**\n   * Override to notify the host when the tooltip is removed.\n   *\n   * @param {Node} tooltipNode\n   * @protected\n   * @override\n   */\n  teardownNode() {\n    this.__notifyChange();\n  }\n\n  /**\n   * Set an HTML element for linking with the tooltip overlay\n   * via `aria-describedby` attribute used by screen readers.\n   * @param {HTMLElement} ariaTarget\n   */\n  setAriaTarget(ariaTarget) {\n    this.ariaTarget = ariaTarget;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.ariaTarget = ariaTarget;\n    }\n  }\n\n  /**\n   * Set a context object to be used by generator.\n   * @param {object} context\n   */\n  setContext(context) {\n    this.context = context;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.context = context;\n    }\n  }\n\n  /**\n   * Toggle manual state on the slotted tooltip.\n   * @param {boolean} manual\n   */\n  setManual(manual) {\n    this.manual = manual;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.manual = manual;\n    }\n  }\n\n  /**\n   * Toggle opened state on the slotted tooltip.\n   * @param {boolean} opened\n   */\n  setOpened(opened) {\n    this.opened = opened;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.opened = opened;\n    }\n  }\n\n  /**\n   * Set default position for the slotted tooltip.\n   * This can be overridden by setting the position\n   * using corresponding property or attribute.\n   * @param {string} position\n   */\n  setPosition(position) {\n    this.position = position;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode._position = position;\n    }\n  }\n\n  /**\n   * Set function used to detect whether to show\n   * the tooltip based on a condition.\n   * @param {Function} shouldShow\n   */\n  setShouldShow(shouldShow) {\n    this.shouldShow = shouldShow;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.shouldShow = shouldShow;\n    }\n  }\n\n  /**\n   * Set an HTML element to attach the tooltip to.\n   * @param {HTMLElement} target\n   */\n  setTarget(target) {\n    this.target = target;\n\n    const tooltipNode = this.node;\n    if (tooltipNode) {\n      tooltipNode.target = target;\n    }\n  }\n\n  /** @private */\n  __notifyChange() {\n    this.dispatchEvent(new CustomEvent('tooltip-changed', { detail: { node: this.node } }));\n  }\n}\n","/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\nimport { animationFrame, idlePeriod, microTask } from './async.js';\nimport { Debouncer, enqueueDebouncer, flush } from './debounce.js';\n\nconst IOS = navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\\d+)/u);\nconst IOS_TOUCH_SCROLLING = IOS && IOS[1] >= 8;\nconst DEFAULT_PHYSICAL_COUNT = 3;\n\n/**\n * DO NOT EDIT THIS FILE!\n *\n * This file includes the iron-list scrolling engine copied from\n * https://github.com/PolymerElements/iron-list/blob/master/iron-list.js\n *\n * If something in the scrolling engine needs to be changed\n * for the virtualizer's purposes, override a function\n * in virtualizer-iron-list-adapter.js instead of changing it here.\n * If a function on this file is no longer needed, the code can be safely deleted.\n *\n * This will allow us to keep the iron-list code here as close to\n * the original as possible.\n */\nexport const ironList = {\n  /**\n   * The ratio of hidden tiles that should remain in the scroll direction.\n   * Recommended value ~0.5, so it will distribute tiles evenly in both\n   * directions.\n   */\n  _ratio: 0.5,\n\n  /**\n   * The padding-top value for the list.\n   */\n  _scrollerPaddingTop: 0,\n\n  /**\n   * This value is a cached value of `scrollTop` from the last `scroll` event.\n   */\n  _scrollPosition: 0,\n\n  /**\n   * The sum of the heights of all the tiles in the DOM.\n   */\n  _physicalSize: 0,\n\n  /**\n   * The average `offsetHeight` of the tiles observed till now.\n   */\n  _physicalAverage: 0,\n\n  /**\n   * The number of tiles which `offsetHeight` > 0 observed until now.\n   */\n  _physicalAverageCount: 0,\n\n  /**\n   * The Y position of the item rendered in the `_physicalStart`\n   * tile relative to the scrolling list.\n   */\n  _physicalTop: 0,\n\n  /**\n   * The number of items in the list.\n   */\n  _virtualCount: 0,\n\n  /**\n   * The estimated scroll height based on `_physicalAverage`\n   */\n  _estScrollHeight: 0,\n\n  /**\n   * The scroll height of the dom node\n   */\n  _scrollHeight: 0,\n\n  /**\n   * The height of the list. This is referred as the viewport in the context of\n   * list.\n   */\n  _viewportHeight: 0,\n\n  /**\n   * The width of the list. This is referred as the viewport in the context of\n   * list.\n   */\n  _viewportWidth: 0,\n\n  /**\n   * An array of DOM nodes that are currently in the tree\n   * @type {?Array<!HTMLElement>}\n   */\n  _physicalItems: null,\n\n  /**\n   * An array of heights for each item in `_physicalItems`\n   * @type {?Array<number>}\n   */\n  _physicalSizes: null,\n\n  /**\n   * A cached value for the first visible index.\n   * See `firstVisibleIndex`\n   * @type {?number}\n   */\n  _firstVisibleIndexVal: null,\n\n  /**\n   * A cached value for the last visible index.\n   * See `lastVisibleIndex`\n   * @type {?number}\n   */\n  _lastVisibleIndexVal: null,\n\n  /**\n   * The max number of pages to render. One page is equivalent to the height of\n   * the list.\n   */\n  _maxPages: 2,\n\n  /**\n   * The cost of stamping a template in ms.\n   */\n  _templateCost: 0,\n\n  /**\n   * The bottom of the physical content.\n   */\n  get _physicalBottom() {\n    return this._physicalTop + this._physicalSize;\n  },\n\n  /**\n   * The bottom of the scroll.\n   */\n  get _scrollBottom() {\n    return this._scrollPosition + this._viewportHeight;\n  },\n\n  /**\n   * The n-th item rendered in the last physical item.\n   */\n  get _virtualEnd() {\n    return this._virtualStart + this._physicalCount - 1;\n  },\n\n  /**\n   * The height of the physical content that isn't on the screen.\n   */\n  get _hiddenContentSize() {\n    return this._physicalSize - this._viewportHeight;\n  },\n\n  /**\n   * The maximum scroll top value.\n   */\n  get _maxScrollTop() {\n    return this._estScrollHeight - this._viewportHeight + this._scrollOffset;\n  },\n\n  /**\n   * The largest n-th value for an item such that it can be rendered in\n   * `_physicalStart`.\n   */\n  get _maxVirtualStart() {\n    const virtualCount = this._virtualCount;\n    return Math.max(0, virtualCount - this._physicalCount);\n  },\n\n  get _virtualStart() {\n    return this._virtualStartVal || 0;\n  },\n\n  set _virtualStart(val) {\n    val = this._clamp(val, 0, this._maxVirtualStart);\n    this._virtualStartVal = val;\n  },\n\n  get _physicalStart() {\n    return this._physicalStartVal || 0;\n  },\n\n  /**\n   * The k-th tile that is at the top of the scrolling list.\n   */\n  set _physicalStart(val) {\n    val %= this._physicalCount;\n    if (val < 0) {\n      val = this._physicalCount + val;\n    }\n    this._physicalStartVal = val;\n  },\n\n  /**\n   * The k-th tile that is at the bottom of the scrolling list.\n   */\n  get _physicalEnd() {\n    return (this._physicalStart + this._physicalCount - 1) % this._physicalCount;\n  },\n\n  get _physicalCount() {\n    return this._physicalCountVal || 0;\n  },\n\n  set _physicalCount(val) {\n    this._physicalCountVal = val;\n  },\n\n  /**\n   * An optimal physical size such that we will have enough physical items\n   * to fill up the viewport and recycle when the user scrolls.\n   *\n   * This default value assumes that we will at least have the equivalent\n   * to a viewport of physical items above and below the user's viewport.\n   */\n  get _optPhysicalSize() {\n    return this._viewportHeight === 0 ? Infinity : this._viewportHeight * this._maxPages;\n  },\n\n  /**\n   * True if the current list is visible.\n   */\n  get _isVisible() {\n    return Boolean(this.offsetWidth || this.offsetHeight);\n  },\n\n  /**\n   * Gets the index of the first visible item in the viewport.\n   *\n   * @type {number}\n   */\n  get firstVisibleIndex() {\n    let idx = this._firstVisibleIndexVal;\n    if (idx == null) {\n      let physicalOffset = this._physicalTop + this._scrollOffset;\n\n      idx =\n        this._iterateItems((pidx, vidx) => {\n          physicalOffset += this._getPhysicalSizeIncrement(pidx);\n\n          if (physicalOffset > this._scrollPosition) {\n            return vidx;\n          }\n        }) || 0;\n      this._firstVisibleIndexVal = idx;\n    }\n    return idx;\n  },\n\n  /**\n   * Gets the index of the last visible item in the viewport.\n   *\n   * @type {number}\n   */\n  get lastVisibleIndex() {\n    let idx = this._lastVisibleIndexVal;\n    if (idx == null) {\n      let physicalOffset = this._physicalTop + this._scrollOffset;\n      this._iterateItems((pidx, vidx) => {\n        if (physicalOffset < this._scrollBottom) {\n          idx = vidx;\n        }\n        physicalOffset += this._getPhysicalSizeIncrement(pidx);\n      });\n\n      this._lastVisibleIndexVal = idx;\n    }\n    return idx;\n  },\n\n  get _scrollOffset() {\n    return this._scrollerPaddingTop + this.scrollOffset;\n  },\n\n  /**\n   * Recycles the physical items when needed.\n   */\n  _scrollHandler() {\n    const scrollTop = Math.max(0, Math.min(this._maxScrollTop, this._scrollTop));\n    let delta = scrollTop - this._scrollPosition;\n    const isScrollingDown = delta >= 0;\n    // Track the current scroll position.\n    this._scrollPosition = scrollTop;\n    // Clear indexes for first and last visible indexes.\n    this._firstVisibleIndexVal = null;\n    this._lastVisibleIndexVal = null;\n    // Random access.\n    if (Math.abs(delta) > this._physicalSize && this._physicalSize > 0) {\n      delta -= this._scrollOffset;\n      const idxAdjustment = Math.round(delta / this._physicalAverage);\n      this._virtualStart += idxAdjustment;\n      this._physicalStart += idxAdjustment;\n      // Estimate new physical offset based on the virtual start index.\n      // adjusts the physical start position to stay in sync with the clamped\n      // virtual start index. It's critical not to let this value be\n      // more than the scroll position however, since that would result in\n      // the physical items not covering the viewport, and leading to\n      // _increasePoolIfNeeded to run away creating items to try to fill it.\n      this._physicalTop = Math.min(Math.floor(this._virtualStart) * this._physicalAverage, this._scrollPosition);\n      this._update();\n    } else if (this._physicalCount > 0) {\n      const reusables = this._getReusables(isScrollingDown);\n      if (isScrollingDown) {\n        this._physicalTop = reusables.physicalTop;\n        this._virtualStart += reusables.indexes.length;\n        this._physicalStart += reusables.indexes.length;\n      } else {\n        this._virtualStart -= reusables.indexes.length;\n        this._physicalStart -= reusables.indexes.length;\n      }\n      this._update(reusables.indexes, isScrollingDown ? null : reusables.indexes);\n      this._debounce('_increasePoolIfNeeded', this._increasePoolIfNeeded.bind(this, 0), microTask);\n    }\n  },\n\n  /**\n   * Returns an object that contains the indexes of the physical items\n   * that might be reused and the physicalTop.\n   *\n   * @param {boolean} fromTop If the potential reusable items are above the scrolling region.\n   */\n  _getReusables(fromTop) {\n    let ith, offsetContent, physicalItemHeight;\n    const idxs = [];\n    const protectedOffsetContent = this._hiddenContentSize * this._ratio;\n    const virtualStart = this._virtualStart;\n    const virtualEnd = this._virtualEnd;\n    const physicalCount = this._physicalCount;\n    let top = this._physicalTop + this._scrollOffset;\n    const bottom = this._physicalBottom + this._scrollOffset;\n    // This may be called outside of a scrollHandler, so use last cached position\n    const scrollTop = this._scrollPosition;\n    const scrollBottom = this._scrollBottom;\n\n    if (fromTop) {\n      ith = this._physicalStart;\n      offsetContent = scrollTop - top;\n    } else {\n      ith = this._physicalEnd;\n      offsetContent = bottom - scrollBottom;\n    }\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      physicalItemHeight = this._getPhysicalSizeIncrement(ith);\n      offsetContent -= physicalItemHeight;\n      if (idxs.length >= physicalCount || offsetContent <= protectedOffsetContent) {\n        break;\n      }\n      if (fromTop) {\n        // Check that index is within the valid range.\n        if (virtualEnd + idxs.length + 1 >= this._virtualCount) {\n          break;\n        }\n        // Check that the index is not visible.\n        if (top + physicalItemHeight >= scrollTop - this._scrollOffset) {\n          break;\n        }\n        idxs.push(ith);\n        top += physicalItemHeight;\n        ith = (ith + 1) % physicalCount;\n      } else {\n        // Check that index is within the valid range.\n        if (virtualStart - idxs.length <= 0) {\n          break;\n        }\n        // Check that the index is not visible.\n        if (top + this._physicalSize - physicalItemHeight <= scrollBottom) {\n          break;\n        }\n        idxs.push(ith);\n        top -= physicalItemHeight;\n        ith = ith === 0 ? physicalCount - 1 : ith - 1;\n      }\n    }\n    return { indexes: idxs, physicalTop: top - this._scrollOffset };\n  },\n\n  /**\n   * Update the list of items, starting from the `_virtualStart` item.\n   * @param {!Array<number>=} itemSet\n   * @param {!Array<number>=} movingUp\n   */\n  _update(itemSet, movingUp) {\n    if ((itemSet && itemSet.length === 0) || this._physicalCount === 0) {\n      return;\n    }\n    this._assignModels(itemSet);\n    this._updateMetrics(itemSet);\n    // Adjust offset after measuring.\n    if (movingUp) {\n      while (movingUp.length) {\n        const idx = movingUp.pop();\n        this._physicalTop -= this._getPhysicalSizeIncrement(idx);\n      }\n    }\n    this._positionItems();\n    this._updateScrollerSize();\n  },\n\n  _isClientFull() {\n    return (\n      this._scrollBottom !== 0 &&\n      this._physicalBottom - 1 >= this._scrollBottom &&\n      this._physicalTop <= this._scrollPosition\n    );\n  },\n\n  /**\n   * Increases the pool size.\n   */\n  _increasePoolIfNeeded(count) {\n    const nextPhysicalCount = this._clamp(\n      this._physicalCount + count,\n      DEFAULT_PHYSICAL_COUNT,\n      this._virtualCount - this._virtualStart,\n    );\n    const delta = nextPhysicalCount - this._physicalCount;\n    let nextIncrease = Math.round(this._physicalCount * 0.5);\n\n    if (delta < 0) {\n      return;\n    }\n    if (delta > 0) {\n      const ts = window.performance.now();\n      // Concat arrays in place.\n      [].push.apply(this._physicalItems, this._createPool(delta));\n      // Push 0s into physicalSizes. Can't use Array.fill because IE11 doesn't\n      // support it.\n      for (let i = 0; i < delta; i++) {\n        this._physicalSizes.push(0);\n      }\n      this._physicalCount += delta;\n      // Update the physical start if it needs to preserve the model of the\n      // focused item. In this situation, the focused item is currently rendered\n      // and its model would have changed after increasing the pool if the\n      // physical start remained unchanged.\n      if (\n        this._physicalStart > this._physicalEnd &&\n        this._isIndexRendered(this._focusedVirtualIndex) &&\n        this._getPhysicalIndex(this._focusedVirtualIndex) < this._physicalEnd\n      ) {\n        this._physicalStart += delta;\n      }\n      this._update();\n      this._templateCost = (window.performance.now() - ts) / delta;\n      nextIncrease = Math.round(this._physicalCount * 0.5);\n    }\n    if (this._virtualEnd >= this._virtualCount - 1 || nextIncrease === 0) {\n      // Do nothing.\n    } else if (!this._isClientFull()) {\n      this._debounce('_increasePoolIfNeeded', this._increasePoolIfNeeded.bind(this, nextIncrease), microTask);\n    } else if (this._physicalSize < this._optPhysicalSize) {\n      // Yield and increase the pool during idle time until the physical size is\n      // optimal.\n      this._debounce(\n        '_increasePoolIfNeeded',\n        this._increasePoolIfNeeded.bind(this, this._clamp(Math.round(50 / this._templateCost), 1, nextIncrease)),\n        idlePeriod,\n      );\n    }\n  },\n\n  /**\n   * Renders the a new list.\n   */\n  _render() {\n    if (!this.isAttached || !this._isVisible) {\n      return;\n    }\n    if (this._physicalCount !== 0) {\n      const reusables = this._getReusables(true);\n      this._physicalTop = reusables.physicalTop;\n      this._virtualStart += reusables.indexes.length;\n      this._physicalStart += reusables.indexes.length;\n      this._update(reusables.indexes);\n      this._update();\n      this._increasePoolIfNeeded(0);\n    } else if (this._virtualCount > 0) {\n      // Initial render\n      this.updateViewportBoundaries();\n      this._increasePoolIfNeeded(DEFAULT_PHYSICAL_COUNT);\n    }\n  },\n\n  /**\n   * Called when the items have changed. That is, reassignments\n   * to `items`, splices or updates to a single item.\n   */\n  _itemsChanged(change) {\n    if (change.path === 'items') {\n      this._virtualStart = 0;\n      this._physicalTop = 0;\n      this._virtualCount = this.items ? this.items.length : 0;\n      this._physicalIndexForKey = {};\n      this._firstVisibleIndexVal = null;\n      this._lastVisibleIndexVal = null;\n      if (!this._physicalItems) {\n        this._physicalItems = [];\n      }\n      if (!this._physicalSizes) {\n        this._physicalSizes = [];\n      }\n      this._physicalStart = 0;\n      if (this._scrollTop > this._scrollOffset) {\n        this._resetScrollPosition(0);\n      }\n      this._debounce('_render', this._render, animationFrame);\n    }\n  },\n\n  /**\n   * Executes a provided function per every physical index in `itemSet`\n   * `itemSet` default value is equivalent to the entire set of physical\n   * indexes.\n   *\n   * @param {!function(number, number)} fn\n   * @param {!Array<number>=} itemSet\n   */\n  _iterateItems(fn, itemSet) {\n    let pidx, vidx, rtn, i;\n\n    if (arguments.length === 2 && itemSet) {\n      for (i = 0; i < itemSet.length; i++) {\n        pidx = itemSet[i];\n        vidx = this._computeVidx(pidx);\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n    } else {\n      pidx = this._physicalStart;\n      vidx = this._virtualStart;\n      for (; pidx < this._physicalCount; pidx++, vidx++) {\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n      for (pidx = 0; pidx < this._physicalStart; pidx++, vidx++) {\n        if ((rtn = fn.call(this, pidx, vidx)) != null) {\n          return rtn;\n        }\n      }\n    }\n  },\n\n  /**\n   * Returns the virtual index for a given physical index\n   *\n   * @param {number} pidx Physical index\n   * @return {number}\n   */\n  _computeVidx(pidx) {\n    if (pidx >= this._physicalStart) {\n      return this._virtualStart + (pidx - this._physicalStart);\n    }\n    return this._virtualStart + (this._physicalCount - this._physicalStart) + pidx;\n  },\n\n  /**\n   * Updates the position of the physical items.\n   */\n  _positionItems() {\n    this._adjustScrollPosition();\n\n    let y = this._physicalTop;\n\n    this._iterateItems((pidx) => {\n      this.translate3d(0, `${y}px`, 0, this._physicalItems[pidx]);\n      y += this._physicalSizes[pidx];\n    });\n  },\n\n  _getPhysicalSizeIncrement(pidx) {\n    return this._physicalSizes[pidx];\n  },\n\n  /**\n   * Adjusts the scroll position when it was overestimated.\n   */\n  _adjustScrollPosition() {\n    const deltaHeight =\n      this._virtualStart === 0 ? this._physicalTop : Math.min(this._scrollPosition + this._physicalTop, 0);\n    // Note: the delta can be positive or negative.\n    if (deltaHeight !== 0) {\n      this._physicalTop -= deltaHeight;\n      // This may be called outside of a scrollHandler, so use last cached position\n      const scrollTop = this._scrollPosition;\n      // Juking scroll position during interial scrolling on iOS is no bueno\n      if (!IOS_TOUCH_SCROLLING && scrollTop > 0) {\n        this._resetScrollPosition(scrollTop - deltaHeight);\n      }\n    }\n  },\n\n  /**\n   * Sets the position of the scroll.\n   */\n  _resetScrollPosition(pos) {\n    if (this.scrollTarget && pos >= 0) {\n      this._scrollTop = pos;\n      this._scrollPosition = this._scrollTop;\n    }\n  },\n\n  /**\n   * Sets the scroll height, that's the height of the content,\n   *\n   * @param {boolean=} forceUpdate If true, updates the height no matter what.\n   */\n  _updateScrollerSize(forceUpdate) {\n    const estScrollHeight =\n      this._physicalBottom +\n      Math.max(this._virtualCount - this._physicalCount - this._virtualStart, 0) * this._physicalAverage;\n\n    this._estScrollHeight = estScrollHeight;\n\n    // Amortize height adjustment, so it won't trigger large repaints too often.\n    if (\n      forceUpdate ||\n      this._scrollHeight === 0 ||\n      this._scrollPosition >= estScrollHeight - this._physicalSize ||\n      Math.abs(estScrollHeight - this._scrollHeight) >= this._viewportHeight\n    ) {\n      this.$.items.style.height = `${estScrollHeight}px`;\n      this._scrollHeight = estScrollHeight;\n    }\n  },\n\n  /**\n   * Scroll to a specific index in the virtual list regardless\n   * of the physical items in the DOM tree.\n   *\n   * @method scrollToIndex\n   * @param {number} idx The index of the item\n   */\n  scrollToIndex(idx) {\n    if (typeof idx !== 'number' || idx < 0 || idx > this.items.length - 1) {\n      return;\n    }\n    flush();\n    // Items should have been rendered prior scrolling to an index.\n    if (this._physicalCount === 0) {\n      return;\n    }\n    idx = this._clamp(idx, 0, this._virtualCount - 1);\n    // Update the virtual start only when needed.\n    if (!this._isIndexRendered(idx) || idx >= this._maxVirtualStart) {\n      this._virtualStart = idx - 1;\n    }\n    this._assignModels();\n    this._updateMetrics();\n    // Estimate new physical offset.\n    this._physicalTop = this._virtualStart * this._physicalAverage;\n\n    let currentTopItem = this._physicalStart;\n    let currentVirtualItem = this._virtualStart;\n    let targetOffsetTop = 0;\n    const hiddenContentSize = this._hiddenContentSize;\n    // Scroll to the item as much as we can.\n    while (currentVirtualItem < idx && targetOffsetTop <= hiddenContentSize) {\n      targetOffsetTop += this._getPhysicalSizeIncrement(currentTopItem);\n      currentTopItem = (currentTopItem + 1) % this._physicalCount;\n      currentVirtualItem += 1;\n    }\n    this._updateScrollerSize(true);\n    this._positionItems();\n    this._resetScrollPosition(this._physicalTop + this._scrollOffset + targetOffsetTop);\n    this._increasePoolIfNeeded(0);\n    // Clear cached visible index.\n    this._firstVisibleIndexVal = null;\n    this._lastVisibleIndexVal = null;\n  },\n\n  /**\n   * Reset the physical average and the average count.\n   */\n  _resetAverage() {\n    this._physicalAverage = 0;\n    this._physicalAverageCount = 0;\n  },\n\n  /**\n   * A handler for the `iron-resize` event triggered by `IronResizableBehavior`\n   * when the element is resized.\n   */\n  _resizeHandler() {\n    this._debounce(\n      '_render',\n      () => {\n        // Clear cached visible index.\n        this._firstVisibleIndexVal = null;\n        this._lastVisibleIndexVal = null;\n        if (this._isVisible) {\n          this.updateViewportBoundaries();\n          // Reinstall the scroll event listener.\n          this.toggleScrollListener(true);\n          this._resetAverage();\n          this._render();\n        } else {\n          // Uninstall the scroll event listener.\n          this.toggleScrollListener(false);\n        }\n      },\n      animationFrame,\n    );\n  },\n\n  _isIndexRendered(idx) {\n    return idx >= this._virtualStart && idx <= this._virtualEnd;\n  },\n\n  _getPhysicalIndex(vidx) {\n    return (this._physicalStart + (vidx - this._virtualStart)) % this._physicalCount;\n  },\n\n  _clamp(v, min, max) {\n    return Math.min(max, Math.max(min, v));\n  },\n\n  _debounce(name, cb, asyncModule) {\n    if (!this._debouncers) {\n      this._debouncers = {};\n    }\n    this._debouncers[name] = Debouncer.debounce(this._debouncers[name], asyncModule, cb.bind(this));\n    enqueueDebouncer(this._debouncers[name]);\n  },\n};\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n/* eslint-disable @typescript-eslint/member-ordering */\n// https://github.com/vaadin/eslint-config-vaadin/issues/33\nimport { animationFrame, microTask, timeOut } from './async.js';\nimport { isSafari } from './browser-utils.js';\nimport { Debouncer, flush } from './debounce.js';\nimport { ironList } from './iron-list-core.js';\n\n// Iron-list can by default handle sizes up to around 100000.\n// When the size is larger than MAX_VIRTUAL_COUNT _vidxOffset is used\nconst MAX_VIRTUAL_COUNT = 100000;\nconst OFFSET_ADJUST_MIN_THRESHOLD = 1000;\n\nexport class IronListAdapter {\n  constructor({ createElements, updateElement, scrollTarget, scrollContainer, elementsContainer, reorderElements }) {\n    this.isAttached = true;\n    this._vidxOffset = 0;\n    this.createElements = createElements;\n    this.updateElement = updateElement;\n    this.scrollTarget = scrollTarget;\n    this.scrollContainer = scrollContainer;\n    this.elementsContainer = elementsContainer || scrollContainer;\n    this.reorderElements = reorderElements;\n    // Iron-list uses this value to determine how many pages of elements to render\n    this._maxPages = 1.3;\n\n    // Placeholder height (used for sizing elements that have intrinsic 0 height after update)\n    this.__placeholderHeight = 200;\n    // A queue of 10 previous element heights\n    this.__elementHeightQueue = Array(10);\n\n    this.timeouts = {\n      SCROLL_REORDER: 500,\n      IGNORE_WHEEL: 500,\n      FIX_INVALID_ITEM_POSITIONING: 100,\n    };\n\n    this.__resizeObserver = new ResizeObserver(() => this._resizeHandler());\n\n    if (getComputedStyle(this.scrollTarget).overflow === 'visible') {\n      this.scrollTarget.style.overflow = 'auto';\n    }\n\n    if (getComputedStyle(this.scrollContainer).position === 'static') {\n      this.scrollContainer.style.position = 'relative';\n    }\n\n    this.__resizeObserver.observe(this.scrollTarget);\n    this.scrollTarget.addEventListener('scroll', () => this._scrollHandler());\n\n    const attachObserver = new ResizeObserver(([{ contentRect }]) => {\n      const isHidden = contentRect.width === 0 && contentRect.height === 0;\n      if (!isHidden && this.__scrollTargetHidden && this.scrollTarget.scrollTop !== this._scrollPosition) {\n        // When removing element from DOM, its scroll position is lost and\n        // virtualizer doesn't re-render when adding it to the DOM again.\n        // Restore scroll position when the scroll target becomes visible,\n        // which is the case e.g. when virtualizer is used inside a dialog.\n        this.scrollTarget.scrollTop = this._scrollPosition;\n      }\n\n      this.__scrollTargetHidden = isHidden;\n    });\n    attachObserver.observe(this.scrollTarget);\n\n    this._scrollLineHeight = this._getScrollLineHeight();\n    this.scrollTarget.addEventListener('wheel', (e) => this.__onWheel(e));\n\n    this.scrollTarget.addEventListener('virtualizer-element-focused', (e) => this.__onElementFocused(e));\n    this.elementsContainer.addEventListener('focusin', () => {\n      this.scrollTarget.dispatchEvent(\n        new CustomEvent('virtualizer-element-focused', { detail: { element: this.__getFocusedElement() } }),\n      );\n    });\n\n    if (this.reorderElements) {\n      // Reordering the physical elements cancels the user's grab of the scroll bar handle on Safari.\n      // Need to defer reordering until the user lets go of the scroll bar handle.\n      this.scrollTarget.addEventListener('mousedown', () => {\n        this.__mouseDown = true;\n      });\n      this.scrollTarget.addEventListener('mouseup', () => {\n        this.__mouseDown = false;\n        if (this.__pendingReorder) {\n          this.__reorderElements();\n        }\n      });\n    }\n  }\n\n  get scrollOffset() {\n    return 0;\n  }\n\n  get adjustedFirstVisibleIndex() {\n    return this.firstVisibleIndex + this._vidxOffset;\n  }\n\n  get adjustedLastVisibleIndex() {\n    return this.lastVisibleIndex + this._vidxOffset;\n  }\n\n  get _maxVirtualIndexOffset() {\n    return this.size - this._virtualCount;\n  }\n\n  __hasPlaceholders() {\n    return this.__getVisibleElements().some((el) => el.__virtualizerPlaceholder);\n  }\n\n  scrollToIndex(index) {\n    if (typeof index !== 'number' || isNaN(index) || this.size === 0 || !this.scrollTarget.offsetHeight) {\n      return;\n    }\n    delete this.__pendingScrollToIndex;\n\n    if (this._physicalCount <= 3 /* iron-list-core.DEFAULT_PHYSICAL_COUNT */) {\n      // The condition here is a performance improvement to avoid an unnecessary\n      // re-render when the physical item pool is already covered.\n\n      // Finish rendering at the current scroll position before scrolling\n      this.flush();\n    }\n\n    index = this._clamp(index, 0, this.size - 1);\n\n    const visibleElementCount = this.__getVisibleElements().length;\n    let targetVirtualIndex = Math.floor((index / this.size) * this._virtualCount);\n    if (this._virtualCount - targetVirtualIndex < visibleElementCount) {\n      targetVirtualIndex = this._virtualCount - (this.size - index);\n      this._vidxOffset = this._maxVirtualIndexOffset;\n    } else if (targetVirtualIndex < visibleElementCount) {\n      if (index < OFFSET_ADJUST_MIN_THRESHOLD) {\n        targetVirtualIndex = index;\n        this._vidxOffset = 0;\n      } else {\n        targetVirtualIndex = OFFSET_ADJUST_MIN_THRESHOLD;\n        this._vidxOffset = index - targetVirtualIndex;\n      }\n    } else {\n      this._vidxOffset = index - targetVirtualIndex;\n    }\n\n    this.__skipNextVirtualIndexAdjust = true;\n    super.scrollToIndex(targetVirtualIndex);\n\n    if (this.adjustedFirstVisibleIndex !== index && this._scrollTop < this._maxScrollTop && !this.grid) {\n      // Workaround an iron-list issue by manually adjusting the scroll position\n      this._scrollTop -= this.__getIndexScrollOffset(index) || 0;\n    }\n    this._scrollHandler();\n\n    if (this.__hasPlaceholders()) {\n      // After rendering synchronously, there are still placeholders in the DOM.\n      // Try again after the next elements update.\n      this.__pendingScrollToIndex = index;\n    }\n  }\n\n  flush() {\n    // The scroll target is hidden.\n    if (this.scrollTarget.offsetHeight === 0) {\n      return;\n    }\n\n    this._resizeHandler();\n    flush();\n    this._scrollHandler();\n    if (this.__fixInvalidItemPositioningDebouncer) {\n      this.__fixInvalidItemPositioningDebouncer.flush();\n    }\n    if (this.__scrollReorderDebouncer) {\n      this.__scrollReorderDebouncer.flush();\n    }\n    if (this.__debouncerWheelAnimationFrame) {\n      this.__debouncerWheelAnimationFrame.flush();\n    }\n  }\n\n  hostConnected() {\n    // Restore scroll position, which is reset when host is removed from DOM,\n    // since virtualizer doesn't re-render when adding it to the DOM again.\n    // If the scroll target isn't visible and its `offsetParent` is `null`, wait\n    // for the ResizeObserver to handle this case (hiding -> moving -> showing).\n    if (this.scrollTarget.offsetParent && this.scrollTarget.scrollTop !== this._scrollPosition) {\n      this.scrollTarget.scrollTop = this._scrollPosition;\n    }\n  }\n\n  update(startIndex = 0, endIndex = this.size - 1) {\n    const updatedElements = [];\n    this.__getVisibleElements().forEach((el) => {\n      if (el.__virtualIndex >= startIndex && el.__virtualIndex <= endIndex) {\n        this.__updateElement(el, el.__virtualIndex, true);\n        updatedElements.push(el);\n      }\n    });\n\n    this.__afterElementsUpdated(updatedElements);\n  }\n\n  /**\n   * Updates the height for a given set of items.\n   *\n   * @param {!Array<number>=} itemSet\n   */\n  _updateMetrics(itemSet) {\n    // Make sure we distributed all the physical items\n    // so we can measure them.\n    flush();\n\n    let newPhysicalSize = 0;\n    let oldPhysicalSize = 0;\n    const prevAvgCount = this._physicalAverageCount;\n    const prevPhysicalAvg = this._physicalAverage;\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    this._iterateItems((pidx, vidx) => {\n      oldPhysicalSize += this._physicalSizes[pidx];\n      this._physicalSizes[pidx] = Math.ceil(this.__getBorderBoxHeight(this._physicalItems[pidx]));\n      newPhysicalSize += this._physicalSizes[pidx];\n      this._physicalAverageCount += this._physicalSizes[pidx] ? 1 : 0;\n    }, itemSet);\n\n    this._physicalSize = this._physicalSize + newPhysicalSize - oldPhysicalSize;\n\n    // Update the average if it measured something.\n    if (this._physicalAverageCount !== prevAvgCount) {\n      this._physicalAverage = Math.round(\n        (prevPhysicalAvg * prevAvgCount + newPhysicalSize) / this._physicalAverageCount,\n      );\n    }\n  }\n\n  __getBorderBoxHeight(el) {\n    const style = getComputedStyle(el);\n\n    const itemHeight = parseFloat(style.height) || 0;\n\n    if (style.boxSizing === 'border-box') {\n      return itemHeight;\n    }\n\n    const paddingBottom = parseFloat(style.paddingBottom) || 0;\n    const paddingTop = parseFloat(style.paddingTop) || 0;\n    const borderBottomWidth = parseFloat(style.borderBottomWidth) || 0;\n    const borderTopWidth = parseFloat(style.borderTopWidth) || 0;\n\n    return itemHeight + paddingBottom + paddingTop + borderBottomWidth + borderTopWidth;\n  }\n\n  __updateElement(el, index, forceSameIndexUpdates) {\n    // Clean up temporary placeholder sizing\n    if (el.__virtualizerPlaceholder) {\n      el.style.paddingTop = '';\n      el.style.opacity = '';\n      el.__virtualizerPlaceholder = false;\n    }\n\n    if (!this.__preventElementUpdates && (el.__lastUpdatedIndex !== index || forceSameIndexUpdates)) {\n      this.updateElement(el, index);\n      el.__lastUpdatedIndex = index;\n    }\n  }\n\n  /**\n   * Called synchronously right after elements have been updated.\n   * This is a good place to do any post-update work.\n   *\n   * @param {!Array<!HTMLElement>} updatedElements\n   */\n  __afterElementsUpdated(updatedElements) {\n    updatedElements.forEach((el) => {\n      const elementHeight = el.offsetHeight;\n      if (elementHeight === 0) {\n        // If the elements have 0 height after update (for example due to lazy rendering),\n        // it results in iron-list requesting to create an unlimited count of elements.\n        // Assign a temporary placeholder sizing to elements that would otherwise end up having\n        // no height.\n        el.style.paddingTop = `${this.__placeholderHeight}px`;\n        el.style.opacity = '0';\n        el.__virtualizerPlaceholder = true;\n\n        // Manually schedule the resize handler to make sure the placeholder padding is\n        // cleared in case the resize observer never triggers.\n        this.__placeholderClearDebouncer = Debouncer.debounce(this.__placeholderClearDebouncer, animationFrame, () =>\n          this._resizeHandler(),\n        );\n      } else {\n        // Add element height to the queue\n        this.__elementHeightQueue.push(elementHeight);\n        this.__elementHeightQueue.shift();\n\n        // Calculate new placeholder height based on the average of the defined values in the\n        // element height queue\n        const filteredHeights = this.__elementHeightQueue.filter((h) => h !== undefined);\n        this.__placeholderHeight = Math.round(filteredHeights.reduce((a, b) => a + b, 0) / filteredHeights.length);\n      }\n    });\n\n    if (this.__pendingScrollToIndex !== undefined && !this.__hasPlaceholders()) {\n      this.scrollToIndex(this.__pendingScrollToIndex);\n    }\n  }\n\n  __getIndexScrollOffset(index) {\n    const element = this.__getVisibleElements().find((el) => el.__virtualIndex === index);\n    return element ? this.scrollTarget.getBoundingClientRect().top - element.getBoundingClientRect().top : undefined;\n  }\n\n  get size() {\n    return this.__size;\n  }\n\n  set size(size) {\n    if (size === this.size) {\n      return;\n    }\n    // Cancel active debouncers\n    if (this.__fixInvalidItemPositioningDebouncer) {\n      this.__fixInvalidItemPositioningDebouncer.cancel();\n    }\n    if (this._debouncers && this._debouncers._increasePoolIfNeeded) {\n      // Avoid creating unnecessary elements on the following flush()\n      this._debouncers._increasePoolIfNeeded.cancel();\n    }\n\n    // Prevent element update while the scroll position is being restored\n    this.__preventElementUpdates = true;\n\n    // Record the scroll position before changing the size\n    let fvi; // First visible index\n    let fviOffsetBefore; // Scroll offset of the first visible index\n    if (size > 0) {\n      fvi = this.adjustedFirstVisibleIndex;\n      fviOffsetBefore = this.__getIndexScrollOffset(fvi);\n    }\n\n    // Change the size\n    this.__size = size;\n\n    this._itemsChanged({\n      path: 'items',\n    });\n    flush();\n\n    // Try to restore the scroll position if the new size is larger than 0\n    if (size > 0) {\n      fvi = Math.min(fvi, size - 1);\n      // Note, calling scrollToIndex also updates the virtual index offset,\n      // causing the virtualizer to add more items when size is increased,\n      // and remove exceeding items when size is decreased.\n      this.scrollToIndex(fvi);\n\n      const fviOffsetAfter = this.__getIndexScrollOffset(fvi);\n      if (fviOffsetBefore !== undefined && fviOffsetAfter !== undefined) {\n        this._scrollTop += fviOffsetBefore - fviOffsetAfter;\n      }\n    }\n\n    this.__preventElementUpdates = false;\n\n    // When reducing size while invisible, iron-list does not update items, so\n    // their hidden state is not updated and their __lastUpdatedIndex is not\n    // reset. In that case force an update here.\n    if (!this._isVisible) {\n      this._assignModels();\n    }\n\n    if (!this.elementsContainer.children.length) {\n      requestAnimationFrame(() => this._resizeHandler());\n    }\n\n    // Schedule and flush a resize handler\n    this._resizeHandler();\n    flush();\n    // Schedule an update to ensure item positions are correct after subsequent size changes\n    // Fix for https://github.com/vaadin/flow-components/issues/6269\n    this._debounce('_update', this._update, microTask);\n  }\n\n  /** @private */\n  get _scrollTop() {\n    return this.scrollTarget.scrollTop;\n  }\n\n  /** @private */\n  set _scrollTop(top) {\n    this.scrollTarget.scrollTop = top;\n  }\n\n  /** @private */\n  get items() {\n    return {\n      length: Math.min(this.size, MAX_VIRTUAL_COUNT),\n    };\n  }\n\n  /** @private */\n  get offsetHeight() {\n    return this.scrollTarget.offsetHeight;\n  }\n\n  /** @private */\n  get $() {\n    return {\n      items: this.scrollContainer,\n    };\n  }\n\n  /** @private */\n  updateViewportBoundaries() {\n    const styles = window.getComputedStyle(this.scrollTarget);\n    this._scrollerPaddingTop = this.scrollTarget === this ? 0 : parseInt(styles['padding-top'], 10);\n    this._isRTL = Boolean(styles.direction === 'rtl');\n    this._viewportWidth = this.elementsContainer.offsetWidth;\n    this._viewportHeight = this.scrollTarget.offsetHeight;\n    this._scrollPageHeight = this._viewportHeight - this._scrollLineHeight;\n    if (this.grid) {\n      this._updateGridMetrics();\n    }\n  }\n\n  /** @private */\n  setAttribute() {}\n\n  /** @private */\n  _createPool(size) {\n    const physicalItems = this.createElements(size);\n    const fragment = document.createDocumentFragment();\n    physicalItems.forEach((el) => {\n      el.style.position = 'absolute';\n      fragment.appendChild(el);\n      this.__resizeObserver.observe(el);\n    });\n    this.elementsContainer.appendChild(fragment);\n    return physicalItems;\n  }\n\n  /** @private */\n  _assignModels(itemSet) {\n    const updatedElements = [];\n    this._iterateItems((pidx, vidx) => {\n      const el = this._physicalItems[pidx];\n      el.hidden = vidx >= this.size;\n      if (!el.hidden) {\n        el.__virtualIndex = vidx + (this._vidxOffset || 0);\n        this.__updateElement(el, el.__virtualIndex);\n        updatedElements.push(el);\n      } else {\n        delete el.__lastUpdatedIndex;\n      }\n    }, itemSet);\n\n    this.__afterElementsUpdated(updatedElements);\n  }\n\n  /** @private */\n  _isClientFull() {\n    // Workaround an issue in iron-list that can cause it to freeze on fast scroll\n    setTimeout(() => {\n      this.__clientFull = true;\n    });\n    return this.__clientFull || super._isClientFull();\n  }\n\n  /** @private */\n  translate3d(_x, y, _z, el) {\n    el.style.transform = `translateY(${y})`;\n  }\n\n  /** @private */\n  toggleScrollListener() {}\n\n  /** @private */\n  __getFocusedElement(visibleElements = this.__getVisibleElements()) {\n    return visibleElements.find(\n      (element) =>\n        element.contains(this.elementsContainer.getRootNode().activeElement) ||\n        element.contains(this.scrollTarget.getRootNode().activeElement),\n    );\n  }\n\n  /** @private */\n  __nextFocusableSiblingMissing(focusedElement, visibleElements) {\n    return (\n      // Check if focused element is the last visible DOM element\n      visibleElements.indexOf(focusedElement) === visibleElements.length - 1 &&\n      // ...while there are more items available\n      this.size > focusedElement.__virtualIndex + 1\n    );\n  }\n\n  /** @private */\n  __previousFocusableSiblingMissing(focusedElement, visibleElements) {\n    return (\n      // Check if focused element is the first visible DOM element\n      visibleElements.indexOf(focusedElement) === 0 &&\n      // ...while there are preceding items available\n      focusedElement.__virtualIndex > 0\n    );\n  }\n\n  /** @private */\n  __onElementFocused(e) {\n    if (!this.reorderElements) {\n      return;\n    }\n\n    const focusedElement = e.detail.element;\n    if (!focusedElement) {\n      return;\n    }\n\n    // User has tabbed to or within a virtualizer element.\n    // Check if a next or previous focusable sibling is missing while it should be there (so the user can continue tabbing).\n    // The focusable sibling might be missing due to the elements not yet being in the correct DOM order.\n    // First try flushing (which also flushes any active __scrollReorderDebouncer).\n    const visibleElements = this.__getVisibleElements();\n    if (\n      this.__previousFocusableSiblingMissing(focusedElement, visibleElements) ||\n      this.__nextFocusableSiblingMissing(focusedElement, visibleElements)\n    ) {\n      this.flush();\n    }\n\n    // If the focusable sibling is still missing (because the focused element is at the edge of the viewport and\n    // the virtual scrolling logic hasn't had the need to recycle elements), scroll the virtualizer just enough to\n    // have the focusable sibling inside the visible viewport to force the virtualizer to recycle.\n    const reorderedVisibleElements = this.__getVisibleElements();\n    if (this.__nextFocusableSiblingMissing(focusedElement, reorderedVisibleElements)) {\n      this._scrollTop +=\n        Math.ceil(focusedElement.getBoundingClientRect().bottom) -\n        Math.floor(this.scrollTarget.getBoundingClientRect().bottom - 1);\n      this.flush();\n    } else if (this.__previousFocusableSiblingMissing(focusedElement, reorderedVisibleElements)) {\n      this._scrollTop -=\n        Math.ceil(this.scrollTarget.getBoundingClientRect().top + 1) -\n        Math.floor(focusedElement.getBoundingClientRect().top);\n      this.flush();\n    }\n  }\n\n  _scrollHandler() {\n    // The scroll target is hidden.\n    if (this.scrollTarget.offsetHeight === 0) {\n      return;\n    }\n\n    this._adjustVirtualIndexOffset(this._scrollTop - (this.__previousScrollTop || 0));\n    const delta = this.scrollTarget.scrollTop - this._scrollPosition;\n\n    super._scrollHandler();\n\n    if (this._physicalCount !== 0) {\n      const isScrollingDown = delta >= 0;\n      const reusables = this._getReusables(!isScrollingDown);\n\n      if (reusables.indexes.length) {\n        // After running super._scrollHandler, fix internal properties to workaround an iron-list issue.\n        // See https://github.com/vaadin/web-components/issues/1691\n        this._physicalTop = reusables.physicalTop;\n\n        if (isScrollingDown) {\n          this._virtualStart -= reusables.indexes.length;\n          this._physicalStart -= reusables.indexes.length;\n        } else {\n          this._virtualStart += reusables.indexes.length;\n          this._physicalStart += reusables.indexes.length;\n        }\n        this._resizeHandler();\n      }\n    }\n\n    if (delta) {\n      // There was a change in scroll top. Schedule a check for invalid item positioning.\n      this.__fixInvalidItemPositioningDebouncer = Debouncer.debounce(\n        this.__fixInvalidItemPositioningDebouncer,\n        timeOut.after(this.timeouts.FIX_INVALID_ITEM_POSITIONING),\n        () => this.__fixInvalidItemPositioning(),\n      );\n    }\n\n    if (this.reorderElements) {\n      this.__scrollReorderDebouncer = Debouncer.debounce(\n        this.__scrollReorderDebouncer,\n        timeOut.after(this.timeouts.SCROLL_REORDER),\n        () => this.__reorderElements(),\n      );\n    }\n\n    this.__previousScrollTop = this._scrollTop;\n\n    // If the first visible index is not 0 when scrolled to the top,\n    // scroll to index 0 to fix the issue.\n    if (this._scrollTop === 0 && this.firstVisibleIndex !== 0 && Math.abs(delta) > 0) {\n      this.scrollToIndex(0);\n    }\n  }\n\n  /**\n   * Work around an iron-list issue with invalid item positioning.\n   * See https://github.com/vaadin/flow-components/issues/4306\n   * @private\n   */\n  __fixInvalidItemPositioning() {\n    if (!this.scrollTarget.isConnected) {\n      return;\n    }\n\n    // Check if the first physical item element is below the top of the viewport\n    const physicalTopBelowTop = this._physicalTop > this._scrollTop;\n    // Check if the last physical item element is above the bottom of the viewport\n    const physicalBottomAboveBottom = this._physicalBottom < this._scrollBottom;\n\n    // Check if the first index is visible\n    const firstIndexVisible = this.adjustedFirstVisibleIndex === 0;\n    // Check if the last index is visible\n    const lastIndexVisible = this.adjustedLastVisibleIndex === this.size - 1;\n\n    if ((physicalTopBelowTop && !firstIndexVisible) || (physicalBottomAboveBottom && !lastIndexVisible)) {\n      // Invalid state! Try to recover.\n\n      const isScrollingDown = physicalBottomAboveBottom;\n      // Set the \"_ratio\" property temporarily to 0 to make iron-list's _getReusables\n      // place all the free physical items on one side of the viewport.\n      const originalRatio = this._ratio;\n      this._ratio = 0;\n      // Fake a scroll change to make _scrollHandler place the physical items\n      // on the desired side.\n      this._scrollPosition = this._scrollTop + (isScrollingDown ? -1 : 1);\n      this._scrollHandler();\n      // Restore the original \"_ratio\" value.\n      this._ratio = originalRatio;\n    }\n  }\n\n  /** @private */\n  __onWheel(e) {\n    if (e.ctrlKey || this._hasScrolledAncestor(e.target, e.deltaX, e.deltaY)) {\n      return;\n    }\n\n    let deltaY = e.deltaY;\n    if (e.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n      // Scrolling by \"lines of text\" instead of pixels\n      deltaY *= this._scrollLineHeight;\n    } else if (e.deltaMode === WheelEvent.DOM_DELTA_PAGE) {\n      // Scrolling by \"pages\" instead of pixels\n      deltaY *= this._scrollPageHeight;\n    }\n\n    if (!this._deltaYAcc) {\n      this._deltaYAcc = 0;\n    }\n\n    if (this._wheelAnimationFrame) {\n      // Accumulate wheel delta while a frame is being processed\n      this._deltaYAcc += deltaY;\n      e.preventDefault();\n      return;\n    }\n\n    deltaY += this._deltaYAcc;\n    this._deltaYAcc = 0;\n\n    this._wheelAnimationFrame = true;\n    this.__debouncerWheelAnimationFrame = Debouncer.debounce(\n      this.__debouncerWheelAnimationFrame,\n      animationFrame,\n      () => {\n        this._wheelAnimationFrame = false;\n      },\n    );\n\n    const momentum = Math.abs(e.deltaX) + Math.abs(deltaY);\n\n    if (this._canScroll(this.scrollTarget, e.deltaX, deltaY)) {\n      e.preventDefault();\n      this.scrollTarget.scrollTop += deltaY;\n      this.scrollTarget.scrollLeft += e.deltaX;\n\n      this._hasResidualMomentum = true;\n\n      this._ignoreNewWheel = true;\n      this._debouncerIgnoreNewWheel = Debouncer.debounce(\n        this._debouncerIgnoreNewWheel,\n        timeOut.after(this.timeouts.IGNORE_WHEEL),\n        () => {\n          this._ignoreNewWheel = false;\n        },\n      );\n    } else if ((this._hasResidualMomentum && momentum <= this._previousMomentum) || this._ignoreNewWheel) {\n      e.preventDefault();\n    } else if (momentum > this._previousMomentum) {\n      this._hasResidualMomentum = false;\n    }\n    this._previousMomentum = momentum;\n  }\n\n  /**\n   * Determines if the element has an ancestor that handles the scroll delta prior to this\n   *\n   * @private\n   */\n  _hasScrolledAncestor(el, deltaX, deltaY) {\n    if (el === this.scrollTarget || el === this.scrollTarget.getRootNode().host) {\n      return false;\n    } else if (\n      this._canScroll(el, deltaX, deltaY) &&\n      ['auto', 'scroll'].indexOf(getComputedStyle(el).overflow) !== -1\n    ) {\n      return true;\n    } else if (el !== this && el.parentElement) {\n      return this._hasScrolledAncestor(el.parentElement, deltaX, deltaY);\n    }\n  }\n\n  _canScroll(el, deltaX, deltaY) {\n    return (\n      (deltaY > 0 && el.scrollTop < el.scrollHeight - el.offsetHeight) ||\n      (deltaY < 0 && el.scrollTop > 0) ||\n      (deltaX > 0 && el.scrollLeft < el.scrollWidth - el.offsetWidth) ||\n      (deltaX < 0 && el.scrollLeft > 0)\n    );\n  }\n\n  /**\n   * Increases the pool size.\n   * @override\n   */\n  _increasePoolIfNeeded(count) {\n    if (this._physicalCount > 2 && count) {\n      // The iron-list logic has already created some physical items and\n      // has decided to create more. Since each item creation round is\n      // expensive, let's try to create the remaining items in one go.\n\n      // Calculate the total item count that would be needed to fill the viewport\n      // plus the buffer assuming rest of the items to be of the average size\n      // of the items already created.\n      const totalItemCount = Math.ceil(this._optPhysicalSize / this._physicalAverage);\n      const missingItemCount = totalItemCount - this._physicalCount;\n      // Create the remaining items in one go. Use a maximum of 100 items\n      // as a safety measure.\n      super._increasePoolIfNeeded(Math.max(count, Math.min(100, missingItemCount)));\n    } else {\n      super._increasePoolIfNeeded(count);\n    }\n  }\n\n  /**\n   * An optimal physical size such that we will have enough physical items\n   * to fill up the viewport and recycle when the user scrolls.\n   *\n   * This default value assumes that we will at least have the equivalent\n   * to a viewport of physical items above and below the user's viewport.\n   * @override\n   */\n  get _optPhysicalSize() {\n    const optPhysicalSize = super._optPhysicalSize;\n    // No need to adjust\n    if (optPhysicalSize <= 0 || this.__hasPlaceholders()) {\n      return optPhysicalSize;\n    }\n    // Item height buffer accounts for the cases where some items are much larger than the average.\n    // This can lead to some items not being rendered and leaving empty space in the viewport.\n    // https://github.com/vaadin/flow-components/issues/6651\n    return optPhysicalSize + this.__getItemHeightBuffer();\n  }\n\n  /**\n   * Extra item height buffer used when calculating optimal physical size.\n   *\n   * The iron list core uses the optimal physical size when determining whether to increase the item pool.\n   * For the cases where some items are much larger than the average, the iron list core might not increase item pool.\n   * This can lead to the large item not being rendered.\n   *\n   * @returns {Number} - Extra item height buffer\n   * @private\n   */\n  __getItemHeightBuffer() {\n    // No need for a buffer with no items\n    if (this._physicalCount === 0) {\n      return 0;\n    }\n    // The regular buffer zone height for either top or bottom\n    const bufferZoneHeight = Math.ceil((this._viewportHeight * (this._maxPages - 1)) / 2);\n    // The maximum height of the currently rendered items\n    const maxItemHeight = Math.max(...this._physicalSizes);\n    // Only add buffer if the item is larger that the other items\n    if (maxItemHeight > Math.min(...this._physicalSizes)) {\n      // Add a buffer height since the large item can still be in the viewport and out of the original buffer\n      return Math.max(0, maxItemHeight - bufferZoneHeight);\n    }\n    return 0;\n  }\n\n  /**\n   * @returns {Number|undefined} - The browser's default font-size in pixels\n   * @private\n   */\n  _getScrollLineHeight() {\n    const el = document.createElement('div');\n    el.style.fontSize = 'initial';\n    el.style.display = 'none';\n    document.body.appendChild(el);\n    const fontSize = window.getComputedStyle(el).fontSize;\n    document.body.removeChild(el);\n    return fontSize ? window.parseInt(fontSize) : undefined;\n  }\n\n  __getVisibleElements() {\n    return Array.from(this.elementsContainer.children).filter((element) => !element.hidden);\n  }\n\n  /** @private */\n  __reorderElements() {\n    if (this.__mouseDown) {\n      this.__pendingReorder = true;\n      return;\n    }\n    this.__pendingReorder = false;\n\n    const adjustedVirtualStart = this._virtualStart + (this._vidxOffset || 0);\n\n    // Which row to use as a target?\n    const visibleElements = this.__getVisibleElements();\n    const targetElement = this.__getFocusedElement(visibleElements) || visibleElements[0];\n    if (!targetElement) {\n      // All elements are hidden, don't reorder\n      return;\n    }\n\n    // Where the target row should be?\n    const targetPhysicalIndex = targetElement.__virtualIndex - adjustedVirtualStart;\n\n    // Reodrer the DOM elements to keep the target row at the target physical index\n    const delta = visibleElements.indexOf(targetElement) - targetPhysicalIndex;\n    if (delta > 0) {\n      for (let i = 0; i < delta; i++) {\n        this.elementsContainer.appendChild(visibleElements[i]);\n      }\n    } else if (delta < 0) {\n      for (let i = visibleElements.length + delta; i < visibleElements.length; i++) {\n        this.elementsContainer.insertBefore(visibleElements[i], visibleElements[0]);\n      }\n    }\n\n    // Due to a rendering bug, reordering the rows can make parts of the scroll target disappear\n    // on Safari when using sticky positioning in case the scroll target is inside a flexbox.\n    // This issue manifests with grid (the header can disappear if grid is used inside a flexbox)\n    if (isSafari) {\n      const { transform } = this.scrollTarget.style;\n      this.scrollTarget.style.transform = 'translateZ(0)';\n      setTimeout(() => {\n        this.scrollTarget.style.transform = transform;\n      });\n    }\n  }\n\n  /** @private */\n  _adjustVirtualIndexOffset(delta) {\n    const maxOffset = this._maxVirtualIndexOffset;\n\n    if (this._virtualCount >= this.size) {\n      this._vidxOffset = 0;\n    } else if (this.__skipNextVirtualIndexAdjust) {\n      this.__skipNextVirtualIndexAdjust = false;\n    } else if (Math.abs(delta) > 10000) {\n      // Process a large scroll position change\n      const scale = this._scrollTop / (this.scrollTarget.scrollHeight - this.scrollTarget.clientHeight);\n      this._vidxOffset = Math.round(scale * maxOffset);\n    } else {\n      // Make sure user can always swipe/wheel scroll to the start and end\n      const oldOffset = this._vidxOffset;\n      const threshold = OFFSET_ADJUST_MIN_THRESHOLD;\n      const maxShift = 100;\n\n      // Near start\n      if (this._scrollTop === 0) {\n        this._vidxOffset = 0;\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(0);\n        }\n      } else if (this.firstVisibleIndex < threshold && this._vidxOffset > 0) {\n        this._vidxOffset -= Math.min(this._vidxOffset, maxShift);\n        super.scrollToIndex(this.firstVisibleIndex + (oldOffset - this._vidxOffset));\n      }\n\n      // Near end\n      if (this._scrollTop >= this._maxScrollTop && this._maxScrollTop > 0) {\n        this._vidxOffset = maxOffset;\n        if (oldOffset !== this._vidxOffset) {\n          super.scrollToIndex(this._virtualCount - 1);\n        }\n      } else if (this.firstVisibleIndex > this._virtualCount - threshold && this._vidxOffset < maxOffset) {\n        this._vidxOffset += Math.min(maxOffset - this._vidxOffset, maxShift);\n        super.scrollToIndex(this.firstVisibleIndex - (this._vidxOffset - oldOffset));\n      }\n    }\n  }\n}\n\nObject.setPrototypeOf(IronListAdapter.prototype, ironList);\n","import { IronListAdapter } from './virtualizer-iron-list-adapter.js';\n\nexport class Virtualizer {\n  /**\n   * @typedef {Object} VirtualizerConfig\n   * @property {Function} createElements Function that returns the given number of new elements\n   * @property {Function} updateElement Function that updates the element at a specific index\n   * @property {HTMLElement} scrollTarget Reference to the scrolling element\n   * @property {HTMLElement} scrollContainer Reference to a wrapper for the item elements (or a slot) inside the scrollTarget\n   * @property {HTMLElement | undefined} elementsContainer Reference to the container in which the item elements are placed, defaults to scrollContainer\n   * @property {boolean | undefined} reorderElements Determines whether the physical item elements should be kept in order in the DOM\n   * @param {VirtualizerConfig} config Configuration for the virtualizer\n   */\n  constructor(config) {\n    this.__adapter = new IronListAdapter(config);\n  }\n\n  /**\n   * Gets the index of the first visible item in the viewport.\n   *\n   * @return {number}\n   */\n  get firstVisibleIndex() {\n    return this.__adapter.adjustedFirstVisibleIndex;\n  }\n\n  /**\n   * Gets the index of the last visible item in the viewport.\n   *\n   * @return {number}\n   */\n  get lastVisibleIndex() {\n    return this.__adapter.adjustedLastVisibleIndex;\n  }\n\n  /**\n   * The size of the virtualizer\n   * @return {number | undefined} The size of the virtualizer\n   */\n  get size() {\n    return this.__adapter.size;\n  }\n\n  /**\n   * The size of the virtualizer\n   * @param {number} size The size of the virtualizer\n   */\n  set size(size) {\n    this.__adapter.size = size;\n  }\n\n  /**\n   * Scroll to a specific index in the virtual list\n   *\n   * @method scrollToIndex\n   * @param {number} index The index of the item\n   */\n  scrollToIndex(index) {\n    this.__adapter.scrollToIndex(index);\n  }\n\n  /**\n   * Requests the virtualizer to re-render the item elements on an index range, if currently in the DOM\n   *\n   * @method update\n   * @param {number | undefined} startIndex The start index of the range\n   * @param {number | undefined} endIndex The end index of the range\n   */\n  update(startIndex = 0, endIndex = this.size - 1) {\n    this.__adapter.update(startIndex, endIndex);\n  }\n\n  /**\n   * Flushes active asynchronous tasks so that the component and the DOM end up in a stable state\n   *\n   * @method update\n   * @param {number | undefined} startIndex The start index of the range\n   * @param {number | undefined} endIndex The end index of the range\n   */\n  flush() {\n    this.__adapter.flush();\n  }\n\n  /**\n   * Notifies the virtualizer about its host element connected to the DOM.\n   *\n   * @method hostConnected\n   */\n  hostConnected() {\n    this.__adapter.hostConnected();\n  }\n}\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { iterateChildren, iterateRowCells } from './vaadin-grid-helpers.js';\n\n/**\n * @polymerMixin\n */\nexport const A11yMixin = (superClass) =>\n  class A11yMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * String used to label the grid to screen reader users.\n         * @attr {string} accessible-name\n         */\n        accessibleName: {\n          type: String,\n        },\n      };\n    }\n    static get observers() {\n      return ['_a11yUpdateGridSize(size, _columnTree)'];\n    }\n\n    /** @private */\n    _a11yGetHeaderRowCount(_columnTree) {\n      return _columnTree.filter((level) =>\n        level.some((col) => col.headerRenderer || (col.path && col.header !== null) || col.header),\n      ).length;\n    }\n\n    /** @private */\n    _a11yGetFooterRowCount(_columnTree) {\n      return _columnTree.filter((level) => level.some((col) => col.headerRenderer)).length;\n    }\n\n    /** @private */\n    _a11yUpdateGridSize(size, _columnTree) {\n      if (size === undefined || _columnTree === undefined) {\n        return;\n      }\n\n      const bodyColumns = _columnTree[_columnTree.length - 1];\n      this.$.table.setAttribute(\n        'aria-rowcount',\n        size + this._a11yGetHeaderRowCount(_columnTree) + this._a11yGetFooterRowCount(_columnTree),\n      );\n      this.$.table.setAttribute('aria-colcount', (bodyColumns && bodyColumns.length) || 0);\n\n      this._a11yUpdateHeaderRows();\n      this._a11yUpdateFooterRows();\n    }\n\n    /** @protected */\n    _a11yUpdateHeaderRows() {\n      iterateChildren(this.$.header, (headerRow, index) => {\n        headerRow.setAttribute('aria-rowindex', index + 1);\n      });\n    }\n\n    /** @protected */\n    _a11yUpdateFooterRows() {\n      iterateChildren(this.$.footer, (footerRow, index) => {\n        footerRow.setAttribute('aria-rowindex', this._a11yGetHeaderRowCount(this._columnTree) + this.size + index + 1);\n      });\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {number} index\n     * @protected\n     */\n    _a11yUpdateRowRowindex(row, index) {\n      row.setAttribute('aria-rowindex', index + this._a11yGetHeaderRowCount(this._columnTree) + 1);\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {boolean} selected\n     * @protected\n     */\n    _a11yUpdateRowSelected(row, selected) {\n      // Jaws reads selection only for rows, NVDA only for cells\n      row.setAttribute('aria-selected', Boolean(selected));\n      iterateRowCells(row, (cell) => {\n        cell.setAttribute('aria-selected', Boolean(selected));\n      });\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @protected\n     */\n    _a11yUpdateRowExpanded(row) {\n      if (this.__isRowExpandable(row)) {\n        row.setAttribute('aria-expanded', 'false');\n      } else if (this.__isRowCollapsible(row)) {\n        row.setAttribute('aria-expanded', 'true');\n      } else {\n        row.removeAttribute('aria-expanded');\n      }\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {number} level\n     * @protected\n     */\n    _a11yUpdateRowLevel(row, level) {\n      // Set level for the expandable rows itself, and all the nested rows.\n      if (level > 0 || this.__isRowCollapsible(row) || this.__isRowExpandable(row)) {\n        row.setAttribute('aria-level', level + 1);\n      } else {\n        row.removeAttribute('aria-level');\n      }\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {!HTMLElement} detailsCell\n     * @protected\n     */\n    _a11ySetRowDetailsCell(row, detailsCell) {\n      iterateRowCells(row, (cell) => {\n        if (cell !== detailsCell) {\n          cell.setAttribute('aria-controls', detailsCell.id);\n        }\n      });\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {number} colspan\n     * @protected\n     */\n    _a11yUpdateCellColspan(cell, colspan) {\n      cell.setAttribute('aria-colspan', Number(colspan));\n    }\n\n    /** @protected */\n    _a11yUpdateSorters() {\n      Array.from(this.querySelectorAll('vaadin-grid-sorter')).forEach((sorter) => {\n        let cellContent = sorter.parentNode;\n        while (cellContent && cellContent.localName !== 'vaadin-grid-cell-content') {\n          cellContent = cellContent.parentNode;\n        }\n        if (cellContent && cellContent.assignedSlot) {\n          const cell = cellContent.assignedSlot.parentNode;\n          cell.setAttribute(\n            'aria-sort',\n            {\n              asc: 'ascending',\n              desc: 'descending',\n            }[String(sorter.direction)] || 'none',\n          );\n        }\n      });\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nimport { isElementFocusable } from '@vaadin/a11y-base/src/focus-utils.js';\n\n/**\n * @param {!Element} target\n * @return {boolean}\n * @protected\n */\nexport const isFocusable = (target) => {\n  return (\n    target.offsetParent &&\n    !target.part.contains('body-cell') &&\n    isElementFocusable(target) &&\n    getComputedStyle(target).visibility !== 'hidden'\n  );\n};\n\n/**\n * @polymerMixin\n */\nexport const ActiveItemMixin = (superClass) =>\n  class ActiveItemMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * The item user has last interacted with. Turns to `null` after user deactivates\n         * the item by re-interacting with the currently active item.\n         * @type {GridItem}\n         */\n        activeItem: {\n          type: Object,\n          notify: true,\n          value: null,\n          sync: true,\n        },\n      };\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this.$.scroller.addEventListener('click', this._onClick.bind(this));\n      this.addEventListener('cell-activate', this._activateItem.bind(this));\n      this.addEventListener('row-activate', this._activateItem.bind(this));\n    }\n\n    /** @private */\n    _activateItem(e) {\n      const model = e.detail.model;\n      const clickedItem = model ? model.item : null;\n\n      if (clickedItem) {\n        this.activeItem = !this._itemsEqual(this.activeItem, clickedItem) ? clickedItem : null;\n      }\n    }\n\n    /**\n     * Checks whether the click event should not activate the cell on which it occurred.\n     *\n     * @protected\n     */\n    _shouldPreventCellActivationOnClick(e) {\n      const { cell } = this._getGridEventLocation(e);\n      return (\n        // Something has handled this click already, e. g., <vaadin-grid-sorter>\n        e.defaultPrevented ||\n        // No clicked cell available\n        !cell ||\n        // Cell is a details cell\n        cell.getAttribute('part').includes('details-cell') ||\n        // Cell is the empty state cell\n        cell === this.$.emptystatecell ||\n        // Cell content is focused\n        cell._content.contains(this.getRootNode().activeElement) ||\n        // Clicked on a focusable element\n        this._isFocusable(e.target) ||\n        // Clicked on a label element\n        e.target instanceof HTMLLabelElement\n      );\n    }\n\n    /**\n     * @param {!MouseEvent} e\n     * @protected\n     */\n    _onClick(e) {\n      if (this._shouldPreventCellActivationOnClick(e)) {\n        return;\n      }\n\n      const { cell } = this._getGridEventLocation(e);\n      if (cell) {\n        this.dispatchEvent(\n          new CustomEvent('cell-activate', {\n            detail: {\n              model: this.__getRowModel(cell.parentElement),\n            },\n          }),\n        );\n      }\n    }\n\n    /**\n     * @param {!Element} target\n     * @return {boolean}\n     * @protected\n     */\n    _isFocusable(target) {\n      return isFocusable(target);\n    }\n\n    /**\n     * Fired when the `activeItem` property changes.\n     *\n     * @event active-item-changed\n     */\n\n    /**\n     * Fired when the cell is activated with click or keyboard.\n     *\n     * @event cell-activate\n     */\n  };\n","/**\n * Returns a sub-property of an object\n *\n * @param {string} path dot-separated path to the sub property\n * @param {*} object\n * @returns {*}\n */\nfunction get(path, object) {\n  return path.split('.').reduce((obj, property) => obj[property], object);\n}\n\n/**\n * Check array of filters/sorters for paths validity, console.warn invalid items\n * @param {!Array<!GridFilterDefinition | !GridSorterDefinition>} arrayToCheck The array of filters/sorters to check\n * @param {string} action The name of action to include in warning (filtering, sorting)\n * @param {!Array<!GridItem>} items\n */\nfunction checkPaths(arrayToCheck, action, items) {\n  if (items.length === 0) {\n    return false;\n  }\n\n  let result = true;\n\n  arrayToCheck.forEach(({ path }) => {\n    // Skip simple paths\n    if (!path || path.indexOf('.') === -1) {\n      return;\n    }\n\n    const parentProperty = path.replace(/\\.[^.]*$/u, ''); // A.b.c -> a.b\n    if (get(parentProperty, items[0]) === undefined) {\n      console.warn(`Path \"${path}\" used for ${action} does not exist in all of the items, ${action} is disabled.`);\n      result = false;\n    }\n  });\n\n  return result;\n}\n\n/**\n * @param {unknown} value\n * @return {string}\n */\nfunction normalizeEmptyValue(value) {\n  if ([undefined, null].indexOf(value) >= 0) {\n    return '';\n  } else if (isNaN(value)) {\n    return value.toString();\n  }\n  return value;\n}\n\n/**\n * @param {unknown} a\n * @param {unknown} b\n * @return {number}\n */\nfunction compare(a, b) {\n  a = normalizeEmptyValue(a);\n  b = normalizeEmptyValue(b);\n\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n  return 0;\n}\n\n/**\n * Sorts the given array of items based on the sorting rules and returns the result.\n *\n * @param {Array<any>} items\n * @param {Array<GridSorterDefinition>} items\n * @return {Array<any>}\n */\nfunction multiSort(items, sortOrders) {\n  return items.sort((a, b) => {\n    return sortOrders\n      .map((sortOrder) => {\n        if (sortOrder.direction === 'asc') {\n          return compare(get(sortOrder.path, a), get(sortOrder.path, b));\n        } else if (sortOrder.direction === 'desc') {\n          return compare(get(sortOrder.path, b), get(sortOrder.path, a));\n        }\n        return 0;\n      })\n      .reduce((p, n) => {\n        return p !== 0 ? p : n;\n      }, 0);\n  });\n}\n\n/**\n * @param {!Array<!GridItem>} items\n * @return {!Array<!GridItem>}\n */\nfunction filter(items, filters) {\n  return items.filter((item) => {\n    return filters.every((filter) => {\n      const value = normalizeEmptyValue(get(filter.path, item));\n      const filterValueLowercase = normalizeEmptyValue(filter.value).toString().toLowerCase();\n      return value.toString().toLowerCase().includes(filterValueLowercase);\n    });\n  });\n}\n\n/**\n * WARNING: This API is still intended for internal purposes only and\n * may change any time.\n *\n * Creates a new grid compatible data provider that serves the items\n * from the given array as data when requested by the grid.\n *\n * @param {Array<any>} items\n * @return {GridDataProvider<any>}\n */\nexport const createArrayDataProvider = (allItems) => {\n  return (params, callback) => {\n    let items = allItems ? [...allItems] : [];\n\n    if (params.filters && checkPaths(params.filters, 'filtering', items)) {\n      items = filter(items, params.filters);\n    }\n\n    if (\n      Array.isArray(params.sortOrders) &&\n      params.sortOrders.length &&\n      checkPaths(params.sortOrders, 'sorting', items)\n    ) {\n      items = multiSort(items, params.sortOrders);\n    }\n\n    const count = Math.min(items.length, params.pageSize);\n    const start = params.page * count;\n    const end = start + count;\n    const slice = items.slice(start, end);\n    callback(slice, items.length);\n  };\n};\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { createArrayDataProvider } from './array-data-provider.js';\n\n/**\n * @polymerMixin\n */\nexport const ArrayDataProviderMixin = (superClass) =>\n  class ArrayDataProviderMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * An array containing the items which will be passed to renderer functions.\n         *\n         * @type {Array<!GridItem> | undefined}\n         */\n        items: {\n          type: Array,\n          sync: true,\n        },\n      };\n    }\n\n    static get observers() {\n      return ['__dataProviderOrItemsChanged(dataProvider, items, isAttached, items.*)'];\n    }\n\n    /** @private */\n    __setArrayDataProvider(items) {\n      const arrayDataProvider = createArrayDataProvider(this.items, {});\n      arrayDataProvider.__items = items;\n      this._arrayDataProvider = arrayDataProvider;\n      this.size = items.length;\n      this.dataProvider = arrayDataProvider;\n    }\n\n    /**\n     * @override\n     * @protected\n     */\n    _onDataProviderPageReceived() {\n      super._onDataProviderPageReceived();\n\n      if (this._arrayDataProvider) {\n        this.size = this._flatSize;\n      }\n    }\n\n    /** @private */\n    __dataProviderOrItemsChanged(dataProvider, items, isAttached) {\n      if (!isAttached) {\n        return;\n      }\n\n      if (this._arrayDataProvider) {\n        // Has an items array data provider beforehand\n\n        if (dataProvider !== this._arrayDataProvider) {\n          // A custom data provider was set externally\n          this._arrayDataProvider = undefined;\n          this.items = undefined;\n        } else if (!items) {\n          // The items array was unset\n          this._arrayDataProvider = undefined;\n          this.dataProvider = undefined;\n          this.size = 0;\n          this.clearCache();\n        } else if (this._arrayDataProvider.__items === items) {\n          // The items array was modified\n          this.clearCache();\n        } else {\n          // The items array was replaced\n          this.__setArrayDataProvider(items);\n        }\n      } else if (items) {\n        // There was no array data provider before items was set\n        this.__setArrayDataProvider(items);\n      }\n    }\n  };\n","/**\n@license\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/* eslint-disable @typescript-eslint/no-use-before-define */\n\n/**\n * @fileoverview\n *\n * Module for adding listeners to a node for the following normalized\n * cross-platform \"gesture\" events:\n * - `down` - mouse or touch went down\n * - `up` - mouse or touch went up\n * - `tap` - mouse click or finger tap\n * - `track` - mouse drag or touch move\n *\n * @summary Module for adding cross-platform gesture event listeners.\n */\n\nimport { microTask } from './async.js';\n\nconst passiveTouchGestures = false;\nconst wrap = (node) => node;\n\n// Detect native touch action support\nconst HAS_NATIVE_TA = typeof document.head.style.touchAction === 'string';\nconst GESTURE_KEY = '__polymerGestures';\nconst HANDLED_OBJ = '__polymerGesturesHandled';\nconst TOUCH_ACTION = '__polymerGesturesTouchAction';\n// Radius for tap and track\nconst TAP_DISTANCE = 25;\nconst TRACK_DISTANCE = 5;\n// Number of last N track positions to keep\nconst TRACK_LENGTH = 2;\n\nconst MOUSE_EVENTS = ['mousedown', 'mousemove', 'mouseup', 'click'];\n// An array of bitmask values for mapping MouseEvent.which to MouseEvent.buttons\nconst MOUSE_WHICH_TO_BUTTONS = [0, 1, 4, 2];\nconst MOUSE_HAS_BUTTONS = (function () {\n  try {\n    return new MouseEvent('test', { buttons: 1 }).buttons === 1;\n  } catch (_) {\n    return false;\n  }\n})();\n\n/**\n * @param {string} name Possible mouse event name\n * @return {boolean} true if mouse event, false if not\n */\nfunction isMouseEvent(name) {\n  return MOUSE_EVENTS.indexOf(name) > -1;\n}\n\n/* eslint no-empty: [\"error\", { \"allowEmptyCatch\": true }] */\n// check for passive event listeners\nlet supportsPassive = false;\n(function () {\n  try {\n    const opts = Object.defineProperty({}, 'passive', {\n      // eslint-disable-next-line getter-return\n      get() {\n        supportsPassive = true;\n      },\n    });\n    window.addEventListener('test', null, opts);\n    window.removeEventListener('test', null, opts);\n  } catch (_) {}\n})();\n\n/**\n * Generate settings for event listeners, dependant on `passiveTouchGestures`\n *\n * @param {string} eventName Event name to determine if `{passive}` option is\n *   needed\n * @return {{passive: boolean} | undefined} Options to use for addEventListener\n *   and removeEventListener\n */\nfunction PASSIVE_TOUCH(eventName) {\n  if (isMouseEvent(eventName) || eventName === 'touchend') {\n    return;\n  }\n  if (HAS_NATIVE_TA && supportsPassive && passiveTouchGestures) {\n    return { passive: true };\n  }\n}\n\n// Check for touch-only devices\nconst IS_TOUCH_ONLY = navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/u);\n\n// Defined at https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#enabling-and-disabling-form-controls:-the-disabled-attribute\n/** @type {!Object<boolean>} */\nconst canBeDisabled = {\n  button: true,\n  command: true,\n  fieldset: true,\n  input: true,\n  keygen: true,\n  optgroup: true,\n  option: true,\n  select: true,\n  textarea: true,\n};\n\n/**\n * @param {MouseEvent} ev event to test for left mouse button down\n * @return {boolean} has left mouse button down\n */\nfunction hasLeftMouseButton(ev) {\n  const type = ev.type;\n  // Exit early if the event is not a mouse event\n  if (!isMouseEvent(type)) {\n    return false;\n  }\n  // Ev.button is not reliable for mousemove (0 is overloaded as both left button and no buttons)\n  // instead we use ev.buttons (bitmask of buttons) or fall back to ev.which (deprecated, 0 for no buttons, 1 for left button)\n  if (type === 'mousemove') {\n    // Allow undefined for testing events\n    let buttons = ev.buttons === undefined ? 1 : ev.buttons;\n    if (ev instanceof window.MouseEvent && !MOUSE_HAS_BUTTONS) {\n      buttons = MOUSE_WHICH_TO_BUTTONS[ev.which] || 0;\n    }\n    // Buttons is a bitmask, check that the left button bit is set (1)\n    return Boolean(buttons & 1);\n  }\n  // Allow undefined for testing events\n  const button = ev.button === undefined ? 0 : ev.button;\n  // Ev.button is 0 in mousedown/mouseup/click for left button activation\n  return button === 0;\n}\n\nfunction isSyntheticClick(ev) {\n  if (ev.type === 'click') {\n    // Ev.detail is 0 for HTMLElement.click in most browsers\n    if (ev.detail === 0) {\n      return true;\n    }\n    // In the worst case, check that the x/y position of the click is within\n    // the bounding box of the target of the event\n    // Thanks IE 10 >:(\n    const t = _findOriginalTarget(ev);\n    // Make sure the target of the event is an element so we can use getBoundingClientRect,\n    // if not, just assume it is a synthetic click\n    if (!t.nodeType || /** @type {Element} */ (t).nodeType !== Node.ELEMENT_NODE) {\n      return true;\n    }\n    const bcr = /** @type {Element} */ (t).getBoundingClientRect();\n    // Use page x/y to account for scrolling\n    const x = ev.pageX,\n      y = ev.pageY;\n    // Ev is a synthetic click if the position is outside the bounding box of the target\n    return !(x >= bcr.left && x <= bcr.right && y >= bcr.top && y <= bcr.bottom);\n  }\n  return false;\n}\n\nconst POINTERSTATE = {\n  mouse: {\n    target: null,\n    mouseIgnoreJob: null,\n  },\n  touch: {\n    x: 0,\n    y: 0,\n    id: -1,\n    scrollDecided: false,\n  },\n};\n\nfunction firstTouchAction(ev) {\n  let ta = 'auto';\n  const path = getComposedPath(ev);\n  for (let i = 0, n; i < path.length; i++) {\n    n = path[i];\n    if (n[TOUCH_ACTION]) {\n      ta = n[TOUCH_ACTION];\n      break;\n    }\n  }\n  return ta;\n}\n\nfunction trackDocument(stateObj, movefn, upfn) {\n  stateObj.movefn = movefn;\n  stateObj.upfn = upfn;\n  document.addEventListener('mousemove', movefn);\n  document.addEventListener('mouseup', upfn);\n}\n\nfunction untrackDocument(stateObj) {\n  document.removeEventListener('mousemove', stateObj.movefn);\n  document.removeEventListener('mouseup', stateObj.upfn);\n  stateObj.movefn = null;\n  stateObj.upfn = null;\n}\n\n/**\n * Returns the composedPath for the given event.\n * @param {Event} event to process\n * @return {!Array<!EventTarget>} Path of the event\n */\nconst getComposedPath =\n  window.ShadyDOM && window.ShadyDOM.noPatch\n    ? window.ShadyDOM.composedPath\n    : (event) => (event.composedPath && event.composedPath()) || [];\n\n/** @type {!Object<string, !GestureRecognizer>} */\nexport const gestures = {};\n\n/** @type {!Array<!GestureRecognizer>} */\nexport const recognizers = [];\n\n/**\n * Finds the element rendered on the screen at the provided coordinates.\n *\n * Similar to `document.elementFromPoint`, but pierces through\n * shadow roots.\n *\n * @param {number} x Horizontal pixel coordinate\n * @param {number} y Vertical pixel coordinate\n * @return {Element} Returns the deepest shadowRoot inclusive element\n * found at the screen position given.\n */\nexport function deepTargetFind(x, y) {\n  let node = document.elementFromPoint(x, y);\n  let next = node;\n  // This code path is only taken when native ShadowDOM is used\n  // if there is a shadowroot, it may have a node at x/y\n  // if there is not a shadowroot, exit the loop\n  while (next && next.shadowRoot && !window.ShadyDOM) {\n    // If there is a node at x/y in the shadowroot, look deeper\n    const oldNext = next;\n    next = next.shadowRoot.elementFromPoint(x, y);\n    // On Safari, elementFromPoint may return the shadowRoot host\n    if (oldNext === next) {\n      break;\n    }\n    if (next) {\n      node = next;\n    }\n  }\n  return node;\n}\n\n/**\n * A cheaper check than ev.composedPath()[0];\n *\n * @private\n * @param {Event|Touch} ev Event.\n * @return {EventTarget} Returns the event target.\n */\nfunction _findOriginalTarget(ev) {\n  const path = getComposedPath(/** @type {?Event} */ (ev));\n  // It shouldn't be, but sometimes path is empty (window on Safari).\n  return path.length > 0 ? path[0] : ev.target;\n}\n\n/**\n * @private\n * @param {Event} ev Event.\n * @return {void}\n */\nfunction _handleNative(ev) {\n  const type = ev.type;\n  const node = ev.currentTarget;\n  const gobj = node[GESTURE_KEY];\n  if (!gobj) {\n    return;\n  }\n  const gs = gobj[type];\n  if (!gs) {\n    return;\n  }\n  if (!ev[HANDLED_OBJ]) {\n    ev[HANDLED_OBJ] = {};\n    if (type.startsWith('touch')) {\n      const t = ev.changedTouches[0];\n      if (type === 'touchstart') {\n        // Only handle the first finger\n        if (ev.touches.length === 1) {\n          POINTERSTATE.touch.id = t.identifier;\n        }\n      }\n      if (POINTERSTATE.touch.id !== t.identifier) {\n        return;\n      }\n      if (!HAS_NATIVE_TA) {\n        if (type === 'touchstart' || type === 'touchmove') {\n          _handleTouchAction(ev);\n        }\n      }\n    }\n  }\n  const handled = ev[HANDLED_OBJ];\n  // Used to ignore synthetic mouse events\n  if (handled.skip) {\n    return;\n  }\n  // Reset recognizer state\n  for (let i = 0, r; i < recognizers.length; i++) {\n    r = recognizers[i];\n    if (gs[r.name] && !handled[r.name]) {\n      if (r.flow && r.flow.start.indexOf(ev.type) > -1 && r.reset) {\n        r.reset();\n      }\n    }\n  }\n  // Enforce gesture recognizer order\n  for (let i = 0, r; i < recognizers.length; i++) {\n    r = recognizers[i];\n    if (gs[r.name] && !handled[r.name]) {\n      handled[r.name] = true;\n      r[type](ev);\n    }\n  }\n}\n\n/**\n * @private\n * @param {TouchEvent} ev Event.\n * @return {void}\n */\nfunction _handleTouchAction(ev) {\n  const t = ev.changedTouches[0];\n  const type = ev.type;\n  if (type === 'touchstart') {\n    POINTERSTATE.touch.x = t.clientX;\n    POINTERSTATE.touch.y = t.clientY;\n    POINTERSTATE.touch.scrollDecided = false;\n  } else if (type === 'touchmove') {\n    if (POINTERSTATE.touch.scrollDecided) {\n      return;\n    }\n    POINTERSTATE.touch.scrollDecided = true;\n    const ta = firstTouchAction(ev);\n    let shouldPrevent = false;\n    const dx = Math.abs(POINTERSTATE.touch.x - t.clientX);\n    const dy = Math.abs(POINTERSTATE.touch.y - t.clientY);\n    if (!ev.cancelable) {\n      // Scrolling is happening\n    } else if (ta === 'none') {\n      shouldPrevent = true;\n    } else if (ta === 'pan-x') {\n      shouldPrevent = dy > dx;\n    } else if (ta === 'pan-y') {\n      shouldPrevent = dx > dy;\n    }\n    if (shouldPrevent) {\n      ev.preventDefault();\n    } else {\n      prevent('track');\n    }\n  }\n}\n\n/**\n * Adds an event listener to a node for the given gesture type.\n *\n * @param {!EventTarget} node Node to add listener on\n * @param {string} evType Gesture type: `down`, `up`, `track`, or `tap`\n * @param {!function(!Event):void} handler Event listener function to call\n * @return {boolean} Returns true if a gesture event listener was added.\n */\nexport function addListener(node, evType, handler) {\n  if (gestures[evType]) {\n    _add(node, evType, handler);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Removes an event listener from a node for the given gesture type.\n *\n * @param {!EventTarget} node Node to remove listener from\n * @param {string} evType Gesture type: `down`, `up`, `track`, or `tap`\n * @param {!function(!Event):void} handler Event listener function previously passed to\n *  `addListener`.\n * @return {boolean} Returns true if a gesture event listener was removed.\n */\nexport function removeListener(node, evType, handler) {\n  if (gestures[evType]) {\n    _remove(node, evType, handler);\n    return true;\n  }\n  return false;\n}\n\n/**\n * Automate the event listeners for the native events\n *\n * @private\n * @param {!EventTarget} node Node on which to add the event.\n * @param {string} evType Event type to add.\n * @param {function(!Event)} handler Event handler function.\n * @return {void}\n */\nfunction _add(node, evType, handler) {\n  const recognizer = gestures[evType];\n  const deps = recognizer.deps;\n  const name = recognizer.name;\n  let gobj = node[GESTURE_KEY];\n  if (!gobj) {\n    node[GESTURE_KEY] = gobj = {};\n  }\n  for (let i = 0, dep, gd; i < deps.length; i++) {\n    dep = deps[i];\n    // Don't add mouse handlers on iOS because they cause gray selection overlays\n    if (IS_TOUCH_ONLY && isMouseEvent(dep) && dep !== 'click') {\n      continue;\n    }\n    gd = gobj[dep];\n    if (!gd) {\n      gobj[dep] = gd = { _count: 0 };\n    }\n    if (gd._count === 0) {\n      node.addEventListener(dep, _handleNative, PASSIVE_TOUCH(dep));\n    }\n    gd[name] = (gd[name] || 0) + 1;\n    gd._count = (gd._count || 0) + 1;\n  }\n  node.addEventListener(evType, handler);\n  if (recognizer.touchAction) {\n    setTouchAction(node, recognizer.touchAction);\n  }\n}\n\n/**\n * Automate event listener removal for native events\n *\n * @private\n * @param {!EventTarget} node Node on which to remove the event.\n * @param {string} evType Event type to remove.\n * @param {function(!Event): void} handler Event handler function.\n * @return {void}\n */\nfunction _remove(node, evType, handler) {\n  const recognizer = gestures[evType];\n  const deps = recognizer.deps;\n  const name = recognizer.name;\n  const gobj = node[GESTURE_KEY];\n  if (gobj) {\n    for (let i = 0, dep, gd; i < deps.length; i++) {\n      dep = deps[i];\n      gd = gobj[dep];\n      if (gd && gd[name]) {\n        gd[name] = (gd[name] || 1) - 1;\n        gd._count = (gd._count || 1) - 1;\n        if (gd._count === 0) {\n          node.removeEventListener(dep, _handleNative, PASSIVE_TOUCH(dep));\n        }\n      }\n    }\n  }\n  node.removeEventListener(evType, handler);\n}\n\n/**\n * Registers a new gesture event recognizer for adding new custom\n * gesture event types.\n *\n * @param {!GestureRecognizer} recog Gesture recognizer descriptor\n * @return {void}\n */\nexport function register(recog) {\n  recognizers.push(recog);\n  recog.emits.forEach((emit) => {\n    gestures[emit] = recog;\n  });\n}\n\n/**\n * @private\n * @param {string} evName Event name.\n * @return {Object} Returns the gesture for the given event name.\n */\nfunction _findRecognizerByEvent(evName) {\n  for (let i = 0, r; i < recognizers.length; i++) {\n    r = recognizers[i];\n    for (let j = 0, n; j < r.emits.length; j++) {\n      n = r.emits[j];\n      if (n === evName) {\n        return r;\n      }\n    }\n  }\n  return null;\n}\n\n/**\n * Sets scrolling direction on node.\n *\n * This value is checked on first move, thus it should be called prior to\n * adding event listeners.\n *\n * @param {!EventTarget} node Node to set touch action setting on\n * @param {string} value Touch action value\n * @return {void}\n */\nexport function setTouchAction(node, value) {\n  if (HAS_NATIVE_TA && node instanceof HTMLElement) {\n    // NOTE: add touchAction async so that events can be added in\n    // custom element constructors. Otherwise we run afoul of custom\n    // elements restriction against settings attributes (style) in the\n    // constructor.\n    microTask.run(() => {\n      node.style.touchAction = value;\n    });\n  }\n  node[TOUCH_ACTION] = value;\n}\n\n/**\n * Dispatches an event on the `target` element of `type` with the given\n * `detail`.\n * @private\n * @param {!EventTarget} target The element on which to fire an event.\n * @param {string} type The type of event to fire.\n * @param {!Object=} detail The detail object to populate on the event.\n * @return {void}\n */\nfunction _fire(target, type, detail) {\n  const ev = new Event(type, { bubbles: true, cancelable: true, composed: true });\n  ev.detail = detail;\n  wrap(/** @type {!Node} */ (target)).dispatchEvent(ev);\n  // Forward `preventDefault` in a clean way\n  if (ev.defaultPrevented) {\n    const preventer = detail.preventer || detail.sourceEvent;\n    if (preventer && preventer.preventDefault) {\n      preventer.preventDefault();\n    }\n  }\n}\n\n/**\n * Prevents the dispatch and default action of the given event name.\n *\n * @param {string} evName Event name.\n * @return {void}\n */\nexport function prevent(evName) {\n  const recognizer = _findRecognizerByEvent(evName);\n  if (recognizer.info) {\n    recognizer.info.prevent = true;\n  }\n}\n\nregister({\n  name: 'downup',\n  deps: ['mousedown', 'touchstart', 'touchend'],\n  flow: {\n    start: ['mousedown', 'touchstart'],\n    end: ['mouseup', 'touchend'],\n  },\n  emits: ['down', 'up'],\n\n  info: {\n    movefn: null,\n    upfn: null,\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @return {void}\n   */\n  reset() {\n    untrackDocument(this.info);\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   * @return {void}\n   */\n  mousedown(e) {\n    if (!hasLeftMouseButton(e)) {\n      return;\n    }\n    const t = _findOriginalTarget(e);\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    const movefn = (e) => {\n      if (!hasLeftMouseButton(e)) {\n        downupFire('up', t, e);\n        untrackDocument(self.info);\n      }\n    };\n    const upfn = (e) => {\n      if (hasLeftMouseButton(e)) {\n        downupFire('up', t, e);\n      }\n      untrackDocument(self.info);\n    };\n    trackDocument(this.info, movefn, upfn);\n    downupFire('down', t, e);\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchstart(e) {\n    downupFire('down', _findOriginalTarget(e), e.changedTouches[0], e);\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchend(e) {\n    downupFire('up', _findOriginalTarget(e), e.changedTouches[0], e);\n  },\n});\n\n/**\n * @param {string} type\n * @param {EventTarget} target\n * @param {Event|Touch} event\n * @param {Event=} preventer\n * @return {void}\n */\nfunction downupFire(type, target, event, preventer) {\n  if (!target) {\n    return;\n  }\n  _fire(target, type, {\n    x: event.clientX,\n    y: event.clientY,\n    sourceEvent: event,\n    preventer,\n    prevent(e) {\n      return prevent(e);\n    },\n  });\n}\n\nregister({\n  name: 'track',\n  touchAction: 'none',\n  deps: ['mousedown', 'touchstart', 'touchmove', 'touchend'],\n  flow: {\n    start: ['mousedown', 'touchstart'],\n    end: ['mouseup', 'touchend'],\n  },\n  emits: ['track'],\n\n  info: {\n    x: 0,\n    y: 0,\n    state: 'start',\n    started: false,\n    moves: [],\n    /** @this {GestureInfo} */\n    addMove(move) {\n      if (this.moves.length > TRACK_LENGTH) {\n        this.moves.shift();\n      }\n      this.moves.push(move);\n    },\n    movefn: null,\n    upfn: null,\n    prevent: false,\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @return {void}\n   */\n  reset() {\n    this.info.state = 'start';\n    this.info.started = false;\n    this.info.moves = [];\n    this.info.x = 0;\n    this.info.y = 0;\n    this.info.prevent = false;\n    untrackDocument(this.info);\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   * @return {void}\n   */\n  mousedown(e) {\n    if (!hasLeftMouseButton(e)) {\n      return;\n    }\n    const t = _findOriginalTarget(e);\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    const movefn = (e) => {\n      const x = e.clientX,\n        y = e.clientY;\n      if (trackHasMovedEnough(self.info, x, y)) {\n        // First move is 'start', subsequent moves are 'move', mouseup is 'end'\n        self.info.state = self.info.started ? (e.type === 'mouseup' ? 'end' : 'track') : 'start';\n        if (self.info.state === 'start') {\n          // If and only if tracking, always prevent tap\n          prevent('tap');\n        }\n        self.info.addMove({ x, y });\n        if (!hasLeftMouseButton(e)) {\n          // Always fire \"end\"\n          self.info.state = 'end';\n          untrackDocument(self.info);\n        }\n        if (t) {\n          trackFire(self.info, t, e);\n        }\n        self.info.started = true;\n      }\n    };\n    const upfn = (e) => {\n      if (self.info.started) {\n        movefn(e);\n      }\n\n      // Remove the temporary listeners\n      untrackDocument(self.info);\n    };\n    // Add temporary document listeners as mouse retargets\n    trackDocument(this.info, movefn, upfn);\n    this.info.x = e.clientX;\n    this.info.y = e.clientY;\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchstart(e) {\n    const ct = e.changedTouches[0];\n    this.info.x = ct.clientX;\n    this.info.y = ct.clientY;\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchmove(e) {\n    const t = _findOriginalTarget(e);\n    const ct = e.changedTouches[0];\n    const x = ct.clientX,\n      y = ct.clientY;\n    if (trackHasMovedEnough(this.info, x, y)) {\n      if (this.info.state === 'start') {\n        // If and only if tracking, always prevent tap\n        prevent('tap');\n      }\n      this.info.addMove({ x, y });\n      trackFire(this.info, t, ct);\n      this.info.state = 'track';\n      this.info.started = true;\n    }\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchend(e) {\n    const t = _findOriginalTarget(e);\n    const ct = e.changedTouches[0];\n    // Only trackend if track was started and not aborted\n    if (this.info.started) {\n      // Reset started state on up\n      this.info.state = 'end';\n      this.info.addMove({ x: ct.clientX, y: ct.clientY });\n      trackFire(this.info, t, ct);\n    }\n  },\n});\n\n/**\n * @param {!GestureInfo} info\n * @param {number} x\n * @param {number} y\n * @return {boolean}\n */\nfunction trackHasMovedEnough(info, x, y) {\n  if (info.prevent) {\n    return false;\n  }\n  if (info.started) {\n    return true;\n  }\n  const dx = Math.abs(info.x - x);\n  const dy = Math.abs(info.y - y);\n  return dx >= TRACK_DISTANCE || dy >= TRACK_DISTANCE;\n}\n\n/**\n * @param {!GestureInfo} info\n * @param {?EventTarget} target\n * @param {Touch} touch\n * @return {void}\n */\nfunction trackFire(info, target, touch) {\n  if (!target) {\n    return;\n  }\n  const secondlast = info.moves[info.moves.length - 2];\n  const lastmove = info.moves[info.moves.length - 1];\n  const dx = lastmove.x - info.x;\n  const dy = lastmove.y - info.y;\n  let ddx,\n    ddy = 0;\n  if (secondlast) {\n    ddx = lastmove.x - secondlast.x;\n    ddy = lastmove.y - secondlast.y;\n  }\n  _fire(target, 'track', {\n    state: info.state,\n    x: touch.clientX,\n    y: touch.clientY,\n    dx,\n    dy,\n    ddx,\n    ddy,\n    sourceEvent: touch,\n    hover() {\n      return deepTargetFind(touch.clientX, touch.clientY);\n    },\n  });\n}\n\nregister({\n  name: 'tap',\n  deps: ['mousedown', 'click', 'touchstart', 'touchend'],\n  flow: {\n    start: ['mousedown', 'touchstart'],\n    end: ['click', 'touchend'],\n  },\n  emits: ['tap'],\n  info: {\n    x: NaN,\n    y: NaN,\n    prevent: false,\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @return {void}\n   */\n  reset() {\n    this.info.x = NaN;\n    this.info.y = NaN;\n    this.info.prevent = false;\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   * @return {void}\n   */\n  mousedown(e) {\n    if (hasLeftMouseButton(e)) {\n      this.info.x = e.clientX;\n      this.info.y = e.clientY;\n    }\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {MouseEvent} e\n   * @return {void}\n   */\n  click(e) {\n    if (hasLeftMouseButton(e)) {\n      trackForward(this.info, e);\n    }\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchstart(e) {\n    const touch = e.changedTouches[0];\n    this.info.x = touch.clientX;\n    this.info.y = touch.clientY;\n  },\n\n  /**\n   * @this {GestureRecognizer}\n   * @param {TouchEvent} e\n   * @return {void}\n   */\n  touchend(e) {\n    trackForward(this.info, e.changedTouches[0], e);\n  },\n});\n\n/**\n * @param {!GestureInfo} info\n * @param {Event | Touch} e\n * @param {Event=} preventer\n * @return {void}\n */\nfunction trackForward(info, e, preventer) {\n  const dx = Math.abs(e.clientX - info.x);\n  const dy = Math.abs(e.clientY - info.y);\n  // Find original target from `preventer` for TouchEvents, or `e` for MouseEvents\n  const t = _findOriginalTarget(preventer || e);\n  if (!t || (canBeDisabled[/** @type {!HTMLElement} */ (t).localName] && t.hasAttribute('disabled'))) {\n    return;\n  }\n  // Dx,dy can be NaN if `click` has been simulated and there was no `down` for `start`\n  if (isNaN(dx) || isNaN(dy) || (dx <= TAP_DISTANCE && dy <= TAP_DISTANCE) || isSyntheticClick(e)) {\n    // Prevent taps from being generated if an event has canceled them\n    if (!info.prevent) {\n      _fire(t, 'tap', {\n        x: e.clientX,\n        y: e.clientY,\n        sourceEvent: e,\n        preventer,\n      });\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { isTouch } from '@vaadin/component-base/src/browser-utils.js';\nimport { addListener } from '@vaadin/component-base/src/gestures.js';\nimport { iterateChildren, updateColumnOrders } from './vaadin-grid-helpers.js';\n\n/**\n * @polymerMixin\n */\nexport const ColumnReorderingMixin = (superClass) =>\n  class ColumnReorderingMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Set to true to allow column reordering.\n         * @attr {boolean} column-reordering-allowed\n         * @type {boolean}\n         */\n        columnReorderingAllowed: {\n          type: Boolean,\n          value: false,\n        },\n\n        /** @private */\n        _orderBaseScope: {\n          type: Number,\n          value: 10000000,\n        },\n      };\n    }\n\n    static get observers() {\n      return ['_updateOrders(_columnTree)'];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      addListener(this, 'track', this._onTrackEvent);\n      this._reorderGhost = this.shadowRoot.querySelector('[part=\"reorder-ghost\"]');\n\n      this.addEventListener('touchstart', this._onTouchStart.bind(this));\n      this.addEventListener('touchmove', this._onTouchMove.bind(this));\n      this.addEventListener('touchend', this._onTouchEnd.bind(this));\n      this.addEventListener('contextmenu', this._onContextMenu.bind(this));\n    }\n\n    /** @private */\n    _onContextMenu(e) {\n      if (this.hasAttribute('reordering')) {\n        e.preventDefault();\n\n        // A contextmenu event is fired on mobile Chrome on long-press\n        // (which should start reordering). Don't end the reorder on touch devices.\n        if (!isTouch) {\n          // Context menu cancels the track gesture on desktop without firing an end event.\n          // End the reorder manually.\n          this._onTrackEnd();\n        }\n      }\n    }\n\n    /** @private */\n    _onTouchStart(e) {\n      // Touch event, delay activation by 100ms\n      this._startTouchReorderTimeout = setTimeout(() => {\n        this._onTrackStart({\n          detail: {\n            x: e.touches[0].clientX,\n            y: e.touches[0].clientY,\n          },\n        });\n      }, 100);\n    }\n\n    /** @private */\n    _onTouchMove(e) {\n      if (this._draggedColumn) {\n        e.preventDefault();\n      }\n      clearTimeout(this._startTouchReorderTimeout);\n    }\n\n    /** @private */\n    _onTouchEnd() {\n      clearTimeout(this._startTouchReorderTimeout);\n      this._onTrackEnd();\n    }\n\n    /** @private */\n    _onTrackEvent(e) {\n      if (e.detail.state === 'start') {\n        const path = e.composedPath();\n        const headerCell = path[path.indexOf(this.$.header) - 2];\n        if (!headerCell || !headerCell._content) {\n          // Not a header column\n          return;\n        }\n\n        if (headerCell._content.contains(this.getRootNode().activeElement)) {\n          // Something was focused inside the cell\n          return;\n        }\n\n        if (this.$.scroller.hasAttribute('column-resizing')) {\n          // Resizing is in progress\n          return;\n        }\n\n        if (!this._touchDevice) {\n          // Not a touch device\n          this._onTrackStart(e);\n        }\n      } else if (e.detail.state === 'track') {\n        this._onTrack(e);\n      } else if (e.detail.state === 'end') {\n        this._onTrackEnd(e);\n      }\n    }\n\n    /** @private */\n    _onTrackStart(e) {\n      if (!this.columnReorderingAllowed) {\n        return;\n      }\n\n      // Cancel reordering if there are draggable nodes on the event path\n      const path = e.composedPath && e.composedPath();\n      if (path && path.some((node) => node.hasAttribute && node.hasAttribute('draggable'))) {\n        return;\n      }\n\n      const headerCell = this._cellFromPoint(e.detail.x, e.detail.y);\n      if (!headerCell || !headerCell.getAttribute('part').includes('header-cell')) {\n        return;\n      }\n\n      this.toggleAttribute('reordering', true);\n      this._draggedColumn = headerCell._column;\n      while (this._draggedColumn.parentElement.childElementCount === 1) {\n        // This is the only column in the group, drag the whole group instead\n        this._draggedColumn = this._draggedColumn.parentElement;\n      }\n      this._setSiblingsReorderStatus(this._draggedColumn, 'allowed');\n      this._draggedColumn._reorderStatus = 'dragging';\n\n      this._updateGhost(headerCell);\n      this._reorderGhost.style.visibility = 'visible';\n      this._updateGhostPosition(e.detail.x, this._touchDevice ? e.detail.y - 50 : e.detail.y);\n      this._autoScroller();\n    }\n\n    /** @private */\n    _onTrack(e) {\n      if (!this._draggedColumn) {\n        // Reordering didn't start. Skip this event.\n        return;\n      }\n\n      const targetCell = this._cellFromPoint(e.detail.x, e.detail.y);\n      if (!targetCell) {\n        return;\n      }\n\n      const targetColumn = this._getTargetColumn(targetCell, this._draggedColumn);\n      if (\n        this._isSwapAllowed(this._draggedColumn, targetColumn) &&\n        this._isSwappableByPosition(targetColumn, e.detail.x)\n      ) {\n        // Get the header level of the target column (and the dragged column)\n        const columnTreeLevel = this._columnTree.findIndex((level) => level.includes(targetColumn));\n        // Get the columns on that level in visual order\n        const levelColumnsInOrder = this._getColumnsInOrder(columnTreeLevel);\n\n        // Index of the column being dragged\n        const startIndex = levelColumnsInOrder.indexOf(this._draggedColumn);\n        // Index of the column being dragged over\n        const endIndex = levelColumnsInOrder.indexOf(targetColumn);\n\n        // Direction of iteration\n        const direction = startIndex < endIndex ? 1 : -1;\n\n        // Iteratively swap all the columns from the dragged column to the target column\n        for (let i = startIndex; i !== endIndex; i += direction) {\n          this._swapColumnOrders(this._draggedColumn, levelColumnsInOrder[i + direction]);\n        }\n      }\n\n      this._updateGhostPosition(e.detail.x, this._touchDevice ? e.detail.y - 50 : e.detail.y);\n      this._lastDragClientX = e.detail.x;\n    }\n\n    /** @private */\n    _onTrackEnd() {\n      if (!this._draggedColumn) {\n        // Reordering didn't start. Skip this event.\n        return;\n      }\n\n      this.toggleAttribute('reordering', false);\n      this._draggedColumn._reorderStatus = '';\n      this._setSiblingsReorderStatus(this._draggedColumn, '');\n      this._draggedColumn = null;\n      this._lastDragClientX = null;\n      this._reorderGhost.style.visibility = 'hidden';\n\n      this.dispatchEvent(\n        new CustomEvent('column-reorder', {\n          detail: {\n            columns: this._getColumnsInOrder(),\n          },\n        }),\n      );\n    }\n\n    /**\n     * Returns the columns (or column groups) on the specified header level in visual order.\n     * By default, the bottom level is used.\n     *\n     * @return {!Array<!GridColumn>}\n     * @protected\n     */\n    _getColumnsInOrder(headerLevel = this._columnTree.length - 1) {\n      return this._columnTree[headerLevel].filter((c) => !c.hidden).sort((b, a) => b._order - a._order);\n    }\n\n    /**\n     * @param {number} x\n     * @param {number} y\n     * @return {HTMLElement | undefined}\n     * @protected\n     */\n    _cellFromPoint(x = 0, y = 0) {\n      if (!this._draggedColumn) {\n        this.$.scroller.toggleAttribute('no-content-pointer-events', true);\n      }\n      const elementFromPoint = this.shadowRoot.elementFromPoint(x, y);\n      this.$.scroller.toggleAttribute('no-content-pointer-events', false);\n\n      return this._getCellFromElement(elementFromPoint);\n    }\n\n    /** @private */\n    _getCellFromElement(element) {\n      if (element) {\n        // Check if element is a cell\n        if (element._column) {\n          return element;\n        }\n        // Check if element is the cell of a focus button mode column\n        const { parentElement } = element;\n        if (parentElement && parentElement._focusButton === element) {\n          return parentElement;\n        }\n      }\n      return null;\n    }\n\n    /**\n     * @param {number} eventClientX\n     * @param {number} eventClientY\n     * @protected\n     */\n    _updateGhostPosition(eventClientX, eventClientY) {\n      const ghostRect = this._reorderGhost.getBoundingClientRect();\n      // // This is where we want to position the ghost\n      const targetLeft = eventClientX - ghostRect.width / 2;\n      const targetTop = eventClientY - ghostRect.height / 2;\n      // Current position\n      const _left = parseInt(this._reorderGhost._left || 0);\n      const _top = parseInt(this._reorderGhost._top || 0);\n      // Reposition the ghost\n      this._reorderGhost._left = _left - (ghostRect.left - targetLeft);\n      this._reorderGhost._top = _top - (ghostRect.top - targetTop);\n      this._reorderGhost.style.transform = `translate(${this._reorderGhost._left}px, ${this._reorderGhost._top}px)`;\n    }\n\n    /**\n     * @param {!HTMLElement} cell\n     * @return {!HTMLElement}\n     * @protected\n     */\n    _updateGhost(cell) {\n      const ghost = this._reorderGhost;\n      ghost.textContent = cell._content.innerText;\n      const style = window.getComputedStyle(cell);\n      [\n        'boxSizing',\n        'display',\n        'width',\n        'height',\n        'background',\n        'alignItems',\n        'padding',\n        'border',\n        'flex-direction',\n        'overflow',\n      ].forEach((propertyName) => {\n        ghost.style[propertyName] = style[propertyName];\n      });\n      return ghost;\n    }\n\n    /** @private */\n    _updateOrders(columnTree) {\n      if (columnTree === undefined) {\n        return;\n      }\n\n      // Reset all column orders\n      columnTree[0].forEach((column) => {\n        column._order = 0;\n      });\n      // Set order numbers to top-level columns\n      updateColumnOrders(columnTree[0], this._orderBaseScope, 0);\n    }\n\n    /**\n     * @param {!GridColumn} column\n     * @param {string} status\n     * @protected\n     */\n    _setSiblingsReorderStatus(column, status) {\n      iterateChildren(column.parentNode, (sibling) => {\n        if (/column/u.test(sibling.localName) && this._isSwapAllowed(sibling, column)) {\n          sibling._reorderStatus = status;\n        }\n      });\n    }\n\n    /** @protected */\n    _autoScroller() {\n      if (this._lastDragClientX) {\n        const rightDiff = this._lastDragClientX - this.getBoundingClientRect().right + 50;\n        const leftDiff = this.getBoundingClientRect().left - this._lastDragClientX + 50;\n\n        if (rightDiff > 0) {\n          this.$.table.scrollLeft += rightDiff / 10;\n        } else if (leftDiff > 0) {\n          this.$.table.scrollLeft -= leftDiff / 10;\n        }\n      }\n\n      if (this._draggedColumn) {\n        setTimeout(() => this._autoScroller(), 10);\n      }\n    }\n\n    /**\n     * @param {GridColumn | undefined} column1\n     * @param {GridColumn | undefined} column2\n     * @return {boolean | undefined}\n     * @protected\n     */\n    _isSwapAllowed(column1, column2) {\n      if (column1 && column2) {\n        const differentColumns = column1 !== column2;\n        const sameParent = column1.parentElement === column2.parentElement;\n        const sameFrozen =\n          (column1.frozen && column2.frozen) || // Both columns are frozen\n          (column1.frozenToEnd && column2.frozenToEnd) || // Both columns are frozen to end\n          (!column1.frozen && !column1.frozenToEnd && !column2.frozen && !column2.frozenToEnd);\n        return differentColumns && sameParent && sameFrozen;\n      }\n    }\n\n    /**\n     * @param {!GridColumn} targetColumn\n     * @param {number} clientX\n     * @return {boolean}\n     * @protected\n     */\n    _isSwappableByPosition(targetColumn, clientX) {\n      const targetCell = Array.from(this.$.header.querySelectorAll('tr:not([hidden]) [part~=\"cell\"]')).find((cell) =>\n        targetColumn.contains(cell._column),\n      );\n      const sourceCellRect = this.$.header\n        .querySelector('tr:not([hidden]) [reorder-status=dragging]')\n        .getBoundingClientRect();\n      const targetRect = targetCell.getBoundingClientRect();\n      if (targetRect.left > sourceCellRect.left) {\n        return clientX > targetRect.right - sourceCellRect.width;\n      }\n      return clientX < targetRect.left + sourceCellRect.width;\n    }\n\n    /**\n     * @param {!GridColumn} column1\n     * @param {!GridColumn} column2\n     * @protected\n     */\n    _swapColumnOrders(column1, column2) {\n      [column1._order, column2._order] = [column2._order, column1._order];\n      this._debounceUpdateFrozenColumn();\n      this._updateFirstAndLastColumn();\n    }\n\n    /**\n     * @param {HTMLElement | undefined} targetCell\n     * @param {GridColumn} draggedColumn\n     * @return {GridColumn | undefined}\n     * @protected\n     */\n    _getTargetColumn(targetCell, draggedColumn) {\n      if (targetCell && draggedColumn) {\n        let candidate = targetCell._column;\n        while (candidate.parentElement !== draggedColumn.parentElement && candidate !== this) {\n          candidate = candidate.parentElement;\n        }\n        if (candidate.parentElement === draggedColumn.parentElement) {\n          return candidate;\n        }\n        return targetCell._column;\n      }\n    }\n\n    /**\n     * Fired when the columns in the grid are reordered.\n     *\n     * @event column-reorder\n     * @param {Object} detail\n     * @param {Object} detail.columns the columns in the new order\n     */\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { addListener } from '@vaadin/component-base/src/gestures.js';\n\n/**\n * @polymerMixin\n */\nexport const ColumnResizingMixin = (superClass) =>\n  class ColumnResizingMixin extends superClass {\n    /** @protected */\n    ready() {\n      super.ready();\n      const scroller = this.$.scroller;\n      addListener(scroller, 'track', this._onHeaderTrack.bind(this));\n\n      // Disallow scrolling while resizing\n      scroller.addEventListener('touchmove', (e) => scroller.hasAttribute('column-resizing') && e.preventDefault());\n\n      // Disable contextmenu on any resize separator.\n      scroller.addEventListener(\n        'contextmenu',\n        (e) => e.target.getAttribute('part') === 'resize-handle' && e.preventDefault(),\n      );\n\n      // Disable native cell focus when resizing\n      scroller.addEventListener(\n        'mousedown',\n        (e) => e.target.getAttribute('part') === 'resize-handle' && e.preventDefault(),\n      );\n    }\n\n    /** @private */\n    _onHeaderTrack(e) {\n      const handle = e.target;\n      if (handle.getAttribute('part') === 'resize-handle') {\n        const cell = handle.parentElement;\n        let column = cell._column;\n\n        this.$.scroller.toggleAttribute('column-resizing', true);\n\n        // Get the target column to resize\n        while (column.localName === 'vaadin-grid-column-group') {\n          column = column._childColumns\n            .slice(0)\n            .sort((a, b) => a._order - b._order)\n            .filter((column) => !column.hidden)\n            .pop();\n        }\n\n        const isRTL = this.__isRTL;\n        const eventX = e.detail.x;\n        const columnRowCells = Array.from(this.$.header.querySelectorAll('[part~=\"row\"]:last-child [part~=\"cell\"]'));\n        const targetCell = columnRowCells.find((cell) => cell._column === column);\n        // Resize the target column\n        if (targetCell.offsetWidth) {\n          const style = getComputedStyle(targetCell._content);\n          const minWidth =\n            10 +\n            parseInt(style.paddingLeft) +\n            parseInt(style.paddingRight) +\n            parseInt(style.borderLeftWidth) +\n            parseInt(style.borderRightWidth) +\n            parseInt(style.marginLeft) +\n            parseInt(style.marginRight);\n\n          let maxWidth;\n\n          const cellWidth = targetCell.offsetWidth;\n          const cellRect = targetCell.getBoundingClientRect();\n\n          // For cells frozen to end, resize handle is flipped horizontally.\n          if (targetCell.hasAttribute('frozen-to-end')) {\n            maxWidth = cellWidth + (isRTL ? eventX - cellRect.right : cellRect.left - eventX);\n          } else {\n            maxWidth = cellWidth + (isRTL ? cellRect.left - eventX : eventX - cellRect.right);\n          }\n\n          column.width = `${Math.max(minWidth, maxWidth)}px`;\n          column.flexGrow = 0;\n        }\n        // Fix width and flex-grow for all preceding columns\n        columnRowCells\n          .sort((a, b) => a._column._order - b._column._order)\n          .forEach((cell, index, array) => {\n            if (index < array.indexOf(targetCell)) {\n              cell._column.width = `${cell.offsetWidth}px`;\n              cell._column.flexGrow = 0;\n            }\n          });\n\n        const cellFrozenToEnd = this._frozenToEndCells[0];\n\n        // When handle moves below the cell frozen to end, scroll into view.\n        if (cellFrozenToEnd && this.$.table.scrollWidth > this.$.table.offsetWidth) {\n          const frozenRect = cellFrozenToEnd.getBoundingClientRect();\n          const offset = eventX - (isRTL ? frozenRect.right : frozenRect.left);\n\n          if ((isRTL && offset <= 0) || (!isRTL && offset >= 0)) {\n            this.$.table.scrollLeft += offset;\n          }\n        }\n\n        if (e.detail.state === 'end') {\n          this.$.scroller.toggleAttribute('column-resizing', false);\n          this.dispatchEvent(\n            new CustomEvent('column-resize', {\n              detail: { resizedColumn: column },\n            }),\n          );\n        }\n\n        // Notify resize\n        this._resizeHandler();\n      }\n    }\n\n    /**\n     * Fired when a column in the grid is resized by the user.\n     *\n     * @event column-resize\n     * @param {Object} detail\n     * @param {Object} detail.resizedColumn the column that was resized\n     */\n  };\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @typedef {import('./cache.js').Cache} Cache\n */\n\n/**\n * Returns context for the given flattened index, including:\n * - the corresponding cache\n * - the cache level\n * - the corresponding item (if loaded)\n * - the item's index in the cache's items array\n * - the page containing the item\n *\n * @param {Cache} cache\n * @param {number} flatIndex\n */\nexport function getFlatIndexContext(cache, flatIndex, level = 0) {\n  let levelIndex = flatIndex;\n\n  for (const subCache of cache.subCaches) {\n    const index = subCache.parentCacheIndex;\n    if (levelIndex <= index) {\n      break;\n    } else if (levelIndex <= index + subCache.flatSize) {\n      return getFlatIndexContext(subCache, levelIndex - index - 1, level + 1);\n    }\n    levelIndex -= subCache.flatSize;\n  }\n\n  return {\n    cache,\n    item: cache.items[levelIndex],\n    index: levelIndex,\n    page: Math.floor(levelIndex / cache.pageSize),\n    level,\n  };\n}\n\n/**\n * Returns context for the given item, including:\n * - the cache containing the item\n * - the cache level\n * - the item\n * - the item's index in the cache's items array\n * - the item's flattened index\n * - the item's sub-cache (if exists)\n * - the page containing the item\n *\n * If the item isn't found, the method returns undefined.\n *\n * @param {Cache} cache\n * @param {{ getItemId: (item: unknown) => unknown}} context\n * @param {Cache} cache\n * @param {unknown} targetItem\n * @param {number} level\n * @param {number} levelFlatIndex\n */\nexport function getItemContext({ getItemId }, cache, targetItem, level = 0, levelFlatIndex = 0) {\n  // Start looking in this cache\n  for (let index = 0; index < cache.items.length; index++) {\n    const item = cache.items[index];\n    if (!!item && getItemId(item) === getItemId(targetItem)) {\n      return {\n        cache,\n        level,\n        item,\n        index,\n        page: Math.floor(index / cache.pageSize),\n        subCache: cache.getSubCache(index),\n        flatIndex: levelFlatIndex + cache.getFlatIndex(index),\n      };\n    }\n  }\n\n  // Look through sub-caches\n  for (const subCache of cache.subCaches) {\n    const parentItemFlatIndex = levelFlatIndex + cache.getFlatIndex(subCache.parentCacheIndex);\n    const result = getItemContext({ getItemId }, subCache, targetItem, level + 1, parentItemFlatIndex + 1);\n    if (result) {\n      return result;\n    }\n  }\n}\n\n/**\n * Recursively returns the globally flat index of the item the given indexes point to.\n * Each index in the array points to a sub-item of the previous index.\n * Using `Infinity` as an index will point to the last item on the level.\n *\n * @param {Cache} cache\n * @param {number[]} path\n * @param {number} flatIndex\n * @return {number}\n */\nexport function getFlatIndexByPath(cache, [levelIndex, ...subIndexes], flatIndex = 0) {\n  if (levelIndex === Infinity) {\n    // Treat Infinity as the last index on the level\n    levelIndex = cache.size - 1;\n  }\n\n  const flatIndexOnLevel = cache.getFlatIndex(levelIndex);\n  const subCache = cache.getSubCache(levelIndex);\n  if (subCache && subCache.flatSize > 0 && subIndexes.length) {\n    return getFlatIndexByPath(subCache, subIndexes, flatIndex + flatIndexOnLevel + 1);\n  }\n  return flatIndex + flatIndexOnLevel;\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { getFlatIndexContext } from './helpers.js';\n\n/**\n * A class that stores items with their associated sub-caches.\n */\nexport class Cache {\n  /**\n   * A context object.\n   *\n   * @type {{ isExpanded: (item: unknown) => boolean }}\n   */\n  context;\n\n  /**\n   * The number of items to display per page.\n   *\n   * @type {number}\n   */\n  pageSize;\n\n  /**\n   * An array of cached items.\n   *\n   * @type {object[]}\n   */\n  items = [];\n\n  /**\n   * A map where the key is a requested page and the value is a callback\n   * that will be called with data once the request is complete.\n   *\n   * @type {Record<number, Function>}\n   */\n  pendingRequests = {};\n\n  /**\n   * A map where the key is the index of an item in the `items` array\n   * and the value is a sub-cache associated with that item.\n   *\n   * Note, it's intentionally defined as an object instead of a Map\n   * to ensure that Object.entries() returns an array with keys sorted\n   * in alphabetical order, rather than the order they were added.\n   *\n   * @type {Record<number, Cache>}\n   * @private\n   */\n  __subCacheByIndex = {};\n\n  /**\n   * The number of items.\n   *\n   * @type {number}\n   * @private\n   */\n  __size = 0;\n\n  /**\n   * The total number of items, including items from expanded sub-caches.\n   *\n   * @type {number}\n   * @private\n   */\n  __flatSize = 0;\n\n  /**\n   * @param {Cache['context']} context\n   * @param {number} pageSize\n   * @param {number | undefined} size\n   * @param {Cache | undefined} parentCache\n   * @param {number | undefined} parentCacheIndex\n   */\n  constructor(context, pageSize, size, parentCache, parentCacheIndex) {\n    this.context = context;\n    this.pageSize = pageSize;\n    this.size = size;\n    this.parentCache = parentCache;\n    this.parentCacheIndex = parentCacheIndex;\n    this.__flatSize = size || 0;\n  }\n\n  /**\n   * An item in the parent cache that the current cache is associated with.\n   *\n   * @return {object | undefined}\n   */\n  get parentItem() {\n    return this.parentCache && this.parentCache.items[this.parentCacheIndex];\n  }\n\n  /**\n   * An array of sub-caches sorted in the same order as their associated items\n   * appear in the `items` array.\n   *\n   * @return {Cache[]}\n   */\n  get subCaches() {\n    return Object.values(this.__subCacheByIndex);\n  }\n\n  /**\n   * Whether the cache or any of its descendant caches have pending requests.\n   *\n   * @return {boolean}\n   */\n  get isLoading() {\n    if (Object.keys(this.pendingRequests).length > 0) {\n      return true;\n    }\n\n    return this.subCaches.some((subCache) => subCache.isLoading);\n  }\n\n  /**\n   * The total number of items, including items from expanded sub-caches.\n   *\n   * @return {number}\n   */\n  get flatSize() {\n    return this.__flatSize;\n  }\n\n  /**\n   * The total number of items, including items from expanded sub-caches.\n   *\n   * @protected\n   * @deprecated since 24.3 and will be removed in Vaadin 25.\n   */\n  get effectiveSize() {\n    console.warn(\n      '<vaadin-grid> The `effectiveSize` property of ItemCache is deprecated and will be removed in Vaadin 25.',\n    );\n    return this.flatSize;\n  }\n\n  /**\n   * The number of items.\n   *\n   * @return {number}\n   */\n  get size() {\n    return this.__size;\n  }\n\n  /**\n   * Sets the number of items.\n   *\n   * @param {number} size\n   */\n  set size(size) {\n    const oldSize = this.__size;\n    if (oldSize === size) {\n      return;\n    }\n\n    this.__size = size;\n\n    if (this.context.placeholder !== undefined) {\n      this.items.length = size || 0;\n      for (let i = 0; i < size || 0; i++) {\n        this.items[i] ||= this.context.placeholder;\n      }\n    }\n\n    Object.keys(this.pendingRequests).forEach((page) => {\n      const startIndex = parseInt(page) * this.pageSize;\n      if (startIndex >= this.size || 0) {\n        delete this.pendingRequests[page];\n      }\n    });\n  }\n\n  /**\n   * Recalculates the flattened size for the cache and its descendant caches recursively.\n   */\n  recalculateFlatSize() {\n    this.__flatSize =\n      !this.parentItem || this.context.isExpanded(this.parentItem)\n        ? this.size +\n          this.subCaches.reduce((total, subCache) => {\n            subCache.recalculateFlatSize();\n            return total + subCache.flatSize;\n          }, 0)\n        : 0;\n  }\n\n  /**\n   * Adds an array of items corresponding to the given page\n   * to the `items` array.\n   *\n   * @param {number} page\n   * @param {object[]} items\n   */\n  setPage(page, items) {\n    const startIndex = page * this.pageSize;\n    items.forEach((item, i) => {\n      const itemIndex = startIndex + i;\n      if (this.size === undefined || itemIndex < this.size) {\n        this.items[itemIndex] = item;\n      }\n    });\n  }\n\n  /**\n   * Retrieves the sub-cache associated with the item at the given index\n   * in the `items` array.\n   *\n   * @param {number} index\n   * @return {Cache | undefined}\n   */\n  getSubCache(index) {\n    return this.__subCacheByIndex[index];\n  }\n\n  /**\n   * Removes the sub-cache associated with the item at the given index\n   * in the `items` array.\n   *\n   * @param {number} index\n   */\n  removeSubCache(index) {\n    delete this.__subCacheByIndex[index];\n  }\n\n  /**\n   * Removes all sub-caches.\n   */\n  removeSubCaches() {\n    this.__subCacheByIndex = {};\n  }\n\n  /**\n   * Creates and associates a sub-cache for the item at the given index\n   * in the `items` array.\n   *\n   * @param {number} index\n   * @return {Cache}\n   */\n  createSubCache(index) {\n    const subCache = new Cache(this.context, this.pageSize, 0, this, index);\n    this.__subCacheByIndex[index] = subCache;\n    return subCache;\n  }\n\n  /**\n   * Retrieves the flattened index corresponding to the given index\n   * of an item in the `items` array.\n   *\n   * @param {number} index\n   * @return {number}\n   */\n  getFlatIndex(index) {\n    const clampedIndex = Math.max(0, Math.min(this.size - 1, index));\n\n    return this.subCaches.reduce((prev, subCache) => {\n      const index = subCache.parentCacheIndex;\n      return clampedIndex > index ? prev + subCache.flatSize : prev;\n    }, clampedIndex);\n  }\n\n  /**\n   * @deprecated since 24.3 and will be removed in Vaadin 25.\n   */\n  getItemForIndex(index) {\n    console.warn(\n      '<vaadin-grid> The `getItemForIndex` method of ItemCache is deprecated and will be removed in Vaadin 25.',\n    );\n    const { item } = getFlatIndexContext(this, index);\n    return item;\n  }\n\n  /**\n   * @deprecated since 24.3 and will be removed in Vaadin 25.\n   */\n  getCacheAndIndex(index) {\n    console.warn(\n      '<vaadin-grid> The `getCacheAndIndex` method of ItemCache is deprecated and will be removed in Vaadin 25.',\n    );\n    const { cache, index: scaledIndex } = getFlatIndexContext(this, index);\n    return { cache, scaledIndex };\n  }\n\n  /**\n   * @deprecated since 24.3 and will be removed in Vaadin 25.\n   */\n  updateSize() {\n    console.warn('<vaadin-grid> The `updateSize` method of ItemCache is deprecated and will be removed in Vaadin 25.');\n    this.recalculateFlatSize();\n  }\n\n  /**\n   * @deprecated since 24.3 and will be removed in Vaadin 25.\n   */\n  ensureSubCacheForScaledIndex(scaledIndex) {\n    console.warn(\n      '<vaadin-grid> The `ensureSubCacheForScaledIndex` method of ItemCache is deprecated and will be removed in Vaadin 25.',\n    );\n\n    if (!this.getSubCache(scaledIndex)) {\n      const subCache = this.createSubCache(scaledIndex);\n      this.context.__controller.__loadCachePage(subCache, 0);\n    }\n  }\n\n  /**\n   * @deprecated since 24.3 and will be removed in Vaadin 25.\n   */\n  get grid() {\n    console.warn('<vaadin-grid> The `grid` property of ItemCache is deprecated and will be removed in Vaadin 25.');\n    return this.context.__controller.host;\n  }\n\n  /**\n   * @deprecated since 24.3 and will be removed in Vaadin 25.\n   */\n  get itemCaches() {\n    console.warn(\n      '<vaadin-grid> The `itemCaches` property of ItemCache is deprecated and will be removed in Vaadin 25.',\n    );\n    return this.__subCacheByIndex;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { Cache } from './cache.js';\nimport { getFlatIndexByPath, getFlatIndexContext, getItemContext } from './helpers.js';\n\n/**\n * A controller that stores and manages items loaded with a data provider.\n */\nexport class DataProviderController extends EventTarget {\n  /**\n   * The controller host element.\n   *\n   * @param {HTMLElement}\n   */\n  host;\n\n  /**\n   * A callback that returns data based on the passed params such as\n   * `page`, `pageSize`, `parentItem`, etc.\n   */\n  dataProvider;\n\n  /**\n   * A callback that returns additional params that need to be passed\n   * to the data provider callback with every request.\n   */\n  dataProviderParams;\n\n  /**\n   * A number of items to display per page.\n   *\n   * @type {number}\n   */\n  pageSize;\n\n  /**\n   * A callback that returns whether the given item is expanded.\n   *\n   * @type {(item: unknown) => boolean}\n   */\n  isExpanded;\n\n  /**\n   * A callback that returns the id for the given item and that\n   * is used when checking object items for equality.\n   *\n   * @type { (item: unknown) => unknown}\n   */\n  getItemId;\n\n  /**\n   * A reference to the root cache instance.\n   *\n   * @param {Cache}\n   */\n  rootCache;\n\n  /**\n   * A placeholder item that is used to indicate that the item is not loaded yet.\n   *\n   * @type {unknown}\n   */\n  placeholder;\n\n  /**\n   * A callback that returns whether the given item is a placeholder.\n   *\n   * @type {(item: unknown) => boolean}\n   */\n  isPlaceholder;\n\n  constructor(\n    host,\n    { size, pageSize, isExpanded, getItemId, isPlaceholder, placeholder, dataProvider, dataProviderParams },\n  ) {\n    super();\n    this.host = host;\n    this.pageSize = pageSize;\n    this.getItemId = getItemId;\n    this.isExpanded = isExpanded;\n    this.placeholder = placeholder;\n    this.isPlaceholder = isPlaceholder;\n    this.dataProvider = dataProvider;\n    this.dataProviderParams = dataProviderParams;\n    this.rootCache = this.__createRootCache(size);\n  }\n\n  /**\n   * The total number of items, including items from expanded sub-caches.\n   */\n  get flatSize() {\n    return this.rootCache.flatSize;\n  }\n\n  /** @private */\n  get __cacheContext() {\n    return {\n      isExpanded: this.isExpanded,\n      placeholder: this.placeholder,\n      // The controller instance is needed to ensure deprecated cache methods work.\n      __controller: this,\n    };\n  }\n\n  /**\n   * Whether the root cache or any of its decendant caches have pending requests.\n   *\n   * @return {boolean}\n   */\n  isLoading() {\n    return this.rootCache.isLoading;\n  }\n\n  /**\n   * Sets the page size and clears the cache.\n   *\n   * @param {number} pageSize\n   */\n  setPageSize(pageSize) {\n    this.pageSize = pageSize;\n    this.clearCache();\n  }\n\n  /**\n   * Sets the data provider callback and clears the cache.\n   *\n   * @type {Function}\n   */\n  setDataProvider(dataProvider) {\n    this.dataProvider = dataProvider;\n    this.clearCache();\n  }\n\n  /**\n   * Recalculates the flattened size.\n   */\n  recalculateFlatSize() {\n    this.rootCache.recalculateFlatSize();\n  }\n\n  /**\n   * Clears the cache.\n   */\n  clearCache() {\n    this.rootCache = this.__createRootCache(this.rootCache.size);\n  }\n\n  /**\n   * Returns context for the given flattened index, including:\n   * - the corresponding cache\n   * - the cache level\n   * - the corresponding item (if loaded)\n   * - the item's index in the cache's items array\n   * - the page containing the item\n   *\n   * @param {number} flatIndex\n   */\n  getFlatIndexContext(flatIndex) {\n    return getFlatIndexContext(this.rootCache, flatIndex);\n  }\n\n  /**\n   * Returns context for the given item, including:\n   * - the cache containing the item\n   * - the cache level\n   * - the item\n   * - the item's index in the cache's items array\n   * - the item's flattened index\n   * - the item's sub-cache (if exists)\n   * - the page containing the item\n   *\n   * If the item isn't found, the method returns undefined.\n   */\n  getItemContext(item) {\n    return getItemContext({ getItemId: this.getItemId }, this.rootCache, item);\n  }\n\n  /**\n   * Returns the flattened index for the item that the given indexes point to.\n   * Each index in the path array points to a sub-item of the previous index.\n   * Using `Infinity` as an index will point to the last item on the level.\n   *\n   * @param {number[]} path\n   * @return {number}\n   */\n  getFlatIndexByPath(path) {\n    return getFlatIndexByPath(this.rootCache, path);\n  }\n\n  /**\n   * Requests the data provider to load the page with the item corresponding\n   * to the given flattened index. If the item is already loaded, the method\n   * returns immediatelly.\n   *\n   * @param {number} flatIndex\n   */\n  ensureFlatIndexLoaded(flatIndex) {\n    const { cache, page, item } = this.getFlatIndexContext(flatIndex);\n\n    if (!this.__isItemLoaded(item)) {\n      this.__loadCachePage(cache, page);\n    }\n  }\n\n  /**\n   * Creates a sub-cache for the item corresponding to the given flattened index and\n   * requests the data provider to load the first page into the created sub-cache.\n   * If the sub-cache already exists, the method returns immediatelly.\n   *\n   * @param {number} flatIndex\n   */\n  ensureFlatIndexHierarchy(flatIndex) {\n    const { cache, item, index } = this.getFlatIndexContext(flatIndex);\n\n    if (this.__isItemLoaded(item) && this.isExpanded(item) && !cache.getSubCache(index)) {\n      const subCache = cache.createSubCache(index);\n      this.__loadCachePage(subCache, 0);\n    }\n  }\n\n  /**\n   * Loads the first page into the root cache.\n   */\n  loadFirstPage() {\n    this.__loadCachePage(this.rootCache, 0);\n  }\n\n  /** @private */\n  __createRootCache(size) {\n    return new Cache(this.__cacheContext, this.pageSize, size);\n  }\n\n  /** @private */\n  __loadCachePage(cache, page) {\n    if (!this.dataProvider || cache.pendingRequests[page]) {\n      return;\n    }\n\n    let params = {\n      page,\n      pageSize: this.pageSize,\n      parentItem: cache.parentItem,\n    };\n\n    if (this.dataProviderParams) {\n      params = { ...params, ...this.dataProviderParams() };\n    }\n\n    const callback = (items, size) => {\n      if (cache.pendingRequests[page] !== callback) {\n        return;\n      }\n\n      if (size !== undefined) {\n        cache.size = size;\n      } else if (params.parentItem) {\n        cache.size = items.length;\n      }\n\n      cache.setPage(page, items);\n\n      this.recalculateFlatSize();\n\n      this.dispatchEvent(new CustomEvent('page-received'));\n\n      delete cache.pendingRequests[page];\n\n      this.dispatchEvent(new CustomEvent('page-loaded'));\n    };\n\n    cache.pendingRequests[page] = callback;\n\n    this.dispatchEvent(new CustomEvent('page-requested'));\n\n    this.dataProvider(params, callback);\n  }\n\n  /** @private */\n  __isItemLoaded(item) {\n    if (this.isPlaceholder) {\n      return !this.isPlaceholder(item);\n    } else if (this.placeholder) {\n      return item !== this.placeholder;\n    }\n    return !!item;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { microTask, timeOut } from '@vaadin/component-base/src/async.js';\nimport { DataProviderController } from '@vaadin/component-base/src/data-provider-controller/data-provider-controller.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\nimport { get } from '@vaadin/component-base/src/path-utils.js';\nimport { getBodyRowCells, updateCellsPart, updateState } from './vaadin-grid-helpers.js';\n\n/**\n * @polymerMixin\n */\nexport const DataProviderMixin = (superClass) =>\n  class DataProviderMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * The number of root-level items in the grid.\n         * @attr {number} size\n         * @type {number}\n         */\n        size: {\n          type: Number,\n          notify: true,\n          sync: true,\n        },\n\n        /**\n         * @type {number}\n         * @protected\n         */\n        _flatSize: {\n          type: Number,\n          sync: true,\n        },\n\n        /**\n         * Number of items fetched at a time from the dataprovider.\n         * @attr {number} page-size\n         * @type {number}\n         */\n        pageSize: {\n          type: Number,\n          value: 50,\n          observer: '_pageSizeChanged',\n          sync: true,\n        },\n\n        /**\n         * Function that provides items lazily. Receives arguments `params`, `callback`\n         *\n         * `params.page` Requested page index\n         *\n         * `params.pageSize` Current page size\n         *\n         * `params.filters` Currently applied filters\n         *\n         * `params.sortOrders` Currently applied sorting orders\n         *\n         * `params.parentItem` When tree is used, and sublevel items\n         * are requested, reference to parent item of the requested sublevel.\n         * Otherwise `undefined`.\n         *\n         * `callback(items, size)` Callback function with arguments:\n         *   - `items` Current page of items\n         *   - `size` Total number of items. When tree sublevel items\n         *     are requested, total number of items in the requested sublevel.\n         *     Optional when tree is not used, required for tree.\n         *\n         * @type {GridDataProvider | null | undefined}\n         */\n        dataProvider: {\n          type: Object,\n          notify: true,\n          observer: '_dataProviderChanged',\n          sync: true,\n        },\n\n        /**\n         * `true` while data is being requested from the data provider.\n         */\n        loading: {\n          type: Boolean,\n          notify: true,\n          readOnly: true,\n          reflectToAttribute: true,\n        },\n\n        /**\n         * @protected\n         */\n        _hasData: {\n          type: Boolean,\n          value: false,\n          sync: true,\n        },\n\n        /**\n         * Path to an item sub-property that indicates whether the item has child items.\n         * @attr {string} item-has-children-path\n         */\n        itemHasChildrenPath: {\n          type: String,\n          value: 'children',\n          observer: '__itemHasChildrenPathChanged',\n          sync: true,\n        },\n\n        /**\n         * Path to an item sub-property that identifies the item.\n         * @attr {string} item-id-path\n         */\n        itemIdPath: {\n          type: String,\n          value: null,\n          sync: true,\n        },\n\n        /**\n         * An array that contains the expanded items.\n         * @type {!Array<!GridItem>}\n         */\n        expandedItems: {\n          type: Object,\n          notify: true,\n          value: () => [],\n          sync: true,\n        },\n\n        /**\n         * @private\n         */\n        __expandedKeys: {\n          type: Object,\n          computed: '__computeExpandedKeys(itemIdPath, expandedItems)',\n        },\n      };\n    }\n\n    static get observers() {\n      return ['_sizeChanged(size)', '_expandedItemsChanged(expandedItems)'];\n    }\n\n    constructor() {\n      super();\n\n      /** @type {DataProviderController} */\n      this._dataProviderController = new DataProviderController(this, {\n        size: this.size || 0,\n        pageSize: this.pageSize,\n        getItemId: this.getItemId.bind(this),\n        isExpanded: this._isExpanded.bind(this),\n        dataProvider: this.dataProvider ? this.dataProvider.bind(this) : null,\n        dataProviderParams: () => {\n          return {\n            sortOrders: this._mapSorters(),\n            filters: this._mapFilters(),\n          };\n        },\n      });\n\n      this._dataProviderController.addEventListener('page-requested', this._onDataProviderPageRequested.bind(this));\n      this._dataProviderController.addEventListener('page-received', this._onDataProviderPageReceived.bind(this));\n      this._dataProviderController.addEventListener('page-loaded', this._onDataProviderPageLoaded.bind(this));\n    }\n\n    /**\n     * @protected\n     * @deprecated since 24.3 and will be removed in Vaadin 25.\n     */\n    get _cache() {\n      console.warn('<vaadin-grid> The `_cache` property is deprecated and will be removed in Vaadin 25.');\n      return this._dataProviderController.rootCache;\n    }\n\n    /**\n     * @protected\n     * @deprecated since 24.3 and will be removed in Vaadin 25.\n     */\n    get _effectiveSize() {\n      console.warn('<vaadin-grid> The `_effectiveSize` property is deprecated and will be removed in Vaadin 25.');\n      return this._flatSize;\n    }\n\n    /** @private */\n    _sizeChanged(size) {\n      this._dataProviderController.rootCache.size = size;\n      this._dataProviderController.recalculateFlatSize();\n      this._flatSize = this._dataProviderController.flatSize;\n    }\n\n    /** @private */\n    __itemHasChildrenPathChanged(value, oldValue) {\n      if (!oldValue && value === 'children') {\n        // Avoid an unnecessary content update on init.\n        return;\n      }\n      this.requestContentUpdate();\n    }\n\n    /**\n     * @param {number} index\n     * @param {HTMLElement} el\n     * @protected\n     */\n    _getItem(index, el) {\n      el.index = index;\n\n      const { item } = this._dataProviderController.getFlatIndexContext(index);\n      if (item) {\n        this.__updateLoading(el, false);\n        this._updateItem(el, item);\n        if (this._isExpanded(item)) {\n          this._dataProviderController.ensureFlatIndexHierarchy(index);\n        }\n      } else {\n        this.__updateLoading(el, true);\n        this._dataProviderController.ensureFlatIndexLoaded(index);\n      }\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {boolean} loading\n     * @private\n     */\n    __updateLoading(row, loading) {\n      const cells = getBodyRowCells(row);\n\n      // Row state attribute\n      updateState(row, 'loading', loading);\n\n      // Cells part attribute\n      updateCellsPart(cells, 'loading-row-cell', loading);\n\n      if (loading) {\n        // Run style generators for the loading row to have custom names cleared\n        this._generateCellClassNames(row);\n        this._generateCellPartNames(row);\n      }\n    }\n\n    /**\n     * Returns a value that identifies the item. Uses `itemIdPath` if available.\n     * Can be customized by overriding.\n     * @param {!GridItem} item\n     * @return {!GridItem | !unknown}\n     */\n    getItemId(item) {\n      return this.itemIdPath ? get(this.itemIdPath, item) : item;\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @return {boolean}\n     * @protected\n     */\n    _isExpanded(item) {\n      return this.__expandedKeys && this.__expandedKeys.has(this.getItemId(item));\n    }\n\n    /** @private */\n    _expandedItemsChanged() {\n      this._dataProviderController.recalculateFlatSize();\n      this._flatSize = this._dataProviderController.flatSize;\n      this.__updateVisibleRows();\n    }\n\n    /** @private */\n    __computeExpandedKeys(_itemIdPath, expandedItems) {\n      const expanded = expandedItems || [];\n      const expandedKeys = new Set();\n      expanded.forEach((item) => {\n        expandedKeys.add(this.getItemId(item));\n      });\n\n      return expandedKeys;\n    }\n\n    /**\n     * Expands the given item tree.\n     * @param {!GridItem} item\n     */\n    expandItem(item) {\n      if (!this._isExpanded(item)) {\n        this.expandedItems = [...this.expandedItems, item];\n      }\n    }\n\n    /**\n     * Collapses the given item tree.\n     * @param {!GridItem} item\n     */\n    collapseItem(item) {\n      if (this._isExpanded(item)) {\n        this.expandedItems = this.expandedItems.filter((i) => !this._itemsEqual(i, item));\n      }\n    }\n\n    /**\n     * @param {number} index\n     * @return {number}\n     * @protected\n     */\n    _getIndexLevel(index = 0) {\n      const { level } = this._dataProviderController.getFlatIndexContext(index);\n      return level;\n    }\n\n    /**\n     * @param {number} page\n     * @param {ItemCache} cache\n     * @protected\n     * @deprecated since 24.3 and will be removed in Vaadin 25.\n     */\n    _loadPage(page, cache) {\n      console.warn('<vaadin-grid> The `_loadPage` method is deprecated and will be removed in Vaadin 25.');\n      this._dataProviderController.__loadCachePage(cache, page);\n    }\n\n    /** @protected */\n    _onDataProviderPageRequested() {\n      this._setLoading(true);\n    }\n\n    /** @protected */\n    _onDataProviderPageReceived() {\n      // If the page response affected the flat size\n      if (this._flatSize !== this._dataProviderController.flatSize) {\n        // Schedule an update of all rendered rows by _debouncerApplyCachedData,\n        // to ensure that all pages associated with the rendered rows are loaded.\n        this._shouldUpdateAllRenderedRowsAfterPageLoad = true;\n\n        // TODO: Updating the flat size property can still result in a synchonous virtualizer update\n        // if the size change requires the virtualizer to increase the amount of physical elements\n        // to display new items e.g. the viewport fits 10 items and the size changes from 1 to 10.\n        // This is something to be optimized in the future.\n        this._flatSize = this._dataProviderController.flatSize;\n      }\n\n      // After updating the cache, check if some of the expanded items should have sub-caches loaded\n      this._getRenderedRows().forEach((row) => {\n        this._dataProviderController.ensureFlatIndexHierarchy(row.index);\n      });\n\n      this._hasData = true;\n    }\n\n    /** @protected */\n    _onDataProviderPageLoaded() {\n      // Schedule a debouncer to update the visible rows\n      this._debouncerApplyCachedData = Debouncer.debounce(this._debouncerApplyCachedData, timeOut.after(0), () => {\n        this._setLoading(false);\n\n        const shouldUpdateAllRenderedRowsAfterPageLoad = this._shouldUpdateAllRenderedRowsAfterPageLoad;\n        this._shouldUpdateAllRenderedRowsAfterPageLoad = false;\n\n        this._getRenderedRows().forEach((row) => {\n          const { item } = this._dataProviderController.getFlatIndexContext(row.index);\n          if (item || shouldUpdateAllRenderedRowsAfterPageLoad) {\n            this._getItem(row.index, row);\n          }\n        });\n\n        this.__scrollToPendingIndexes();\n        this.__dispatchPendingBodyCellFocus();\n      });\n\n      // If the grid is not loading anything, flush the debouncer immediately\n      if (!this._dataProviderController.isLoading()) {\n        this._debouncerApplyCachedData.flush();\n      }\n    }\n\n    /** @private */\n    __debounceClearCache() {\n      this.__clearCacheDebouncer = Debouncer.debounce(this.__clearCacheDebouncer, microTask, () => this.clearCache());\n    }\n\n    /**\n     * Clears the cached pages and reloads data from dataprovider when needed.\n     */\n    clearCache() {\n      this._dataProviderController.clearCache();\n      this._dataProviderController.rootCache.size = this.size || 0;\n      this._dataProviderController.recalculateFlatSize();\n      this._hasData = false;\n      this.__updateVisibleRows();\n\n      if (!this.__virtualizer || !this.__virtualizer.size) {\n        this._dataProviderController.loadFirstPage();\n      }\n    }\n\n    /** @private */\n    _pageSizeChanged(pageSize, oldPageSize) {\n      this._dataProviderController.setPageSize(pageSize);\n\n      if (oldPageSize !== undefined && pageSize !== oldPageSize) {\n        this.clearCache();\n      }\n    }\n\n    /** @protected */\n    _checkSize() {\n      if (this.size === undefined && this._flatSize === 0) {\n        console.warn(\n          'The <vaadin-grid> needs the total number of items in' +\n            ' order to display rows, which you can specify either by setting' +\n            ' the `size` property, or by providing it to the second argument' +\n            ' of the `dataProvider` function `callback` call.',\n        );\n      }\n    }\n\n    /** @private */\n    _dataProviderChanged(dataProvider, oldDataProvider) {\n      this._dataProviderController.setDataProvider(dataProvider ? dataProvider.bind(this) : null);\n\n      if (oldDataProvider !== undefined) {\n        this.clearCache();\n      }\n\n      this._ensureFirstPageLoaded();\n\n      this._debouncerCheckSize = Debouncer.debounce(\n        this._debouncerCheckSize,\n        timeOut.after(2000),\n        this._checkSize.bind(this),\n      );\n    }\n\n    /** @protected */\n    _ensureFirstPageLoaded() {\n      if (!this._hasData) {\n        // Load data before adding rows to make sure they have content when\n        // rendered for the first time.\n        this._dataProviderController.loadFirstPage();\n      }\n    }\n\n    /**\n     * @param {!GridItem} item1\n     * @param {!GridItem} item2\n     * @return {boolean}\n     * @protected\n     */\n    _itemsEqual(item1, item2) {\n      return this.getItemId(item1) === this.getItemId(item2);\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @param {!Array<!GridItem>} array\n     * @return {number}\n     * @protected\n     */\n    _getItemIndexInArray(item, array) {\n      let result = -1;\n      array.forEach((i, idx) => {\n        if (this._itemsEqual(i, item)) {\n          result = idx;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Scroll to a specific row index in the virtual list. Note that the row index is\n     * not always the same for any particular item. For example, sorting or filtering\n     * items can affect the row index related to an item.\n     *\n     * The `indexes` parameter can be either a single number or multiple numbers.\n     * The grid will first try to scroll to the item at the first index on the top level.\n     * In case the item at the first index is expanded, the grid will then try scroll to the\n     * item at the second index within the children of the expanded first item, and so on.\n     * Each given index points to a child of the item at the previous index.\n     *\n     * Using `Infinity` as an index will point to the last item on the level.\n     *\n     * @param indexes {...number} Row indexes to scroll to\n     */\n    scrollToIndex(...indexes) {\n      if (!this.__virtualizer || !this.clientHeight || !this._columnTree) {\n        this.__pendingScrollToIndexes = indexes;\n        return;\n      }\n      // Synchronous data provider may cause changes to the cache on scroll without\n      // ending up in a loading state. Try scrolling to the index until the target\n      // index stabilizes.\n      let targetIndex;\n      while (targetIndex !== (targetIndex = this._dataProviderController.getFlatIndexByPath(indexes))) {\n        this._scrollToFlatIndex(targetIndex);\n      }\n\n      if (this._dataProviderController.isLoading()) {\n        this.__pendingScrollToIndexes = indexes;\n      }\n    }\n\n    /** @private */\n    __scrollToPendingIndexes() {\n      if (this.__pendingScrollToIndexes && this.$.items.children.length) {\n        const indexes = this.__pendingScrollToIndexes;\n        delete this.__pendingScrollToIndexes;\n        this.scrollToIndex(...indexes);\n      }\n    }\n\n    /**\n     * Fired when the `expandedItems` property changes.\n     *\n     * @event expanded-items-changed\n     */\n\n    /**\n     * Fired when the `loading` property changes.\n     *\n     * @event loading-changed\n     */\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { isChrome, isSafari } from '@vaadin/component-base/src/browser-utils.js';\nimport {\n  iterateChildren,\n  iterateRowCells,\n  updateBooleanRowStates,\n  updateStringRowStates,\n} from './vaadin-grid-helpers.js';\n\nconst DropMode = {\n  BETWEEN: 'between',\n  ON_TOP: 'on-top',\n  ON_TOP_OR_BETWEEN: 'on-top-or-between',\n  ON_GRID: 'on-grid',\n};\n\nconst DropLocation = {\n  ON_TOP: 'on-top',\n  ABOVE: 'above',\n  BELOW: 'below',\n  EMPTY: 'empty',\n};\n\n// Detects if the browser doesn't support HTML5 Drag & Drop API (and falls back to the @vaadin/vaadin-mobile-drag-drop polyfill)\nconst usesDnDPolyfill = !('draggable' in document.createElement('div'));\n\n/**\n * @polymerMixin\n */\nexport const DragAndDropMixin = (superClass) =>\n  class DragAndDropMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Defines the locations within the Grid row where an element can be dropped.\n         *\n         * Possible values are:\n         * - `between`: The drop event can happen between Grid rows.\n         * - `on-top`: The drop event can happen on top of Grid rows.\n         * - `on-top-or-between`: The drop event can happen either on top of or between Grid rows.\n         * - `on-grid`: The drop event will not happen on any specific row, it will show the drop target outline around the whole grid.\n         * @attr {between|on-top|on-top-or-between|on-grid} drop-mode\n         * @type {GridDropMode | null | undefined}\n         */\n        dropMode: {\n          type: String,\n          sync: true,\n        },\n\n        /**\n         * Marks the grid's rows to be available for dragging.\n         * @attr {boolean} rows-draggable\n         */\n        rowsDraggable: {\n          type: Boolean,\n          sync: true,\n        },\n\n        /**\n         * A function that filters dragging of specific grid rows. The return value should be false\n         * if dragging of the row should be disabled.\n         *\n         * Receives one argument:\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.expanded` Sublevel toggle state.\n         *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n         *   - `model.selected` Selected state.\n         *\n         * @type {GridDragAndDropFilter | null | undefined}\n         */\n        dragFilter: {\n          type: Function,\n          sync: true,\n        },\n\n        /**\n         * A function that filters dropping on specific grid rows. The return value should be false\n         * if dropping on the row should be disabled.\n         *\n         * Receives one argument:\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.expanded` Sublevel toggle state.\n         *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n         *   - `model.selected` Selected state.\n         *\n         * @type {GridDragAndDropFilter | null | undefined}\n         */\n        dropFilter: {\n          type: Function,\n          sync: true,\n        },\n\n        /** @private */\n        __dndAutoScrollThreshold: {\n          value: 50,\n        },\n\n        /** @private  */\n        __draggedItems: {\n          value: () => [],\n        },\n      };\n    }\n\n    static get observers() {\n      return ['_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter, loading)'];\n    }\n\n    constructor() {\n      super();\n      this.__onDocumentDragStart = this.__onDocumentDragStart.bind(this);\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      this.$.table.addEventListener('dragstart', this._onDragStart.bind(this));\n      this.$.table.addEventListener('dragend', this._onDragEnd.bind(this));\n      this.$.table.addEventListener('dragover', this._onDragOver.bind(this));\n      this.$.table.addEventListener('dragleave', this._onDragLeave.bind(this));\n      this.$.table.addEventListener('drop', this._onDrop.bind(this));\n      this.$.table.addEventListener('dragenter', (e) => {\n        if (this.dropMode) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n      document.addEventListener('dragstart', this.__onDocumentDragStart, { capture: true });\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      document.removeEventListener('dragstart', this.__onDocumentDragStart, { capture: true });\n    }\n\n    /** @private */\n    _onDragStart(e) {\n      if (this.rowsDraggable) {\n        let row = e.target;\n        if (row.localName === 'vaadin-grid-cell-content') {\n          // The draggable node is the cell content element on browsers that support native shadow\n          row = row.assignedSlot.parentNode.parentNode;\n        }\n        if (row.parentNode !== this.$.items) {\n          return;\n        }\n\n        e.stopPropagation();\n        this.toggleAttribute('dragging-rows', true);\n\n        if (this._safari) {\n          // Safari doesn't position drag images from transformed\n          // elements properly so we need to switch to use top temporarily\n          const transform = row.style.transform;\n          row.style.top = /translateY\\((.*)\\)/u.exec(transform)[1];\n          row.style.transform = 'none';\n          requestAnimationFrame(() => {\n            row.style.top = '';\n            row.style.transform = transform;\n          });\n        }\n\n        const rowRect = row.getBoundingClientRect();\n\n        if (usesDnDPolyfill) {\n          // The polyfill drag image is automatically centered so there is no need to adjust the position\n          e.dataTransfer.setDragImage(row);\n        } else {\n          // The native drag image needs to be shifted manually to compensate for the touch position offset\n          e.dataTransfer.setDragImage(row, e.clientX - rowRect.left, e.clientY - rowRect.top);\n        }\n\n        let rows = [row];\n        if (this._isSelected(row._item)) {\n          rows = this.__getViewportRows()\n            .filter((row) => this._isSelected(row._item))\n            .filter((row) => !this.dragFilter || this.dragFilter(this.__getRowModel(row)));\n        }\n\n        this.__draggedItems = rows.map((row) => row._item);\n\n        // Set the default transfer data\n        e.dataTransfer.setData('text', this.__formatDefaultTransferData(rows));\n\n        updateBooleanRowStates(row, { dragstart: rows.length > 1 ? `${rows.length}` : '' });\n        this.style.setProperty('--_grid-drag-start-x', `${e.clientX - rowRect.left + 20}px`);\n        this.style.setProperty('--_grid-drag-start-y', `${e.clientY - rowRect.top + 10}px`);\n\n        requestAnimationFrame(() => {\n          updateBooleanRowStates(row, { dragstart: false });\n          this.style.setProperty('--_grid-drag-start-x', '');\n          this.style.setProperty('--_grid-drag-start-y', '');\n          this.requestContentUpdate();\n        });\n\n        const event = new CustomEvent('grid-dragstart', {\n          detail: {\n            draggedItems: [...this.__draggedItems],\n            setDragData: (type, data) => e.dataTransfer.setData(type, data),\n            setDraggedItemsCount: (count) => row.setAttribute('dragstart', count),\n          },\n        });\n        event.originalEvent = e;\n        this.dispatchEvent(event);\n      }\n    }\n\n    /** @private */\n    _onDragEnd(e) {\n      this.toggleAttribute('dragging-rows', false);\n      e.stopPropagation();\n      const event = new CustomEvent('grid-dragend');\n      event.originalEvent = e;\n      this.dispatchEvent(event);\n\n      this.__draggedItems = [];\n      this.requestContentUpdate();\n    }\n\n    /** @private */\n    _onDragLeave(e) {\n      if (!this.dropMode) {\n        return;\n      }\n      e.stopPropagation();\n      this._clearDragStyles();\n    }\n\n    /** @private */\n    _onDragOver(e) {\n      if (this.dropMode) {\n        this._dropLocation = undefined;\n        this._dragOverItem = undefined;\n\n        if (this.__dndAutoScroll(e.clientY)) {\n          this._clearDragStyles();\n          return;\n        }\n\n        let row = e.composedPath().find((node) => node.localName === 'tr');\n\n        if (!this._flatSize || this.dropMode === DropMode.ON_GRID) {\n          // The grid is empty or \"on-grid\" drop mode was used, always default to \"empty\"\n          this._dropLocation = DropLocation.EMPTY;\n        } else if (!row || row.parentNode !== this.$.items) {\n          // The dragover didn't occur on a body row but the grid has items\n          if (row) {\n            // The dragover occurred over a header/footer row\n            return;\n          } else if (this.dropMode === DropMode.BETWEEN || this.dropMode === DropMode.ON_TOP_OR_BETWEEN) {\n            // The drop mode allows setting the last row as the drag over item\n            row = Array.from(this.$.items.children)\n              .filter((row) => !row.hidden)\n              .pop();\n            this._dropLocation = DropLocation.BELOW;\n          } else {\n            // Drop mode on-top used but the dragover didn't occur over one of the existing rows\n            return;\n          }\n        } else {\n          // The dragover occurred on a body row, determine the drop location from coordinates\n          const rowRect = row.getBoundingClientRect();\n\n          this._dropLocation = DropLocation.ON_TOP;\n\n          if (this.dropMode === DropMode.BETWEEN) {\n            const dropAbove = e.clientY - rowRect.top < rowRect.bottom - e.clientY;\n            this._dropLocation = dropAbove ? DropLocation.ABOVE : DropLocation.BELOW;\n          } else if (this.dropMode === DropMode.ON_TOP_OR_BETWEEN) {\n            if (e.clientY - rowRect.top < rowRect.height / 3) {\n              this._dropLocation = DropLocation.ABOVE;\n            } else if (e.clientY - rowRect.top > (rowRect.height / 3) * 2) {\n              this._dropLocation = DropLocation.BELOW;\n            }\n          }\n        }\n\n        if (row && row.hasAttribute('drop-disabled')) {\n          this._dropLocation = undefined;\n          return;\n        }\n\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (this._dropLocation === DropLocation.EMPTY) {\n          this.toggleAttribute('dragover', true);\n        } else if (row) {\n          this._dragOverItem = row._item;\n          if (row.getAttribute('dragover') !== this._dropLocation) {\n            updateStringRowStates(row, { dragover: this._dropLocation });\n          }\n        } else {\n          this._clearDragStyles();\n        }\n      }\n    }\n\n    /**\n     * Webkit-based browsers have issues with generating drag images\n     * for elements that have children with massive heights. Chromium\n     * browsers crash, while Safari experiences significant performance\n     * issues. To mitigate these issues, we hide the scroller element\n     * when drag starts to remove it from the drag image.\n     *\n     * Grids with fewer rows also have issues on Chromium and Safari\n     * where the drag image is not properly clipped and may include\n     * content outside the grid. Temporary inline styles are applied\n     * to mitigate this issue.\n     *\n     * Related issues:\n     * - https://github.com/vaadin/web-components/issues/7985\n     * - https://issues.chromium.org/issues/383356871\n     * - https://github.com/vaadin/web-components/issues/8386\n     *\n     * @private\n     */\n    __onDocumentDragStart(e) {\n      if (e.target.contains(this)) {\n        // Record the original inline styles to restore them later\n        const elements = [e.target, this.$.items, this.$.scroller];\n        const originalInlineStyles = elements.map((element) => element.style.cssText);\n\n        // With a large number of rows, hide the scroller\n        if (this.$.table.scrollHeight > 20000) {\n          this.$.scroller.style.display = 'none';\n        }\n\n        // Workaround content outside the grid ending up in the drag image on Chromium\n        if (isChrome) {\n          e.target.style.willChange = 'transform';\n        }\n\n        // Workaround text content outside the grid ending up in the drag image on Safari\n        if (isSafari) {\n          this.$.items.style.flexShrink = 1;\n        }\n\n        requestAnimationFrame(() => {\n          elements.forEach((element, index) => {\n            element.style.cssText = originalInlineStyles[index];\n          });\n        });\n      }\n    }\n\n    /** @private */\n    __dndAutoScroll(clientY) {\n      if (this.__dndAutoScrolling) {\n        return true;\n      }\n\n      const headerBottom = this.$.header.getBoundingClientRect().bottom;\n      const footerTop = this.$.footer.getBoundingClientRect().top;\n      const topDiff = headerBottom - clientY + this.__dndAutoScrollThreshold;\n      const bottomDiff = clientY - footerTop + this.__dndAutoScrollThreshold;\n      let scrollTopDelta = 0;\n\n      if (bottomDiff > 0) {\n        scrollTopDelta = bottomDiff * 2;\n      } else if (topDiff > 0) {\n        scrollTopDelta = -topDiff * 2;\n      }\n\n      if (scrollTopDelta) {\n        const scrollTop = this.$.table.scrollTop;\n        this.$.table.scrollTop += scrollTopDelta;\n        const scrollTopChanged = scrollTop !== this.$.table.scrollTop;\n        if (scrollTopChanged) {\n          this.__dndAutoScrolling = true;\n          // Disallow more auto-scrolls within 20ms\n          setTimeout(() => {\n            this.__dndAutoScrolling = false;\n          }, 20);\n          return true;\n        }\n      }\n    }\n\n    /** @private */\n    __getViewportRows() {\n      const headerBottom = this.$.header.getBoundingClientRect().bottom;\n      const footerTop = this.$.footer.getBoundingClientRect().top;\n      return Array.from(this.$.items.children).filter((row) => {\n        const rowRect = row.getBoundingClientRect();\n        return rowRect.bottom > headerBottom && rowRect.top < footerTop;\n      });\n    }\n\n    /** @protected */\n    _clearDragStyles() {\n      this.removeAttribute('dragover');\n      iterateChildren(this.$.items, (row) => {\n        updateStringRowStates(row, { dragover: null });\n      });\n    }\n\n    /** @private */\n    __updateDragSourceParts(row, model) {\n      updateBooleanRowStates(row, { 'drag-source': this.__draggedItems.includes(model.item) });\n    }\n\n    /** @private */\n    _onDrop(e) {\n      if (this.dropMode) {\n        e.stopPropagation();\n        e.preventDefault();\n\n        const dragData =\n          e.dataTransfer.types &&\n          Array.from(e.dataTransfer.types).map((type) => {\n            return {\n              type,\n              data: e.dataTransfer.getData(type),\n            };\n          });\n\n        this._clearDragStyles();\n\n        const event = new CustomEvent('grid-drop', {\n          bubbles: e.bubbles,\n          cancelable: e.cancelable,\n          detail: {\n            dropTargetItem: this._dragOverItem,\n            dropLocation: this._dropLocation,\n            dragData,\n          },\n        });\n        event.originalEvent = e;\n        this.dispatchEvent(event);\n      }\n    }\n\n    /** @private */\n    __formatDefaultTransferData(rows) {\n      return rows\n        .map((row) => {\n          return Array.from(row.children)\n            .filter((cell) => !cell.hidden && cell.getAttribute('part').indexOf('details-cell') === -1)\n            .sort((a, b) => {\n              return a._column._order > b._column._order ? 1 : -1;\n            })\n            .map((cell) => cell._content.textContent.trim())\n            .filter((content) => content)\n            .join('\\t');\n        })\n        .join('\\n');\n    }\n\n    /** @private */\n    _dragDropAccessChanged() {\n      this.filterDragAndDrop();\n    }\n\n    /**\n     * Runs the `dragFilter` and `dropFilter` hooks for the visible cells.\n     * If the filter depends on varying conditions, you may need to\n     * call this function manually in order to update the draggability when\n     * the conditions change.\n     */\n    filterDragAndDrop() {\n      iterateChildren(this.$.items, (row) => {\n        if (!row.hidden) {\n          this._filterDragAndDrop(row, this.__getRowModel(row));\n        }\n      });\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {!GridItemModel} model\n     * @protected\n     */\n    _filterDragAndDrop(row, model) {\n      const loading = this.loading || row.hasAttribute('loading');\n      const dragDisabled = !this.rowsDraggable || loading || (this.dragFilter && !this.dragFilter(model));\n      const dropDisabled = !this.dropMode || loading || (this.dropFilter && !this.dropFilter(model));\n\n      iterateRowCells(row, (cell) => {\n        if (dragDisabled) {\n          cell._content.removeAttribute('draggable');\n        } else {\n          cell._content.setAttribute('draggable', true);\n        }\n      });\n\n      updateBooleanRowStates(row, {\n        'drag-disabled': !!dragDisabled,\n        'drop-disabled': !!dropDisabled,\n      });\n    }\n\n    /**\n     * Fired when starting to drag grid rows.\n     *\n     * @event grid-dragstart\n     * @param {Object} originalEvent The native dragstart event\n     * @param {Object} detail\n     * @param {Object} detail.draggedItems the items in the visible viewport that are dragged\n     * @param {Function} detail.setDraggedItemsCount Overrides the default number shown in the drag image on multi row drag.\n     * Parameter is of type number.\n     * @param {Function} detail.setDragData Sets dataTransfer data for the drag operation.\n     * Note that \"text\" is the only data type supported by all the browsers the grid currently supports (including IE11).\n     * The function takes two parameters:\n     * - type:string The type of the data\n     * - data:string The data\n     */\n\n    /**\n     * Fired when the dragging of the rows ends.\n     *\n     * @event grid-dragend\n     * @param {Object} originalEvent The native dragend event\n     */\n\n    /**\n     * Fired when a drop occurs on top of the grid.\n     *\n     * @event grid-drop\n     * @param {Object} originalEvent The native drop event\n     * @param {Object} detail\n     * @param {Object} detail.dropTargetItem The item of the grid row on which the drop occurred.\n     * @param {string} detail.dropLocation The position at which the drop event took place relative to a row.\n     * Depending on the dropMode value, the drop location can be one of the following\n     * - `on-top`: when the drop occurred on top of the row\n     * - `above`: when the drop occurred above the row\n     * - `below`: when the drop occurred below the row\n     * - `empty`: when the drop occurred over the grid, not relative to any specific row\n     * @param {string} detail.dragData An array of items with the payload as a string representation as the\n     * `data` property and the type of the data as `type` property.\n     */\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { microTask, timeOut } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\nimport { ColumnObserver, updateCellState } from './vaadin-grid-helpers.js';\n\nfunction arrayEquals(arr1, arr2) {\n  if (!arr1 || !arr2 || arr1.length !== arr2.length) {\n    return false;\n  }\n\n  for (let i = 0, l = arr1.length; i < l; i++) {\n    // Check if we have nested arrays\n    if (arr1[i] instanceof Array && arr2[i] instanceof Array) {\n      // Recurse into the nested arrays\n      if (!arrayEquals(arr1[i], arr2[i])) {\n        return false;\n      }\n    } else if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * @polymerMixin\n */\nexport const DynamicColumnsMixin = (superClass) =>\n  class DynamicColumnsMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * @protected\n         */\n        _columnTree: Object,\n      };\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      this._addNodeObserver();\n    }\n\n    /** @private */\n    _hasColumnGroups(columns) {\n      return columns.some((column) => column.localName === 'vaadin-grid-column-group');\n    }\n\n    /**\n     * @param {!GridColumnGroup} el\n     * @return {!Array<!GridColumn>}\n     * @protected\n     */\n    _getChildColumns(el) {\n      return ColumnObserver.getColumns(el);\n    }\n\n    /** @private */\n    _flattenColumnGroups(columns) {\n      return columns\n        .map((col) => {\n          if (col.localName === 'vaadin-grid-column-group') {\n            return this._getChildColumns(col);\n          }\n          return [col];\n        })\n        .reduce((prev, curr) => {\n          return prev.concat(curr);\n        }, []);\n    }\n\n    /** @private */\n    _getColumnTree() {\n      const rootColumns = ColumnObserver.getColumns(this);\n      const columnTree = [rootColumns];\n\n      let c = rootColumns;\n      while (this._hasColumnGroups(c)) {\n        c = this._flattenColumnGroups(c);\n        columnTree.push(c);\n      }\n\n      return columnTree;\n    }\n\n    /** @protected */\n    _debounceUpdateColumnTree() {\n      this.__updateColumnTreeDebouncer = Debouncer.debounce(this.__updateColumnTreeDebouncer, microTask, () =>\n        this._updateColumnTree(),\n      );\n    }\n\n    /** @protected */\n    _updateColumnTree() {\n      const columnTree = this._getColumnTree();\n\n      if (!arrayEquals(columnTree, this._columnTree)) {\n        // Request a synchronoys update for each column\n        columnTree.forEach((columnArray) => {\n          columnArray.forEach((column) => {\n            if (column.performUpdate) {\n              column.performUpdate();\n            }\n          });\n        });\n\n        this._columnTree = columnTree;\n      }\n    }\n\n    /** @private */\n    _addNodeObserver() {\n      this._observer = new ColumnObserver(this, (_addedColumns, removedColumns) => {\n        const allRemovedCells = removedColumns.flatMap((c) => c._allCells);\n        const filterNotConnected = (element) =>\n          allRemovedCells.filter((cell) => cell && cell._content.contains(element)).length;\n\n        this.__removeSorters(this._sorters.filter(filterNotConnected));\n        this.__removeFilters(this._filters.filter(filterNotConnected));\n        this._debounceUpdateColumnTree();\n\n        this._debouncerCheckImports = Debouncer.debounce(\n          this._debouncerCheckImports,\n          timeOut.after(2000),\n          this._checkImports.bind(this),\n        );\n\n        this._ensureFirstPageLoaded();\n      });\n    }\n\n    /** @protected */\n    _checkImports() {\n      [\n        'vaadin-grid-column-group',\n        'vaadin-grid-filter',\n        'vaadin-grid-filter-column',\n        'vaadin-grid-tree-toggle',\n        'vaadin-grid-selection-column',\n        'vaadin-grid-sort-column',\n        'vaadin-grid-sorter',\n      ].forEach((elementName) => {\n        const element = this.querySelector(elementName);\n        if (element && !customElements.get(elementName)) {\n          console.warn(`Make sure you have imported the required module for <${elementName}> element.`);\n        }\n      });\n    }\n\n    /** @protected */\n    _updateFirstAndLastColumn() {\n      Array.from(this.shadowRoot.querySelectorAll('tr')).forEach((row) => this._updateFirstAndLastColumnForRow(row));\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @protected\n     */\n    _updateFirstAndLastColumnForRow(row) {\n      Array.from(row.querySelectorAll('[part~=\"cell\"]:not([part~=\"details-cell\"])'))\n        .sort((a, b) => {\n          return a._column._order - b._column._order;\n        })\n        .forEach((cell, cellIndex, children) => {\n          updateCellState(cell, 'first-column', cellIndex === 0);\n          updateCellState(cell, 'last-column', cellIndex === children.length - 1);\n        });\n    }\n\n    /**\n     * @param {!Node} node\n     * @return {boolean}\n     * @protected\n     */\n    _isColumnElement(node) {\n      return node.nodeType === Node.ELEMENT_NODE && /\\bcolumn\\b/u.test(node.localName);\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nexport const EventContextMixin = (superClass) =>\n  class EventContextMixin extends superClass {\n    /**\n     * Returns an object with context information about the event target:\n     * - `item`: the data object corresponding to the targeted row (not specified when targeting header or footer)\n     * - `column`: the column element corresponding to the targeted cell (not specified when targeting row details)\n     * - `section`: whether the event targeted the body, header, footer or details of the grid\n     *\n     * These additional properties are included when `item` is specified:\n     * - `index`: the index of the item\n     * - `selected`: the selected state of the item\n     * - `detailsOpened`: whether the row details are open for the item\n     * - `expanded`: the expanded state of the tree toggle\n     * - `level`: the tree hierarchy level\n     *\n     * The returned object is populated only when a grid cell, header, footer or row details is found in `event.composedPath()`.\n     * This means mostly mouse and keyboard events. If such a grid part is not found in the path, an empty object is returned.\n     * This may be the case eg. if the event is fired on the `<vaadin-grid>` element and not any deeper in the DOM, or if\n     * the event targets the empty part of the grid body.\n     *\n     * @param {!Event} event\n     * @return {GridEventContext}\n     */\n    getEventContext(event) {\n      const context = {};\n\n      const { cell } = this._getGridEventLocation(event);\n\n      if (!cell) {\n        return context;\n      }\n\n      context.section = ['body', 'header', 'footer', 'details'].find(\n        (section) => cell.getAttribute('part').indexOf(section) > -1,\n      );\n\n      if (cell._column) {\n        context.column = cell._column;\n      }\n\n      if (context.section === 'body' || context.section === 'details') {\n        Object.assign(context, this.__getRowModel(cell.parentElement));\n      }\n\n      return context;\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nexport const FilterMixin = (superClass) =>\n  class FilterMixin extends superClass {\n    static get properties() {\n      return {\n        /** @private */\n        _filters: {\n          type: Array,\n          value: () => [],\n        },\n      };\n    }\n\n    constructor() {\n      super();\n      this._filterChanged = this._filterChanged.bind(this);\n      this.addEventListener('filter-changed', this._filterChanged);\n    }\n\n    /** @private */\n    _filterChanged(e) {\n      e.stopPropagation();\n\n      this.__addFilter(e.target);\n      this.__applyFilters();\n    }\n\n    /** @private */\n    __removeFilters(filtersToRemove) {\n      if (filtersToRemove.length === 0) {\n        return;\n      }\n\n      this._filters = this._filters.filter((filter) => filtersToRemove.indexOf(filter) < 0);\n      this.__applyFilters();\n    }\n\n    /** @private */\n    __addFilter(filter) {\n      const filterIndex = this._filters.indexOf(filter);\n\n      if (filterIndex === -1) {\n        this._filters.push(filter);\n      }\n    }\n\n    /** @private */\n    __applyFilters() {\n      if (this.dataProvider && this.isAttached) {\n        this.clearCache();\n      }\n    }\n\n    /**\n     * @return {!Array<!GridFilterDefinition>}\n     * @protected\n     */\n    _mapFilters() {\n      return this._filters.map((filter) => {\n        return {\n          path: filter.path,\n          value: filter.value,\n        };\n      });\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { isKeyboardActive } from '@vaadin/a11y-base/src/focus-utils.js';\nimport { animationFrame } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\nimport { addValueToAttribute, removeValueFromAttribute } from '@vaadin/component-base/src/dom-utils.js';\nimport { get } from '@vaadin/component-base/src/path-utils.js';\n\nfunction isRow(element) {\n  return element instanceof HTMLTableRowElement;\n}\n\nfunction isCell(element) {\n  return element instanceof HTMLTableCellElement;\n}\n\nfunction isDetailsCell(element) {\n  return element.matches('[part~=\"details-cell\"]');\n}\n\n/**\n * @polymerMixin\n */\nexport const KeyboardNavigationMixin = (superClass) =>\n  class KeyboardNavigationMixin extends superClass {\n    static get properties() {\n      return {\n        /** @private */\n        _headerFocusable: {\n          type: Object,\n          observer: '_focusableChanged',\n          sync: true,\n        },\n\n        /**\n         * @type {!HTMLElement | undefined}\n         * @protected\n         */\n        _itemsFocusable: {\n          type: Object,\n          observer: '_focusableChanged',\n          sync: true,\n        },\n\n        /** @private */\n        _footerFocusable: {\n          type: Object,\n          observer: '_focusableChanged',\n          sync: true,\n        },\n\n        /** @private */\n        _navigatingIsHidden: Boolean,\n\n        /**\n         * @type {number}\n         * @protected\n         */\n        _focusedItemIndex: {\n          type: Number,\n          value: 0,\n        },\n\n        /** @private */\n        _focusedColumnOrder: Number,\n\n        /** @private */\n        _focusedCell: {\n          type: Object,\n          observer: '_focusedCellChanged',\n          sync: true,\n        },\n\n        /**\n         * Indicates whether the grid is currently in interaction mode.\n         * In interaction mode the user is currently interacting with a control,\n         * such as an input or a select, within a cell.\n         * In interaction mode keyboard navigation between cells is disabled.\n         * Interaction mode also prevents the focus target cell of that section of\n         * the grid from receiving focus, allowing the user to switch focus to\n         * controls in adjacent cells, rather than focussing the outer cell\n         * itself.\n         * @type {boolean}\n         * @private\n         */\n        interacting: {\n          type: Boolean,\n          value: false,\n          reflectToAttribute: true,\n          readOnly: true,\n          observer: '_interactingChanged',\n        },\n      };\n    }\n\n    /** @private */\n    get __rowFocusMode() {\n      return [this._headerFocusable, this._itemsFocusable, this._footerFocusable].some(isRow);\n    }\n\n    set __rowFocusMode(value) {\n      ['_itemsFocusable', '_footerFocusable', '_headerFocusable'].forEach((prop) => {\n        const focusable = this[prop];\n        if (value) {\n          const parent = focusable && focusable.parentElement;\n          if (isCell(focusable)) {\n            // Cell itself focusable (default)\n            this[prop] = parent;\n          } else if (isCell(parent)) {\n            // Focus button mode is enabled for the column,\n            // button element inside the cell is focusable.\n            this[prop] = parent.parentElement;\n          }\n        } else if (!value && isRow(focusable)) {\n          const cell = focusable.firstElementChild;\n          this[prop] = cell._focusButton || cell;\n        }\n      });\n    }\n\n    /** @private */\n    get _visibleItemsCount() {\n      return this._lastVisibleIndex - this._firstVisibleIndex - 1;\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      if (this._ios || this._android) {\n        // Disable keyboard navigation on mobile devices\n        return;\n      }\n\n      this.addEventListener('keydown', this._onKeyDown);\n      this.addEventListener('keyup', this._onKeyUp);\n\n      this.addEventListener('focusin', this._onFocusIn);\n      this.addEventListener('focusout', this._onFocusOut);\n\n      // When focus goes from cell to another cell, focusin/focusout events do\n      // not escape the grid's shadowRoot, thus listening inside the shadowRoot.\n      this.$.table.addEventListener('focusin', this._onContentFocusIn.bind(this));\n\n      this.addEventListener('mousedown', () => {\n        this.toggleAttribute('navigating', false);\n        this._isMousedown = true;\n\n        // Reset stored order when moving focus with mouse.\n        this._focusedColumnOrder = undefined;\n      });\n      this.addEventListener('mouseup', () => {\n        this._isMousedown = false;\n      });\n    }\n\n    /** @private */\n    _focusableChanged(focusable, oldFocusable) {\n      if (oldFocusable) {\n        oldFocusable.setAttribute('tabindex', '-1');\n      }\n      if (focusable) {\n        this._updateGridSectionFocusTarget(focusable);\n      }\n    }\n\n    /** @private */\n    _focusedCellChanged(focusedCell, oldFocusedCell) {\n      if (oldFocusedCell) {\n        removeValueFromAttribute(oldFocusedCell, 'part', 'focused-cell');\n      }\n\n      if (focusedCell) {\n        addValueToAttribute(focusedCell, 'part', 'focused-cell');\n      }\n    }\n\n    /** @private */\n    _interactingChanged() {\n      // Update focus targets when entering / exiting interaction mode\n      this._updateGridSectionFocusTarget(this._headerFocusable);\n      this._updateGridSectionFocusTarget(this._itemsFocusable);\n      this._updateGridSectionFocusTarget(this._footerFocusable);\n    }\n\n    /**\n     * Since the focused cell/row state is stored as an element reference, the reference may get\n     * out of sync when the virtual indexes for elements update due to effective size change.\n     * This function updates the reference to the correct element after a possible index change.\n     * @private\n     */\n    __updateItemsFocusable() {\n      if (!this._itemsFocusable) {\n        return;\n      }\n\n      const wasFocused = this.shadowRoot.activeElement === this._itemsFocusable;\n\n      this._getRenderedRows().forEach((row) => {\n        if (row.index === this._focusedItemIndex) {\n          if (this.__rowFocusMode) {\n            // Row focus mode\n            this._itemsFocusable = row;\n          } else {\n            // Cell focus mode\n            let parent = this._itemsFocusable.parentElement;\n            let cell = this._itemsFocusable;\n\n            if (parent) {\n              // Focus button mode is enabled for the column,\n              // button element inside the cell is focusable.\n              if (isCell(parent)) {\n                cell = parent;\n                parent = parent.parentElement;\n              }\n\n              const cellIndex = [...parent.children].indexOf(cell);\n              this._itemsFocusable = this.__getFocusable(row, row.children[cellIndex]);\n            }\n          }\n        }\n      });\n\n      if (wasFocused) {\n        this._itemsFocusable.focus();\n      }\n    }\n\n    /**\n     * @param {!KeyboardEvent} e\n     * @protected\n     */\n    _onKeyDown(e) {\n      const key = e.key;\n\n      let keyGroup;\n      switch (key) {\n        case 'ArrowUp':\n        case 'ArrowDown':\n        case 'ArrowLeft':\n        case 'ArrowRight':\n        case 'PageUp':\n        case 'PageDown':\n        case 'Home':\n        case 'End':\n          keyGroup = 'Navigation';\n          break;\n        case 'Enter':\n        case 'Escape':\n        case 'F2':\n          keyGroup = 'Interaction';\n          break;\n        case 'Tab':\n          keyGroup = 'Tab';\n          break;\n        case ' ':\n          keyGroup = 'Space';\n          break;\n        default:\n          break;\n      }\n\n      this._detectInteracting(e);\n      if (this.interacting && keyGroup !== 'Interaction') {\n        // When in the interacting mode, only the \"Interaction\" keys are handled.\n        keyGroup = undefined;\n      }\n\n      if (keyGroup) {\n        this[`_on${keyGroup}KeyDown`](e, key);\n      }\n    }\n\n    /** @private */\n    __ensureFlatIndexInViewport(index) {\n      const targetRowInDom = [...this.$.items.children].find((child) => child.index === index);\n      if (!targetRowInDom) {\n        this._scrollToFlatIndex(index);\n      } else {\n        this.__scrollIntoViewport(index);\n      }\n    }\n\n    /** @private */\n    __isRowExpandable(row) {\n      if (this.itemHasChildrenPath) {\n        const item = row._item;\n        return !!(item && get(this.itemHasChildrenPath, item) && !this._isExpanded(item));\n      }\n    }\n\n    /** @private */\n    __isRowCollapsible(row) {\n      return this._isExpanded(row._item);\n    }\n\n    /** @private */\n    _onNavigationKeyDown(e, key) {\n      e.preventDefault();\n\n      const isRTL = this.__isRTL;\n      const activeRow = e.composedPath().find(isRow);\n      const activeCell = e.composedPath().find(isCell);\n\n      // Handle keyboard interaction as defined in:\n      // https://w3c.github.io/aria-practices/#keyboard-interaction-24\n\n      let dx = 0,\n        dy = 0;\n      switch (key) {\n        case 'ArrowRight':\n          dx = isRTL ? -1 : 1;\n          break;\n        case 'ArrowLeft':\n          dx = isRTL ? 1 : -1;\n          break;\n        case 'Home':\n          if (this.__rowFocusMode) {\n            // \"If focus is on a row, moves focus to the first row. If focus is in the first row, focus does not move.\"\n            dy = -Infinity;\n          } else if (e.ctrlKey) {\n            // \"If focus is on a cell, moves focus to the first cell in the column. If focus is in the first row, focus does not move.\"\n            dy = -Infinity;\n          } else {\n            // \"If focus is on a cell, moves focus to the first cell in the row. If focus is in the first cell of the row, focus does not move.\"\n            dx = -Infinity;\n          }\n          break;\n        case 'End':\n          if (this.__rowFocusMode) {\n            // \"If focus is on a row, moves focus to the last row. If focus is in the last row, focus does not move.\"\n            dy = Infinity;\n          } else if (e.ctrlKey) {\n            // \"If focus is on a cell, moves focus to the last cell in the column. If focus is in the last row, focus does not move.\"\n            dy = Infinity;\n          } else {\n            // \"If focus is on a cell, moves focus to the last cell in the row. If focus is in the last cell of the row, focus does not move.\"\n            dx = Infinity;\n          }\n          break;\n        case 'ArrowDown':\n          dy = 1;\n          break;\n        case 'ArrowUp':\n          dy = -1;\n          break;\n        case 'PageDown':\n          // Check if the active group is body\n          if (this.$.items.contains(activeRow)) {\n            const currentRowIndex = this.__getIndexInGroup(activeRow, this._focusedItemIndex);\n            // Scroll the current row to the top...\n            this._scrollToFlatIndex(currentRowIndex);\n          }\n          // ...only then measure the visible items count\n          dy = this._visibleItemsCount;\n          break;\n        case 'PageUp':\n          dy = -this._visibleItemsCount;\n          break;\n        default:\n          break;\n      }\n\n      if ((this.__rowFocusMode && !activeRow) || (!this.__rowFocusMode && !activeCell)) {\n        // When using a screen reader, it's possible that neither a cell nor a row is focused.\n        return;\n      }\n\n      const forwardsKey = isRTL ? 'ArrowLeft' : 'ArrowRight';\n      const backwardsKey = isRTL ? 'ArrowRight' : 'ArrowLeft';\n      if (key === forwardsKey) {\n        // \"Right Arrow:\"\n        if (this.__rowFocusMode) {\n          // In row focus mode\n          if (this.__isRowExpandable(activeRow)) {\n            // \"If focus is on a collapsed row, expands the row.\"\n            this.expandItem(activeRow._item);\n            return;\n          }\n          // \"If focus is on an expanded row or is on a row that does not have child rows,\n          // moves focus to the first cell in the row.\"\n          this.__rowFocusMode = false;\n          this._onCellNavigation(activeRow.firstElementChild, 0, 0);\n          return;\n        }\n      } else if (key === backwardsKey) {\n        // \"Left Arrow:\"\n        if (this.__rowFocusMode) {\n          // In row focus mode\n          if (this.__isRowCollapsible(activeRow)) {\n            // \"If focus is on an expanded row, collapses the row.\"\n            this.collapseItem(activeRow._item);\n            return;\n          }\n        } else {\n          // In cell focus mode\n          const activeRowCells = [...activeRow.children].sort((a, b) => a._order - b._order);\n          if (activeCell === activeRowCells[0] || isDetailsCell(activeCell)) {\n            // \"If focus is on the first cell in a row and row focus is supported, moves focus to the row.\"\n            this.__rowFocusMode = true;\n            this._onRowNavigation(activeRow, 0);\n            return;\n          }\n        }\n      }\n\n      // Navigate\n      if (this.__rowFocusMode) {\n        // Navigate the rows\n        this._onRowNavigation(activeRow, dy);\n      } else {\n        // Navigate the cells\n        this._onCellNavigation(activeCell, dx, dy);\n      }\n    }\n\n    /**\n     * Focuses the target row after navigating by the given dy offset.\n     * If the row is not in the viewport, it is first scrolled to.\n     * @private\n     */\n    _onRowNavigation(activeRow, dy) {\n      const { dstRow } = this.__navigateRows(dy, activeRow);\n\n      if (dstRow) {\n        dstRow.focus();\n      }\n    }\n\n    /** @private */\n    __getIndexInGroup(row, bodyFallbackIndex) {\n      const rowGroup = row.parentNode;\n      // Body rows have index property, otherwise DOM child index of the row is used.\n      if (rowGroup === this.$.items) {\n        return bodyFallbackIndex !== undefined ? bodyFallbackIndex : row.index;\n      }\n      return [...rowGroup.children].indexOf(row);\n    }\n\n    /**\n     * Returns the target row after navigating by the given dy offset.\n     * Also returns information whether the details cell should be the target on the target row.\n     * If the row is not in the viewport, it is first scrolled to.\n     * @private\n     */\n    __navigateRows(dy, activeRow, activeCell) {\n      const currentRowIndex = this.__getIndexInGroup(activeRow, this._focusedItemIndex);\n      const activeRowGroup = activeRow.parentNode;\n      const maxRowIndex = (activeRowGroup === this.$.items ? this._flatSize : activeRowGroup.children.length) - 1;\n\n      // Index of the destination row\n      let dstRowIndex = Math.max(0, Math.min(currentRowIndex + dy, maxRowIndex));\n\n      if (activeRowGroup !== this.$.items) {\n        // Navigating header/footer rows\n\n        // Header and footer could have hidden rows, e. g., if none of the columns\n        // or groups on the given column tree level define template. Skip them\n        // in vertical keyboard navigation.\n        if (dstRowIndex > currentRowIndex) {\n          while (dstRowIndex < maxRowIndex && activeRowGroup.children[dstRowIndex].hidden) {\n            dstRowIndex += 1;\n          }\n        } else if (dstRowIndex < currentRowIndex) {\n          while (dstRowIndex > 0 && activeRowGroup.children[dstRowIndex].hidden) {\n            dstRowIndex -= 1;\n          }\n        }\n\n        this.toggleAttribute('navigating', true);\n\n        return { dstRow: activeRowGroup.children[dstRowIndex] };\n      }\n      // Navigating body rows\n\n      let dstIsRowDetails = false;\n      if (activeCell) {\n        const isRowDetails = isDetailsCell(activeCell);\n        // Row details navigation logic\n        if (activeRowGroup === this.$.items) {\n          const item = activeRow._item;\n          const { item: dstItem } = this._dataProviderController.getFlatIndexContext(dstRowIndex);\n          // Should we navigate to row details?\n          if (isRowDetails) {\n            dstIsRowDetails = dy === 0;\n          } else {\n            dstIsRowDetails =\n              (dy === 1 && this._isDetailsOpened(item)) ||\n              (dy === -1 && dstRowIndex !== currentRowIndex && this._isDetailsOpened(dstItem));\n          }\n          // Should we navigate between details and regular cells of the same row?\n          if (dstIsRowDetails !== isRowDetails && ((dy === 1 && dstIsRowDetails) || (dy === -1 && !dstIsRowDetails))) {\n            dstRowIndex = currentRowIndex;\n          }\n        }\n      }\n\n      // Ensure correct vertical scroll position, destination row is visible\n      this.__ensureFlatIndexInViewport(dstRowIndex);\n\n      // When scrolling with repeated keydown, sometimes FocusEvent listeners\n      // are too late to update _focusedItemIndex. Ensure next keydown\n      // listener invocation gets updated _focusedItemIndex value.\n      this._focusedItemIndex = dstRowIndex;\n\n      // Reapply navigating state in case it was removed due to previous item\n      // being focused with the mouse.\n      this.toggleAttribute('navigating', true);\n\n      return {\n        dstRow: [...activeRowGroup.children].find((el) => !el.hidden && el.index === dstRowIndex),\n        dstIsRowDetails,\n      };\n    }\n\n    /**\n     * Focuses the target cell after navigating by the given dx and dy offset.\n     * If the cell is not in the viewport, it is first scrolled to.\n     * @private\n     */\n    _onCellNavigation(activeCell, dx, dy) {\n      const activeRow = activeCell.parentNode;\n      const { dstRow, dstIsRowDetails } = this.__navigateRows(dy, activeRow, activeCell);\n      if (!dstRow) {\n        return;\n      }\n\n      let columnIndex = [...activeRow.children].indexOf(activeCell);\n      if (this.$.items.contains(activeCell)) {\n        // lazy column rendering may be enabled, so we need use the always visible sizer cells to find the column index\n        columnIndex = [...this.$.sizer.children].findIndex((sizerCell) => sizerCell._column === activeCell._column);\n      }\n\n      const isCurrentCellRowDetails = isDetailsCell(activeCell);\n      const activeRowGroup = activeRow.parentNode;\n      const currentRowIndex = this.__getIndexInGroup(activeRow, this._focusedItemIndex);\n\n      // _focusedColumnOrder is memoized - this is to ensure predictable\n      // navigation when entering and leaving detail and column group cells.\n      if (this._focusedColumnOrder === undefined) {\n        if (isCurrentCellRowDetails) {\n          this._focusedColumnOrder = 0;\n        } else {\n          this._focusedColumnOrder = this._getColumns(activeRowGroup, currentRowIndex).filter((c) => !c.hidden)[\n            columnIndex\n          ]._order;\n        }\n      }\n\n      if (dstIsRowDetails) {\n        // Focusing a row details cell on the destination row\n        const dstCell = [...dstRow.children].find(isDetailsCell);\n        dstCell.focus();\n      } else {\n        // Focusing a regular cell on the destination row\n\n        // Find orderedColumnIndex - the index of order closest matching the\n        // original _focusedColumnOrder in the sorted array of orders\n        // of the visible columns on the destination row.\n        const dstRowIndex = this.__getIndexInGroup(dstRow, this._focusedItemIndex);\n        const dstColumns = this._getColumns(activeRowGroup, dstRowIndex).filter((c) => !c.hidden);\n        const dstSortedColumnOrders = dstColumns.map((c) => c._order).sort((b, a) => b - a);\n        const maxOrderedColumnIndex = dstSortedColumnOrders.length - 1;\n        const orderedColumnIndex = dstSortedColumnOrders.indexOf(\n          dstSortedColumnOrders\n            .slice(0)\n            .sort((b, a) => Math.abs(b - this._focusedColumnOrder) - Math.abs(a - this._focusedColumnOrder))[0],\n        );\n\n        // Index of the destination column order\n        const dstOrderedColumnIndex =\n          dy === 0 && isCurrentCellRowDetails\n            ? orderedColumnIndex\n            : Math.max(0, Math.min(orderedColumnIndex + dx, maxOrderedColumnIndex));\n\n        if (dstOrderedColumnIndex !== orderedColumnIndex) {\n          // Horizontal movement invalidates stored _focusedColumnOrder\n          this._focusedColumnOrder = undefined;\n        }\n\n        const columnIndexByOrder = dstColumns.reduce((acc, col, i) => {\n          acc[col._order] = i;\n          return acc;\n        }, {});\n        const dstColumnIndex = columnIndexByOrder[dstSortedColumnOrders[dstOrderedColumnIndex]];\n\n        let dstCell;\n        if (this.$.items.contains(activeCell)) {\n          const dstSizerCell = this.$.sizer.children[dstColumnIndex];\n          if (this._lazyColumns) {\n            // If the column is not in the viewport, scroll it into view.\n            if (!this.__isColumnInViewport(dstSizerCell._column)) {\n              dstSizerCell.scrollIntoView();\n            }\n            this.__updateColumnsBodyContentHidden();\n            this.__updateHorizontalScrollPosition();\n          }\n\n          dstCell = [...dstRow.children].find((cell) => cell._column === dstSizerCell._column);\n          // Ensure correct horizontal scroll position once the destination cell is available.\n          this._scrollHorizontallyToCell(dstCell);\n        } else {\n          dstCell = dstRow.children[dstColumnIndex];\n          this._scrollHorizontallyToCell(dstCell);\n        }\n\n        dstCell.focus();\n      }\n    }\n\n    /** @private */\n    _onInteractionKeyDown(e, key) {\n      const localTarget = e.composedPath()[0];\n      const localTargetIsTextInput =\n        localTarget.localName === 'input' &&\n        !/^(button|checkbox|color|file|image|radio|range|reset|submit)$/iu.test(localTarget.type);\n\n      let wantInteracting;\n      switch (key) {\n        case 'Enter':\n          wantInteracting = this.interacting ? !localTargetIsTextInput : true;\n          break;\n        case 'Escape':\n          wantInteracting = false;\n          break;\n        case 'F2':\n          wantInteracting = !this.interacting;\n          break;\n        default:\n          break;\n      }\n\n      const { cell } = this._getGridEventLocation(e);\n\n      if (this.interacting !== wantInteracting && cell !== null) {\n        if (wantInteracting) {\n          const focusTarget =\n            cell._content.querySelector('[focus-target]') ||\n            // If a child element hasn't been explicitly marked as a focus target,\n            // fall back to any focusable element inside the cell.\n            [...cell._content.querySelectorAll('*')].find((node) => this._isFocusable(node));\n          if (focusTarget) {\n            e.preventDefault();\n            focusTarget.focus();\n            this._setInteracting(true);\n            this.toggleAttribute('navigating', false);\n          }\n        } else {\n          e.preventDefault();\n          this._focusedColumnOrder = undefined;\n          cell.focus();\n          this._setInteracting(false);\n          this.toggleAttribute('navigating', true);\n        }\n      }\n\n      if (key === 'Escape') {\n        this._hideTooltip(true);\n      }\n    }\n\n    /** @private */\n    _predictFocusStepTarget(srcElement, step) {\n      const tabOrder = [\n        this.$.table,\n        this._headerFocusable,\n        this.__emptyState ? this.$.emptystatecell : this._itemsFocusable,\n        this._footerFocusable,\n        this.$.focusexit,\n      ];\n\n      let index = tabOrder.indexOf(srcElement);\n\n      index += step;\n      while (index >= 0 && index <= tabOrder.length - 1) {\n        let rowElement = tabOrder[index];\n        if (rowElement && !this.__rowFocusMode) {\n          rowElement = tabOrder[index].parentNode;\n        }\n\n        if (!rowElement || rowElement.hidden) {\n          index += step;\n        } else {\n          break;\n        }\n      }\n\n      let focusStepTarget = tabOrder[index];\n\n      // If the target focusable is tied to a column that is not visible,\n      // find the first visible column and update the target in order to\n      // prevent scrolling to the start of the row.\n      if (focusStepTarget && !this.__isHorizontallyInViewport(focusStepTarget)) {\n        const firstVisibleColumn = this._getColumnsInOrder().find((column) => this.__isColumnInViewport(column));\n        if (firstVisibleColumn) {\n          if (focusStepTarget === this._headerFocusable) {\n            focusStepTarget = firstVisibleColumn._headerCell;\n          } else if (focusStepTarget === this._itemsFocusable) {\n            const rowIndex = focusStepTarget._column._cells.indexOf(focusStepTarget);\n            focusStepTarget = firstVisibleColumn._cells[rowIndex];\n          } else if (focusStepTarget === this._footerFocusable) {\n            focusStepTarget = firstVisibleColumn._footerCell;\n          }\n        }\n      }\n\n      return focusStepTarget;\n    }\n\n    /** @private */\n    _onTabKeyDown(e) {\n      let focusTarget = this._predictFocusStepTarget(e.composedPath()[0], e.shiftKey ? -1 : 1);\n\n      // Can be undefined if grid has tabindex\n      if (!focusTarget) {\n        return;\n      }\n\n      // Prevent focus-trap logic from intercepting the event.\n      e.stopPropagation();\n\n      if (focusTarget === this._itemsFocusable) {\n        this.__ensureFlatIndexInViewport(this._focusedItemIndex);\n\n        // Ensure the correct element is set as focusable after scrolling.\n        // The virtualizer may use a different element to render the item.\n        this.__updateItemsFocusable();\n\n        focusTarget = this._itemsFocusable;\n      }\n\n      focusTarget.focus();\n\n      // If the next element is the table or focusexit, it indicates the user\n      // intends to leave the grid. In this case, we move focus to these elements\n      // without preventing the default Tab behavior. The default behavior then\n      // starts from these elements and moves focus outside the grid.\n      if (focusTarget !== this.$.table && focusTarget !== this.$.focusexit) {\n        e.preventDefault();\n      }\n\n      this.toggleAttribute('navigating', true);\n    }\n\n    /** @private */\n    _onSpaceKeyDown(e) {\n      e.preventDefault();\n\n      const element = e.composedPath()[0];\n      const isElementRow = isRow(element);\n      if (isElementRow || !element._content || !element._content.firstElementChild) {\n        this.dispatchEvent(\n          new CustomEvent(isElementRow ? 'row-activate' : 'cell-activate', {\n            detail: {\n              model: this.__getRowModel(isElementRow ? element : element.parentElement),\n            },\n          }),\n        );\n      }\n    }\n\n    /** @private */\n    _onKeyUp(e) {\n      if (!/^( |SpaceBar)$/u.test(e.key) || this.interacting) {\n        return;\n      }\n\n      e.preventDefault();\n\n      const cell = e.composedPath()[0];\n      if (cell._content && cell._content.firstElementChild) {\n        const wasNavigating = this.hasAttribute('navigating');\n        cell._content.firstElementChild.dispatchEvent(\n          new MouseEvent('click', {\n            shiftKey: e.shiftKey,\n            bubbles: true,\n            composed: true,\n            cancelable: true,\n          }),\n        );\n        this.toggleAttribute('navigating', wasNavigating);\n      }\n    }\n\n    /**\n     * @param {!FocusEvent} e\n     * @protected\n     */\n    _onFocusIn(e) {\n      if (!this._isMousedown) {\n        this.toggleAttribute('navigating', true);\n      }\n\n      const rootTarget = e.composedPath()[0];\n\n      if (rootTarget === this.$.table || rootTarget === this.$.focusexit) {\n        if (!this._isMousedown) {\n          // The focus enters the top (bottom) of the grid, meaning that user has\n          // tabbed (shift-tabbed) into the grid. Move the focus to\n          // the first (the last) focusable.\n          this._predictFocusStepTarget(rootTarget, rootTarget === this.$.table ? 1 : -1).focus();\n        }\n        this._setInteracting(false);\n      } else {\n        this._detectInteracting(e);\n      }\n    }\n\n    /**\n     * @param {!FocusEvent} e\n     * @protected\n     */\n    _onFocusOut(e) {\n      this.toggleAttribute('navigating', false);\n      this._detectInteracting(e);\n      this._hideTooltip();\n      this._focusedCell = null;\n    }\n\n    /** @private */\n    _onContentFocusIn(e) {\n      const { section, cell, row } = this._getGridEventLocation(e);\n\n      if (!cell && !this.__rowFocusMode) {\n        return;\n      }\n\n      this._detectInteracting(e);\n\n      if (section && (cell || row)) {\n        this._activeRowGroup = section;\n\n        if (section === this.$.header) {\n          this._headerFocusable = this.__getFocusable(row, cell);\n        } else if (section === this.$.items) {\n          this._itemsFocusable = this.__getFocusable(row, cell);\n          this._focusedItemIndex = row.index;\n        } else if (section === this.$.footer) {\n          this._footerFocusable = this.__getFocusable(row, cell);\n        }\n\n        if (cell) {\n          const context = this.getEventContext(e);\n          this.__pendingBodyCellFocus = this.loading && context.section === 'body';\n          if (!this.__pendingBodyCellFocus && cell !== this.$.emptystatecell) {\n            // Fire a cell-focus event for the cell\n            cell.dispatchEvent(new CustomEvent('cell-focus', { bubbles: true, composed: true, detail: { context } }));\n          }\n          this._focusedCell = cell._focusButton || cell;\n\n          if (isKeyboardActive() && e.target === cell) {\n            this._showTooltip(e);\n          }\n        } else {\n          this._focusedCell = null;\n        }\n      }\n    }\n\n    /**\n     * @private\n     */\n    __dispatchPendingBodyCellFocus() {\n      // If the body cell focus was pending, dispatch the event once loading is done\n      if (this.__pendingBodyCellFocus && this.shadowRoot.activeElement === this._itemsFocusable) {\n        this._itemsFocusable.dispatchEvent(new Event('focusin', { bubbles: true, composed: true }));\n      }\n    }\n\n    /**\n     * Get the focusable element depending on the current focus mode.\n     * It can be a row, a cell, or a focusable div inside a cell.\n     *\n     * @param {HTMLElement} row\n     * @param {HTMLElement} cell\n     * @return {HTMLElement}\n     * @private\n     */\n    __getFocusable(row, cell) {\n      return this.__rowFocusMode ? row : cell._focusButton || cell;\n    }\n\n    /**\n     * Enables interaction mode if a cells descendant receives focus or keyboard\n     * input. Disables it if the event is not related to cell content.\n     * @param {!KeyboardEvent|!FocusEvent} e\n     * @private\n     */\n    _detectInteracting(e) {\n      const isInteracting = e.composedPath().some((el) => el.localName === 'slot' && this.shadowRoot.contains(el));\n      this._setInteracting(isInteracting);\n      this.__updateHorizontalScrollPosition();\n    }\n\n    /**\n     * Enables or disables the focus target of the containing section of the\n     * grid from receiving focus, based on whether the user is interacting with\n     * that section of the grid.\n     * @param {HTMLElement} focusTarget\n     * @private\n     */\n    _updateGridSectionFocusTarget(focusTarget) {\n      if (!focusTarget) {\n        return;\n      }\n\n      const section = this._getGridSectionFromFocusTarget(focusTarget);\n      const isInteractingWithinActiveSection = this.interacting && section === this._activeRowGroup;\n\n      focusTarget.tabIndex = isInteractingWithinActiveSection ? -1 : 0;\n    }\n\n    /** @protected */\n    _preventScrollerRotatingCellFocus() {\n      if (this._activeRowGroup !== this.$.items) {\n        return;\n      }\n\n      this.__preventScrollerRotatingCellFocusDebouncer = Debouncer.debounce(\n        this.__preventScrollerRotatingCellFocusDebouncer,\n        animationFrame,\n        () => {\n          const isItemsRowGroupActive = this._activeRowGroup === this.$.items;\n          const isFocusedItemRendered = this._getRenderedRows().some((row) => row.index === this._focusedItemIndex);\n          if (isFocusedItemRendered) {\n            // Ensure the correct element is focused, as the virtualizer\n            // may use different elements when re-rendering visible items.\n            this.__updateItemsFocusable();\n\n            // The focused item is visible, so restore the cell focus outline\n            // and navigation mode.\n            if (isItemsRowGroupActive && !this.__rowFocusMode) {\n              this._focusedCell = this._itemsFocusable;\n            }\n\n            if (this._navigatingIsHidden) {\n              this.toggleAttribute('navigating', true);\n              this._navigatingIsHidden = false;\n            }\n          } else if (isItemsRowGroupActive) {\n            // The focused item was scrolled out of view and focus is still inside body,\n            // so remove the cell focus outline and hide navigation mode.\n            this._focusedCell = null;\n\n            if (this.hasAttribute('navigating')) {\n              this._navigatingIsHidden = true;\n              this.toggleAttribute('navigating', false);\n            }\n          }\n        },\n      );\n    }\n\n    /**\n     * @param {HTMLTableSectionElement=} rowGroup\n     * @param {number=} rowIndex\n     * @return {!Array<!GridColumn>}\n     * @protected\n     */\n    _getColumns(rowGroup, rowIndex) {\n      let columnTreeLevel = this._columnTree.length - 1;\n      if (rowGroup === this.$.header) {\n        columnTreeLevel = rowIndex;\n      } else if (rowGroup === this.$.footer) {\n        columnTreeLevel = this._columnTree.length - 1 - rowIndex;\n      }\n      return this._columnTree[columnTreeLevel];\n    }\n\n    /** @private */\n    __isValidFocusable(element) {\n      return this.$.table.contains(element) && element.offsetHeight;\n    }\n\n    /** @protected */\n    _resetKeyboardNavigation() {\n      if (!this.$ && this.performUpdate) {\n        this.performUpdate();\n      }\n      // Header / footer\n      ['header', 'footer'].forEach((section) => {\n        if (!this.__isValidFocusable(this[`_${section}Focusable`])) {\n          const firstVisibleRow = [...this.$[section].children].find((row) => row.offsetHeight);\n          const firstVisibleCell = firstVisibleRow ? [...firstVisibleRow.children].find((cell) => !cell.hidden) : null;\n          if (firstVisibleRow && firstVisibleCell) {\n            this[`_${section}Focusable`] = this.__getFocusable(firstVisibleRow, firstVisibleCell);\n          }\n        }\n      });\n\n      // Body\n      if (!this.__isValidFocusable(this._itemsFocusable) && this.$.items.firstElementChild) {\n        const firstVisibleRow = this.__getFirstVisibleItem();\n        const firstVisibleCell = firstVisibleRow ? [...firstVisibleRow.children].find((cell) => !cell.hidden) : null;\n\n        if (firstVisibleCell && firstVisibleRow) {\n          // Reset memoized column\n          this._focusedColumnOrder = undefined;\n          this._itemsFocusable = this.__getFocusable(firstVisibleRow, firstVisibleCell);\n        }\n      } else {\n        this.__updateItemsFocusable();\n      }\n    }\n\n    /**\n     * @param {!HTMLElement} dstCell\n     * @protected\n     */\n    _scrollHorizontallyToCell(dstCell) {\n      if (dstCell.hasAttribute('frozen') || dstCell.hasAttribute('frozen-to-end') || isDetailsCell(dstCell)) {\n        // These cells are, by design, always visible, no need to scroll.\n        return;\n      }\n\n      const dstCellRect = dstCell.getBoundingClientRect();\n      const dstRow = dstCell.parentNode;\n      const dstCellIndex = Array.from(dstRow.children).indexOf(dstCell);\n      const tableRect = this.$.table.getBoundingClientRect();\n      let leftBoundary = tableRect.left,\n        rightBoundary = tableRect.right;\n      for (let i = dstCellIndex - 1; i >= 0; i--) {\n        const cell = dstRow.children[i];\n        if (cell.hasAttribute('hidden') || isDetailsCell(cell)) {\n          continue;\n        }\n        if (cell.hasAttribute('frozen') || cell.hasAttribute('frozen-to-end')) {\n          leftBoundary = cell.getBoundingClientRect().right;\n          break;\n        }\n      }\n      for (let i = dstCellIndex + 1; i < dstRow.children.length; i++) {\n        const cell = dstRow.children[i];\n        if (cell.hasAttribute('hidden') || isDetailsCell(cell)) {\n          continue;\n        }\n        if (cell.hasAttribute('frozen') || cell.hasAttribute('frozen-to-end')) {\n          rightBoundary = cell.getBoundingClientRect().left;\n          break;\n        }\n      }\n\n      if (dstCellRect.left < leftBoundary) {\n        this.$.table.scrollLeft += Math.round(dstCellRect.left - leftBoundary);\n      }\n      if (dstCellRect.right > rightBoundary) {\n        this.$.table.scrollLeft += Math.round(dstCellRect.right - rightBoundary);\n      }\n    }\n\n    /**\n     * @typedef {Object} GridEventLocation\n     * @property {HTMLTableSectionElement | null} section - The table section element that the event occurred in (header, body, or footer), or null if the event did not occur in a section\n     * @property {HTMLTableRowElement | null} row - The row element that the event occurred in, or null if the event did not occur in a row\n     * @property {HTMLTableCellElement | null} cell - The cell element that the event occurred in, or null if the event did not occur in a cell\n     * @private\n     */\n    /**\n     * Takes an event and returns a location object describing in which part of the grid the event occurred.\n     * The event may either target table section, a row, a cell or contents of a cell.\n     * @param {Event} e\n     * @returns {GridEventLocation}\n     * @protected\n     */\n    _getGridEventLocation(e) {\n      // Use `composedPath()` stored by vaadin-context-menu gesture\n      // to avoid problem when accessing it after a timeout on iOS\n      const path = e.__composedPath || e.composedPath();\n      const tableIndex = path.indexOf(this.$.table);\n      // Assuming ascending path to table is: [...,] th|td, tr, thead|tbody, table [,...]\n      const section = tableIndex >= 1 ? path[tableIndex - 1] : null;\n      const row = tableIndex >= 2 ? path[tableIndex - 2] : null;\n      const cell = tableIndex >= 3 ? path[tableIndex - 3] : null;\n\n      return {\n        section,\n        row,\n        cell,\n      };\n    }\n\n    /**\n     * Helper method that maps a focus target cell to the containing grid section\n     * @param {HTMLElement} focusTarget\n     * @returns {HTMLTableSectionElement | null}\n     * @private\n     */\n    _getGridSectionFromFocusTarget(focusTarget) {\n      if (focusTarget === this._headerFocusable) {\n        return this.$.header;\n      }\n      if (focusTarget === this._itemsFocusable) {\n        return this.$.items;\n      }\n      if (focusTarget === this._footerFocusable) {\n        return this.$.footer;\n      }\n      return null;\n    }\n\n    /**\n     * Fired when a cell is focused with click or keyboard navigation.\n     *\n     * Use context property of @see {@link GridCellFocusEvent} to get detail information about the event.\n     *\n     * @event cell-focus\n     */\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { iterateChildren } from './vaadin-grid-helpers.js';\n\n/**\n * @polymerMixin\n */\nexport const RowDetailsMixin = (superClass) =>\n  class RowDetailsMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * An array containing references to items with open row details.\n         * @type {!Array<!GridItem>}\n         */\n        detailsOpenedItems: {\n          type: Array,\n          value: () => [],\n          sync: true,\n        },\n\n        /**\n         * Custom function for rendering the content of the row details.\n         * Receives three arguments:\n         *\n         * - `root` The row details content DOM element. Append your content to it.\n         * - `grid` The `<vaadin-grid>` element.\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.level` The number of the item's tree sublevel, starts from 0.\n         *   - `model.expanded` True if the item's tree sublevel is expanded.\n         *   - `model.selected` True if the item is selected.\n         *\n         * @type {GridRowDetailsRenderer | null | undefined}\n         */\n        rowDetailsRenderer: {\n          type: Function,\n          sync: true,\n        },\n\n        /**\n         * @type {!Array<!HTMLElement> | undefined}\n         * @protected\n         */\n        _detailsCells: {\n          type: Array,\n        },\n      };\n    }\n\n    static get observers() {\n      return [\n        '_detailsOpenedItemsChanged(detailsOpenedItems, rowDetailsRenderer)',\n        '_rowDetailsRendererChanged(rowDetailsRenderer)',\n      ];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this._detailsCellResizeObserver = new ResizeObserver((entries) => {\n        entries.forEach(({ target: cell }) => {\n          this._updateDetailsCellHeight(cell.parentElement);\n        });\n\n        // This workaround is needed until Safari also supports\n        // ResizeObserver.observe with {box: 'border-box'}\n        this.__virtualizer.__adapter._resizeHandler();\n      });\n    }\n\n    /** @private */\n    _rowDetailsRendererChanged(rowDetailsRenderer) {\n      if (!rowDetailsRenderer) {\n        return;\n      }\n\n      if (this._columnTree) {\n        // Only update the rows if the column tree has already been initialized\n        iterateChildren(this.$.items, (row) => {\n          if (!row.querySelector('[part~=details-cell]')) {\n            this._updateRow(row, this._columnTree[this._columnTree.length - 1]);\n            const isDetailsOpened = this._isDetailsOpened(row._item);\n            this._toggleDetailsCell(row, isDetailsOpened);\n          }\n        });\n      }\n    }\n\n    /** @private */\n    _detailsOpenedItemsChanged(_detailsOpenedItems, rowDetailsRenderer) {\n      iterateChildren(this.$.items, (row) => {\n        // Re-renders the row to possibly close the previously opened details.\n        if (row.hasAttribute('details-opened')) {\n          this._updateItem(row, row._item);\n          return;\n        }\n\n        // Re-renders the row to open the details when a row details renderer is provided.\n        if (rowDetailsRenderer && this._isDetailsOpened(row._item)) {\n          this._updateItem(row, row._item);\n        }\n      });\n    }\n\n    /**\n     * @param {!HTMLElement} cell\n     * @protected\n     */\n    _configureDetailsCell(cell) {\n      cell.setAttribute('part', 'cell details-cell');\n      // Freeze the details cell, so that it does not scroll horizontally\n      // with the normal cells. This way it looks less weird.\n      cell.toggleAttribute('frozen', true);\n\n      this._detailsCellResizeObserver.observe(cell);\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {!GridItem} item\n     * @protected\n     */\n    _toggleDetailsCell(row, detailsOpened) {\n      const cell = row.querySelector('[part~=\"details-cell\"]');\n      if (!cell) {\n        return;\n      }\n\n      cell.hidden = !detailsOpened;\n\n      if (cell.hidden) {\n        return;\n      }\n\n      // Assigns a renderer when the details cell is opened.\n      // The details cell content is rendered later in the `_updateItem` method.\n      if (this.rowDetailsRenderer) {\n        cell._renderer = this.rowDetailsRenderer;\n      }\n    }\n\n    /** @protected */\n    _updateDetailsCellHeight(row) {\n      const cell = row.querySelector('[part~=\"details-cell\"]');\n      if (!cell) {\n        return;\n      }\n\n      this.__updateDetailsRowPadding(row, cell);\n      // Ensure the row has correct padding after frame (the resize observer might miss it)\n      requestAnimationFrame(() => this.__updateDetailsRowPadding(row, cell));\n    }\n\n    /** @private */\n    __updateDetailsRowPadding(row, cell) {\n      if (cell.hidden) {\n        row.style.removeProperty('padding-bottom');\n      } else {\n        row.style.setProperty('padding-bottom', `${cell.offsetHeight}px`);\n      }\n    }\n\n    /** @protected */\n    _updateDetailsCellHeights() {\n      iterateChildren(this.$.items, (row) => {\n        this._updateDetailsCellHeight(row);\n      });\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @return {boolean}\n     * @protected\n     */\n    _isDetailsOpened(item) {\n      return this.detailsOpenedItems && this._getItemIndexInArray(item, this.detailsOpenedItems) !== -1;\n    }\n\n    /**\n     * Open the details row of a given item.\n     * @param {!GridItem} item\n     */\n    openItemDetails(item) {\n      if (!this._isDetailsOpened(item)) {\n        this.detailsOpenedItems = [...this.detailsOpenedItems, item];\n      }\n    }\n\n    /**\n     * Close the details row of a given item.\n     * @param {!GridItem} item\n     */\n    closeItemDetails(item) {\n      if (this._isDetailsOpened(item)) {\n        this.detailsOpenedItems = this.detailsOpenedItems.filter((i) => !this._itemsEqual(i, item));\n      }\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2022 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { animationFrame } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\n\nconst region = document.createElement('div');\n\nregion.style.position = 'fixed';\nregion.style.clip = 'rect(0px, 0px, 0px, 0px)';\nregion.setAttribute('aria-live', 'polite');\n\ndocument.body.appendChild(region);\n\nlet alertDebouncer;\n/**\n * Cause a text string to be announced by screen readers.\n *\n * @param {string} text The text that should be announced by the screen reader.\n * @param {{mode?: string, timeout?: number}} options Additional options.\n */\nexport function announce(text, options = {}) {\n  const mode = options.mode || 'polite';\n  const timeout = options.timeout === undefined ? 150 : options.timeout;\n\n  if (mode === 'alert') {\n    region.removeAttribute('aria-live');\n    region.removeAttribute('role');\n    alertDebouncer = Debouncer.debounce(alertDebouncer, animationFrame, () => {\n      region.setAttribute('role', 'alert');\n    });\n  } else {\n    if (alertDebouncer) {\n      alertDebouncer.cancel();\n    }\n    region.removeAttribute('role');\n    region.setAttribute('aria-live', mode);\n  }\n\n  region.textContent = '';\n\n  setTimeout(() => {\n    region.textContent = text;\n  }, timeout);\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\n/**\n * A mixin that manages keyboard handling.\n * The mixin subscribes to the keyboard events while an actual implementation\n * for the event handlers is left to the client (a component or another mixin).\n *\n * @polymerMixin\n */\nexport const KeyboardMixin = dedupingMixin(\n  (superclass) =>\n    class KeyboardMixinClass extends superclass {\n      /** @protected */\n      ready() {\n        super.ready();\n\n        this.addEventListener('keydown', (event) => {\n          this._onKeyDown(event);\n        });\n\n        this.addEventListener('keyup', (event) => {\n          this._onKeyUp(event);\n        });\n      }\n\n      /**\n       * A handler for the `keydown` event. By default, it calls\n       * separate methods for handling \"Enter\" and \"Escape\" keys.\n       * Override the method to implement your own behavior.\n       *\n       * @param {KeyboardEvent} event\n       * @protected\n       */\n      _onKeyDown(event) {\n        switch (event.key) {\n          case 'Enter':\n            this._onEnter(event);\n            break;\n          case 'Escape':\n            this._onEscape(event);\n            break;\n          default:\n            break;\n        }\n      }\n\n      /**\n       * A handler for the `keyup` event. By default, it does nothing.\n       * Override the method to implement your own behavior.\n       *\n       * @param {KeyboardEvent} _event\n       * @protected\n       */\n      _onKeyUp(_event) {\n        // To be implemented.\n      }\n\n      /**\n       * A handler for the \"Enter\" key. By default, it does nothing.\n       * Override the method to implement your own behavior.\n       *\n       * @param {KeyboardEvent} _event\n       * @protected\n       */\n      _onEnter(_event) {\n        // To be implemented.\n      }\n\n      /**\n       * A handler for the \"Escape\" key. By default, it does nothing.\n       * Override the method to implement your own behavior.\n       *\n       * @param {KeyboardEvent} _event\n       * @protected\n       */\n      _onEscape(_event) {\n        // To be implemented.\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { addListener } from '@vaadin/component-base/src/gestures.js';\nimport { DisabledMixin } from './disabled-mixin.js';\nimport { KeyboardMixin } from './keyboard-mixin.js';\n\n/**\n * A mixin to toggle the `active` attribute.\n *\n * The attribute is set whenever the user activates the element by a pointer\n * or presses an activation key on the element from the keyboard.\n *\n * The attribute is removed as soon as the element is deactivated\n * by the pointer or by releasing the activation key.\n *\n * @polymerMixin\n * @mixes DisabledMixin\n * @mixes KeyboardMixin\n */\nexport const ActiveMixin = (superclass) =>\n  class ActiveMixinClass extends DisabledMixin(KeyboardMixin(superclass)) {\n    /**\n     * An array of activation keys.\n     *\n     * See possible values here:\n     * https://developer.mozilla.org/ru/docs/Web/API/KeyboardEvent/key/Key_Values\n     *\n     * @protected\n     * @return {!Array<!string>}\n     */\n    get _activeKeys() {\n      return [' '];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      addListener(this, 'down', (event) => {\n        if (this._shouldSetActive(event)) {\n          this._setActive(true);\n        }\n      });\n\n      addListener(this, 'up', () => {\n        this._setActive(false);\n      });\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n\n      // When the element is disconnecting from the DOM at the moment being active,\n      // the `active` attribute needs to be manually removed from the element.\n      // Otherwise, it will preserve on the element until the element is activated once again.\n      // The case reproduces for `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n      this._setActive(false);\n    }\n\n    /**\n     * @param {KeyboardEvent | MouseEvent} _event\n     * @protected\n     */\n    _shouldSetActive(_event) {\n      return !this.disabled;\n    }\n\n    /**\n     * Sets the `active` attribute on the element if an activation key is pressed.\n     *\n     * @param {KeyboardEvent} event\n     * @protected\n     * @override\n     */\n    _onKeyDown(event) {\n      super._onKeyDown(event);\n\n      if (this._shouldSetActive(event) && this._activeKeys.includes(event.key)) {\n        this._setActive(true);\n\n        // Element can become hidden before the `keyup` event, e.g. on button click.\n        // Use document listener to ensure `active` attribute is removed correctly.\n        document.addEventListener(\n          'keyup',\n          (e) => {\n            if (this._activeKeys.includes(e.key)) {\n              this._setActive(false);\n            }\n          },\n          { once: true },\n        );\n      }\n    }\n\n    /**\n     * Toggles the `active` attribute on the element.\n     *\n     * @param {boolean} active\n     * @protected\n     */\n    _setActive(active) {\n      this.toggleAttribute('active', active);\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\nimport { isKeyboardActive } from './focus-utils.js';\n\n/**\n * A mixin to handle `focused` and `focus-ring` attributes based on focus.\n *\n * @polymerMixin\n */\nexport const FocusMixin = dedupingMixin(\n  (superclass) =>\n    class FocusMixinClass extends superclass {\n      /**\n       * @protected\n       * @return {boolean}\n       */\n      get _keyboardActive() {\n        return isKeyboardActive();\n      }\n\n      /** @protected */\n      ready() {\n        this.addEventListener('focusin', (e) => {\n          if (this._shouldSetFocus(e)) {\n            this._setFocused(true);\n          }\n        });\n\n        this.addEventListener('focusout', (e) => {\n          if (this._shouldRemoveFocus(e)) {\n            this._setFocused(false);\n          }\n        });\n\n        // In super.ready() other 'focusin' and 'focusout' listeners might be\n        // added, so we call it after our own ones to ensure they execute first.\n        // Issue to watch out: when incorrect, <vaadin-combo-box> refocuses the\n        // input field on iOS after \"Done\" is pressed.\n        super.ready();\n      }\n\n      /** @protected */\n      disconnectedCallback() {\n        super.disconnectedCallback();\n\n        // In non-Chrome browsers, blur does not fire on the element when it is disconnected.\n        // reproducible in `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\n        if (this.hasAttribute('focused')) {\n          this._setFocused(false);\n        }\n      }\n\n      /**\n       * Override to change how focused and focus-ring attributes are set.\n       *\n       * @param {boolean} focused\n       * @protected\n       */\n      _setFocused(focused) {\n        this.toggleAttribute('focused', focused);\n\n        // Focus-ring is true when the element was focused from the keyboard.\n        // Focus Ring [A11ycasts]: https://youtu.be/ilj2P5-5CjI\n        this.toggleAttribute('focus-ring', focused && this._keyboardActive);\n      }\n\n      /**\n       * Override to define if the field receives focus based on the event.\n       *\n       * @param {FocusEvent} _event\n       * @return {boolean}\n       * @protected\n       */\n      _shouldSetFocus(_event) {\n        return true;\n      }\n\n      /**\n       * Override to define if the field loses focus based on the event.\n       *\n       * @param {FocusEvent} _event\n       * @return {boolean}\n       * @protected\n       */\n      _shouldRemoveFocus(_event) {\n        return true;\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\nimport { FocusMixin } from './focus-mixin.js';\nimport { TabindexMixin } from './tabindex-mixin.js';\n\n/**\n * A mixin to forward focus to an element in the light DOM.\n *\n * @polymerMixin\n * @mixes FocusMixin\n * @mixes TabindexMixin\n */\nexport const DelegateFocusMixin = dedupingMixin(\n  (superclass) =>\n    class DelegateFocusMixinClass extends FocusMixin(TabindexMixin(superclass)) {\n      static get properties() {\n        return {\n          /**\n           * Specify that this control should have input focus when the page loads.\n           */\n          autofocus: {\n            type: Boolean,\n          },\n\n          /**\n           * A reference to the focusable element controlled by the mixin.\n           * It can be an input, textarea, button or any element with tabindex > -1.\n           *\n           * Any component implementing this mixin is expected to provide it\n           * by using `this._setFocusElement(input)` Polymer API.\n           *\n           * Toggling `tabindex` attribute on the host element propagates its value to `focusElement`.\n           *\n           * @protected\n           * @type {!HTMLElement}\n           */\n          focusElement: {\n            type: Object,\n            readOnly: true,\n            observer: '_focusElementChanged',\n          },\n\n          /**\n           * Override the property from `TabIndexMixin`\n           * to ensure the `tabindex` attribute of the focus element\n           * will be restored to `0` after re-enabling the element.\n           *\n           * @protected\n           * @override\n           */\n          _lastTabIndex: {\n            value: 0,\n          },\n        };\n      }\n\n      constructor() {\n        super();\n\n        this._boundOnBlur = this._onBlur.bind(this);\n        this._boundOnFocus = this._onFocus.bind(this);\n      }\n\n      /** @protected */\n      ready() {\n        super.ready();\n\n        if (this.autofocus && !this.disabled) {\n          requestAnimationFrame(() => {\n            this.focus();\n            this.setAttribute('focus-ring', '');\n          });\n        }\n      }\n\n      /**\n       * @protected\n       * @override\n       */\n      focus() {\n        if (this.focusElement && !this.disabled) {\n          this.focusElement.focus();\n        }\n      }\n\n      /**\n       * @protected\n       * @override\n       */\n      blur() {\n        if (this.focusElement) {\n          this.focusElement.blur();\n        }\n      }\n\n      /**\n       * @protected\n       * @override\n       */\n      click() {\n        if (this.focusElement && !this.disabled) {\n          this.focusElement.click();\n        }\n      }\n\n      /** @protected */\n      _focusElementChanged(element, oldElement) {\n        if (element) {\n          element.disabled = this.disabled;\n          this._addFocusListeners(element);\n          this.__forwardTabIndex(this.tabindex);\n        } else if (oldElement) {\n          this._removeFocusListeners(oldElement);\n        }\n      }\n\n      /**\n       * @param {HTMLElement} element\n       * @protected\n       */\n      _addFocusListeners(element) {\n        element.addEventListener('blur', this._boundOnBlur);\n        element.addEventListener('focus', this._boundOnFocus);\n      }\n\n      /**\n       * @param {HTMLElement} element\n       * @protected\n       */\n      _removeFocusListeners(element) {\n        element.removeEventListener('blur', this._boundOnBlur);\n        element.removeEventListener('focus', this._boundOnFocus);\n      }\n\n      /**\n       * Focus event does not bubble, so we dispatch it manually\n       * on the host element to support adding focus listeners\n       * when the focusable element is placed in light DOM.\n       * @param {FocusEvent} event\n       * @protected\n       */\n      _onFocus(event) {\n        event.stopPropagation();\n        this.dispatchEvent(new Event('focus'));\n      }\n\n      /**\n       * Blur event does not bubble, so we dispatch it manually\n       * on the host element to support adding blur listeners\n       * when the focusable element is placed in light DOM.\n       * @param {FocusEvent} event\n       * @protected\n       */\n      _onBlur(event) {\n        event.stopPropagation();\n        this.dispatchEvent(new Event('blur'));\n      }\n\n      /**\n       * @param {FocusEvent} event\n       * @return {boolean}\n       * @protected\n       * @override\n       */\n      _shouldSetFocus(event) {\n        return event.target === this.focusElement;\n      }\n\n      /**\n       * @param {FocusEvent} event\n       * @return {boolean}\n       * @protected\n       * @override\n       */\n      _shouldRemoveFocus(event) {\n        return event.target === this.focusElement;\n      }\n\n      /**\n       * @param {boolean} disabled\n       * @param {boolean} oldDisabled\n       * @protected\n       * @override\n       */\n      _disabledChanged(disabled, oldDisabled) {\n        super._disabledChanged(disabled, oldDisabled);\n\n        if (this.focusElement) {\n          this.focusElement.disabled = disabled;\n        }\n\n        if (disabled) {\n          this.blur();\n        }\n      }\n\n      /**\n       * Override an observer from `TabindexMixin`.\n       * Do not call super to remove tabindex attribute\n       * from the host after it has been forwarded.\n       * @param {string} tabindex\n       * @protected\n       * @override\n       */\n      _tabindexChanged(tabindex) {\n        this.__forwardTabIndex(tabindex);\n      }\n\n      /** @private */\n      __forwardTabIndex(tabindex) {\n        if (tabindex !== undefined && this.focusElement) {\n          this.focusElement.tabIndex = tabindex;\n\n          // Preserve tabindex=\"-1\" on the host element\n          if (tabindex !== -1) {\n            this.tabindex = undefined;\n          }\n        }\n\n        if (this.disabled && tabindex) {\n          // If tabindex attribute was changed while component was disabled\n          if (tabindex !== -1) {\n            this._lastTabIndex = tabindex;\n          }\n          this.tabindex = undefined;\n        }\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2023 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport {\n  addValueToAttribute,\n  deserializeAttributeValue,\n  removeValueFromAttribute,\n  serializeAttributeValue,\n} from '@vaadin/component-base/src/dom-utils.js';\n\nconst attributeToTargets = new Map();\n\n/**\n * Gets or creates a Set with the stored values for each element controlled by this helper\n *\n * @param {string} attr the attribute name used as key in the map\n *\n * @returns {WeakMap<HTMLElement, Set<string>} a weak map with the stored values for the elements being controlled by the helper\n */\nfunction getAttrMap(attr) {\n  if (!attributeToTargets.has(attr)) {\n    attributeToTargets.set(attr, new WeakMap());\n  }\n  return attributeToTargets.get(attr);\n}\n\n/**\n * Cleans the values set on the attribute to the given element.\n * It also stores the current values in the map, if `storeValue` is `true`.\n *\n * @param {HTMLElement} target\n * @param {string} attr the attribute to be cleared\n * @param {boolean} storeValue whether or not the current value of the attribute should be stored on the map\n * @returns\n */\nfunction cleanAriaIDReference(target, attr) {\n  if (!target) {\n    return;\n  }\n\n  target.removeAttribute(attr);\n}\n\n/**\n * Storing values of the accessible attributes in a Set inside of the WeakMap.\n *\n * @param {HTMLElement} target\n * @param {string} attr the attribute to be stored\n */\nfunction storeAriaIDReference(target, attr) {\n  if (!target || !attr) {\n    return;\n  }\n  const attributeMap = getAttrMap(attr);\n  if (attributeMap.has(target)) {\n    return;\n  }\n  const values = deserializeAttributeValue(target.getAttribute(attr));\n  attributeMap.set(target, new Set(values));\n}\n\n/**\n * Restores the generated values of the attribute to the given element.\n *\n * @param {HTMLElement} target\n * @param {string} attr\n */\nexport function restoreGeneratedAriaIDReference(target, attr) {\n  if (!target || !attr) {\n    return;\n  }\n  const attributeMap = getAttrMap(attr);\n  const values = attributeMap.get(target);\n  if (!values || values.size === 0) {\n    target.removeAttribute(attr);\n  } else {\n    addValueToAttribute(target, attr, serializeAttributeValue(values));\n  }\n  attributeMap.delete(target);\n}\n\n/**\n * Sets a new ID reference for a target element and an ARIA attribute.\n *\n * @typedef {Object} AriaIdReferenceConfig\n * @property {string | null | undefined} newId\n * @property {string | null | undefined} oldId\n * @property {boolean | null | undefined} fromUser\n * @param {HTMLElement} target\n * @param {string} attr\n * @param {AriaIdReferenceConfig | null | undefined} config\n * @param config.newId The new ARIA ID reference to set. If `null`, the attribute is removed,\n * and `config.fromUser` is true, any stored values are restored. If there are stored values\n * and `config.fromUser` is `false`, then `config.newId` is added to the stored values set.\n * @param config.oldId The ARIA ID reference to be removed from the attribute. If there are\n * stored values and `config.fromUser` is `false`, then `config.oldId` is removed from the\n * stored values set.\n * @param config.fromUser Indicates whether the function is called by the user or internally.\n * When `config.fromUser` is called with `true` for the first time, the function will clear\n * and store the attribute value for the given element.\n */\nexport function setAriaIDReference(target, attr, config = { newId: null, oldId: null, fromUser: false }) {\n  if (!target || !attr) {\n    return;\n  }\n\n  const { newId, oldId, fromUser } = config;\n\n  const attributeMap = getAttrMap(attr);\n  const storedValues = attributeMap.get(target);\n\n  if (!fromUser && !!storedValues) {\n    // If there's any stored values, it means the attribute is being handled by the user\n    // Replace the \"oldId\" with \"newId\" on the stored values set and leave\n    oldId && storedValues.delete(oldId);\n    newId && storedValues.add(newId);\n    return;\n  }\n\n  if (fromUser) {\n    if (!storedValues) {\n      // If it's called from user and there's no stored values for the attribute,\n      // then store the current value\n      storeAriaIDReference(target, attr);\n    } else if (!newId) {\n      // If called from user with newId == null, it means the attribute will no longer\n      // be in control of the user and the stored values should be restored\n      // Removing the entry on the map for this target\n      attributeMap.delete(target);\n    }\n\n    // If it's from user, then clear the attribute value before setting newId\n    cleanAriaIDReference(target, attr);\n  }\n\n  removeValueFromAttribute(target, attr, oldId);\n\n  const attributeValue = !newId ? serializeAttributeValue(storedValues) : newId;\n  if (attributeValue) {\n    addValueToAttribute(target, attr, attributeValue);\n  }\n}\n\n/**\n * Removes the {@link attr | attribute} value of the given {@link target} element.\n * It also stores the current value, if no stored values are present.\n *\n * @param {HTMLElement} target\n * @param {string} attr\n */\nexport function removeAriaIDReference(target, attr) {\n  storeAriaIDReference(target, attr);\n  cleanAriaIDReference(target, attr);\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { removeAriaIDReference, restoreGeneratedAriaIDReference, setAriaIDReference } from './aria-id-reference.js';\n\n/**\n * A controller for managing ARIA attributes for a field element:\n * either the component itself or slotted `<input>` element.\n */\nexport class FieldAriaController {\n  constructor(host) {\n    this.host = host;\n    this.__required = false;\n  }\n\n  /**\n   * Sets a target element to which ARIA attributes are added.\n   *\n   * @param {HTMLElement} target\n   */\n  setTarget(target) {\n    this.__target = target;\n    this.__setAriaRequiredAttribute(this.__required);\n    // We need to make sure that value in __labelId is stored\n    this.__setLabelIdToAriaAttribute(this.__labelId, this.__labelId);\n    if (this.__labelIdFromUser != null) {\n      this.__setLabelIdToAriaAttribute(this.__labelIdFromUser, this.__labelIdFromUser, true);\n    }\n    this.__setErrorIdToAriaAttribute(this.__errorId);\n    this.__setHelperIdToAriaAttribute(this.__helperId);\n    this.setAriaLabel(this.__label);\n  }\n\n  /**\n   * Toggles the `aria-required` attribute on the target element\n   * if the target is the host component (e.g. a field group).\n   * Otherwise, it does nothing.\n   *\n   * @param {boolean} required\n   */\n  setRequired(required) {\n    this.__setAriaRequiredAttribute(required);\n    this.__required = required;\n  }\n\n  /**\n   * Defines the `aria-label` attribute of the target element.\n   *\n   * To remove the attribute, pass `null` as `label`.\n   *\n   * @param {string | null | undefined} label\n   */\n  setAriaLabel(label) {\n    this.__setAriaLabelToAttribute(label);\n    this.__label = label;\n  }\n\n  /**\n   * Links the target element with a slotted label element\n   * via the target's attribute `aria-labelledby`.\n   *\n   * To unlink the previous slotted label element, pass `null` as `labelId`.\n   *\n   * @param {string | null} labelId\n   */\n  setLabelId(labelId, fromUser = false) {\n    const oldLabelId = fromUser ? this.__labelIdFromUser : this.__labelId;\n    this.__setLabelIdToAriaAttribute(labelId, oldLabelId, fromUser);\n    if (fromUser) {\n      this.__labelIdFromUser = labelId;\n    } else {\n      this.__labelId = labelId;\n    }\n  }\n\n  /**\n   * Links the target element with a slotted error element via the target's attribute:\n   * - `aria-labelledby` if the target is the host component (e.g a field group).\n   * - `aria-describedby` otherwise.\n   *\n   * To unlink the previous slotted error element, pass `null` as `errorId`.\n   *\n   * @param {string | null} errorId\n   */\n  setErrorId(errorId) {\n    this.__setErrorIdToAriaAttribute(errorId, this.__errorId);\n    this.__errorId = errorId;\n  }\n\n  /**\n   * Links the target element with a slotted helper element via the target's attribute:\n   * - `aria-labelledby` if the target is the host component (e.g a field group).\n   * - `aria-describedby` otherwise.\n   *\n   * To unlink the previous slotted helper element, pass `null` as `helperId`.\n   *\n   * @param {string | null} helperId\n   */\n  setHelperId(helperId) {\n    this.__setHelperIdToAriaAttribute(helperId, this.__helperId);\n    this.__helperId = helperId;\n  }\n\n  /**\n   * @param {string | null | undefined} label\n   * @private\n   * */\n  __setAriaLabelToAttribute(label) {\n    if (!this.__target) {\n      return;\n    }\n    if (label) {\n      removeAriaIDReference(this.__target, 'aria-labelledby');\n      this.__target.setAttribute('aria-label', label);\n    } else if (this.__label) {\n      restoreGeneratedAriaIDReference(this.__target, 'aria-labelledby');\n      this.__target.removeAttribute('aria-label');\n    }\n  }\n\n  /**\n   * @param {string | null | undefined} labelId\n   * @param {string | null | undefined} oldLabelId\n   * @param {boolean | null | undefined} fromUser\n   * @private\n   */\n  __setLabelIdToAriaAttribute(labelId, oldLabelId, fromUser) {\n    setAriaIDReference(this.__target, 'aria-labelledby', { newId: labelId, oldId: oldLabelId, fromUser });\n  }\n\n  /**\n   * @param {string | null | undefined} errorId\n   * @param {string | null | undefined} oldErrorId\n   * @private\n   */\n  __setErrorIdToAriaAttribute(errorId, oldErrorId) {\n    setAriaIDReference(this.__target, 'aria-describedby', { newId: errorId, oldId: oldErrorId, fromUser: false });\n  }\n\n  /**\n   * @param {string | null | undefined} helperId\n   * @param {string | null | undefined} oldHelperId\n   * @private\n   */\n  __setHelperIdToAriaAttribute(helperId, oldHelperId) {\n    setAriaIDReference(this.__target, 'aria-describedby', { newId: helperId, oldId: oldHelperId, fromUser: false });\n  }\n\n  /**\n   * @param {boolean} required\n   * @private\n   */\n  __setAriaRequiredAttribute(required) {\n    if (!this.__target) {\n      return;\n    }\n\n    if (['input', 'textarea'].includes(this.__target.localName)) {\n      // Native <input> or <textarea>, required is enough\n      return;\n    }\n\n    if (required) {\n      this.__target.setAttribute('aria-required', 'true');\n    } else {\n      this.__target.removeAttribute('aria-required');\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * Get the scrollLeft value of the element relative to the direction\n *\n * @param {HTMLElement} element\n * @param {string} direction current direction of the element\n * @return {number} the scrollLeft value.\n */\nexport function getNormalizedScrollLeft(element, direction) {\n  const { scrollLeft } = element;\n  if (direction !== 'rtl') {\n    return scrollLeft;\n  }\n\n  return element.scrollWidth - element.clientWidth + scrollLeft;\n}\n\n/**\n * Set the scrollLeft value of the element relative to the direction\n *\n * @param {HTMLElement} element\n * @param {string} direction current direction of the element\n * @param {number} scrollLeft the scrollLeft value to be set\n */\nexport function setNormalizedScrollLeft(element, direction, scrollLeft) {\n  if (direction !== 'rtl') {\n    element.scrollLeft = scrollLeft;\n  } else {\n    element.scrollLeft = element.clientWidth - element.scrollWidth + scrollLeft;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\nconst observer = new ResizeObserver((entries) => {\n  setTimeout(() => {\n    entries.forEach((entry) => {\n      // Notify child resizables, if any\n      if (entry.target.resizables) {\n        entry.target.resizables.forEach((resizable) => {\n          resizable._onResize(entry.contentRect);\n        });\n      } else {\n        entry.target._onResize(entry.contentRect);\n      }\n    });\n  });\n});\n\n/**\n * A mixin that uses a ResizeObserver to listen to host size changes.\n *\n * @polymerMixin\n */\nexport const ResizeMixin = dedupingMixin(\n  (superclass) =>\n    class ResizeMixinClass extends superclass {\n      /**\n       * When true, the parent element resize will be also observed.\n       * Override this getter and return `true` to enable this.\n       *\n       * @protected\n       */\n      get _observeParent() {\n        return false;\n      }\n\n      /** @protected */\n      connectedCallback() {\n        super.connectedCallback();\n        observer.observe(this);\n\n        if (this._observeParent) {\n          const parent = this.parentNode instanceof ShadowRoot ? this.parentNode.host : this.parentNode;\n\n          if (!parent.resizables) {\n            parent.resizables = new Set();\n            observer.observe(parent);\n          }\n\n          parent.resizables.add(this);\n          this.__parent = parent;\n        }\n      }\n\n      /** @protected */\n      disconnectedCallback() {\n        super.disconnectedCallback();\n        observer.unobserve(this);\n\n        const parent = this.__parent;\n        if (this._observeParent && parent) {\n          const resizables = parent.resizables;\n\n          if (resizables) {\n            resizables.delete(this);\n\n            if (resizables.size === 0) {\n              observer.unobserve(parent);\n            }\n          }\n\n          this.__parent = null;\n        }\n      }\n\n      /**\n       * A handler invoked on host resize. By default, it does nothing.\n       * Override the method to implement your own behavior.\n       *\n       * @protected\n       */\n      _onResize(_contentRect) {\n        // To be implemented.\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { isElementHidden } from '@vaadin/a11y-base';\nimport { animationFrame, microTask, timeOut } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\nimport { getNormalizedScrollLeft } from '@vaadin/component-base/src/dir-utils.js';\nimport { ResizeMixin } from '@vaadin/component-base/src/resize-mixin.js';\n\nconst timeouts = {\n  SCROLLING: 500,\n  UPDATE_CONTENT_VISIBILITY: 100,\n};\n\n/**\n * @polymerMixin\n */\nexport const ScrollMixin = (superClass) =>\n  class ScrollMixin extends ResizeMixin(superClass) {\n    static get properties() {\n      return {\n        /**\n         * Allows you to choose between modes for rendering columns in the grid:\n         *\n         * \"eager\" (default): All columns are rendered upfront, regardless of their visibility within the viewport.\n         * This mode should generally be preferred, as it avoids the limitations imposed by the \"lazy\" mode.\n         * Use this mode unless the grid has a large number of columns and performance outweighs the limitations\n         * in priority.\n         *\n         * \"lazy\": Optimizes the rendering of cells when there are multiple columns in the grid by virtualizing\n         * horizontal scrolling. In this mode, body cells are rendered only when their corresponding columns are\n         * inside the visible viewport.\n         *\n         * Using \"lazy\" rendering should be used only if you're dealing with a large number of columns and performance\n         * is your highest priority. For most use cases, the default \"eager\" mode is recommended due to the\n         * limitations imposed by the \"lazy\" mode.\n         *\n         * When using the \"lazy\" mode, keep the following limitations in mind:\n         *\n         * - Row Height: When only a number of columns are visible at once, the height of a row can only be that of\n         * the highest cell currently visible on that row. Make sure each cell on a single row has the same height\n         * as all other cells on that row. If row cells have different heights, users may experience jumpiness when\n         * scrolling the grid horizontally as lazily rendered cells with different heights are scrolled into view.\n         *\n         * - Auto-width Columns: For the columns that are initially outside the visible viewport but still use auto-width,\n         * only the header content is taken into account when calculating the column width because the body cells\n         * of the columns outside the viewport are not initially rendered.\n         *\n         * - Screen Reader Compatibility: Screen readers may not be able to associate the focused cells with the correct\n         * headers when only a subset of the body cells on a row is rendered.\n         *\n         * - Keyboard Navigation: Tabbing through focusable elements inside the grid body may not work as expected because\n         * some of the columns that would include focusable elements in the body cells may be outside the visible viewport\n         * and thus not rendered.\n         *\n         * @attr {eager|lazy} column-rendering\n         * @type {!ColumnRendering}\n         */\n        columnRendering: {\n          type: String,\n          value: 'eager',\n          sync: true,\n        },\n\n        /**\n         * Cached array of frozen cells\n         * @private\n         */\n        _frozenCells: {\n          type: Array,\n          value: () => [],\n        },\n\n        /**\n         * Cached array of cells frozen to end\n         * @private\n         */\n        _frozenToEndCells: {\n          type: Array,\n          value: () => [],\n        },\n      };\n    }\n\n    static get observers() {\n      return ['__columnRenderingChanged(_columnTree, columnRendering)'];\n    }\n\n    /** @private */\n    get _scrollLeft() {\n      return this.$.table.scrollLeft;\n    }\n\n    /** @private */\n    get _scrollTop() {\n      return this.$.table.scrollTop;\n    }\n\n    /**\n     * Override (from iron-scroll-target-behavior) to avoid document scroll\n     * @private\n     */\n    set _scrollTop(top) {\n      this.$.table.scrollTop = top;\n    }\n\n    /** @protected */\n    get _lazyColumns() {\n      return this.columnRendering === 'lazy';\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this.scrollTarget = this.$.table;\n\n      this.$.items.addEventListener('focusin', (e) => {\n        const composedPath = e.composedPath();\n        const row = composedPath[composedPath.indexOf(this.$.items) - 1];\n\n        if (row) {\n          // Make sure the row with the focused element is fully inside the visible viewport\n          // Don't change scroll position if the user is interacting with the mouse\n          if (!this._isMousedown) {\n            this.__scrollIntoViewport(row.index);\n          }\n\n          if (!this.$.table.contains(e.relatedTarget)) {\n            // Virtualizer can't catch the event because if orginates from the light DOM.\n            // Dispatch a virtualizer-element-focused event for virtualizer to catch.\n            this.$.table.dispatchEvent(new CustomEvent('virtualizer-element-focused', { detail: { element: row } }));\n          }\n        }\n      });\n\n      this.$.table.addEventListener('scroll', () => this._afterScroll());\n    }\n\n    /**\n     * @protected\n     * @override\n     */\n    _onResize() {\n      this._updateOverflow();\n      this.__updateHorizontalScrollPosition();\n\n      // For Firefox, manually restore last scroll position when grid becomes\n      // visible again. This solves an issue where switching visibility of two\n      // grids causes Firefox trying to synchronize the scroll positions between\n      // the two grid's table elements.\n      // See https://github.com/vaadin/web-components/issues/5796\n      if (this._firefox) {\n        const isVisible = !isElementHidden(this);\n        if (isVisible && this.__previousVisible === false) {\n          this._scrollTop = this.__memorizedScrollTop || 0;\n        }\n        this.__previousVisible = isVisible;\n      }\n    }\n\n    /**\n     * Scroll to a flat index in the grid. The method doesn't take into account\n     * the hierarchy of the items.\n     *\n     * @param {number} index Row index to scroll to\n     * @protected\n     */\n    _scrollToFlatIndex(index) {\n      index = Math.min(this._flatSize - 1, Math.max(0, index));\n      this.__virtualizer.scrollToIndex(index);\n      this.__scrollIntoViewport(index);\n    }\n\n    /**\n     * Makes sure the row with the given index (if found in the DOM) is fully\n     * inside the visible viewport, taking header/footer into account.\n     * @private\n     */\n    __scrollIntoViewport(index) {\n      const rowElement = [...this.$.items.children].find((child) => child.index === index);\n      if (rowElement) {\n        const dstRect = rowElement.getBoundingClientRect();\n        const footerTop = this.$.footer.getBoundingClientRect().top;\n        const headerBottom = this.$.header.getBoundingClientRect().bottom;\n        if (dstRect.bottom > footerTop) {\n          this.$.table.scrollTop += dstRect.bottom - footerTop;\n        } else if (dstRect.top < headerBottom) {\n          this.$.table.scrollTop -= headerBottom - dstRect.top;\n        }\n      }\n    }\n\n    /** @private */\n    _scheduleScrolling() {\n      if (!this._scrollingFrame) {\n        // Defer setting state attributes to avoid Edge hiccups\n        this._scrollingFrame = requestAnimationFrame(() => this.$.scroller.toggleAttribute('scrolling', true));\n      }\n      this._debounceScrolling = Debouncer.debounce(this._debounceScrolling, timeOut.after(timeouts.SCROLLING), () => {\n        cancelAnimationFrame(this._scrollingFrame);\n        delete this._scrollingFrame;\n        this.$.scroller.toggleAttribute('scrolling', false);\n      });\n    }\n\n    /** @private */\n    _afterScroll() {\n      this.__updateHorizontalScrollPosition();\n\n      if (!this.hasAttribute('reordering')) {\n        this._scheduleScrolling();\n      }\n      if (!this.hasAttribute('navigating')) {\n        this._hideTooltip(true);\n      }\n\n      this._updateOverflow();\n\n      this._debounceColumnContentVisibility = Debouncer.debounce(\n        this._debounceColumnContentVisibility,\n        timeOut.after(timeouts.UPDATE_CONTENT_VISIBILITY),\n        () => {\n          // If horizontal scroll position changed and lazy column rendering is enabled,\n          // update the visible columns.\n          if (this._lazyColumns && this.__cachedScrollLeft !== this._scrollLeft) {\n            this.__cachedScrollLeft = this._scrollLeft;\n            this.__updateColumnsBodyContentHidden();\n          }\n        },\n      );\n\n      // Memorize last scroll position in Firefox\n      if (this._firefox) {\n        const isVisible = !isElementHidden(this);\n        if (isVisible && this.__previousVisible !== false) {\n          this.__memorizedScrollTop = this._scrollTop;\n        }\n      }\n    }\n\n    /** @private */\n    __updateColumnsBodyContentHidden() {\n      if (!this._columnTree || !this._areSizerCellsAssigned()) {\n        return;\n      }\n\n      const columnsInOrder = this._getColumnsInOrder();\n      let bodyContentHiddenChanged = false;\n\n      // Remove the column cells from the DOM if the column is outside the viewport.\n      // Add the column cells to the DOM if the column is inside the viewport.\n      //\n      // Update the _bodyContentHidden property of the column to reflect the current\n      // visibility state and make it run renderers for the cells if necessary.\n      columnsInOrder.forEach((column) => {\n        const bodyContentHidden = this._lazyColumns && !this.__isColumnInViewport(column);\n\n        if (column._bodyContentHidden !== bodyContentHidden) {\n          bodyContentHiddenChanged = true;\n          column._cells.forEach((cell) => {\n            if (cell !== column._sizerCell) {\n              if (bodyContentHidden) {\n                cell.remove();\n              } else if (cell.__parentRow) {\n                // Add the cell to the correct DOM position in the row\n                const followingColumnCell = [...cell.__parentRow.children].find(\n                  (child) => columnsInOrder.indexOf(child._column) > columnsInOrder.indexOf(column),\n                );\n                cell.__parentRow.insertBefore(cell, followingColumnCell);\n              }\n            }\n          });\n        }\n\n        column._bodyContentHidden = bodyContentHidden;\n      });\n\n      if (bodyContentHiddenChanged) {\n        // Frozen columns may have changed their visibility\n        this._frozenCellsChanged();\n      }\n\n      if (this._lazyColumns) {\n        // Calculate the offset to apply to the body cells\n        const lastFrozenColumn = [...columnsInOrder].reverse().find((column) => column.frozen);\n        const lastFrozenColumnEnd = this.__getColumnEnd(lastFrozenColumn);\n        const firstVisibleColumn = columnsInOrder.find((column) => !column.frozen && !column._bodyContentHidden);\n        this.__lazyColumnsStart = this.__getColumnStart(firstVisibleColumn) - lastFrozenColumnEnd;\n        this.$.items.style.setProperty('--_grid-lazy-columns-start', `${this.__lazyColumnsStart}px`);\n\n        // Make sure the body has a focusable element in lazy columns mode\n        this._resetKeyboardNavigation();\n      }\n    }\n\n    /** @private */\n    __getColumnEnd(column) {\n      if (!column) {\n        return this.__isRTL ? this.$.table.clientWidth : 0;\n      }\n      return column._sizerCell.offsetLeft + (this.__isRTL ? 0 : column._sizerCell.offsetWidth);\n    }\n\n    /** @private */\n    __getColumnStart(column) {\n      if (!column) {\n        return this.__isRTL ? this.$.table.clientWidth : 0;\n      }\n      return column._sizerCell.offsetLeft + (this.__isRTL ? column._sizerCell.offsetWidth : 0);\n    }\n\n    /**\n     * Returns true if the given column is horizontally inside the viewport.\n     * @private\n     */\n    __isColumnInViewport(column) {\n      if (column.frozen || column.frozenToEnd) {\n        // Assume frozen columns to always be inside the viewport\n        return true;\n      }\n\n      // Check if the column's sizer cell is inside the viewport\n      return this.__isHorizontallyInViewport(column._sizerCell);\n    }\n\n    /** @private */\n    __isHorizontallyInViewport(element) {\n      return (\n        element.offsetLeft + element.offsetWidth >= this._scrollLeft &&\n        element.offsetLeft <= this._scrollLeft + this.clientWidth\n      );\n    }\n\n    /** @private */\n    __columnRenderingChanged(_columnTree, columnRendering) {\n      if (columnRendering === 'eager') {\n        this.$.scroller.removeAttribute('column-rendering');\n      } else {\n        this.$.scroller.setAttribute('column-rendering', columnRendering);\n      }\n\n      this.__updateColumnsBodyContentHidden();\n    }\n\n    /** @private */\n    _updateOverflow() {\n      this._debounceOverflow = Debouncer.debounce(this._debounceOverflow, animationFrame, () => {\n        this.__doUpdateOverflow();\n      });\n    }\n\n    /** @private */\n    __doUpdateOverflow() {\n      // Set overflow styling attributes\n      let overflow = '';\n      const table = this.$.table;\n      if (table.scrollTop < table.scrollHeight - table.clientHeight) {\n        overflow += ' bottom';\n      }\n\n      if (table.scrollTop > 0) {\n        overflow += ' top';\n      }\n\n      const scrollLeft = getNormalizedScrollLeft(table, this.getAttribute('dir'));\n      if (scrollLeft > 0) {\n        overflow += ' start';\n      }\n\n      if (scrollLeft < table.scrollWidth - table.clientWidth) {\n        overflow += ' end';\n      }\n\n      if (this.__isRTL) {\n        overflow = overflow.replace(/start|end/giu, (matched) => {\n          return matched === 'start' ? 'end' : 'start';\n        });\n      }\n\n      // TODO: Remove \"right\" and \"left\" values in the next major.\n      if (table.scrollLeft < table.scrollWidth - table.clientWidth) {\n        overflow += ' right';\n      }\n\n      if (table.scrollLeft > 0) {\n        overflow += ' left';\n      }\n\n      const value = overflow.trim();\n      if (value.length > 0 && this.getAttribute('overflow') !== value) {\n        this.setAttribute('overflow', value);\n      } else if (value.length === 0 && this.hasAttribute('overflow')) {\n        this.removeAttribute('overflow');\n      }\n    }\n\n    /** @protected */\n    _frozenCellsChanged() {\n      this._debouncerCacheElements = Debouncer.debounce(this._debouncerCacheElements, microTask, () => {\n        Array.from(this.shadowRoot.querySelectorAll('[part~=\"cell\"]')).forEach((cell) => {\n          cell.style.transform = '';\n        });\n        this._frozenCells = Array.prototype.slice.call(this.$.table.querySelectorAll('[frozen]'));\n        this._frozenToEndCells = Array.prototype.slice.call(this.$.table.querySelectorAll('[frozen-to-end]'));\n        this.__updateHorizontalScrollPosition();\n      });\n      this._debounceUpdateFrozenColumn();\n    }\n\n    /** @protected */\n    _debounceUpdateFrozenColumn() {\n      this.__debounceUpdateFrozenColumn = Debouncer.debounce(this.__debounceUpdateFrozenColumn, microTask, () =>\n        this._updateFrozenColumn(),\n      );\n    }\n\n    /** @private */\n    _updateFrozenColumn() {\n      if (!this._columnTree) {\n        return;\n      }\n\n      const columnsRow = this._columnTree[this._columnTree.length - 1].slice(0);\n      columnsRow.sort((a, b) => {\n        return a._order - b._order;\n      });\n\n      let lastFrozen;\n      let firstFrozenToEnd;\n\n      // Use for loop to only iterate columns once\n      for (let i = 0; i < columnsRow.length; i++) {\n        const col = columnsRow[i];\n\n        col._lastFrozen = false;\n        col._firstFrozenToEnd = false;\n\n        if (firstFrozenToEnd === undefined && col.frozenToEnd && !col.hidden) {\n          firstFrozenToEnd = i;\n        }\n\n        if (col.frozen && !col.hidden) {\n          lastFrozen = i;\n        }\n      }\n\n      if (lastFrozen !== undefined) {\n        columnsRow[lastFrozen]._lastFrozen = true;\n      }\n\n      if (firstFrozenToEnd !== undefined) {\n        columnsRow[firstFrozenToEnd]._firstFrozenToEnd = true;\n      }\n\n      this.__updateColumnsBodyContentHidden();\n    }\n\n    /** @private */\n    __updateHorizontalScrollPosition() {\n      if (!this._columnTree) {\n        return;\n      }\n      const scrollWidth = this.$.table.scrollWidth;\n      const clientWidth = this.$.table.clientWidth;\n      const scrollLeft = Math.max(0, this.$.table.scrollLeft);\n      const normalizedScrollLeft = getNormalizedScrollLeft(this.$.table, this.getAttribute('dir'));\n\n      // Position header, footer and items container\n      const transform = `translate(${-scrollLeft}px, 0)`;\n      this.$.header.style.transform = transform;\n      this.$.footer.style.transform = transform;\n      this.$.items.style.transform = transform;\n\n      // Position frozen cells\n      const x = this.__isRTL ? normalizedScrollLeft + clientWidth - scrollWidth : scrollLeft;\n      const transformFrozen = `translate(${x}px, 0)`;\n      this._frozenCells.forEach((cell) => {\n        cell.style.transform = transformFrozen;\n      });\n\n      // Position cells frozen to end\n      const remaining = this.__isRTL ? normalizedScrollLeft : scrollLeft + clientWidth - scrollWidth;\n      const transformFrozenToEnd = `translate(${remaining}px, 0)`;\n\n      let transformFrozenToEndBody = transformFrozenToEnd;\n\n      if (this._lazyColumns && this._areSizerCellsAssigned()) {\n        // Lazy column rendering is used, calculate the offset to apply to the frozen to end cells\n        const columnsInOrder = this._getColumnsInOrder();\n\n        const lastVisibleColumn = [...columnsInOrder]\n          .reverse()\n          .find((column) => !column.frozenToEnd && !column._bodyContentHidden);\n        const lastVisibleColumnEnd = this.__getColumnEnd(lastVisibleColumn);\n\n        const firstFrozenToEndColumn = columnsInOrder.find((column) => column.frozenToEnd);\n        const firstFrozenToEndColumnStart = this.__getColumnStart(firstFrozenToEndColumn);\n\n        const translateX = remaining + (firstFrozenToEndColumnStart - lastVisibleColumnEnd) + this.__lazyColumnsStart;\n        transformFrozenToEndBody = `translate(${translateX}px, 0)`;\n      }\n\n      this._frozenToEndCells.forEach((cell) => {\n        if (this.$.items.contains(cell)) {\n          cell.style.transform = transformFrozenToEndBody;\n        } else {\n          cell.style.transform = transformFrozenToEnd;\n        }\n      });\n\n      // Only update the --_grid-horizontal-scroll-position custom property when navigating\n      // on row focus mode to avoid performance issues.\n      if (this.hasAttribute('navigating') && this.__rowFocusMode) {\n        this.$.table.style.setProperty('--_grid-horizontal-scroll-position', `${-x}px`);\n      }\n    }\n\n    /** @private */\n    _areSizerCellsAssigned() {\n      return this._getColumnsInOrder().every((column) => column._sizerCell);\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * @polymerMixin\n */\nexport const SelectionMixin = (superClass) =>\n  class SelectionMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * An array that contains the selected items.\n         * @type {!Array<!GridItem>}\n         */\n        selectedItems: {\n          type: Object,\n          notify: true,\n          value: () => [],\n          sync: true,\n        },\n\n        /**\n         * A function to check whether a specific item in the grid may be\n         * selected or deselected by the user. Used by the selection column to\n         * conditionally enable to disable checkboxes for individual items. This\n         * function does not prevent programmatic selection/deselection of\n         * items. Changing the function does not modify the currently selected\n         * items.\n         *\n         * Configuring this function hides the select all checkbox of the grid\n         * selection column, which means users can not select or deselect all\n         * items anymore, nor do they get feedback on whether all items are\n         * selected or not.\n         *\n         * Receives an item instance and should return a boolean indicating\n         * whether users may change the selection state of that item.\n         *\n         * @type {(item: !GridItem) => boolean}\n         */\n        isItemSelectable: {\n          type: Function,\n          notify: (() => true)(), // prevent Polymer analyzer from documenting a changed event\n        },\n\n        /**\n         * Set of selected item ids\n         * @private\n         */\n        __selectedKeys: {\n          type: Object,\n          computed: '__computeSelectedKeys(itemIdPath, selectedItems)',\n        },\n      };\n    }\n\n    static get observers() {\n      return ['__selectedItemsChanged(itemIdPath, selectedItems, isItemSelectable)'];\n    }\n\n    /**\n     * @param {!GridItem} item\n     * @return {boolean}\n     * @protected\n     */\n    _isSelected(item) {\n      return this.__selectedKeys.has(this.getItemId(item));\n    }\n\n    /**\n     * Determines whether the selection state of an item may be changed by the\n     * user.\n     *\n     * @private\n     */\n    __isItemSelectable(item) {\n      // Item is selectable by default if isItemSelectable is not configured\n      if (!this.isItemSelectable || !item) {\n        return true;\n      }\n\n      // Otherwise, check isItemSelectable function\n      return this.isItemSelectable(item);\n    }\n\n    /**\n     * Selects the given item.\n     *\n     * @method selectItem\n     * @param {!GridItem} item The item object\n     */\n    selectItem(item) {\n      if (!this._isSelected(item)) {\n        this.selectedItems = [...this.selectedItems, item];\n      }\n    }\n\n    /**\n     * Deselects the given item if it is already selected.\n     *\n     * @method deselect\n     * @param {!GridItem} item The item object\n     */\n    deselectItem(item) {\n      if (this._isSelected(item)) {\n        this.selectedItems = this.selectedItems.filter((i) => !this._itemsEqual(i, item));\n      }\n    }\n\n    /** @private */\n    __selectedItemsChanged() {\n      this.requestContentUpdate();\n    }\n\n    /** @private */\n    __computeSelectedKeys(_itemIdPath, selectedItems) {\n      const selected = selectedItems || [];\n      const selectedKeys = new Set();\n      selected.forEach((item) => {\n        selectedKeys.add(this.getItemId(item));\n      });\n\n      return selectedKeys;\n    }\n\n    /**\n     * Fired when the `selectedItems` property changes.\n     *\n     * @event selected-items-changed\n     */\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nlet defaultMultiSortPriority = 'prepend';\n\n/**\n * @polymerMixin\n */\nexport const SortMixin = (superClass) =>\n  class SortMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * When `true`, all `<vaadin-grid-sorter>` are applied for sorting.\n         * @attr {boolean} multi-sort\n         * @type {boolean}\n         */\n        multiSort: {\n          type: Boolean,\n          value: false,\n        },\n\n        /**\n         * Controls how columns are added to the sort order when using multi-sort.\n         * The sort order is visually indicated by numbers in grid sorters placed in column headers.\n         *\n         * By default, whenever an unsorted column is sorted, or the sort-direction of a column is\n         * changed, that column gets sort priority 1, thus affecting the priority for all the other\n         * sorted columns. This is identical to using `multi-sort-priority=\"prepend\"`.\n         *\n         * Using this property allows to change this behavior so that sorting an unsorted column\n         * would add it to the \"end\" of the sort, and changing column's sort direction would retain\n         * it's previous priority. To set this, use `multi-sort-priority=\"append\"`.\n         *\n         * @attr {string} multi-sort-priority\n         */\n        multiSortPriority: {\n          type: String,\n          value: () => defaultMultiSortPriority,\n        },\n\n        /**\n         * When `true`, Shift-clicking an unsorted column's sorter adds it to the multi-sort.\n         * Shift + Space does the same action via keyboard. This property has precedence over the\n         * `multiSort` property. If `multiSortOnShiftClick` is true, the multiSort property is effectively ignored.\n         *\n         * @attr {boolean} multi-sort-on-shift-click\n         * @type {boolean}\n         */\n        multiSortOnShiftClick: {\n          type: Boolean,\n          value: false,\n        },\n\n        /**\n         * @type {!Array<!GridSorterDefinition>}\n         * @protected\n         */\n        _sorters: {\n          type: Array,\n          value: () => [],\n        },\n\n        /** @private */\n        _previousSorters: {\n          type: Array,\n          value: () => [],\n        },\n      };\n    }\n\n    /**\n     * Sets the default multi-sort priority to use for all grid instances.\n     * This method should be called before creating any grid instances.\n     * Changing this setting does not affect the default for existing grids.\n     *\n     * @param {string} priority\n     */\n    static setDefaultMultiSortPriority(priority) {\n      defaultMultiSortPriority = ['append', 'prepend'].includes(priority) ? priority : 'prepend';\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      this.addEventListener('sorter-changed', this._onSorterChanged);\n    }\n\n    /** @private */\n    _onSorterChanged(e) {\n      const sorter = e.target;\n      e.stopPropagation();\n      sorter._grid = this;\n      this.__updateSorter(sorter, e.detail.shiftClick, e.detail.fromSorterClick);\n      this.__applySorters();\n    }\n\n    /** @private */\n    __removeSorters(sortersToRemove) {\n      if (sortersToRemove.length === 0) {\n        return;\n      }\n\n      this._sorters = this._sorters.filter((sorter) => !sortersToRemove.includes(sorter));\n      this.__applySorters();\n    }\n\n    /** @private */\n    __updateSortOrders() {\n      this._sorters.forEach((sorter) => {\n        sorter._order = null;\n      });\n\n      const activeSorters = this._getActiveSorters();\n      if (activeSorters.length > 1) {\n        activeSorters.forEach((sorter, index) => {\n          sorter._order = index;\n        });\n      }\n    }\n\n    /** @private */\n    __updateSorter(sorter, shiftClick, fromSorterClick) {\n      if (!sorter.direction && !this._sorters.includes(sorter)) {\n        return;\n      }\n\n      sorter._order = null;\n\n      const restSorters = this._sorters.filter((s) => s !== sorter);\n      if (\n        (this.multiSort && (!this.multiSortOnShiftClick || !fromSorterClick)) ||\n        (this.multiSortOnShiftClick && shiftClick)\n      ) {\n        if (this.multiSortPriority === 'append') {\n          this._sorters = [...restSorters, sorter];\n        } else {\n          this._sorters = [sorter, ...restSorters];\n        }\n      } else if (sorter.direction || this.multiSortOnShiftClick) {\n        this._sorters = sorter.direction ? [sorter] : [];\n        restSorters.forEach((sorter) => {\n          sorter._order = null;\n          sorter.direction = null;\n        });\n      }\n    }\n\n    /** @private */\n    __applySorters() {\n      this.__updateSortOrders();\n\n      if (\n        this.dataProvider &&\n        // No need to clear cache if sorters didn't change and grid is attached\n        this.isAttached &&\n        JSON.stringify(this._previousSorters) !== JSON.stringify(this._mapSorters())\n      ) {\n        this.__debounceClearCache();\n      }\n\n      this._a11yUpdateSorters();\n\n      this._previousSorters = this._mapSorters();\n    }\n\n    /**\n     * @type {GridSorterDefinition[]}\n     * @protected\n     */\n    _getActiveSorters() {\n      return this._sorters.filter((sorter) => sorter.direction && sorter.isConnected);\n    }\n\n    /**\n     * @return {!Array<!GridSorterDefinition>}\n     * @protected\n     */\n    _mapSorters() {\n      return this._getActiveSorters().map((sorter) => {\n        return {\n          path: sorter.path,\n          direction: sorter.direction,\n        };\n      });\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { iterateChildren, iterateRowCells, updatePart } from './vaadin-grid-helpers.js';\n\n/**\n * @polymerMixin\n */\nexport const StylingMixin = (superClass) =>\n  class StylingMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * A function that allows generating CSS class names for grid cells\n         * based on their row and column. The return value should be the generated\n         * class name as a string, or multiple class names separated by whitespace\n         * characters.\n         *\n         * Receives two arguments:\n         * - `column` The `<vaadin-grid-column>` element (`undefined` for details-cell).\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.expanded` Sublevel toggle state.\n         *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n         *   - `model.selected` Selected state.\n         *\n         * @type {GridCellClassNameGenerator | null | undefined}\n         * @deprecated Use `cellPartNameGenerator` instead.\n         */\n        cellClassNameGenerator: {\n          type: Function,\n          sync: true,\n        },\n\n        /**\n         * A function that allows generating CSS `part` names for grid cells in Shadow DOM based\n         * on their row and column, for styling from outside using the `::part()` selector.\n         *\n         * The return value should be the generated part name as a string, or multiple part names\n         * separated by whitespace characters.\n         *\n         * Receives two arguments:\n         * - `column` The `<vaadin-grid-column>` element (`undefined` for details-cell).\n         * - `model` The object with the properties related with\n         *   the rendered item, contains:\n         *   - `model.index` The index of the item.\n         *   - `model.item` The item.\n         *   - `model.expanded` Sublevel toggle state.\n         *   - `model.level` Level of the tree represented with a horizontal offset of the toggle button.\n         *   - `model.selected` Selected state.\n         *\n         * @type {GridCellPartNameGenerator | null | undefined}\n         */\n        cellPartNameGenerator: {\n          type: Function,\n          sync: true,\n        },\n      };\n    }\n\n    static get observers() {\n      return [\n        '__cellClassNameGeneratorChanged(cellClassNameGenerator)',\n        '__cellPartNameGeneratorChanged(cellPartNameGenerator)',\n      ];\n    }\n\n    /** @private */\n    __cellClassNameGeneratorChanged() {\n      this.generateCellClassNames();\n    }\n\n    /** @private */\n    __cellPartNameGeneratorChanged() {\n      this.generateCellPartNames();\n    }\n\n    /**\n     * Runs the `cellClassNameGenerator` for the visible cells.\n     * If the generator depends on varying conditions, you need to\n     * call this function manually in order to update the styles when\n     * the conditions change.\n     *\n     * @deprecated Use `cellPartNameGenerator` and `generateCellPartNames()` instead.\n     */\n    generateCellClassNames() {\n      iterateChildren(this.$.items, (row) => {\n        if (!row.hidden) {\n          this._generateCellClassNames(row, this.__getRowModel(row));\n        }\n      });\n    }\n\n    /**\n     * Runs the `cellPartNameGenerator` for the visible cells.\n     * If the generator depends on varying conditions, you need to\n     * call this function manually in order to update the styles when\n     * the conditions change.\n     */\n    generateCellPartNames() {\n      iterateChildren(this.$.items, (row) => {\n        if (!row.hidden) {\n          this._generateCellPartNames(row, this.__getRowModel(row));\n        }\n      });\n    }\n\n    /** @private */\n    _generateCellClassNames(row, model) {\n      iterateRowCells(row, (cell) => {\n        if (cell.__generatedClasses) {\n          cell.__generatedClasses.forEach((className) => cell.classList.remove(className));\n        }\n        if (this.cellClassNameGenerator && !row.hasAttribute('loading')) {\n          const result = this.cellClassNameGenerator(cell._column, model);\n          cell.__generatedClasses = result && result.split(' ').filter((className) => className.length > 0);\n          if (cell.__generatedClasses) {\n            cell.__generatedClasses.forEach((className) => cell.classList.add(className));\n          }\n        }\n      });\n    }\n\n    /** @private */\n    _generateCellPartNames(row, model) {\n      iterateRowCells(row, (cell) => {\n        if (cell.__generatedParts) {\n          cell.__generatedParts.forEach((partName) => {\n            // Remove previously generated part names\n            updatePart(cell, null, partName);\n          });\n        }\n        if (this.cellPartNameGenerator && !row.hasAttribute('loading')) {\n          const result = this.cellPartNameGenerator(cell._column, model);\n          cell.__generatedParts = result && result.split(' ').filter((partName) => partName.length > 0);\n          if (cell.__generatedParts) {\n            cell.__generatedParts.forEach((partName) => {\n              // Add the newly generated names to part\n              updatePart(cell, true, partName);\n            });\n          }\n        }\n      });\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { isElementHidden } from '@vaadin/a11y-base/src/focus-utils.js';\nimport { TabindexMixin } from '@vaadin/a11y-base/src/tabindex-mixin.js';\nimport { animationFrame, microTask } from '@vaadin/component-base/src/async.js';\nimport {\n  isAndroid,\n  isChrome,\n  isFirefox,\n  isIOS,\n  isSafari,\n  isTouch,\n  supportsAdoptingStyleSheets,\n} from '@vaadin/component-base/src/browser-utils.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\nimport { getClosestElement } from '@vaadin/component-base/src/dom-utils.js';\nimport { SlotObserver } from '@vaadin/component-base/src/slot-observer.js';\nimport { processTemplates } from '@vaadin/component-base/src/templates.js';\nimport { TooltipController } from '@vaadin/component-base/src/tooltip-controller.js';\nimport { Virtualizer } from '@vaadin/component-base/src/virtualizer.js';\nimport { A11yMixin } from './vaadin-grid-a11y-mixin.js';\nimport { ActiveItemMixin } from './vaadin-grid-active-item-mixin.js';\nimport { ArrayDataProviderMixin } from './vaadin-grid-array-data-provider-mixin.js';\nimport { ColumnReorderingMixin } from './vaadin-grid-column-reordering-mixin.js';\nimport { ColumnResizingMixin } from './vaadin-grid-column-resizing-mixin.js';\nimport { DataProviderMixin } from './vaadin-grid-data-provider-mixin.js';\nimport { DragAndDropMixin } from './vaadin-grid-drag-and-drop-mixin.js';\nimport { DynamicColumnsMixin } from './vaadin-grid-dynamic-columns-mixin.js';\nimport { EventContextMixin } from './vaadin-grid-event-context-mixin.js';\nimport { FilterMixin } from './vaadin-grid-filter-mixin.js';\nimport {\n  getBodyRowCells,\n  iterateChildren,\n  iterateRowCells,\n  updateBooleanRowStates,\n  updateCellsPart,\n} from './vaadin-grid-helpers.js';\nimport { KeyboardNavigationMixin } from './vaadin-grid-keyboard-navigation-mixin.js';\nimport { RowDetailsMixin } from './vaadin-grid-row-details-mixin.js';\nimport { ScrollMixin } from './vaadin-grid-scroll-mixin.js';\nimport { SelectionMixin } from './vaadin-grid-selection-mixin.js';\nimport { SortMixin } from './vaadin-grid-sort-mixin.js';\nimport { StylingMixin } from './vaadin-grid-styling-mixin.js';\n\n/**\n * A mixin providing common grid functionality.\n *\n * @polymerMixin\n * @mixes A11yMixin\n * @mixes ActiveItemMixin\n * @mixes ArrayDataProviderMixin\n * @mixes ColumnResizingMixin\n * @mixes DataProviderMixin\n * @mixes DynamicColumnsMixin\n * @mixes FilterMixin\n * @mixes RowDetailsMixin\n * @mixes ScrollMixin\n * @mixes SelectionMixin\n * @mixes SortMixin\n * @mixes KeyboardNavigationMixin\n * @mixes ColumnReorderingMixin\n * @mixes EventContextMixin\n * @mixes StylingMixin\n * @mixes DragAndDropMixin\n */\nexport const GridMixin = (superClass) =>\n  class extends ArrayDataProviderMixin(\n    DataProviderMixin(\n      DynamicColumnsMixin(\n        ActiveItemMixin(\n          ScrollMixin(\n            SelectionMixin(\n              SortMixin(\n                RowDetailsMixin(\n                  KeyboardNavigationMixin(\n                    A11yMixin(\n                      FilterMixin(\n                        ColumnReorderingMixin(\n                          ColumnResizingMixin(\n                            EventContextMixin(DragAndDropMixin(StylingMixin(TabindexMixin(superClass)))),\n                          ),\n                        ),\n                      ),\n                    ),\n                  ),\n                ),\n              ),\n            ),\n          ),\n        ),\n      ),\n    ),\n  ) {\n    static get observers() {\n      return ['_columnTreeChanged(_columnTree)', '_flatSizeChanged(_flatSize, __virtualizer, _hasData, _columnTree)'];\n    }\n\n    static get properties() {\n      return {\n        /** @private */\n        _safari: {\n          type: Boolean,\n          value: isSafari,\n        },\n\n        /** @private */\n        _ios: {\n          type: Boolean,\n          value: isIOS,\n        },\n\n        /** @private */\n        _firefox: {\n          type: Boolean,\n          value: isFirefox,\n        },\n\n        /** @private */\n        _android: {\n          type: Boolean,\n          value: isAndroid,\n        },\n\n        /** @private */\n        _touchDevice: {\n          type: Boolean,\n          value: isTouch,\n        },\n\n        /**\n         * If true, the grid's height is defined by its rows.\n         *\n         * Effectively, this disables the grid's virtual scrolling so that all the rows are rendered in the DOM at once.\n         * If the grid has a large number of items, using the feature is discouraged to avoid performance issues.\n         * @attr {boolean} all-rows-visible\n         * @type {boolean}\n         */\n        allRowsVisible: {\n          type: Boolean,\n          value: false,\n          reflectToAttribute: true,\n        },\n\n        /** @private */\n        __pendingRecalculateColumnWidths: {\n          type: Boolean,\n          value: true,\n        },\n\n        /** @private */\n        isAttached: {\n          value: false,\n        },\n\n        /**\n         * An internal property that is mainly used by `vaadin-template-renderer`\n         * to identify grid elements.\n         *\n         * @private\n         */\n        __gridElement: {\n          type: Boolean,\n          value: true,\n        },\n\n        /** @private */\n        __hasEmptyStateContent: {\n          type: Boolean,\n          value: false,\n        },\n\n        /** @private */\n        __emptyState: {\n          type: Boolean,\n          computed: '__computeEmptyState(_flatSize, __hasEmptyStateContent)',\n        },\n      };\n    }\n\n    constructor() {\n      super();\n      this.addEventListener('animationend', this._onAnimationEnd);\n    }\n\n    /** @private */\n    get _firstVisibleIndex() {\n      const firstVisibleItem = this.__getFirstVisibleItem();\n      return firstVisibleItem ? firstVisibleItem.index : undefined;\n    }\n\n    /** @private */\n    get _lastVisibleIndex() {\n      const lastVisibleItem = this.__getLastVisibleItem();\n      return lastVisibleItem ? lastVisibleItem.index : undefined;\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n      this.isAttached = true;\n      if (this.__virtualizer) {\n        this.__virtualizer.hostConnected();\n      }\n      this.recalculateColumnWidths();\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      this.isAttached = false;\n      this._hideTooltip(true);\n    }\n\n    /** @private */\n    __getFirstVisibleItem() {\n      return this._getRenderedRows().find((row) => this._isInViewport(row));\n    }\n\n    /** @private */\n    __getLastVisibleItem() {\n      return this._getRenderedRows()\n        .reverse()\n        .find((row) => this._isInViewport(row));\n    }\n\n    /** @private */\n    _isInViewport(item) {\n      const scrollTargetRect = this.$.table.getBoundingClientRect();\n      const itemRect = item.getBoundingClientRect();\n      const headerHeight = this.$.header.getBoundingClientRect().height;\n      const footerHeight = this.$.footer.getBoundingClientRect().height;\n      return (\n        itemRect.bottom > scrollTargetRect.top + headerHeight && itemRect.top < scrollTargetRect.bottom - footerHeight\n      );\n    }\n\n    /** @private */\n    _getRenderedRows() {\n      return Array.from(this.$.items.children)\n        .filter((item) => !item.hidden)\n        .sort((a, b) => a.index - b.index);\n    }\n\n    /** @protected */\n    _getRowContainingNode(node) {\n      const content = getClosestElement('vaadin-grid-cell-content', node);\n      if (!content) {\n        return;\n      }\n\n      const cell = content.assignedSlot.parentElement;\n      return cell.parentElement;\n    }\n\n    /** @protected */\n    _isItemAssignedToRow(item, row) {\n      const model = this.__getRowModel(row);\n      return this.getItemId(item) === this.getItemId(model.item);\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this.__virtualizer = new Virtualizer({\n        createElements: this._createScrollerRows.bind(this),\n        updateElement: this._updateScrollerItem.bind(this),\n        scrollContainer: this.$.items,\n        scrollTarget: this.$.table,\n        reorderElements: true,\n      });\n\n      new ResizeObserver(() =>\n        setTimeout(() => {\n          this.__updateColumnsBodyContentHidden();\n          this.__tryToRecalculateColumnWidthsIfPending();\n        }),\n      ).observe(this.$.table);\n\n      const minHeightObserver = new ResizeObserver(() =>\n        setTimeout(() => {\n          this.__updateMinHeight();\n        }),\n      );\n\n      minHeightObserver.observe(this.$.header);\n      minHeightObserver.observe(this.$.items);\n      minHeightObserver.observe(this.$.footer);\n\n      processTemplates(this);\n\n      this._tooltipController = new TooltipController(this);\n      this.addController(this._tooltipController);\n      this._tooltipController.setManual(true);\n\n      this.__emptyStateContentObserver = new SlotObserver(this.$.emptystateslot, ({ currentNodes }) => {\n        this.$.emptystatecell._content = currentNodes[0];\n        this.__hasEmptyStateContent = !!this.$.emptystatecell._content;\n      });\n    }\n\n    /** @private */\n    __getBodyCellCoordinates(cell) {\n      if (this.$.items.contains(cell) && cell.localName === 'td') {\n        return {\n          item: cell.parentElement._item,\n          column: cell._column,\n        };\n      }\n    }\n\n    /** @private */\n    __focusBodyCell({ item, column }) {\n      const row = this._getRenderedRows().find((row) => row._item === item);\n      const cell = row && [...row.children].find((cell) => cell._column === column);\n      if (cell) {\n        cell.focus();\n      }\n    }\n\n    /** @protected */\n    _focusFirstVisibleRow() {\n      const row = this.__getFirstVisibleItem();\n      this.__rowFocusMode = true;\n      row.focus();\n    }\n\n    /** @private */\n    _flatSizeChanged(flatSize, virtualizer, hasData, columnTree) {\n      if (virtualizer && hasData && columnTree) {\n        // Changing the virtualizer size may result in the row with focus getting hidden\n        const cell = this.shadowRoot.activeElement;\n        const cellCoordinates = this.__getBodyCellCoordinates(cell);\n\n        const previousSize = virtualizer.size || 0;\n        virtualizer.size = flatSize;\n\n        // Request an update for the previous last row to have the \"last\" state removed\n        virtualizer.update(previousSize - 1, previousSize - 1);\n        if (flatSize < previousSize) {\n          // Size was decreased, so the new last row requires an explicit update\n          virtualizer.update(flatSize - 1, flatSize - 1);\n        }\n\n        // If the focused cell's parent row got hidden by the size change, focus the corresponding new cell\n        if (cellCoordinates && cell.parentElement.hidden) {\n          this.__focusBodyCell(cellCoordinates);\n        }\n\n        // Make sure the body has a tabbable element\n        this._resetKeyboardNavigation();\n      }\n    }\n\n    /** @private */\n    __getIntrinsicWidth(col) {\n      if (!this.__intrinsicWidthCache.has(col)) {\n        this.__calculateAndCacheIntrinsicWidths([col]);\n      }\n      return this.__intrinsicWidthCache.get(col);\n    }\n\n    /** @private */\n    __getDistributedWidth(col, innerColumn) {\n      if (col == null || col === this) {\n        return 0;\n      }\n\n      const columnWidth = Math.max(\n        this.__getIntrinsicWidth(col),\n        this.__getDistributedWidth((col.assignedSlot || col).parentElement, col),\n      );\n\n      // We're processing a regular grid-column and not a grid-column-group\n      if (!innerColumn) {\n        return columnWidth;\n      }\n\n      // At the end, the width of each vaadin-grid-column-group is determined by the sum of the width of its children.\n      // Here we determine how much space the vaadin-grid-column-group actually needs to render properly and then we distribute that space\n      // to its children, so when we actually do the summation it will be rendered properly.\n      // Check out vaadin-grid-column-group:_updateFlexAndWidth\n      const columnGroup = col;\n      const columnGroupWidth = columnWidth;\n      const sumOfWidthOfAllChildColumns = columnGroup._visibleChildColumns\n        .map((col) => this.__getIntrinsicWidth(col))\n        .reduce((sum, curr) => sum + curr, 0);\n\n      const extraNecessarySpaceForGridColumnGroup = Math.max(0, columnGroupWidth - sumOfWidthOfAllChildColumns);\n\n      // The distribution of the extra necessary space is done according to the intrinsic width of each child column.\n      // Lets say we need 100 pixels of extra space for the grid-column-group to render properly\n      // it has two grid-column children, |100px|300px| in total 400px\n      // the first column gets 25px of the additional space (100/400)*100 = 25\n      // the second column gets the 75px of the additional space (300/400)*100 = 75\n      const proportionOfExtraSpace = this.__getIntrinsicWidth(innerColumn) / sumOfWidthOfAllChildColumns;\n      const shareOfInnerColumnFromNecessaryExtraSpace = proportionOfExtraSpace * extraNecessarySpaceForGridColumnGroup;\n\n      return this.__getIntrinsicWidth(innerColumn) + shareOfInnerColumnFromNecessaryExtraSpace;\n    }\n\n    /**\n     * @param {!Array<!GridColumn>} cols the columns to auto size based on their content width\n     * @private\n     */\n    _recalculateColumnWidths(cols) {\n      // Flush to make sure DOM is up-to-date when measuring the column widths\n      this.__virtualizer.flush();\n      [...this.$.header.children, ...this.$.footer.children].forEach((row) => {\n        if (row.__debounceUpdateHeaderFooterRowVisibility) {\n          row.__debounceUpdateHeaderFooterRowVisibility.flush();\n        }\n      });\n\n      // Flush to account for any changes to the visibility of the columns\n      if (this._debouncerHiddenChanged) {\n        this._debouncerHiddenChanged.flush();\n      }\n\n      // Flush frozen column updates\n      if (this.__debounceUpdateFrozenColumn) {\n        this.__debounceUpdateFrozenColumn.flush();\n      }\n\n      this.__intrinsicWidthCache = new Map();\n      // Cache the viewport rows to avoid unnecessary reflows while measuring the column widths\n      const fvi = this._firstVisibleIndex;\n      const lvi = this._lastVisibleIndex;\n      this.__viewportRowsCache = this._getRenderedRows().filter((row) => row.index >= fvi && row.index <= lvi);\n\n      // Pre-cache the intrinsic width of each column\n      this.__calculateAndCacheIntrinsicWidths(cols);\n\n      cols.forEach((col) => {\n        col.width = `${this.__getDistributedWidth(col)}px`;\n      });\n    }\n\n    /**\n     * Toggles the cell content for the given column to use or not use auto width.\n     *\n     * While content for all the column cells uses auto width (instead of the default 100%),\n     * their offsetWidth can be used to calculate the collective intrinsic width of the column.\n     *\n     * @private\n     */\n    __setVisibleCellContentAutoWidth(col, autoWidth) {\n      col._allCells\n        .filter((cell) => {\n          if (this.$.items.contains(cell)) {\n            return this.__viewportRowsCache.includes(cell.parentElement);\n          }\n          return true;\n        })\n        .forEach((cell) => {\n          cell.__measuringAutoWidth = autoWidth;\n\n          if (cell.__measuringAutoWidth) {\n            // Store the original inline width of the cell to restore it later\n            cell.__originalWidth = cell.style.width;\n            // Prepare the cell for having its intrinsic width measured\n            cell.style.width = 'auto';\n            cell.style.position = 'absolute';\n          } else {\n            // Restore the original width\n            cell.style.width = cell.__originalWidth;\n            delete cell.__originalWidth;\n            cell.style.position = '';\n          }\n        });\n\n      if (autoWidth) {\n        this.$.scroller.setAttribute('measuring-auto-width', '');\n      } else {\n        this.$.scroller.removeAttribute('measuring-auto-width');\n      }\n    }\n\n    /**\n     * Returns the maximum intrinsic width of the cell content in the given column.\n     * Only cells which are marked for measuring auto width are considered.\n     *\n     * @private\n     */\n    __getAutoWidthCellsMaxWidth(col) {\n      // Note: _allCells only contains cells which are currently rendered in DOM\n      return col._allCells.reduce((width, cell) => {\n        // Add 1px buffer to the offset width to avoid too narrow columns (sub-pixel rendering)\n        return cell.__measuringAutoWidth ? Math.max(width, cell.offsetWidth + 1) : width;\n      }, 0);\n    }\n\n    /**\n     * Calculates and caches the intrinsic width of each given column.\n     *\n     * @private\n     */\n    __calculateAndCacheIntrinsicWidths(cols) {\n      // Make all the columns use auto width at once before measuring to\n      // avoid reflows in between the measurements\n      cols.forEach((col) => this.__setVisibleCellContentAutoWidth(col, true));\n      // Measure and cache\n      cols.forEach((col) => {\n        const width = this.__getAutoWidthCellsMaxWidth(col);\n        this.__intrinsicWidthCache.set(col, width);\n      });\n      // Reset the columns to use 100% width\n      cols.forEach((col) => this.__setVisibleCellContentAutoWidth(col, false));\n    }\n\n    /**\n     * Updates the `width` of all columns which have `autoWidth` set to `true`.\n     */\n    recalculateColumnWidths() {\n      if (!this._columnTree) {\n        return; // No columns\n      }\n      if (isElementHidden(this) || this._dataProviderController.isLoading()) {\n        this.__pendingRecalculateColumnWidths = true;\n        return;\n      }\n      const cols = this._getColumns().filter((col) => !col.hidden && col.autoWidth);\n\n      const undefinedCols = cols.filter((col) => !customElements.get(col.localName));\n      if (undefinedCols.length) {\n        // Some of the columns are not defined yet, wait for them to be defined before measuring\n        Promise.all(undefinedCols.map((col) => customElements.whenDefined(col.localName))).then(() => {\n          this._recalculateColumnWidths(cols);\n        });\n      } else {\n        this._recalculateColumnWidths(cols);\n      }\n    }\n\n    /** @private */\n    __tryToRecalculateColumnWidthsIfPending() {\n      if (!this.__pendingRecalculateColumnWidths || isElementHidden(this) || this._dataProviderController.isLoading()) {\n        return;\n      }\n\n      // Delay recalculation if any rows are missing an index.\n      // This can happen during the grid's initialization if the recalculation is triggered\n      // as a result of the data provider responding synchronously to a page request created\n      // in the middle of the virtualizer update loop. In this case, rows after the one that\n      // triggered the page request may not have an index property yet. The lack of index\n      // prevents _onDataProviderPageReceived from requesting children for these rows,\n      // resulting in loading state being set to false and the recalculation beginning\n      // before all the data is loaded. Note, rows without index get updated in later iterations\n      // of the virtualizer update loop, ensuring the grid eventually reaches a stable state.\n      const hasRowsWithUndefinedIndex = [...this.$.items.children].some((row) => row.index === undefined);\n      if (hasRowsWithUndefinedIndex) {\n        return;\n      }\n\n      const hasRowsWithClientHeight = [...this.$.items.children].some((row) => row.clientHeight > 0);\n      if (hasRowsWithClientHeight) {\n        this.__pendingRecalculateColumnWidths = false;\n        this.recalculateColumnWidths();\n      }\n    }\n\n    /**\n     * @protected\n     * @override\n     */\n    _onDataProviderPageLoaded() {\n      super._onDataProviderPageLoaded();\n      this.__tryToRecalculateColumnWidthsIfPending();\n    }\n\n    /** @private */\n    _createScrollerRows(count) {\n      const rows = [];\n      for (let i = 0; i < count; i++) {\n        const row = document.createElement('tr');\n        row.setAttribute('part', 'row body-row');\n        row.setAttribute('role', 'row');\n        row.setAttribute('tabindex', '-1');\n        if (this._columnTree) {\n          this._updateRow(row, this._columnTree[this._columnTree.length - 1], 'body', false, true);\n        }\n        rows.push(row);\n      }\n\n      if (this._columnTree) {\n        this._columnTree[this._columnTree.length - 1].forEach((c) => {\n          if (c.isConnected && c._cells) {\n            c._cells = [...c._cells];\n          }\n        });\n      }\n\n      this.__afterCreateScrollerRowsDebouncer = Debouncer.debounce(\n        this.__afterCreateScrollerRowsDebouncer,\n        animationFrame,\n        () => {\n          this._afterScroll();\n          this.__tryToRecalculateColumnWidthsIfPending();\n        },\n      );\n      return rows;\n    }\n\n    /** @private */\n    _createCell(tagName, column) {\n      const contentId = (this._contentIndex = this._contentIndex + 1 || 0);\n      const slotName = `vaadin-grid-cell-content-${contentId}`;\n\n      const cellContent = document.createElement('vaadin-grid-cell-content');\n      cellContent.setAttribute('slot', slotName);\n\n      const cell = document.createElement(tagName);\n      cell.id = slotName.replace('-content-', '-');\n      cell.setAttribute('role', tagName === 'td' ? 'gridcell' : 'columnheader');\n\n      // For now we only support tooltip on desktop\n      if (!isAndroid && !isIOS) {\n        cell.addEventListener('mouseenter', (event) => {\n          if (!this.$.scroller.hasAttribute('scrolling')) {\n            this._showTooltip(event);\n          }\n        });\n\n        cell.addEventListener('mouseleave', () => {\n          this._hideTooltip();\n        });\n\n        cell.addEventListener('mousedown', () => {\n          this._hideTooltip(true);\n        });\n      }\n\n      const slot = document.createElement('slot');\n      slot.setAttribute('name', slotName);\n\n      if (column && column._focusButtonMode) {\n        const div = document.createElement('div');\n        div.setAttribute('role', 'button');\n        div.setAttribute('tabindex', '-1');\n        cell.appendChild(div);\n\n        // Patch `focus()` to use the button\n        cell._focusButton = div;\n        cell.focus = function (options) {\n          cell._focusButton.focus(options);\n        };\n\n        div.appendChild(slot);\n      } else {\n        cell.setAttribute('tabindex', '-1');\n        cell.appendChild(slot);\n      }\n\n      cell._content = cellContent;\n\n      // With native Shadow DOM, mousedown on slotted element does not focus\n      // focusable slot wrapper, that is why cells are not focused with\n      // mousedown. Workaround: listen for mousedown and focus manually.\n      cellContent.addEventListener('mousedown', () => {\n        if (isChrome) {\n          // Chrome bug: focusing before mouseup prevents text selection, see http://crbug.com/771903\n          const mouseUpListener = (event) => {\n            // If focus is on element within the cell content - respect it, do not change\n            const contentContainsFocusedElement = cellContent.contains(this.getRootNode().activeElement);\n            // Only focus if mouse is released on cell content itself\n            const mouseUpWithinCell = event.composedPath().includes(cellContent);\n            if (!contentContainsFocusedElement && mouseUpWithinCell) {\n              cell.focus({ preventScroll: true });\n            }\n            document.removeEventListener('mouseup', mouseUpListener, true);\n          };\n          document.addEventListener('mouseup', mouseUpListener, true);\n        } else {\n          // Focus on mouseup, on the other hand, removes selection on Safari.\n          // Watch out sync focus removal issue, only async focus works here.\n          setTimeout(() => {\n            if (!cellContent.contains(this.getRootNode().activeElement)) {\n              cell.focus({ preventScroll: true });\n            }\n          });\n        }\n      });\n\n      return cell;\n    }\n\n    /**\n     * @param {!HTMLTableRowElement} row\n     * @param {!Array<!GridColumn>} columns\n     * @param {?string} section\n     * @param {boolean} isColumnRow\n     * @param {boolean} noNotify\n     * @protected\n     */\n    _updateRow(row, columns, section = 'body', isColumnRow = false, noNotify = false) {\n      const contentsFragment = document.createDocumentFragment();\n\n      iterateRowCells(row, (cell) => {\n        cell._vacant = true;\n      });\n      row.innerHTML = '';\n      if (section === 'body') {\n        // Clear the cached cell references\n        row.__cells = [];\n        row.__detailsCell = null;\n      }\n\n      columns\n        .filter((column) => !column.hidden)\n        .forEach((column, index, cols) => {\n          let cell;\n\n          if (section === 'body') {\n            // Body\n            if (!column._cells) {\n              column._cells = [];\n            }\n            cell = column._cells.find((cell) => cell._vacant);\n            if (!cell) {\n              cell = this._createCell('td', column);\n              if (column._onCellKeyDown) {\n                cell.addEventListener('keydown', column._onCellKeyDown.bind(column));\n              }\n              column._cells.push(cell);\n            }\n            cell.setAttribute('part', 'cell body-cell');\n            cell.__parentRow = row;\n            // Cache the cell reference\n            row.__cells.push(cell);\n\n            const isSizerRow = row === this.$.sizer;\n            if (!column._bodyContentHidden || isSizerRow) {\n              row.appendChild(cell);\n            }\n\n            if (isSizerRow) {\n              column._sizerCell = cell;\n            }\n\n            if (index === cols.length - 1 && this.rowDetailsRenderer) {\n              // Add details cell as last cell to body rows\n              if (!this._detailsCells) {\n                this._detailsCells = [];\n              }\n              const detailsCell = this._detailsCells.find((cell) => cell._vacant) || this._createCell('td');\n              if (this._detailsCells.indexOf(detailsCell) === -1) {\n                this._detailsCells.push(detailsCell);\n              }\n              if (!detailsCell._content.parentElement) {\n                contentsFragment.appendChild(detailsCell._content);\n              }\n              this._configureDetailsCell(detailsCell);\n              row.appendChild(detailsCell);\n              // Cache the details cell reference\n              row.__detailsCell = detailsCell;\n              this._a11ySetRowDetailsCell(row, detailsCell);\n              detailsCell._vacant = false;\n            }\n\n            if (!noNotify) {\n              column._cells = [...column._cells];\n            }\n          } else {\n            // Header & footer\n            const tagName = section === 'header' ? 'th' : 'td';\n            if (isColumnRow || column.localName === 'vaadin-grid-column-group') {\n              cell = column[`_${section}Cell`];\n              if (!cell) {\n                cell = this._createCell(tagName);\n                if (column._onCellKeyDown) {\n                  cell.addEventListener('keydown', column._onCellKeyDown.bind(column));\n                }\n              }\n              cell._column = column;\n              row.appendChild(cell);\n              column[`_${section}Cell`] = cell;\n            } else {\n              if (!column._emptyCells) {\n                column._emptyCells = [];\n              }\n              cell = column._emptyCells.find((cell) => cell._vacant) || this._createCell(tagName);\n              cell._column = column;\n              row.appendChild(cell);\n              if (column._emptyCells.indexOf(cell) === -1) {\n                column._emptyCells.push(cell);\n              }\n            }\n            cell.part.add('cell', `${section}-cell`);\n          }\n\n          if (!cell._content.parentElement) {\n            contentsFragment.appendChild(cell._content);\n          }\n          cell._vacant = false;\n          cell._column = column;\n        });\n\n      if (section !== 'body') {\n        this.__debounceUpdateHeaderFooterRowVisibility(row);\n      }\n\n      // Might be empty if only cache was used\n      this.appendChild(contentsFragment);\n\n      this._frozenCellsChanged();\n      this._updateFirstAndLastColumnForRow(row);\n    }\n\n    /**\n     * @param {HTMLTableRowElement} row\n     * @protected\n     */\n    __debounceUpdateHeaderFooterRowVisibility(row) {\n      row.__debounceUpdateHeaderFooterRowVisibility = Debouncer.debounce(\n        row.__debounceUpdateHeaderFooterRowVisibility,\n        microTask,\n        () => this.__updateHeaderFooterRowVisibility(row),\n      );\n    }\n\n    /**\n     * @param {HTMLTableRowElement} row\n     * @protected\n     */\n    __updateHeaderFooterRowVisibility(row) {\n      if (!row) {\n        return;\n      }\n\n      const visibleRowCells = Array.from(row.children).filter((cell) => {\n        const column = cell._column;\n        if (column._emptyCells && column._emptyCells.indexOf(cell) > -1) {\n          // The cell is an \"empty cell\"  -> doesn't block hiding the row\n          return false;\n        }\n        if (row.parentElement === this.$.header) {\n          if (column.headerRenderer) {\n            // The cell is the header cell of a column that has a header renderer\n            // -> row should be visible\n            return true;\n          }\n          if (column.header === null) {\n            // The column header is explicilty set to null -> doesn't block hiding the row\n            return false;\n          }\n          if (column.path || column.header !== undefined) {\n            // The column has an explicit non-null header or a path that generates a header\n            // -> row should be visible\n            return true;\n          }\n        } else if (column.footerRenderer) {\n          // The cell is the footer cell of a column that has a footer renderer\n          // -> row should be visible\n          return true;\n        }\n        return false;\n      });\n\n      if (row.hidden !== !visibleRowCells.length) {\n        row.hidden = !visibleRowCells.length;\n      }\n\n      // Make sure the section has a tabbable element\n      this._resetKeyboardNavigation();\n    }\n\n    /** @private */\n    _updateScrollerItem(row, index) {\n      this._preventScrollerRotatingCellFocus(row, index);\n\n      if (!this._columnTree) {\n        return;\n      }\n\n      this._updateRowOrderParts(row, index);\n\n      this._a11yUpdateRowRowindex(row, index);\n      this._getItem(index, row);\n    }\n\n    /** @private */\n    _columnTreeChanged(columnTree) {\n      this._renderColumnTree(columnTree);\n      this.recalculateColumnWidths();\n      this.__updateColumnsBodyContentHidden();\n    }\n\n    /** @private */\n    _updateRowOrderParts(row, index = row.index) {\n      updateBooleanRowStates(row, {\n        first: index === 0,\n        last: index === this._flatSize - 1,\n        odd: index % 2 !== 0,\n        even: index % 2 === 0,\n      });\n    }\n\n    /** @private */\n    _updateRowStateParts(row, { item, expanded, selected, detailsOpened }) {\n      updateBooleanRowStates(row, {\n        expanded,\n        collapsed: this.__isRowExpandable(row),\n        selected,\n        nonselectable: this.__isItemSelectable(item) === false,\n        'details-opened': detailsOpened,\n      });\n    }\n\n    /** @private */\n    __computeEmptyState(flatSize, hasEmptyStateContent) {\n      return flatSize === 0 && hasEmptyStateContent;\n    }\n\n    /**\n     * @param {!Array<!GridColumn>} columnTree\n     * @protected\n     */\n    _renderColumnTree(columnTree) {\n      iterateChildren(this.$.items, (row) => {\n        this._updateRow(row, columnTree[columnTree.length - 1], 'body', false, true);\n\n        const model = this.__getRowModel(row);\n        this._updateRowOrderParts(row);\n        this._updateRowStateParts(row, model);\n        this._filterDragAndDrop(row, model);\n      });\n\n      while (this.$.header.children.length < columnTree.length) {\n        const headerRow = document.createElement('tr');\n        headerRow.setAttribute('part', 'row');\n        headerRow.setAttribute('role', 'row');\n        headerRow.setAttribute('tabindex', '-1');\n        this.$.header.appendChild(headerRow);\n\n        const footerRow = document.createElement('tr');\n        footerRow.setAttribute('part', 'row');\n        footerRow.setAttribute('role', 'row');\n        footerRow.setAttribute('tabindex', '-1');\n        this.$.footer.appendChild(footerRow);\n      }\n      while (this.$.header.children.length > columnTree.length) {\n        this.$.header.removeChild(this.$.header.firstElementChild);\n        this.$.footer.removeChild(this.$.footer.firstElementChild);\n      }\n\n      iterateChildren(this.$.header, (headerRow, index, rows) => {\n        this._updateRow(headerRow, columnTree[index], 'header', index === columnTree.length - 1);\n\n        const cells = getBodyRowCells(headerRow);\n        updateCellsPart(cells, 'first-header-row-cell', index === 0);\n        updateCellsPart(cells, 'last-header-row-cell', index === rows.length - 1);\n      });\n\n      iterateChildren(this.$.footer, (footerRow, index, rows) => {\n        this._updateRow(footerRow, columnTree[columnTree.length - 1 - index], 'footer', index === 0);\n\n        const cells = getBodyRowCells(footerRow);\n        updateCellsPart(cells, 'first-footer-row-cell', index === 0);\n        updateCellsPart(cells, 'last-footer-row-cell', index === rows.length - 1);\n      });\n\n      // Sizer rows\n      this._updateRow(this.$.sizer, columnTree[columnTree.length - 1]);\n\n      this._resizeHandler();\n      this._frozenCellsChanged();\n      this._updateFirstAndLastColumn();\n      this._resetKeyboardNavigation();\n      this._a11yUpdateHeaderRows();\n      this._a11yUpdateFooterRows();\n      this.generateCellClassNames();\n      this.generateCellPartNames();\n      this.__updateHeaderAndFooter();\n    }\n\n    /**\n     * @param {!HTMLElement} row\n     * @param {GridItem} item\n     * @protected\n     */\n    _updateItem(row, item) {\n      row._item = item;\n      const model = this.__getRowModel(row);\n\n      this._toggleDetailsCell(row, model.detailsOpened);\n\n      this._a11yUpdateRowLevel(row, model.level);\n      this._a11yUpdateRowSelected(row, model.selected);\n\n      this._updateRowStateParts(row, model);\n\n      this._generateCellClassNames(row, model);\n      this._generateCellPartNames(row, model);\n      this._filterDragAndDrop(row, model);\n      this.__updateDragSourceParts(row, model);\n\n      iterateChildren(row, (cell) => {\n        if (cell._column && !cell._column.isConnected) {\n          return;\n        }\n        if (cell._renderer) {\n          const owner = cell._column || this;\n          cell._renderer.call(owner, cell._content, owner, model);\n        }\n      });\n\n      this._updateDetailsCellHeight(row);\n\n      this._a11yUpdateRowExpanded(row, model.expanded);\n    }\n\n    /** @private */\n    _resizeHandler() {\n      this._updateDetailsCellHeights();\n      this.__updateHorizontalScrollPosition();\n    }\n\n    /** @private */\n    _onAnimationEnd(e) {\n      // ShadyCSS applies scoping suffixes to animation names\n      if (e.animationName.indexOf('vaadin-grid-appear') === 0) {\n        e.stopPropagation();\n        this.__tryToRecalculateColumnWidthsIfPending();\n\n        // Ensure header and footer have tabbable elements\n        this._resetKeyboardNavigation();\n\n        requestAnimationFrame(() => {\n          this.__scrollToPendingIndexes();\n        });\n      }\n    }\n\n    /**\n     * @param {!HTMLTableRowElement} row\n     * @return {!GridItemModel}\n     * @protected\n     */\n    __getRowModel(row) {\n      return {\n        index: row.index,\n        item: row._item,\n        level: this._getIndexLevel(row.index),\n        expanded: this._isExpanded(row._item),\n        selected: this._isSelected(row._item),\n        detailsOpened: !!this.rowDetailsRenderer && this._isDetailsOpened(row._item),\n      };\n    }\n\n    /**\n     * @param {Event} event\n     * @protected\n     */\n    _showTooltip(event) {\n      // Check if there is a slotted vaadin-tooltip element.\n      const tooltip = this._tooltipController.node;\n      if (tooltip && tooltip.isConnected) {\n        const target = event.target;\n\n        if (!this.__isCellFullyVisible(target)) {\n          return;\n        }\n\n        this._tooltipController.setTarget(target);\n        this._tooltipController.setContext(this.getEventContext(event));\n\n        // Trigger opening using the corresponding delay.\n        tooltip._stateController.open({\n          focus: event.type === 'focusin',\n          hover: event.type === 'mouseenter',\n        });\n      }\n    }\n\n    /** @private */\n    __isCellFullyVisible(cell) {\n      if (cell.hasAttribute('frozen') || cell.hasAttribute('frozen-to-end')) {\n        // Frozen cells are always fully visible\n        return true;\n      }\n\n      let { left, right } = this.getBoundingClientRect();\n\n      const frozen = [...cell.parentNode.children].find((cell) => cell.hasAttribute('last-frozen'));\n      if (frozen) {\n        const frozenRect = frozen.getBoundingClientRect();\n        left = this.__isRTL ? left : frozenRect.right;\n        right = this.__isRTL ? frozenRect.left : right;\n      }\n\n      const frozenToEnd = [...cell.parentNode.children].find((cell) => cell.hasAttribute('first-frozen-to-end'));\n      if (frozenToEnd) {\n        const frozenToEndRect = frozenToEnd.getBoundingClientRect();\n        left = this.__isRTL ? frozenToEndRect.right : left;\n        right = this.__isRTL ? right : frozenToEndRect.left;\n      }\n\n      const cellRect = cell.getBoundingClientRect();\n      return cellRect.left >= left && cellRect.right <= right;\n    }\n\n    /** @protected */\n    _hideTooltip(immediate) {\n      const tooltip = this._tooltipController && this._tooltipController.node;\n      if (tooltip) {\n        tooltip._stateController.close(immediate);\n      }\n    }\n\n    /**\n     * Requests an update for the content of cells.\n     *\n     * While performing the update, the following renderers are invoked:\n     * - `Grid.rowDetailsRenderer`\n     * - `GridColumn.renderer`\n     * - `GridColumn.headerRenderer`\n     * - `GridColumn.footerRenderer`\n     *\n     * It is not guaranteed that the update happens immediately (synchronously) after it is requested.\n     */\n    requestContentUpdate() {\n      // Header and footer renderers\n      this.__updateHeaderAndFooter();\n\n      // Body and row details renderers\n      this.__updateVisibleRows();\n    }\n\n    /** @private */\n    __updateHeaderAndFooter() {\n      (this._columnTree || []).forEach((level) => {\n        level.forEach((column) => {\n          if (column._renderHeaderAndFooter) {\n            column._renderHeaderAndFooter();\n          }\n        });\n      });\n    }\n\n    /** @protected */\n    __updateVisibleRows(start, end) {\n      if (this.__virtualizer) {\n        this.__virtualizer.update(start, end);\n      }\n    }\n\n    /** @private */\n    __updateMinHeight() {\n      // Min height is calculated based on the header, footer and a single row\n      // For now use a hard-coded value for the row that matches a single default row in Lumo\n      const rowHeight = 36;\n      const headerHeight = this.$.header.clientHeight;\n      const footerHeight = this.$.footer.clientHeight;\n      const scrollbarHeight = this.$.table.offsetHeight - this.$.table.clientHeight;\n      const minHeight = headerHeight + rowHeight + footerHeight + scrollbarHeight;\n\n      // The style is set to host instead of the scroller so that the value can be overridden by the user with \"grid { min-height: 0 }\"\n      // Prefer setting style in adopted style sheet to avoid the need to add a confusing inline style on the host element\n      // If adopted style sheets are not supported, the style is set inline\n      if (!this.__minHeightStyleSheet && supportsAdoptingStyleSheets) {\n        this.__minHeightStyleSheet = new CSSStyleSheet();\n        this.shadowRoot.adoptedStyleSheets = [...this.shadowRoot.adoptedStyleSheets, this.__minHeightStyleSheet];\n      }\n      if (this.__minHeightStyleSheet) {\n        this.__minHeightStyleSheet.replaceSync(`:host { --_grid-min-height: ${minHeight}px; }`);\n      } else {\n        this.style.setProperty('--_grid-min-height', `${minHeight}px`);\n      }\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport './vaadin-grid-column.js';\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport { ControllerMixin } from '@vaadin/component-base/src/controller-mixin.js';\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\nimport { ElementMixin } from '@vaadin/component-base/src/element-mixin.js';\nimport { registerStyles, ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { GridMixin } from './vaadin-grid-mixin.js';\nimport { gridStyles } from './vaadin-grid-styles.js';\n\nregisterStyles('vaadin-grid', gridStyles, { moduleId: 'vaadin-grid-styles' });\n\n/**\n * `<vaadin-grid>` is a free, high quality data grid / data table Web Component. The content of the\n * the grid can be populated by using renderer callback function.\n *\n * ### Quick Start\n *\n * Start with an assigning an array to the [`items`](#/elements/vaadin-grid#property-items) property to visualize your data.\n *\n * Use the [`<vaadin-grid-column>`](#/elements/vaadin-grid-column) element to configure the grid columns. Set `path` and `header`\n * shorthand properties for the columns to define what gets rendered in the cells of the column.\n *\n * #### Example:\n * ```html\n * <vaadin-grid>\n *   <vaadin-grid-column path=\"name.first\" header=\"First name\"></vaadin-grid-column>\n *   <vaadin-grid-column path=\"name.last\" header=\"Last name\"></vaadin-grid-column>\n *   <vaadin-grid-column path=\"email\"></vaadin-grid-column>\n * </vaadin-grid>\n * ```\n *\n * For custom content `vaadin-grid-column` element provides you with three types of `renderer` callback functions: `headerRenderer`,\n * `renderer` and `footerRenderer`.\n *\n * Each of those renderer functions provides `root`, `column`, `model` arguments when applicable.\n * Generate DOM content, append it to the `root` element and control the state\n * of the host element by accessing `column`. Before generating new content,\n * users are able to check if there is already content in `root` for reusing it.\n *\n * Renderers are called on initialization of new column cells and each time the\n * related row model is updated. DOM generated during the renderer call can be reused\n * in the next renderer call and will be provided with the `root` argument.\n * On first call it will be empty.\n *\n * #### Example:\n * ```html\n * <vaadin-grid>\n *   <vaadin-grid-column></vaadin-grid-column>\n *   <vaadin-grid-column></vaadin-grid-column>\n *   <vaadin-grid-column></vaadin-grid-column>\n * </vaadin-grid>\n * ```\n * ```js\n * const grid = document.querySelector('vaadin-grid');\n * grid.items = [{'name': 'John', 'surname': 'Lennon', 'role': 'singer'},\n *               {'name': 'Ringo', 'surname': 'Starr', 'role': 'drums'}];\n *\n * const columns = grid.querySelectorAll('vaadin-grid-column');\n *\n * columns[0].headerRenderer = function(root) {\n *   root.textContent = 'Name';\n * };\n * columns[0].renderer = function(root, column, model) {\n *   root.textContent = model.item.name;\n * };\n *\n * columns[1].headerRenderer = function(root) {\n *   root.textContent = 'Surname';\n * };\n * columns[1].renderer = function(root, column, model) {\n *   root.textContent = model.item.surname;\n * };\n *\n * columns[2].headerRenderer = function(root) {\n *   root.textContent = 'Role';\n * };\n * columns[2].renderer = function(root, column, model) {\n *   root.textContent = model.item.role;\n * };\n * ```\n *\n * The following properties are available in the `model` argument:\n *\n * Property name | Type | Description\n * --------------|------|------------\n * `index`| Number | The index of the item.\n * `item` | String or Object | The item.\n * `level` | Number | Number of the item's tree sublevel, starts from 0.\n * `expanded` | Boolean | True if the item's tree sublevel is expanded.\n * `selected` | Boolean | True if the item is selected.\n * `detailsOpened` | Boolean | True if the item's row details are open.\n *\n * The following helper elements can be used for further customization:\n * - [`<vaadin-grid-column-group>`](#/elements/vaadin-grid-column-group)\n * - [`<vaadin-grid-filter>`](#/elements/vaadin-grid-filter)\n * - [`<vaadin-grid-sorter>`](#/elements/vaadin-grid-sorter)\n * - [`<vaadin-grid-selection-column>`](#/elements/vaadin-grid-selection-column)\n * - [`<vaadin-grid-tree-toggle>`](#/elements/vaadin-grid-tree-toggle)\n *\n * __Note that the helper elements must be explicitly imported.__\n * If you want to import everything at once you can use the `all-imports.html` bundle.\n *\n * ### Lazy Loading with Function Data Provider\n *\n * In addition to assigning an array to the items property, you can alternatively\n * provide the `<vaadin-grid>` data through the\n * [`dataProvider`](#/elements/vaadin-grid#property-dataProvider) function property.\n * The `<vaadin-grid>` calls this function lazily, only when it needs more data\n * to be displayed.\n *\n * See the [`dataProvider`](#/elements/vaadin-grid#property-dataProvider) property\n * documentation for the detailed data provider arguments description.\n *\n * __Note that expanding the tree grid's item will trigger a call to the `dataProvider`.__\n *\n * __Also, note that when using function data providers, the total number of items\n * needs to be set manually. The total number of items can be returned\n * in the second argument of the data provider callback:__\n *\n * ```javascript\n * grid.dataProvider = ({page, pageSize}, callback) => {\n *   // page: the requested page index\n *   // pageSize: number of items on one page\n *   const url = `https://api.example/data?page=${page}&per_page=${pageSize}`;\n *\n *   fetch(url)\n *     .then((res) => res.json())\n *     .then(({ employees, totalSize }) => {\n *       callback(employees, totalSize);\n *     });\n * };\n * ```\n *\n * __Alternatively, you can use the `size` property to set the total number of items:__\n *\n * ```javascript\n * grid.size = 200; // The total number of items\n * grid.dataProvider = ({page, pageSize}, callback) => {\n *   const url = `https://api.example/data?page=${page}&per_page=${pageSize}`;\n *\n *   fetch(url)\n *     .then((res) => res.json())\n *     .then((resJson) => callback(resJson.employees));\n * };\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name                  | Description\n * ---------------------------|----------------\n * `row`                      | Row in the internal table\n * `body-row`                 | Body row in the internal table\n * `collapsed-row`            | Collapsed row\n * `expanded-row`             | Expanded row\n * `selected-row`             | Selected row\n * `nonselectable-row`        | Row that the user may not select or deselect\n * `details-opened-row`       | Row with details open\n * `odd-row`                  | Odd row\n * `even-row`                 | Even row\n * `first-row`                | The first body row\n * `last-row`                 | The last body row\n * `dragstart-row`            | Set on the row for one frame when drag is starting.\n * `dragover-above-row`       | Set on the row when the a row is dragged over above\n * `dragover-below-row`       | Set on the row when the a row is dragged over below\n * `dragover-on-top-row`      | Set on the row when the a row is dragged over on top\n * `drag-disabled-row`        | Set to a row that isn't available for dragging\n * `drop-disabled-row`        | Set to a row that can't be dropped on top of\n * `cell`                     | Cell in the internal table\n * `header-cell`              | Header cell in the internal table\n * `body-cell`                | Body cell in the internal table\n * `footer-cell`              | Footer cell in the internal table\n * `details-cell`             | Row details cell in the internal table\n * `focused-cell`             | Focused cell in the internal table\n * `odd-row-cell`             | Cell in an odd row\n * `even-row-cell`            | Cell in an even row\n * `first-row-cell`           | Cell in the first body row\n * `last-row-cell`            | Cell in the last body row\n * `first-header-row-cell`    | Cell in the first header row\n * `first-footer-row-cell`    | Cell in the first footer row\n * `last-header-row-cell`     | Cell in the last header row\n * `last-footer-row-cell`     | Cell in the last footer row\n * `loading-row-cell`         | Cell in a row that is waiting for data from data provider\n * `selected-row-cell`        | Cell in a selected row\n * `nonselectable-row-cell`   | Cell in a row that the user may not select or deselect\n * `collapsed-row-cell`       | Cell in a collapsed row\n * `expanded-row-cell`        | Cell in an expanded row\n * `details-opened-row-cell`  | Cell in an row with details open\n * `dragstart-row-cell`       | Cell in the ghost image row, but not in a source row\n * `drag-source-row-cell`     | Cell in a source row, but not in the ghost image\n * `dragover-above-row-cell`  | Cell in a row that has another row dragged over above\n * `dragover-below-row-cell`  | Cell in a row that has another row dragged over below\n * `dragover-on-top-row-cell` | Cell in a row that has another row dragged over on top\n * `drag-disabled-row-cell`   | Cell in a row that isn't available for dragging\n * `drop-disabled-row-cell`   | Cell in a row that can't be dropped on top of\n * `frozen-cell`              | Frozen cell in the internal table\n * `frozen-to-end-cell`       | Frozen to end cell in the internal table\n * `last-frozen-cell`         | Last frozen cell\n * `first-frozen-to-end-cell` | First cell frozen to end\n * `first-column-cell`        | First visible cell on a row\n * `last-column-cell`         | Last visible cell on a row\n * `reorder-allowed-cell`     | Cell in a column where another column can be reordered\n * `reorder-dragging-cell`    | Cell in a column currently being reordered\n * `resize-handle`            | Handle for resizing the columns\n * `empty-state`              | The container for the content to be displayed when there are no body rows to show\n * `reorder-ghost`            | Ghost element of the header cell being dragged\n *\n * The following state attributes are available for styling:\n *\n * Attribute             | Description                                                                                       | Part name\n * ----------------------|---------------------------------------------------------------------------------------------------|-----------\n * `loading`             | Set when the grid is loading data from data provider                                              | :host\n * `interacting`         | Keyboard navigation in interaction mode                                                           | :host\n * `navigating`          | Keyboard navigation in navigation mode                                                            | :host\n * `overflow`            | Set when rows are overflowing the grid viewport. Possible values: `top`, `bottom`, `start`, `end` | :host\n * `reordering`          | Set when the grid's columns are being reordered                                                   | :host\n * `dragover`            | Set when the grid (not a specific row) is dragged over                                            | :host\n * `dragging-rows`       | Set when grid rows are dragged                                                                    | :host\n * `reorder-status`      | Reflects the status of a cell while columns are being reordered                                   | cell\n * `frozen`              | Frozen cell                                                                                       | cell\n * `frozen-to-end`       | Cell frozen to end                                                                                | cell\n * `last-frozen`         | Last frozen cell                                                                                  | cell\n * `first-frozen-to-end` | First cell frozen to end                                                                          | cell\n * `first-column`        | First visible cell on a row                                                                       | cell\n * `last-column`         | Last visible cell on a row                                                                        | cell\n * `selected`            | Selected row                                                                                      | row\n * `expanded`            | Expanded row                                                                                      | row\n * `details-opened`      | Row with details open                                                                             | row\n * `loading`             | Row that is waiting for data from data provider                                                   | row\n * `odd`                 | Odd row                                                                                           | row\n * `first`               | The first body row                                                                                | row\n * `last`                | The last body row                                                                                 | row\n * `dragstart`           | Set for one frame when starting to drag a row. The value is a number when dragging multiple rows  | row\n * `dragover`            | Set when the row is dragged over                                                                  | row\n * `drag-disabled`       | Set to a row that isn't available for dragging                                                    | row\n * `drop-disabled`       | Set to a row that can't be dropped on top of                                                      | row\n *\n * See [Styling Components](https://vaadin.com/docs/latest/styling/styling-components) documentation.\n *\n * @fires {CustomEvent} active-item-changed - Fired when the `activeItem` property changes.\n * @fires {CustomEvent} cell-activate - Fired when the cell is activated with click or keyboard.\n * @fires {CustomEvent} cell-focus - Fired when a cell is focused with click or keyboard navigation.\n * @fires {CustomEvent} column-reorder - Fired when the columns in the grid are reordered.\n * @fires {CustomEvent} column-resize - Fired when the grid column resize is finished.\n * @fires {CustomEvent} data-provider-changed - Fired when the `dataProvider` property changes.\n * @fires {CustomEvent} expanded-items-changed - Fired when the `expandedItems` property changes.\n * @fires {CustomEvent} grid-dragstart - Fired when starting to drag grid rows.\n * @fires {CustomEvent} grid-dragend - Fired when the dragging of the rows ends.\n * @fires {CustomEvent} grid-drop - Fired when a drop occurs on top of the grid.\n * @fires {CustomEvent} loading-changed - Fired when the `loading` property changes.\n * @fires {CustomEvent} selected-items-changed - Fired when the `selectedItems` property changes.\n * @fires {CustomEvent} size-changed - Fired when the `size` property changes.\n *\n * @customElement\n * @extends HTMLElement\n * @mixes GridMixin\n * @mixes ThemableMixin\n * @mixes ControllerMixin\n */\nclass Grid extends GridMixin(ElementMixin(ThemableMixin(ControllerMixin(PolymerElement)))) {\n  static get template() {\n    return html`\n      <div\n        id=\"scroller\"\n        safari$=\"[[_safari]]\"\n        ios$=\"[[_ios]]\"\n        loading$=\"[[loading]]\"\n        column-reordering-allowed$=\"[[columnReorderingAllowed]]\"\n        empty-state$=\"[[__emptyState]]\"\n      >\n        <table id=\"table\" role=\"treegrid\" aria-multiselectable=\"true\" tabindex=\"0\" aria-label$=\"[[accessibleName]]\">\n          <caption id=\"sizer\" part=\"row\"></caption>\n          <thead id=\"header\" role=\"rowgroup\"></thead>\n          <tbody id=\"items\" role=\"rowgroup\"></tbody>\n          <tbody id=\"emptystatebody\">\n            <tr id=\"emptystaterow\">\n              <td part=\"empty-state\" id=\"emptystatecell\" tabindex=\"0\">\n                <slot name=\"empty-state\" id=\"emptystateslot\"></slot>\n              </td>\n            </tr>\n          </tbody>\n          <tfoot id=\"footer\" role=\"rowgroup\"></tfoot>\n        </table>\n\n        <div part=\"reorder-ghost\"></div>\n      </div>\n\n      <slot name=\"tooltip\"></slot>\n\n      <div id=\"focusexit\" tabindex=\"0\"></div>\n    `;\n  }\n\n  static get is() {\n    return 'vaadin-grid';\n  }\n}\n\ndefineCustomElement(Grid);\n\nexport { Grid };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nexport const gridStyles = css`\n  @keyframes vaadin-grid-appear {\n    to {\n      opacity: 1;\n    }\n  }\n\n  :host {\n    display: flex;\n    flex-direction: column;\n    animation: 1ms vaadin-grid-appear;\n    height: 400px;\n    min-height: var(--_grid-min-height, 0);\n    flex: 1 1 auto;\n    align-self: stretch;\n    position: relative;\n  }\n\n  :host([hidden]) {\n    display: none !important;\n  }\n\n  :host([disabled]) {\n    pointer-events: none;\n  }\n\n  #scroller {\n    display: flex;\n    flex-direction: column;\n    min-height: 100%;\n    transform: translateY(0);\n    width: auto;\n    height: auto;\n    position: absolute;\n    inset: 0;\n  }\n\n  :host([all-rows-visible]) {\n    height: auto;\n    align-self: flex-start;\n    min-height: auto;\n    flex-grow: 0;\n    width: 100%;\n  }\n\n  :host([all-rows-visible]) #scroller {\n    width: 100%;\n    height: 100%;\n    position: relative;\n  }\n\n  :host([all-rows-visible]) #items {\n    min-height: 1px;\n  }\n\n  #table {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n    position: relative;\n    outline: none;\n    /* Workaround for a Desktop Safari bug: new stacking context here prevents the scrollbar from getting hidden */\n    z-index: 0;\n  }\n\n  #header,\n  #footer {\n    display: block;\n    position: -webkit-sticky;\n    position: sticky;\n    left: 0;\n    overflow: visible;\n    width: 100%;\n    z-index: 1;\n  }\n\n  #header {\n    top: 0;\n  }\n\n  th {\n    text-align: inherit;\n  }\n\n  /* Safari doesn't work with \"inherit\" */\n  [safari] th {\n    text-align: initial;\n  }\n\n  #footer {\n    bottom: 0;\n  }\n\n  #items {\n    flex-grow: 1;\n    flex-shrink: 0;\n    display: block;\n    position: -webkit-sticky;\n    position: sticky;\n    width: 100%;\n    left: 0;\n    overflow: visible;\n  }\n\n  [part~='row'] {\n    display: flex;\n    width: 100%;\n    box-sizing: border-box;\n    margin: 0;\n  }\n\n  [part~='row'][loading] [part~='body-cell'] ::slotted(vaadin-grid-cell-content) {\n    visibility: hidden;\n  }\n\n  [column-rendering='lazy'] [part~='body-cell']:not([frozen]):not([frozen-to-end]) {\n    transform: translateX(var(--_grid-lazy-columns-start));\n  }\n\n  #items [part~='row'] {\n    position: absolute;\n  }\n\n  #items [part~='row']:empty {\n    height: 100%;\n  }\n\n  [part~='cell']:not([part~='details-cell']) {\n    flex-shrink: 0;\n    flex-grow: 1;\n    box-sizing: border-box;\n    display: flex;\n    width: 100%;\n    position: relative;\n    align-items: center;\n    padding: 0;\n    white-space: nowrap;\n  }\n\n  [part~='cell'] {\n    outline: none;\n  }\n\n  [part~='cell'] > [tabindex] {\n    display: flex;\n    align-items: inherit;\n    outline: none;\n    position: absolute;\n    inset: 0;\n  }\n\n  /* Switch the focusButtonMode wrapping element to \"position: static\" temporarily\n     when measuring real width of the cells in the auto-width columns. */\n  [measuring-auto-width] [part~='cell'] > [tabindex] {\n    position: static;\n  }\n\n  [part~='details-cell'] {\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    box-sizing: border-box;\n    padding: 0;\n  }\n\n  [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n    display: block;\n    width: 100%;\n    box-sizing: border-box;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  [hidden] {\n    display: none !important;\n  }\n\n  [frozen],\n  [frozen-to-end] {\n    z-index: 2;\n    will-change: transform;\n  }\n\n  [no-scrollbars][safari] #table,\n  [no-scrollbars][firefox] #table {\n    overflow: hidden;\n  }\n\n  /* Empty state */\n\n  #scroller:not([empty-state]) #emptystatebody,\n  #scroller[empty-state] #items {\n    display: none;\n  }\n\n  #emptystatebody {\n    display: flex;\n    position: sticky;\n    inset: 0;\n    flex: 1;\n    overflow: hidden;\n  }\n\n  #emptystaterow {\n    display: flex;\n    flex: 1;\n  }\n\n  #emptystatecell {\n    display: block;\n    flex: 1;\n    overflow: auto;\n  }\n\n  /* Reordering styles */\n  :host([reordering]) [part~='cell'] ::slotted(vaadin-grid-cell-content),\n  :host([reordering]) [part~='resize-handle'],\n  #scroller[no-content-pointer-events] [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n    pointer-events: none;\n  }\n\n  [part~='reorder-ghost'] {\n    visibility: hidden;\n    position: fixed;\n    pointer-events: none;\n    opacity: 0.5;\n\n    /* Prevent overflowing the grid in Firefox */\n    top: 0;\n    left: 0;\n  }\n\n  :host([reordering]) {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n  }\n\n  /* Resizing styles */\n  [part~='resize-handle'] {\n    position: absolute;\n    top: 0;\n    right: 0;\n    height: 100%;\n    cursor: col-resize;\n    z-index: 1;\n  }\n\n  [part~='resize-handle']::before {\n    position: absolute;\n    content: '';\n    height: 100%;\n    width: 35px;\n    transform: translateX(-50%);\n  }\n\n  [last-column] [part~='resize-handle']::before,\n  [last-frozen] [part~='resize-handle']::before {\n    width: 18px;\n    transform: none;\n    right: 0;\n  }\n\n  [frozen-to-end] [part~='resize-handle'] {\n    left: 0;\n    right: auto;\n  }\n\n  [frozen-to-end] [part~='resize-handle']::before {\n    left: 0;\n    right: auto;\n  }\n\n  [first-frozen-to-end] [part~='resize-handle']::before {\n    width: 18px;\n    transform: none;\n  }\n\n  [first-frozen-to-end] {\n    margin-inline-start: auto;\n  }\n\n  /* Hide resize handle if scrolled to end */\n  :host(:not([overflow~='end'])) [first-frozen-to-end] [part~='resize-handle'] {\n    display: none;\n  }\n\n  #scroller[column-resizing] {\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n  }\n\n  /* Sizer styles */\n  #sizer {\n    display: flex;\n    position: absolute;\n    visibility: hidden;\n  }\n\n  #sizer [part~='details-cell'] {\n    display: none !important;\n  }\n\n  #sizer [part~='cell'][hidden] {\n    display: none !important;\n  }\n\n  #sizer [part~='cell'] {\n    display: block;\n    flex-shrink: 0;\n    line-height: 0;\n    height: 0 !important;\n    min-height: 0 !important;\n    max-height: 0 !important;\n    padding: 0 !important;\n    border: none !important;\n  }\n\n  #sizer [part~='cell']::before {\n    content: '-';\n  }\n\n  #sizer [part~='cell'] ::slotted(vaadin-grid-cell-content) {\n    display: none !important;\n  }\n\n  /* RTL specific styles */\n\n  :host([dir='rtl']) #items,\n  :host([dir='rtl']) #header,\n  :host([dir='rtl']) #footer {\n    left: auto;\n  }\n\n  :host([dir='rtl']) [part~='reorder-ghost'] {\n    left: auto;\n    right: 0;\n  }\n\n  :host([dir='rtl']) [part~='resize-handle'] {\n    left: 0;\n    right: auto;\n  }\n\n  :host([dir='rtl']) [part~='resize-handle']::before {\n    transform: translateX(50%);\n  }\n\n  :host([dir='rtl']) [last-column] [part~='resize-handle']::before,\n  :host([dir='rtl']) [last-frozen] [part~='resize-handle']::before {\n    left: 0;\n    right: auto;\n  }\n\n  :host([dir='rtl']) [frozen-to-end] [part~='resize-handle'] {\n    right: 0;\n    left: auto;\n  }\n\n  :host([dir='rtl']) [frozen-to-end] [part~='resize-handle']::before {\n    right: 0;\n    left: auto;\n  }\n\n  @media (forced-colors: active) {\n    [part~='selected-row'] [part~='first-column-cell']::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      border: 2px solid;\n    }\n\n    [part~='focused-cell']::before {\n      outline: 2px solid !important;\n      outline-offset: -1px;\n    }\n  }\n`;\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { animationFrame } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\nimport { ColumnBaseMixin } from './vaadin-grid-column-mixin.js';\nimport { ColumnObserver, updateColumnOrders } from './vaadin-grid-helpers.js';\n\n/**\n * A mixin providing common vaadin-grid-column-group functionality.\n *\n * @polymerMixin\n * @mixes ColumnBaseMixin\n */\nexport const GridColumnGroupMixin = (superClass) =>\n  class extends ColumnBaseMixin(superClass) {\n    static get properties() {\n      return {\n        /** @private */\n        _childColumns: {\n          value() {\n            return this._getChildColumns(this);\n          },\n        },\n\n        /**\n         * Flex grow ratio for the column group as the sum of the ratios of its child columns.\n         * @attr {number} flex-grow\n         */\n        flexGrow: {\n          type: Number,\n          readOnly: true,\n          sync: true,\n        },\n\n        /**\n         * Width of the column group as the sum of the widths of its child columns.\n         */\n        width: {\n          type: String,\n          readOnly: true,\n        },\n\n        /** @private */\n        _visibleChildColumns: Array,\n\n        /** @private */\n        _colSpan: Number,\n\n        /** @private */\n        _rootColumns: Array,\n      };\n    }\n\n    static get observers() {\n      return [\n        '_groupFrozenChanged(frozen, _rootColumns)',\n        '_groupFrozenToEndChanged(frozenToEnd, _rootColumns)',\n        '_groupHiddenChanged(hidden)',\n        '_colSpanChanged(_colSpan, _headerCell, _footerCell)',\n        '_groupOrderChanged(_order, _rootColumns)',\n        '_groupReorderStatusChanged(_reorderStatus, _rootColumns)',\n        '_groupResizableChanged(resizable, _rootColumns)',\n      ];\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n      this._addNodeObserver();\n      this._updateFlexAndWidth();\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      if (this._observer) {\n        this._observer.disconnect();\n      }\n    }\n\n    /**\n     * @param {string} path\n     * @param {unknown=} value\n     * @protected\n     */\n    _columnPropChanged(path, value) {\n      if (path === 'hidden') {\n        // Prevent synchronization of the hidden state to child columns.\n        // If the group is currently auto-hidden, and one column is made visible,\n        // we don't want the other columns to become visible as well.\n        this._preventHiddenSynchronization = true;\n        this._updateVisibleChildColumns(this._childColumns);\n        this._preventHiddenSynchronization = false;\n      }\n\n      if (/flexGrow|width|hidden|_childColumns/u.test(path)) {\n        this._updateFlexAndWidth();\n      }\n\n      // Don't unfreeze the frozen group because of a non-frozen child\n      if (path === 'frozen' && !this.frozen) {\n        this.frozen = value;\n      }\n\n      // Don't unfreeze the frozen group because of a non-frozen child\n      if (path === 'lastFrozen' && !this._lastFrozen) {\n        this._lastFrozen = value;\n      }\n\n      // Don't unfreeze the frozen group because of a non-frozen child\n      if (path === 'frozenToEnd' && !this.frozenToEnd) {\n        this.frozenToEnd = value;\n      }\n\n      // Don't unfreeze the frozen group because of a non-frozen child\n      if (path === 'firstFrozenToEnd' && !this._firstFrozenToEnd) {\n        this._firstFrozenToEnd = value;\n      }\n    }\n\n    /** @private */\n    _groupOrderChanged(order, rootColumns) {\n      if (rootColumns) {\n        const _rootColumns = rootColumns.slice(0);\n\n        if (!order) {\n          _rootColumns.forEach((column) => {\n            column._order = 0;\n          });\n          return;\n        }\n        // The parent column order number cascades downwards to it's children\n        // so that the resulting order numbering constructs as follows:\n        // [             1000              ]\n        // [     1100    ] | [     1200    ]\n        // [1110] | [1120] | [1210] | [1220]\n\n        // Trailing zeros are counted so we know the level on which we're working on.\n        const trailingZeros = /(0+)$/u.exec(order).pop().length; // NOSONAR\n\n        // In an unlikely situation where a group has more than 9 child columns,\n        // the child scope must have 1 digit less...\n        // Log^a_b = Ln(a)/Ln(b)\n        // Number of digits of a number is equal to floor(Log(number)_10) + 1\n        const childCountDigits = ~~(Math.log(rootColumns.length) / Math.LN10) + 1;\n\n        // Final scope for the child columns needs to mind both factors.\n        const scope = 10 ** (trailingZeros - childCountDigits);\n\n        if (_rootColumns[0] && _rootColumns[0]._order) {\n          _rootColumns.sort((a, b) => a._order - b._order);\n        }\n        updateColumnOrders(_rootColumns, scope, order);\n      }\n    }\n\n    /** @private */\n    _groupReorderStatusChanged(reorderStatus, rootColumns) {\n      if (reorderStatus === undefined || rootColumns === undefined) {\n        return;\n      }\n\n      rootColumns.forEach((column) => {\n        column._reorderStatus = reorderStatus;\n      });\n    }\n\n    /** @private */\n    _groupResizableChanged(resizable, rootColumns) {\n      if (resizable === undefined || rootColumns === undefined) {\n        return;\n      }\n\n      rootColumns.forEach((column) => {\n        column.resizable = resizable;\n      });\n    }\n\n    /** @private */\n    _updateVisibleChildColumns(childColumns) {\n      this._visibleChildColumns = Array.prototype.filter.call(childColumns, (col) => !col.hidden);\n      this._colSpan = this._visibleChildColumns.length;\n      this._updateAutoHidden();\n    }\n\n    /** @protected */\n    _updateFlexAndWidth() {\n      if (!this._visibleChildColumns) {\n        return;\n      }\n\n      if (this._visibleChildColumns.length > 0) {\n        const width = this._visibleChildColumns\n          .reduce((prev, curr) => {\n            prev += ` + ${(curr.width || '0px').replace('calc', '')}`;\n            return prev;\n          }, '')\n          .substring(3);\n        this._setWidth(`calc(${width})`);\n      } else {\n        this._setWidth('0px');\n      }\n\n      this._setFlexGrow(\n        Array.prototype.reduce.call(this._visibleChildColumns, (prev, curr) => prev + curr.flexGrow, 0),\n      );\n    }\n\n    /**\n     * This method is called before the group's frozen value is being propagated to the child columns.\n     * In case some of the child columns are frozen, while others are not, the non-frozen ones\n     * will get automatically frozen as well. As this may sometimes be unintended, this method\n     * shows a warning in the console in such cases.\n     * @private\n     */\n    __scheduleAutoFreezeWarning(columns, frozenProp) {\n      if (this._grid) {\n        // Derive the attribute name from the property name\n        const frozenAttr = frozenProp.replace(/([A-Z])/gu, '-$1').toLowerCase();\n\n        // Check if all the columns have the same frozen value\n        const firstColumnFrozen = columns[0][frozenProp] || columns[0].hasAttribute(frozenAttr);\n        const allSameFrozen = columns.every((column) => {\n          return (column[frozenProp] || column.hasAttribute(frozenAttr)) === firstColumnFrozen;\n        });\n\n        if (!allSameFrozen) {\n          // Some of the child columns are frozen, some are not. Show a warning.\n          this._grid.__autoFreezeWarningDebouncer = Debouncer.debounce(\n            this._grid.__autoFreezeWarningDebouncer,\n            animationFrame,\n            () => {\n              console.warn(\n                `WARNING: Joining ${frozenProp} and non-${frozenProp} Grid columns inside the same column group! ` +\n                  `This will automatically freeze all the joined columns to avoid rendering issues. ` +\n                  `If this was intentional, consider marking each joined column explicitly as ${frozenProp}. ` +\n                  `Otherwise, exclude the ${frozenProp} columns from the joined group.`,\n              );\n            },\n          );\n        }\n      }\n    }\n\n    /** @private */\n    _groupFrozenChanged(frozen, rootColumns) {\n      if (rootColumns === undefined || frozen === undefined) {\n        return;\n      }\n\n      // Don't propagate the default `false` value.\n      if (frozen !== false) {\n        this.__scheduleAutoFreezeWarning(rootColumns, 'frozen');\n\n        Array.from(rootColumns).forEach((col) => {\n          col.frozen = frozen;\n        });\n      }\n    }\n\n    /** @private */\n    _groupFrozenToEndChanged(frozenToEnd, rootColumns) {\n      if (rootColumns === undefined || frozenToEnd === undefined) {\n        return;\n      }\n\n      // Don't propagate the default `false` value.\n      if (frozenToEnd !== false) {\n        this.__scheduleAutoFreezeWarning(rootColumns, 'frozenToEnd');\n\n        Array.from(rootColumns).forEach((col) => {\n          col.frozenToEnd = frozenToEnd;\n        });\n      }\n    }\n\n    /** @private */\n    _groupHiddenChanged(hidden) {\n      // When initializing the hidden property, only sync hidden state to columns\n      // if group is actually hidden. Otherwise, we could override a hidden column\n      // to be visible.\n      // We always want to run this though if the property is actually changed.\n      if (hidden || this.__groupHiddenInitialized) {\n        this._synchronizeHidden();\n      }\n      this.__groupHiddenInitialized = true;\n    }\n\n    /** @private */\n    _updateAutoHidden() {\n      const wasAutoHidden = this._autoHidden;\n      this._autoHidden = (this._visibleChildColumns || []).length === 0;\n      // Only modify hidden state if group was auto-hidden, or becomes auto-hidden\n      if (wasAutoHidden || this._autoHidden) {\n        this.hidden = this._autoHidden;\n      }\n    }\n\n    /** @private */\n    _synchronizeHidden() {\n      if (this._childColumns && !this._preventHiddenSynchronization) {\n        this._childColumns.forEach((column) => {\n          column.hidden = this.hidden;\n        });\n      }\n    }\n\n    /** @private */\n    _colSpanChanged(colSpan, headerCell, footerCell) {\n      if (headerCell) {\n        headerCell.setAttribute('colspan', colSpan);\n        if (this._grid) {\n          this._grid._a11yUpdateCellColspan(headerCell, colSpan);\n        }\n      }\n      if (footerCell) {\n        footerCell.setAttribute('colspan', colSpan);\n        if (this._grid) {\n          this._grid._a11yUpdateCellColspan(footerCell, colSpan);\n        }\n      }\n    }\n\n    /**\n     * @param {!GridColumnGroup} el\n     * @return {!Array<!GridColumn>}\n     * @protected\n     */\n    _getChildColumns(el) {\n      return ColumnObserver.getColumns(el);\n    }\n\n    /** @private */\n    _addNodeObserver() {\n      this._observer = new ColumnObserver(this, () => {\n        // Prevent synchronization of the hidden state to child columns.\n        // If the group is currently auto-hidden, and a visible column is added,\n        // we don't want the other columns to become visible as well.\n        this._preventHiddenSynchronization = true;\n        this._rootColumns = this._getChildColumns(this);\n        this._childColumns = this._rootColumns;\n        this._updateVisibleChildColumns(this._childColumns);\n        this._preventHiddenSynchronization = false;\n\n        // Update the column tree\n        if (this._grid && this._grid._debounceUpdateColumnTree) {\n          this._grid._debounceUpdateColumnTree();\n        }\n      });\n      this._observer.flush();\n    }\n\n    /**\n     * @param {!Node} node\n     * @return {boolean}\n     * @protected\n     */\n    _isColumnElement(node) {\n      return node.nodeType === Node.ELEMENT_NODE && /\\bcolumn\\b/u.test(node.localName);\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\nimport { GridColumnGroupMixin } from './vaadin-grid-column-group-mixin.js';\nexport * from './vaadin-grid-column-group-mixin.js';\n\n/**\n * A `<vaadin-grid-column-group>` is used to make groups of columns in `<vaadin-grid>` and\n * to configure additional headers and footers.\n *\n * Groups can be nested to create complex header and footer configurations.\n *\n * #### Example:\n * ```html\n * <vaadin-grid-column-group resizable id=\"columnGroup\">\n *   <vaadin-grid-column id=\"column1\"></vaadin-grid-column>\n *   <vaadin-grid-column id=\"column2\"></vaadin-grid-column>\n * </vaadin-grid-column-group>\n * ```\n *\n * ```js\n * const columnGroup = document.querySelector('#columnGroup');\n * columnGroup.headerRenderer = (root, columnGroup) => {\n *   root.textContent = 'header';\n * }\n *\n * const column1 = document.querySelector('#column1');\n * column1.headerRenderer = (root, column) => { ... };\n * column1.renderer = (root, column, model) => { ... };\n *\n * const column2 = document.querySelector('#column2');\n * column2.headerRenderer = (root, column) => { ... };\n * column2.renderer = (root, column, model) => { ... };\n * ```\n *\n * @customElement\n * @extends HTMLElement\n * @mixes GridColumnGroupMixin\n */\nclass GridColumnGroup extends GridColumnGroupMixin(PolymerElement) {\n  static get is() {\n    return 'vaadin-grid-column-group';\n  }\n}\n\ndefineCustomElement(GridColumnGroup);\n\nexport { GridColumnGroup };\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/font-icons.js';\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/typography.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nregisterStyles(\n  'vaadin-checkbox',\n  css`\n    :host {\n      color: var(--vaadin-checkbox-label-color, var(--lumo-body-text-color));\n      font-size: var(--vaadin-checkbox-label-font-size, var(--lumo-font-size-m));\n      font-family: var(--lumo-font-family);\n      line-height: var(--lumo-line-height-s);\n      -webkit-font-smoothing: antialiased;\n      -moz-osx-font-smoothing: grayscale;\n      -webkit-tap-highlight-color: transparent;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      user-select: none;\n      cursor: default;\n      outline: none;\n      --_checkbox-size: var(--vaadin-checkbox-size, calc(var(--lumo-size-m) / 2));\n      --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));\n      --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);\n      --_selection-color: var(--vaadin-selection-color, var(--lumo-primary-color));\n      --_invalid-background: var(--vaadin-input-field-invalid-background, var(--lumo-error-color-10pct));\n      --_disabled-checkmark-color: var(--vaadin-checkbox-disabled-checkmark-color, var(--lumo-contrast-30pct));\n    }\n\n    [part='label'] {\n      display: flex;\n      position: relative;\n      max-width: max-content;\n    }\n\n    :host([has-label]) ::slotted(label) {\n      padding: var(\n        --vaadin-checkbox-label-padding,\n        var(--lumo-space-xs) var(--lumo-space-s) var(--lumo-space-xs) var(--lumo-space-xs)\n      );\n    }\n\n    :host([dir='rtl'][has-label]) ::slotted(label) {\n      padding: var(--lumo-space-xs) var(--lumo-space-xs) var(--lumo-space-xs) var(--lumo-space-s);\n    }\n\n    :host([has-label][required]) ::slotted(label) {\n      padding-inline-end: var(--lumo-space-m);\n    }\n\n    [part='checkbox'] {\n      width: var(--_checkbox-size);\n      height: var(--_checkbox-size);\n      margin: var(--lumo-space-xs);\n      position: relative;\n      border-radius: var(--vaadin-checkbox-border-radius, var(--lumo-border-radius-s));\n      background: var(--vaadin-checkbox-background, var(--lumo-contrast-20pct));\n      transition:\n        transform 0.2s cubic-bezier(0.12, 0.32, 0.54, 2),\n        background-color 0.15s;\n      cursor: var(--lumo-clickable-cursor);\n      /* Default field border color */\n      --_input-border-color: var(--vaadin-input-field-border-color, var(--lumo-contrast-50pct));\n    }\n\n    :host([indeterminate]),\n    :host([checked]) {\n      --vaadin-input-field-border-color: transparent;\n    }\n\n    :host([indeterminate]) [part='checkbox'],\n    :host([checked]) [part='checkbox'] {\n      background-color: var(--_selection-color);\n    }\n\n    /* Checkmark */\n    [part='checkbox']::after {\n      pointer-events: none;\n      font-family: 'lumo-icons';\n      content: var(--vaadin-checkbox-checkmark-char, var(--lumo-icons-checkmark));\n      color: var(--vaadin-checkbox-checkmark-color, var(--lumo-primary-contrast-color));\n      font-size: var(--vaadin-checkbox-checkmark-size, calc(var(--_checkbox-size) + 2px));\n      line-height: 1;\n      position: absolute;\n      top: -1px;\n      left: -1px;\n      contain: content;\n      opacity: 0;\n    }\n\n    :host([checked]) [part='checkbox']::after {\n      opacity: 1;\n    }\n\n    :host([readonly]:not([checked]):not([indeterminate])) {\n      color: var(--lumo-secondary-text-color);\n    }\n\n    :host([readonly]:not([checked]):not([indeterminate])) [part='checkbox'] {\n      background: transparent;\n      box-shadow: none;\n    }\n\n    :host([readonly]:not([checked]):not([indeterminate])) [part='checkbox']::after {\n      content: '';\n      box-sizing: border-box;\n      width: 100%;\n      height: 100%;\n      border-radius: inherit;\n      top: 0;\n      left: 0;\n      opacity: 1;\n      border: var(--vaadin-input-field-readonly-border, 1px dashed var(--lumo-contrast-50pct));\n    }\n\n    /* Indeterminate checkmark */\n    :host([indeterminate]) [part='checkbox']::after {\n      content: var(--vaadin-checkbox-checkmark-char-indeterminate, '');\n      opacity: 1;\n      top: 45%;\n      height: 10%;\n      left: 22%;\n      right: 22%;\n      width: auto;\n      border: 0;\n      background-color: var(--lumo-primary-contrast-color);\n    }\n\n    /* Focus ring */\n    :host([focus-ring]) [part='checkbox'] {\n      box-shadow:\n        0 0 0 1px var(--lumo-base-color),\n        0 0 0 calc(var(--_focus-ring-width) + 1px) var(--_focus-ring-color),\n        inset 0 0 0 var(--_input-border-width, 0) var(--_input-border-color);\n    }\n\n    :host([focus-ring][readonly]:not([checked]):not([indeterminate])) [part='checkbox'] {\n      box-shadow:\n        0 0 0 1px var(--lumo-base-color),\n        0 0 0 calc(var(--_focus-ring-width) + 1px) var(--_focus-ring-color);\n    }\n\n    /* Disabled */\n    :host([disabled]) {\n      pointer-events: none;\n      --vaadin-input-field-border-color: var(--lumo-contrast-20pct);\n    }\n\n    :host([disabled]) ::slotted(label) {\n      color: inherit;\n    }\n\n    :host([disabled]) [part='checkbox'] {\n      background-color: var(--vaadin-checkbox-disabled-background, var(--lumo-contrast-10pct));\n    }\n\n    :host([disabled]) [part='checkbox']::after {\n      color: var(--_disabled-checkmark-color);\n    }\n\n    :host([disabled]) [part='label'],\n    :host([disabled]) [part='helper-text'] {\n      color: var(--lumo-disabled-text-color);\n      -webkit-text-fill-color: var(--lumo-disabled-text-color);\n    }\n\n    :host([indeterminate][disabled]) [part='checkbox']::after {\n      background-color: var(--_disabled-checkmark-color);\n    }\n\n    :host([readonly][checked]:not([disabled])) [part='checkbox'],\n    :host([readonly][indeterminate]:not([disabled])) [part='checkbox'] {\n      background-color: var(--vaadin-checkbox-readonly-checked-background, var(--lumo-contrast-70pct));\n    }\n\n    /* Used for activation \"halo\" */\n    [part='checkbox']::before {\n      pointer-events: none;\n      color: transparent;\n      width: 100%;\n      height: 100%;\n      line-height: var(--_checkbox-size);\n      border-radius: inherit;\n      background-color: inherit;\n      transform: scale(1.4);\n      opacity: 0;\n      transition:\n        transform 0.1s,\n        opacity 0.8s;\n    }\n\n    /* Hover */\n    :host(:not([checked]):not([indeterminate]):not([disabled]):not([readonly]):not([invalid]):hover) [part='checkbox'] {\n      background: var(--vaadin-checkbox-background-hover, var(--lumo-contrast-30pct));\n    }\n\n    /* Disable hover for touch devices */\n    @media (pointer: coarse) {\n      /* prettier-ignore */\n      :host(:not([checked]):not([indeterminate]):not([disabled]):not([readonly]):not([invalid]):hover) [part='checkbox'] {\n        background: var(--vaadin-checkbox-background, var(--lumo-contrast-20pct));\n      }\n    }\n\n    /* Active */\n    :host([active]) [part='checkbox'] {\n      transform: scale(0.9);\n      transition-duration: 0.05s;\n    }\n\n    :host([active][checked]) [part='checkbox'] {\n      transform: scale(1.1);\n    }\n\n    :host([active]:not([checked])) [part='checkbox']::before {\n      transition-duration: 0.01s, 0.01s;\n      transform: scale(0);\n      opacity: 0.4;\n    }\n\n    /* Required */\n    :host([required]) [part='required-indicator'] {\n      position: absolute;\n      top: var(--lumo-space-xs);\n      right: var(--lumo-space-xs);\n    }\n\n    :host([required][dir='rtl']) [part='required-indicator'] {\n      right: auto;\n      left: var(--lumo-space-xs);\n    }\n\n    :host([required]) [part='required-indicator']::after {\n      content: var(--lumo-required-field-indicator, '\\\\2022');\n      transition: opacity 0.2s;\n      color: var(--lumo-required-field-indicator-color, var(--lumo-primary-text-color));\n      width: 1em;\n      text-align: center;\n    }\n\n    :host(:not([has-label])) [part='required-indicator'] {\n      display: none;\n    }\n\n    /* Invalid */\n    :host([invalid]) {\n      --vaadin-input-field-border-color: var(--lumo-error-color);\n    }\n\n    :host([invalid]) [part='checkbox'] {\n      background: var(--_invalid-background);\n      background-image: linear-gradient(var(--_invalid-background) 0%, var(--_invalid-background) 100%);\n    }\n\n    :host([invalid]:hover) [part='checkbox'] {\n      background-image: linear-gradient(var(--_invalid-background) 0%, var(--_invalid-background) 100%),\n        linear-gradient(var(--_invalid-background) 0%, var(--_invalid-background) 100%);\n    }\n\n    :host([invalid][focus-ring]) {\n      --_focus-ring-color: var(--lumo-error-color-50pct);\n    }\n\n    :host([invalid]) [part='required-indicator']::after {\n      color: var(--lumo-required-field-indicator-color, var(--lumo-error-text-color));\n    }\n\n    /* Error message */\n    [part='error-message'] {\n      font-size: var(--vaadin-input-field-error-font-size, var(--lumo-font-size-xs));\n      line-height: var(--lumo-line-height-xs);\n      font-weight: var(--vaadin-input-field-error-font-weight, 400);\n      color: var(--vaadin-input-field-error-color, var(--lumo-error-text-color));\n      will-change: max-height;\n      transition: 0.4s max-height;\n      max-height: 5em;\n      padding-inline-start: var(--lumo-space-xs);\n    }\n\n    :host([has-error-message]) [part='error-message']::after,\n    :host([has-helper]) [part='helper-text']::after {\n      content: '';\n      display: block;\n      height: 0.4em;\n    }\n\n    :host(:not([invalid])) [part='error-message'] {\n      max-height: 0;\n      overflow: hidden;\n    }\n\n    /* Helper */\n    [part='helper-text'] {\n      display: block;\n      color: var(--vaadin-input-field-helper-color, var(--lumo-secondary-text-color));\n      font-size: var(--vaadin-input-field-helper-font-size, var(--lumo-font-size-xs));\n      line-height: var(--lumo-line-height-xs);\n      font-weight: var(--vaadin-input-field-helper-font-weight, 400);\n      margin-left: calc(var(--lumo-border-radius-m) / 4);\n      transition: color 0.2s;\n      padding-inline-start: var(--lumo-space-xs);\n    }\n\n    :host(:hover:not([readonly])) [part='helper-text'] {\n      color: var(--lumo-body-text-color);\n    }\n\n    :host([has-error-message]) ::slotted(label),\n    :host([has-helper]) ::slotted(label) {\n      padding-bottom: 0;\n    }\n  `,\n  { moduleId: 'lumo-checkbox' },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\nconst stylesMap = new WeakMap();\n\n/**\n * Get all the styles inserted into root.\n * @param {DocumentOrShadowRoot} root\n * @return {Set<string>}\n */\nfunction getRootStyles(root) {\n  if (!stylesMap.has(root)) {\n    stylesMap.set(root, new Set());\n  }\n\n  return stylesMap.get(root);\n}\n\n/**\n * Insert styles into the root.\n * @param {string} styles\n * @param {DocumentOrShadowRoot} root\n */\nfunction insertStyles(styles, root) {\n  const style = document.createElement('style');\n  style.textContent = styles;\n\n  if (root === document) {\n    document.head.appendChild(style);\n  } else {\n    root.insertBefore(style, root.firstChild);\n  }\n}\n\n/**\n * Mixin to insert styles into the outer scope to handle slotted components.\n * This is useful e.g. to hide native `<input type=\"number\">` controls.\n *\n * @polymerMixin\n */\nexport const SlotStylesMixin = dedupingMixin(\n  (superclass) =>\n    class SlotStylesMixinClass extends superclass {\n      /**\n       * List of styles to insert into root.\n       * @protected\n       */\n      get slotStyles() {\n        return [];\n      }\n\n      /** @protected */\n      connectedCallback() {\n        super.connectedCallback();\n\n        this.__applySlotStyles();\n      }\n\n      /** @private */\n      __applySlotStyles() {\n        const root = this.getRootNode();\n        const rootStyles = getRootStyles(root);\n\n        this.slotStyles.forEach((styles) => {\n          if (!rootStyles.has(styles)) {\n            insertStyles(styles, root);\n            rootStyles.add(styles);\n          }\n        });\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\n/**\n * A mixin to delegate properties and attributes to a target element.\n *\n * @polymerMixin\n */\nexport const DelegateStateMixin = dedupingMixin(\n  (superclass) =>\n    class DelegateStateMixinClass extends superclass {\n      static get properties() {\n        return {\n          /**\n           * A target element to which attributes and properties are delegated.\n           * @protected\n           */\n          stateTarget: {\n            type: Object,\n            observer: '_stateTargetChanged',\n          },\n        };\n      }\n\n      /**\n       * An array of the host attributes to delegate to the target element.\n       */\n      static get delegateAttrs() {\n        return [];\n      }\n\n      /**\n       * An array of the host properties to delegate to the target element.\n       */\n      static get delegateProps() {\n        return [];\n      }\n\n      /** @protected */\n      ready() {\n        super.ready();\n\n        this._createDelegateAttrsObserver();\n        this._createDelegatePropsObserver();\n      }\n\n      /** @protected */\n      _stateTargetChanged(target) {\n        if (target) {\n          this._ensureAttrsDelegated();\n          this._ensurePropsDelegated();\n        }\n      }\n\n      /** @protected */\n      _createDelegateAttrsObserver() {\n        this._createMethodObserver(`_delegateAttrsChanged(${this.constructor.delegateAttrs.join(', ')})`);\n      }\n\n      /** @protected */\n      _createDelegatePropsObserver() {\n        this._createMethodObserver(`_delegatePropsChanged(${this.constructor.delegateProps.join(', ')})`);\n      }\n\n      /** @protected */\n      _ensureAttrsDelegated() {\n        this.constructor.delegateAttrs.forEach((name) => {\n          this._delegateAttribute(name, this[name]);\n        });\n      }\n\n      /** @protected */\n      _ensurePropsDelegated() {\n        this.constructor.delegateProps.forEach((name) => {\n          this._delegateProperty(name, this[name]);\n        });\n      }\n\n      /** @protected */\n      _delegateAttrsChanged(...values) {\n        this.constructor.delegateAttrs.forEach((name, index) => {\n          this._delegateAttribute(name, values[index]);\n        });\n      }\n\n      /** @protected */\n      _delegatePropsChanged(...values) {\n        this.constructor.delegateProps.forEach((name, index) => {\n          this._delegateProperty(name, values[index]);\n        });\n      }\n\n      /** @protected */\n      _delegateAttribute(name, value) {\n        if (!this.stateTarget) {\n          return;\n        }\n\n        if (name === 'invalid') {\n          this._delegateAttribute('aria-invalid', value ? 'true' : false);\n        }\n\n        if (typeof value === 'boolean') {\n          this.stateTarget.toggleAttribute(name, value);\n        } else if (value) {\n          this.stateTarget.setAttribute(name, value);\n        } else {\n          this.stateTarget.removeAttribute(name);\n        }\n      }\n\n      /** @protected */\n      _delegateProperty(name, value) {\n        if (!this.stateTarget) {\n          return;\n        }\n\n        this.stateTarget[name] = value;\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\n/**\n * A mixin to store the reference to an input element\n * and add input and change event listeners to it.\n *\n * @polymerMixin\n */\nexport const InputMixin = dedupingMixin(\n  (superclass) =>\n    class InputMixinClass extends superclass {\n      static get properties() {\n        return {\n          /**\n           * A reference to the input element controlled by the mixin.\n           * Any component implementing this mixin is expected to provide it\n           * by using `this._setInputElement(input)` Polymer API.\n           *\n           * A typical case is using `InputController` that does this automatically.\n           * However, the input element does not have to always be native <input>:\n           * as an example, <vaadin-combo-box-light> accepts other components.\n           *\n           * @protected\n           * @type {!HTMLElement}\n           */\n          inputElement: {\n            type: Object,\n            readOnly: true,\n            observer: '_inputElementChanged',\n          },\n\n          /**\n           * String used to define input type.\n           * @protected\n           */\n          type: {\n            type: String,\n            readOnly: true,\n          },\n\n          /**\n           * The value of the field.\n           */\n          value: {\n            type: String,\n            value: '',\n            observer: '_valueChanged',\n            notify: true,\n            sync: true,\n          },\n\n          /**\n           * Whether the input element has a non-empty value.\n           *\n           * @protected\n           */\n          _hasInputValue: {\n            type: Boolean,\n            value: false,\n            observer: '_hasInputValueChanged',\n          },\n        };\n      }\n\n      constructor() {\n        super();\n\n        this._boundOnInput = this.__onInput.bind(this);\n        this._boundOnChange = this._onChange.bind(this);\n      }\n\n      /**\n       * Indicates whether the value is different from the default one.\n       * Override if the `value` property has a type other than `string`.\n       *\n       * @protected\n       */\n      get _hasValue() {\n        return this.value != null && this.value !== '';\n      }\n\n      /**\n       * A property for accessing the input element's value.\n       *\n       * Override this getter if the property is different from the default `value` one.\n       *\n       * @protected\n       * @return {string}\n       */\n      get _inputElementValueProperty() {\n        return 'value';\n      }\n\n      /**\n       * The input element's value.\n       *\n       * @protected\n       * @return {string}\n       */\n      get _inputElementValue() {\n        return this.inputElement ? this.inputElement[this._inputElementValueProperty] : undefined;\n      }\n\n      /**\n       * The input element's value.\n       *\n       * @protected\n       */\n      set _inputElementValue(value) {\n        if (this.inputElement) {\n          this.inputElement[this._inputElementValueProperty] = value;\n        }\n\n        this._hasInputValue = value && value.length > 0;\n      }\n\n      /**\n       * Clear the value of the field.\n       */\n      clear() {\n        this._hasInputValue = false;\n\n        this.value = '';\n\n        // Clear the input immediately without waiting for the observer.\n        // Otherwise, when using Lit, the old value would be restored.\n        this._inputElementValue = '';\n      }\n\n      /**\n       * Add event listeners to the input element instance.\n       * Override this method to add custom listeners.\n       * @param {!HTMLElement} input\n       * @protected\n       */\n      _addInputListeners(input) {\n        input.addEventListener('input', this._boundOnInput);\n        input.addEventListener('change', this._boundOnChange);\n      }\n\n      /**\n       * Remove event listeners from the input element instance.\n       * @param {!HTMLElement} input\n       * @protected\n       */\n      _removeInputListeners(input) {\n        input.removeEventListener('input', this._boundOnInput);\n        input.removeEventListener('change', this._boundOnChange);\n      }\n\n      /**\n       * A method to forward the value property set on the field\n       * programmatically back to the input element value.\n       * Override this method to perform additional checks,\n       * for example to skip this in certain conditions.\n       * @param {string} value\n       * @protected\n       */\n      _forwardInputValue(value) {\n        // Value might be set before an input element is initialized.\n        // This case should be handled separately by a component that\n        // implements this mixin, for example in `connectedCallback`.\n        if (!this.inputElement) {\n          return;\n        }\n\n        this._inputElementValue = value != null ? value : '';\n      }\n\n      /**\n       * @param {HTMLElement | undefined} input\n       * @param {HTMLElement | undefined} oldInput\n       * @protected\n       */\n      _inputElementChanged(input, oldInput) {\n        if (input) {\n          this._addInputListeners(input);\n        } else if (oldInput) {\n          this._removeInputListeners(oldInput);\n        }\n      }\n\n      /**\n       * Observer to notify about the change of private property.\n       *\n       * @private\n       */\n      _hasInputValueChanged(hasValue, oldHasValue) {\n        if (hasValue || oldHasValue) {\n          this.dispatchEvent(new CustomEvent('has-input-value-changed'));\n        }\n      }\n\n      /**\n       * An input event listener used to update `_hasInputValue` property.\n       * Do not override this method.\n       *\n       * @param {Event} event\n       * @private\n       */\n      __onInput(event) {\n        this._setHasInputValue(event);\n        this._onInput(event);\n      }\n\n      /**\n       * An input event listener used to update the field value.\n       *\n       * @param {Event} event\n       * @protected\n       */\n      _onInput(event) {\n        // In the case a custom web component is passed as `inputElement`,\n        // the actual native input element, on which the event occurred,\n        // can be inside shadow trees.\n        const target = event.composedPath()[0];\n        // Ignore fake input events e.g. used by clear button.\n        this.__userInput = event.isTrusted;\n        this.value = target.value;\n        this.__userInput = false;\n      }\n\n      /**\n       * A change event listener.\n       * Override this method with an actual implementation.\n       * @param {Event} _event\n       * @protected\n       */\n      _onChange(_event) {}\n\n      /**\n       * Toggle the has-value attribute based on the value property.\n       *\n       * @param {boolean} hasValue\n       * @protected\n       */\n      _toggleHasValue(hasValue) {\n        this.toggleAttribute('has-value', hasValue);\n      }\n\n      /**\n       * Observer called when a value property changes.\n       * @param {string | undefined} newVal\n       * @param {string | undefined} oldVal\n       * @protected\n       */\n      _valueChanged(newVal, oldVal) {\n        this._toggleHasValue(this._hasValue);\n\n        // Setting initial value to empty string, do nothing.\n        if (newVal === '' && oldVal === undefined) {\n          return;\n        }\n\n        // Value is set by the user, no need to sync it back to input.\n        if (this.__userInput) {\n          return;\n        }\n\n        // Setting a value programmatically, sync it to input element.\n        this._forwardInputValue(newVal);\n      }\n\n      /**\n       * Sets the `_hasInputValue` property based on the `input` event.\n       *\n       * @param {InputEvent} event\n       * @protected\n       */\n      _setHasInputValue(event) {\n        // In the case a custom web component is passed as `inputElement`,\n        // the actual native input element, on which the event occurred,\n        // can be inside shadow trees.\n        const target = event.composedPath()[0];\n        this._hasInputValue = target.value.length > 0;\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\nimport { DisabledMixin } from '@vaadin/a11y-base/src/disabled-mixin.js';\nimport { DelegateStateMixin } from '@vaadin/component-base/src/delegate-state-mixin.js';\nimport { InputMixin } from './input-mixin.js';\n\n/**\n * A mixin to manage the checked state.\n *\n * @polymerMixin\n * @mixes DelegateStateMixin\n * @mixes DisabledMixin\n * @mixes InputMixin\n */\nexport const CheckedMixin = dedupingMixin(\n  (superclass) =>\n    class CheckedMixinClass extends DelegateStateMixin(DisabledMixin(InputMixin(superclass))) {\n      static get properties() {\n        return {\n          /**\n           * True if the element is checked.\n           * @type {boolean}\n           */\n          checked: {\n            type: Boolean,\n            value: false,\n            notify: true,\n            reflectToAttribute: true,\n            sync: true,\n          },\n        };\n      }\n\n      static get delegateProps() {\n        return [...super.delegateProps, 'checked'];\n      }\n\n      /**\n       * @param {Event} event\n       * @protected\n       * @override\n       */\n      _onChange(event) {\n        const input = event.target;\n\n        this._toggleChecked(input.checked);\n      }\n\n      /** @protected */\n      _toggleChecked(checked) {\n        this.checked = checked;\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2022 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { SlotController } from './slot-controller.js';\n\n/**\n * A controller that observes slotted element mutations, especially ID attribute\n * and the text content, and fires an event to notify host element about those.\n */\nexport class SlotChildObserveController extends SlotController {\n  constructor(host, slot, tagName, config = {}) {\n    super(host, slot, tagName, { ...config, useUniqueId: true });\n  }\n\n  /**\n   * Override to initialize the newly added custom node.\n   *\n   * @param {Node} node\n   * @protected\n   * @override\n   */\n  initCustomNode(node) {\n    this.__updateNodeId(node);\n    this.__notifyChange(node);\n  }\n\n  /**\n   * Override to notify the controller host about removal of\n   * the custom node, and to apply the default one if needed.\n   *\n   * @param {Node} _node\n   * @protected\n   * @override\n   */\n  teardownNode(_node) {\n    const node = this.getSlotChild();\n\n    // Custom node is added to the slot\n    if (node && node !== this.defaultNode) {\n      this.__notifyChange(node);\n    } else {\n      this.restoreDefaultNode();\n      this.updateDefaultNode(this.node);\n    }\n  }\n\n  /**\n   * Override method inherited from `SlotMixin`\n   * to set ID attribute on the default node.\n   *\n   * @return {Node}\n   * @protected\n   * @override\n   */\n  attachDefaultNode() {\n    const node = super.attachDefaultNode();\n\n    if (node) {\n      this.__updateNodeId(node);\n    }\n\n    return node;\n  }\n\n  /**\n   * Override to restore default node when a custom one is removed.\n   *\n   * @protected\n   */\n  restoreDefaultNode() {\n    // To be implemented\n  }\n\n  /**\n   * Override to update default node text on property change.\n   *\n   * @param {Node} node\n   * @protected\n   */\n  updateDefaultNode(node) {\n    this.__notifyChange(node);\n  }\n\n  /**\n   * Setup the mutation observer on the node to update ID and notify host.\n   * Node doesn't get observed automatically until this method is called.\n   *\n   * @param {Node} node\n   * @protected\n   */\n  observeNode(node) {\n    // Stop observing the previous node, if any.\n    if (this.__nodeObserver) {\n      this.__nodeObserver.disconnect();\n    }\n\n    this.__nodeObserver = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        const target = mutation.target;\n\n        // Ensure the mutation target is the currently connected node\n        // to ignore async mutations dispatched for removed element.\n        const isCurrentNodeMutation = target === this.node;\n\n        if (mutation.type === 'attributes') {\n          // We use attributeFilter to only observe ID mutation,\n          // no need to check for attribute name separately.\n          if (isCurrentNodeMutation) {\n            this.__updateNodeId(target);\n          }\n        } else if (isCurrentNodeMutation || target.parentElement === this.node) {\n          // Node text content has changed.\n          this.__notifyChange(this.node);\n        }\n      });\n    });\n\n    // Observe changes to node ID attribute, text content and children.\n    this.__nodeObserver.observe(node, {\n      attributes: true,\n      attributeFilter: ['id'],\n      childList: true,\n      subtree: true,\n      characterData: true,\n    });\n  }\n\n  /**\n   * Returns true if a node is an HTML element with children,\n   * or is a defined custom element, or has non-empty text.\n   *\n   * @param {Node} node\n   * @return {boolean}\n   * @private\n   */\n  __hasContent(node) {\n    if (!node) {\n      return false;\n    }\n\n    return (\n      (node.nodeType === Node.ELEMENT_NODE && (customElements.get(node.localName) || node.children.length > 0)) ||\n      (node.textContent && node.textContent.trim() !== '')\n    );\n  }\n\n  /**\n   * Fire an event to notify the controller host about node changes.\n   *\n   * @param {Node} node\n   * @private\n   */\n  __notifyChange(node) {\n    this.dispatchEvent(\n      new CustomEvent('slot-content-changed', {\n        detail: { hasContent: this.__hasContent(node), node },\n      }),\n    );\n  }\n\n  /**\n   * Set default ID on the node in case it is an HTML element.\n   *\n   * @param {Node} node\n   * @private\n   */\n  __updateNodeId(node) {\n    // When in multiple mode, only set ID attribute on the element in default slot.\n    const isFirstNode = !this.nodes || node === this.nodes[0];\n    if (node.nodeType === Node.ELEMENT_NODE && (!this.multiple || isFirstNode) && !node.id) {\n      node.id = this.defaultId;\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { announce } from '@vaadin/a11y-base/src/announce.js';\nimport { SlotChildObserveController } from '@vaadin/component-base/src/slot-child-observe-controller.js';\n\n/**\n * A controller that manages the error message node content.\n */\nexport class ErrorController extends SlotChildObserveController {\n  constructor(host) {\n    super(host, 'error-message', 'div');\n  }\n\n  /**\n   * Set the error message element text content.\n   *\n   * @param {string} errorMessage\n   */\n  setErrorMessage(errorMessage) {\n    this.errorMessage = errorMessage;\n\n    this.updateDefaultNode(this.node);\n  }\n\n  /**\n   * Set invalid state for detecting whether to show error message.\n   *\n   * @param {boolean} invalid\n   */\n  setInvalid(invalid) {\n    this.invalid = invalid;\n\n    this.updateDefaultNode(this.node);\n  }\n\n  /**\n   * Override method inherited from `SlotController` to not run\n   * initializer on the custom slotted node unnecessarily.\n   *\n   * @param {Node} node\n   * @protected\n   * @override\n   */\n  initAddedNode(node) {\n    if (node !== this.defaultNode) {\n      // There is no need to run `initNode`.\n      this.initCustomNode(node);\n    }\n  }\n\n  /**\n   * Override to initialize the newly added default error message.\n   *\n   * @param {Node} errorNode\n   * @protected\n   * @override\n   */\n  initNode(errorNode) {\n    this.updateDefaultNode(errorNode);\n  }\n\n  /**\n   * Override to initialize the newly added custom error message.\n   *\n   * @param {Node} errorNode\n   * @protected\n   * @override\n   */\n  initCustomNode(errorNode) {\n    // Save the custom error message content on the host.\n    if (errorNode.textContent && !this.errorMessage) {\n      this.errorMessage = errorNode.textContent.trim();\n    }\n\n    // Notify the host about custom node.\n    super.initCustomNode(errorNode);\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to restore the default error message element.\n   *\n   * @protected\n   * @override\n   */\n  restoreDefaultNode() {\n    this.attachDefaultNode();\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to update the error message text and hidden state.\n   *\n   * Note: unlike with other controllers, this method is\n   * called for both default and custom error message.\n   *\n   * @param {Node | undefined} node\n   * @protected\n   * @override\n   */\n  updateDefaultNode(errorNode) {\n    const { errorMessage, invalid } = this;\n    const hasError = Boolean(invalid && errorMessage && errorMessage.trim() !== '');\n\n    if (errorNode) {\n      errorNode.textContent = hasError ? errorMessage : '';\n      errorNode.hidden = !hasError;\n\n      if (hasError) {\n        // Assertive mode ensures VoiceOver reads\n        // the error message on commit with Enter.\n        announce(errorMessage, { mode: 'assertive' });\n      }\n    }\n\n    // Notify the host after update.\n    super.updateDefaultNode(errorNode);\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { SlotChildObserveController } from '@vaadin/component-base/src/slot-child-observe-controller.js';\n\n/**\n * A controller that manages the helper node content.\n */\nexport class HelperController extends SlotChildObserveController {\n  constructor(host) {\n    // Do not provide tag name, as we create helper lazily.\n    super(host, 'helper', null);\n  }\n\n  /**\n   * Set helper text based on corresponding host property.\n   *\n   * @param {string} helperText\n   */\n  setHelperText(helperText) {\n    this.helperText = helperText;\n\n    // Restore the default helper, if needed.\n    const helperNode = this.getSlotChild();\n    if (!helperNode) {\n      this.restoreDefaultNode();\n    }\n\n    // When default helper is used, update it.\n    if (this.node === this.defaultNode) {\n      this.updateDefaultNode(this.node);\n    }\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to create the default helper element lazily as needed.\n   *\n   * @param {Node | undefined} node\n   * @protected\n   * @override\n   */\n  restoreDefaultNode() {\n    const { helperText } = this;\n\n    // No helper yet, create one.\n    if (helperText && helperText.trim() !== '') {\n      this.tagName = 'div';\n\n      const helperNode = this.attachDefaultNode();\n\n      // Observe the default node.\n      this.observeNode(helperNode);\n    }\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to update the default helper element text content.\n   *\n   * @param {Node | undefined} node\n   * @protected\n   * @override\n   */\n  updateDefaultNode(node) {\n    if (node) {\n      node.textContent = this.helperText;\n    }\n\n    // Notify the host after update.\n    super.updateDefaultNode(node);\n  }\n\n  /**\n   * Override to observe the newly added custom node.\n   *\n   * @param {Node} node\n   * @protected\n   * @override\n   */\n  initCustomNode(node) {\n    // Notify the host about a custom slotted helper.\n    super.initCustomNode(node);\n\n    this.observeNode(node);\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { SlotChildObserveController } from '@vaadin/component-base/src/slot-child-observe-controller.js';\n\n/**\n * A controller to manage the label element.\n */\nexport class LabelController extends SlotChildObserveController {\n  constructor(host) {\n    super(host, 'label', 'label');\n  }\n\n  /**\n   * Set label based on corresponding host property.\n   *\n   * @param {string} label\n   */\n  setLabel(label) {\n    this.label = label;\n\n    // Restore the default label, if needed.\n    const labelNode = this.getSlotChild();\n    if (!labelNode) {\n      this.restoreDefaultNode();\n    }\n\n    // When default label is used, update it.\n    if (this.node === this.defaultNode) {\n      this.updateDefaultNode(this.node);\n    }\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to restore and observe the default label element.\n   *\n   * @protected\n   * @override\n   */\n  restoreDefaultNode() {\n    const { label } = this;\n\n    // Restore the default label.\n    if (label && label.trim() !== '') {\n      const labelNode = this.attachDefaultNode();\n\n      // Observe the default label.\n      this.observeNode(labelNode);\n    }\n  }\n\n  /**\n   * Override method inherited from `SlotChildObserveController`\n   * to update the default label element text content.\n   *\n   * @param {Node | undefined} node\n   * @protected\n   * @override\n   */\n  updateDefaultNode(node) {\n    if (node) {\n      node.textContent = this.label;\n    }\n\n    // Notify the host after update.\n    super.updateDefaultNode(node);\n  }\n\n  /**\n   * Override to observe the newly added custom node.\n   *\n   * @param {Node} node\n   * @protected\n   * @override\n   */\n  initCustomNode(node) {\n    // Notify the host about adding a custom node.\n    super.initCustomNode(node);\n\n    this.observeNode(node);\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\nimport { ControllerMixin } from '@vaadin/component-base/src/controller-mixin.js';\nimport { LabelController } from './label-controller.js';\n\n/**\n * A mixin to provide label via corresponding property or named slot.\n *\n * @polymerMixin\n * @mixes ControllerMixin\n */\nexport const LabelMixin = dedupingMixin(\n  (superclass) =>\n    class LabelMixinClass extends ControllerMixin(superclass) {\n      static get properties() {\n        return {\n          /**\n           * The label text for the input node.\n           * When no light dom defined via [slot=label], this value will be used.\n           */\n          label: {\n            type: String,\n            observer: '_labelChanged',\n          },\n        };\n      }\n\n      constructor() {\n        super();\n\n        this._labelController = new LabelController(this);\n\n        this._labelController.addEventListener('slot-content-changed', (event) => {\n          this.toggleAttribute('has-label', event.detail.hasContent);\n        });\n      }\n\n      /** @protected */\n      get _labelId() {\n        const node = this._labelNode;\n        return node && node.id;\n      }\n\n      /** @protected */\n      get _labelNode() {\n        return this._labelController.node;\n      }\n\n      /** @protected */\n      ready() {\n        super.ready();\n\n        this.addController(this._labelController);\n      }\n\n      /** @protected */\n      _labelChanged(label) {\n        this._labelController.setLabel(label);\n      }\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\n\n/**\n * A mixin to provide required state and validation logic.\n *\n * @polymerMixin\n */\nexport const ValidateMixin = dedupingMixin(\n  (superclass) =>\n    class ValidateMixinClass extends superclass {\n      static get properties() {\n        return {\n          /**\n           * Set to true when the field is invalid.\n           */\n          invalid: {\n            type: Boolean,\n            reflectToAttribute: true,\n            notify: true,\n            value: false,\n          },\n\n          /**\n           * Set to true to enable manual validation mode. This mode disables automatic\n           * constraint validation, allowing you to control the validation process yourself.\n           * You can still trigger constraint validation manually with the `validate()` method\n           * or use `checkValidity()` to assess the component's validity without affecting\n           * the invalid state. In manual validation mode, you can also manipulate\n           * the `invalid` property directly through your application logic without conflicts\n           * with the component's internal validation.\n           *\n           * @attr {boolean} manual-validation\n           */\n          manualValidation: {\n            type: Boolean,\n            value: false,\n          },\n\n          /**\n           * Specifies that the user must fill in a value.\n           */\n          required: {\n            type: Boolean,\n            reflectToAttribute: true,\n          },\n        };\n      }\n\n      /**\n       * Validates the field and sets the `invalid` property based on the result.\n       *\n       * The method fires a `validated` event with the result of the validation.\n       *\n       * @return {boolean} True if the value is valid.\n       */\n      validate() {\n        const isValid = this.checkValidity();\n        this._setInvalid(!isValid);\n        this.dispatchEvent(new CustomEvent('validated', { detail: { valid: isValid } }));\n        return isValid;\n      }\n\n      /**\n       * Returns true if the field value satisfies all constraints (if any).\n       *\n       * @return {boolean}\n       */\n      checkValidity() {\n        return !this.required || !!this.value;\n      }\n\n      /**\n       * @param {boolean} invalid\n       * @protected\n       */\n      _setInvalid(invalid) {\n        if (this._shouldSetInvalid(invalid)) {\n          this.invalid = invalid;\n        }\n      }\n\n      /**\n       * Override this method to define whether the given `invalid` state should be set.\n       *\n       * @param {boolean} _invalid\n       * @return {boolean}\n       * @protected\n       */\n      _shouldSetInvalid(_invalid) {\n        return true;\n      }\n\n      /** @protected */\n      _requestValidation() {\n        if (!this.manualValidation) {\n          // eslint-disable-next-line no-restricted-syntax\n          this.validate();\n        }\n      }\n\n      /**\n       * Fired whenever the field is validated.\n       *\n       * @event validated\n       * @param {Object} detail\n       * @param {boolean} detail.valid the result of the validation.\n       */\n    },\n);\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { FieldAriaController } from '@vaadin/a11y-base/src/field-aria-controller.js';\nimport { ControllerMixin } from '@vaadin/component-base/src/controller-mixin.js';\nimport { ErrorController } from './error-controller.js';\nimport { HelperController } from './helper-controller.js';\nimport { LabelMixin } from './label-mixin.js';\nimport { ValidateMixin } from './validate-mixin.js';\n\n/**\n * A mixin to provide common field logic: label, error message and helper text.\n *\n * @polymerMixin\n * @mixes ControllerMixin\n * @mixes LabelMixin\n * @mixes ValidateMixin\n */\nexport const FieldMixin = (superclass) =>\n  class FieldMixinClass extends ValidateMixin(LabelMixin(ControllerMixin(superclass))) {\n    static get properties() {\n      return {\n        /**\n         * A target element to which ARIA attributes are set.\n         * @protected\n         */\n        ariaTarget: {\n          type: Object,\n          observer: '_ariaTargetChanged',\n        },\n\n        /**\n         * Error to show when the field is invalid.\n         *\n         * @attr {string} error-message\n         */\n        errorMessage: {\n          type: String,\n          observer: '_errorMessageChanged',\n        },\n\n        /**\n         * String used for the helper text.\n         * @attr {string} helper-text\n         */\n        helperText: {\n          type: String,\n          observer: '_helperTextChanged',\n        },\n\n        /**\n         * String used to label the component to screen reader users.\n         * @attr {string} accessible-name\n         */\n        accessibleName: {\n          type: String,\n          observer: '_accessibleNameChanged',\n        },\n\n        /**\n         * Id of the element used as label of the component to screen reader users.\n         * @attr {string} accessible-name-ref\n         */\n        accessibleNameRef: {\n          type: String,\n          observer: '_accessibleNameRefChanged',\n        },\n      };\n    }\n\n    static get observers() {\n      return ['_invalidChanged(invalid)', '_requiredChanged(required)'];\n    }\n\n    constructor() {\n      super();\n\n      this._fieldAriaController = new FieldAriaController(this);\n      this._helperController = new HelperController(this);\n      this._errorController = new ErrorController(this);\n\n      this._errorController.addEventListener('slot-content-changed', (event) => {\n        this.toggleAttribute('has-error-message', event.detail.hasContent);\n      });\n\n      this._labelController.addEventListener('slot-content-changed', (event) => {\n        const { hasContent, node } = event.detail;\n        this.__labelChanged(hasContent, node);\n      });\n\n      this._helperController.addEventListener('slot-content-changed', (event) => {\n        const { hasContent, node } = event.detail;\n        this.toggleAttribute('has-helper', hasContent);\n        this.__helperChanged(hasContent, node);\n      });\n    }\n\n    /**\n     * @protected\n     * @return {HTMLElement}\n     */\n    get _errorNode() {\n      return this._errorController.node;\n    }\n\n    /**\n     * @protected\n     * @return {HTMLElement}\n     */\n    get _helperNode() {\n      return this._helperController.node;\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this.addController(this._fieldAriaController);\n      this.addController(this._helperController);\n      this.addController(this._errorController);\n    }\n\n    /** @private */\n    __helperChanged(hasHelper, helperNode) {\n      if (hasHelper) {\n        this._fieldAriaController.setHelperId(helperNode.id);\n      } else {\n        this._fieldAriaController.setHelperId(null);\n      }\n    }\n\n    /** @protected */\n    _accessibleNameChanged(accessibleName) {\n      this._fieldAriaController.setAriaLabel(accessibleName);\n    }\n\n    /** @protected */\n    _accessibleNameRefChanged(accessibleNameRef) {\n      this._fieldAriaController.setLabelId(accessibleNameRef, true);\n    }\n\n    /** @private */\n    __labelChanged(hasLabel, labelNode) {\n      // Label ID should be only added when the label content is present.\n      // Otherwise, it may conflict with an `aria-label` attribute possibly added by the user.\n      if (hasLabel) {\n        this._fieldAriaController.setLabelId(labelNode.id);\n      } else {\n        this._fieldAriaController.setLabelId(null);\n      }\n    }\n\n    /**\n     * @param {string | null | undefined} errorMessage\n     * @protected\n     */\n    _errorMessageChanged(errorMessage) {\n      this._errorController.setErrorMessage(errorMessage);\n    }\n\n    /**\n     * @param {string} helperText\n     * @protected\n     */\n    _helperTextChanged(helperText) {\n      this._helperController.setHelperText(helperText);\n    }\n\n    /**\n     * @param {HTMLElement | null | undefined} target\n     * @protected\n     */\n    _ariaTargetChanged(target) {\n      if (target) {\n        this._fieldAriaController.setTarget(target);\n      }\n    }\n\n    /**\n     * @param {boolean} required\n     * @protected\n     */\n    _requiredChanged(required) {\n      this._fieldAriaController.setRequired(required);\n    }\n\n    /**\n     * @param {boolean} invalid\n     * @protected\n     */\n    _invalidChanged(invalid) {\n      this._errorController.setInvalid(invalid);\n\n      // This timeout is needed to prevent NVDA from announcing the error message twice:\n      // 1. Once adding the `[role=alert]` attribute when updating `has-error-message` (OK).\n      // 2. Once linking the error ID with the ARIA target here (unwanted).\n      // Related issue: https://github.com/vaadin/web-components/issues/3061.\n      setTimeout(() => {\n        // Error message ID needs to be dynamically added / removed based on the validity\n        // Otherwise assistive technologies would announce the error, even if we hide it.\n        if (invalid) {\n          const node = this._errorNode;\n          this._fieldAriaController.setErrorId(node && node.id);\n        } else {\n          this._fieldAriaController.setErrorId(null);\n        }\n      });\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { SlotController } from '@vaadin/component-base/src/slot-controller.js';\n\n/**\n * A controller to create and initialize slotted `<input>` element.\n */\nexport class InputController extends SlotController {\n  constructor(host, callback, options = {}) {\n    const { uniqueIdPrefix } = options;\n\n    super(host, 'input', 'input', {\n      initializer: (node, host) => {\n        if (host.value) {\n          node.value = host.value;\n        }\n        if (host.type) {\n          node.setAttribute('type', host.type);\n        }\n\n        // Ensure every instance has unique ID\n        node.id = this.defaultId;\n\n        if (typeof callback === 'function') {\n          callback(node);\n        }\n      },\n      useUniqueId: true,\n      uniqueIdPrefix,\n    });\n  }\n}\n","/**\n * @license\n * Copyright (c) 2021 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * A controller for linking a `<label>` element with an `<input>` element.\n */\nexport class LabelledInputController {\n  constructor(input, labelController) {\n    this.input = input;\n    this.__preventDuplicateLabelClick = this.__preventDuplicateLabelClick.bind(this);\n\n    labelController.addEventListener('slot-content-changed', (event) => {\n      this.__initLabel(event.detail.node);\n    });\n\n    // Initialize the default label element\n    this.__initLabel(labelController.node);\n  }\n\n  /**\n   * @param {HTMLElement} label\n   * @private\n   */\n  __initLabel(label) {\n    if (label) {\n      label.addEventListener('click', this.__preventDuplicateLabelClick);\n\n      if (this.input) {\n        label.setAttribute('for', this.input.id);\n      }\n    }\n  }\n\n  /**\n   * The native platform fires an event for both the click on the label, and also\n   * the subsequent click on the native input element caused by label click.\n   * This results in two click events arriving at the host, but we only want one.\n   * This method prevents the duplicate click and ensures the correct isTrusted event\n   * with the correct event.target arrives at the host.\n   * @private\n   */\n  __preventDuplicateLabelClick() {\n    const inputClickHandler = (e) => {\n      e.stopImmediatePropagation();\n      this.input.removeEventListener('click', inputClickHandler);\n    };\n    this.input.addEventListener('click', inputClickHandler);\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { ActiveMixin } from '@vaadin/a11y-base/src/active-mixin.js';\nimport { DelegateFocusMixin } from '@vaadin/a11y-base/src/delegate-focus-mixin.js';\nimport { SlotStylesMixin } from '@vaadin/component-base/src/slot-styles-mixin.js';\nimport { CheckedMixin } from '@vaadin/field-base/src/checked-mixin.js';\nimport { FieldMixin } from '@vaadin/field-base/src/field-mixin.js';\nimport { InputController } from '@vaadin/field-base/src/input-controller.js';\nimport { LabelledInputController } from '@vaadin/field-base/src/labelled-input-controller.js';\n\n/**\n * A mixin providing common checkbox functionality.\n *\n * @polymerMixin\n * @mixes ActiveMixin\n * @mixes CheckedMixin\n * @mixes DelegateFocusMixin\n * @mixes FieldMixin\n * @mixes SlotStylesMixin\n */\nexport const CheckboxMixin = (superclass) =>\n  class CheckboxMixinClass extends SlotStylesMixin(\n    FieldMixin(CheckedMixin(DelegateFocusMixin(ActiveMixin(superclass)))),\n  ) {\n    static get properties() {\n      return {\n        /**\n         * True if the checkbox is in the indeterminate state which means\n         * it is not possible to say whether it is checked or unchecked.\n         * The state is reset once the user switches the checkbox by hand.\n         *\n         * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox#Indeterminate_state_checkboxes\n         *\n         * @type {boolean}\n         */\n        indeterminate: {\n          type: Boolean,\n          notify: true,\n          value: false,\n          reflectToAttribute: true,\n        },\n\n        /**\n         * The name of the checkbox.\n         *\n         * @type {string}\n         */\n        name: {\n          type: String,\n          value: '',\n        },\n\n        /**\n         * When true, the user cannot modify the value of the checkbox.\n         * The difference between `disabled` and `readonly` is that the\n         * read-only checkbox remains focusable, is announced by screen\n         * readers and its value can be submitted as part of the form.\n         */\n        readonly: {\n          type: Boolean,\n          value: false,\n          reflectToAttribute: true,\n        },\n\n        /**\n         * Indicates whether the element can be focused and where it participates in sequential keyboard navigation.\n         *\n         * @override\n         * @protected\n         */\n        tabindex: {\n          type: Number,\n          value: 0,\n          reflectToAttribute: true,\n        },\n      };\n    }\n\n    static get observers() {\n      return ['__readonlyChanged(readonly, inputElement)'];\n    }\n\n    /** @override */\n    static get delegateProps() {\n      return [...super.delegateProps, 'indeterminate'];\n    }\n\n    /** @override */\n    static get delegateAttrs() {\n      return [...super.delegateAttrs, 'name', 'invalid', 'required'];\n    }\n\n    constructor() {\n      super();\n\n      this._setType('checkbox');\n\n      this._boundOnInputClick = this._onInputClick.bind(this);\n\n      // Set the string \"on\" as the default value for the checkbox following the HTML specification:\n      // https://html.spec.whatwg.org/multipage/input.html#dom-input-value-default-on\n      this.value = 'on';\n    }\n\n    /** @protected */\n    get slotStyles() {\n      const tag = this.localName;\n\n      // Needed to override `opacity: 1` set on `input` by Tailwind CSS.\n      // See https://github.com/vaadin/web-components/issues/8881\n      return [\n        `\n          ${tag} > input[slot='input'] {\n            opacity: 0;\n          }\n        `,\n      ];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n\n      this.addController(\n        new InputController(this, (input) => {\n          this._setInputElement(input);\n          this._setFocusElement(input);\n          this.stateTarget = input;\n          this.ariaTarget = input;\n        }),\n      );\n      this.addController(new LabelledInputController(this.inputElement, this._labelController));\n\n      this._createMethodObserver('_checkedChanged(checked)');\n    }\n\n    /**\n     * Override method inherited from `ActiveMixin` to prevent setting `active`\n     * attribute when readonly, or when clicking a link placed inside the label,\n     * or when clicking slotted helper or error message element.\n     *\n     * @param {Event} event\n     * @return {boolean}\n     * @protected\n     * @override\n     */\n    _shouldSetActive(event) {\n      if (\n        this.readonly ||\n        event.target.localName === 'a' ||\n        event.target === this._helperNode ||\n        event.target === this._errorNode\n      ) {\n        return false;\n      }\n\n      return super._shouldSetActive(event);\n    }\n\n    /**\n     * Override method inherited from `InputMixin`.\n     * @param {!HTMLElement} input\n     * @protected\n     * @override\n     */\n    _addInputListeners(input) {\n      super._addInputListeners(input);\n\n      input.addEventListener('click', this._boundOnInputClick);\n    }\n\n    /**\n     * Override method inherited from `InputMixin`.\n     * @param {!HTMLElement} input\n     * @protected\n     * @override\n     */\n    _removeInputListeners(input) {\n      super._removeInputListeners(input);\n\n      input.removeEventListener('click', this._boundOnInputClick);\n    }\n\n    /** @private */\n    _onInputClick(event) {\n      // Prevent native checkbox checked change\n      if (this.readonly) {\n        event.preventDefault();\n      }\n    }\n\n    /** @private */\n    __readonlyChanged(readonly, inputElement) {\n      if (!inputElement) {\n        return;\n      }\n\n      // Use aria-readonly since native checkbox doesn't support readonly\n      if (readonly) {\n        inputElement.setAttribute('aria-readonly', 'true');\n      } else {\n        inputElement.removeAttribute('aria-readonly');\n      }\n    }\n\n    /**\n     * Override method inherited from `CheckedMixin` to reset\n     * `indeterminate` state checkbox is toggled by the user.\n     *\n     * @param {boolean} checked\n     * @protected\n     * @override\n     */\n    _toggleChecked(checked) {\n      if (this.indeterminate) {\n        this.indeterminate = false;\n      }\n\n      super._toggleChecked(checked);\n    }\n\n    /**\n     * @override\n     * @return {boolean}\n     */\n    checkValidity() {\n      return !this.required || !!this.checked;\n    }\n\n    /**\n     * Override method inherited from `FocusMixin` to validate on blur.\n     * @param {boolean} focused\n     * @protected\n     */\n    _setFocused(focused) {\n      super._setFocused(focused);\n\n      // Do not validate when focusout is caused by document\n      // losing focus, which happens on browser tab switch.\n      if (!focused && document.hasFocus()) {\n        this._requestValidation();\n      }\n    }\n\n    /** @private */\n    _checkedChanged(checked) {\n      if (checked || this.__oldChecked) {\n        this._requestValidation();\n      }\n\n      this.__oldChecked = checked;\n    }\n\n    /**\n     * Override an observer from `FieldMixin`\n     * to validate when required is removed.\n     *\n     * @protected\n     * @override\n     */\n    _requiredChanged(required) {\n      super._requiredChanged(required);\n\n      if (required === false) {\n        this._requestValidation();\n      }\n    }\n\n    /** @private */\n    _onRequiredIndicatorClick() {\n      this._labelNode.click();\n    }\n\n    /**\n     * Fired when the checkbox is checked or unchecked by the user.\n     *\n     * @event change\n     */\n  };\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\nimport { ElementMixin } from '@vaadin/component-base/src/element-mixin.js';\nimport { TooltipController } from '@vaadin/component-base/src/tooltip-controller.js';\nimport { registerStyles, ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { CheckboxMixin } from './vaadin-checkbox-mixin.js';\nimport { checkboxStyles } from './vaadin-checkbox-styles.js';\n\nregisterStyles('vaadin-checkbox', checkboxStyles, { moduleId: 'vaadin-checkbox-styles' });\n\n/**\n * `<vaadin-checkbox>` is an input field representing a binary choice.\n *\n * ```html\n * <vaadin-checkbox label=\"I accept the terms and conditions\"></vaadin-checkbox>\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name            | Description\n * ---------------------|-------------\n * `checkbox`           | The element representing a stylable custom checkbox\n * `label`              | The slotted label element wrapper\n * `helper-text`        | The slotted helper text element wrapper\n * `error-message`      | The slotted error message element wrapper\n * `required-indicator` | The `required` state indicator element\n *\n * The following state attributes are available for styling:\n *\n * Attribute            | Description\n * ---------------------|-------------\n * `active`             | Set when the checkbox is activated with mouse, touch or the keyboard.\n * `checked`            | Set when the checkbox is checked.\n * `disabled`           | Set when the checkbox is disabled.\n * `readonly`           | Set when the checkbox is readonly.\n * `focus-ring`         | Set when the checkbox is focused using the keyboard.\n * `focused`            | Set when the checkbox is focused.\n * `indeterminate`      | Set when the checkbox is in the indeterminate state.\n * `invalid`            | Set when the checkbox is invalid.\n * `has-label`          | Set when the checkbox has a label.\n * `has-helper`         | Set when the checkbox has helper text.\n * `has-error-message`  | Set when the checkbox has an error message.\n *\n * See [Styling Components](https://vaadin.com/docs/latest/styling/styling-components) documentation.\n *\n * @fires {Event} change - Fired when the checkbox is checked or unchecked by the user.\n * @fires {CustomEvent} checked-changed - Fired when the `checked` property changes.\n * @fires {CustomEvent} indeterminate-changed - Fired when the `indeterminate` property changes.\n *\n * @customElement\n * @extends HTMLElement\n * @mixes CheckboxMixin\n * @mixes ThemableMixin\n * @mixes ElementMixin\n */\nexport class Checkbox extends CheckboxMixin(ElementMixin(ThemableMixin(PolymerElement))) {\n  static get is() {\n    return 'vaadin-checkbox';\n  }\n\n  static get template() {\n    return html`\n      <div class=\"vaadin-checkbox-container\">\n        <div part=\"checkbox\" aria-hidden=\"true\"></div>\n        <slot name=\"input\"></slot>\n        <div part=\"label\">\n          <slot name=\"label\"></slot>\n          <div part=\"required-indicator\" on-click=\"_onRequiredIndicatorClick\"></div>\n        </div>\n        <div part=\"helper-text\">\n          <slot name=\"helper\"></slot>\n        </div>\n        <div part=\"error-message\">\n          <slot name=\"error-message\"></slot>\n        </div>\n      </div>\n      <slot name=\"tooltip\"></slot>\n    `;\n  }\n\n  /** @protected */\n  ready() {\n    super.ready();\n\n    this._tooltipController = new TooltipController(this);\n    this._tooltipController.setAriaTarget(this.inputElement);\n    this.addController(this._tooltipController);\n  }\n}\n\ndefineCustomElement(Checkbox);\n","/**\n * @license\n * Copyright (c) 2017 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nexport const checkboxStyles = css`\n  :host {\n    display: inline-block;\n  }\n\n  :host([hidden]) {\n    display: none !important;\n  }\n\n  :host([disabled]) {\n    -webkit-tap-highlight-color: transparent;\n  }\n\n  .vaadin-checkbox-container {\n    display: grid;\n    grid-template-columns: auto 1fr;\n    align-items: baseline;\n  }\n\n  [part='checkbox'],\n  ::slotted(input),\n  [part='label'] {\n    grid-row: 1;\n  }\n\n  [part='checkbox'],\n  ::slotted(input) {\n    grid-column: 1;\n  }\n\n  [part='helper-text'],\n  [part='error-message'] {\n    grid-column: 2;\n  }\n\n  :host(:not([has-helper])) [part='helper-text'],\n  :host(:not([has-error-message])) [part='error-message'] {\n    display: none;\n  }\n\n  [part='checkbox'] {\n    width: var(--vaadin-checkbox-size, 1em);\n    height: var(--vaadin-checkbox-size, 1em);\n    --_input-border-width: var(--vaadin-input-field-border-width, 0);\n    --_input-border-color: var(--vaadin-input-field-border-color, transparent);\n    box-shadow: inset 0 0 0 var(--_input-border-width, 0) var(--_input-border-color);\n  }\n\n  [part='checkbox']::before {\n    display: block;\n    content: '\\\\202F';\n    line-height: var(--vaadin-checkbox-size, 1em);\n    contain: paint;\n  }\n\n  /* visually hidden */\n  ::slotted(input) {\n    cursor: inherit;\n    margin: 0;\n    align-self: stretch;\n    -webkit-appearance: none;\n    width: initial;\n    height: initial;\n  }\n\n  @media (forced-colors: active) {\n    [part='checkbox'] {\n      outline: 1px solid;\n      outline-offset: -1px;\n    }\n\n    :host([disabled]) [part='checkbox'],\n    :host([disabled]) [part='checkbox']::after {\n      outline-color: GrayText;\n    }\n\n    :host(:is([checked], [indeterminate])) [part='checkbox']::after {\n      outline: 1px solid;\n      outline-offset: -1px;\n      border-radius: inherit;\n    }\n\n    :host([focused]) [part='checkbox'],\n    :host([focused]) [part='checkbox']::after {\n      outline-width: 2px;\n    }\n  }\n`;\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { addListener } from '@vaadin/component-base/src/gestures.js';\n\n/**\n * A mixin that provides basic functionality for the\n * `<vaadin-grid-selection-column>`. This includes properties, cell rendering,\n * and overridable methods for handling changes to the selection state.\n *\n * **NOTE**: This mixin is re-used by the Flow component, and as such must not\n * implement any selection state updates for the column element or the grid.\n * Web component-specific selection state updates must be implemented in the\n * `<vaadin-grid-selection-column>` itself, by overriding the protected methods\n * provided by this mixin.\n *\n * @polymerMixin\n */\nexport const GridSelectionColumnBaseMixin = (superClass) =>\n  class GridSelectionColumnBaseMixin extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Width of the cells for this column.\n         */\n        width: {\n          type: String,\n          value: '58px',\n          sync: true,\n        },\n\n        /**\n         * Override `autoWidth` to enable auto-width\n         */\n        autoWidth: {\n          type: Boolean,\n          value: true,\n        },\n\n        /**\n         * Flex grow ratio for the cell widths. When set to 0, cell width is fixed.\n         * @attr {number} flex-grow\n         * @type {number}\n         */\n        flexGrow: {\n          type: Number,\n          value: 0,\n          sync: true,\n        },\n\n        /**\n         * When true, all the items are selected.\n         * @attr {boolean} select-all\n         * @type {boolean}\n         */\n        selectAll: {\n          type: Boolean,\n          value: false,\n          notify: true,\n          sync: true,\n        },\n\n        /**\n         * When true, the active gets automatically selected.\n         * @attr {boolean} auto-select\n         * @type {boolean}\n         */\n        autoSelect: {\n          type: Boolean,\n          value: false,\n          sync: true,\n        },\n\n        /**\n         * When true, rows can be selected by dragging over the selection column.\n         * @attr {boolean} drag-select\n         * @type {boolean}\n         */\n        dragSelect: {\n          type: Boolean,\n          value: false,\n          sync: true,\n        },\n\n        /** @protected */\n        _indeterminate: {\n          type: Boolean,\n          sync: true,\n        },\n\n        /** @protected */\n        _selectAllHidden: Boolean,\n      };\n    }\n\n    static get observers() {\n      return [\n        '_onHeaderRendererOrBindingChanged(_headerRenderer, _headerCell, path, header, selectAll, _indeterminate, _selectAllHidden)',\n      ];\n    }\n\n    constructor() {\n      super();\n      this.__onCellTrack = this.__onCellTrack.bind(this);\n      this.__onCellClick = this.__onCellClick.bind(this);\n      this.__onCellMouseDown = this.__onCellMouseDown.bind(this);\n      this.__onActiveItemChanged = this.__onActiveItemChanged.bind(this);\n      this.__onSelectRowCheckboxChange = this.__onSelectRowCheckboxChange.bind(this);\n      this.__onSelectAllCheckboxChange = this.__onSelectAllCheckboxChange.bind(this);\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n      if (this._grid) {\n        this._grid.addEventListener('active-item-changed', this.__onActiveItemChanged);\n      }\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n      if (this._grid) {\n        this._grid.removeEventListener('active-item-changed', this.__onActiveItemChanged);\n      }\n    }\n\n    /**\n     * Renders the Select All checkbox to the header cell.\n     *\n     * @override\n     */\n    _defaultHeaderRenderer(root, _column) {\n      let checkbox = root.firstElementChild;\n      if (!checkbox) {\n        checkbox = document.createElement('vaadin-checkbox');\n        checkbox.setAttribute('aria-label', 'Select All');\n        checkbox.classList.add('vaadin-grid-select-all-checkbox');\n        checkbox.addEventListener('change', this.__onSelectAllCheckboxChange);\n        root.appendChild(checkbox);\n      }\n\n      const checked = this.__isChecked(this.selectAll, this._indeterminate);\n      checkbox.checked = checked;\n      checkbox.hidden = this._selectAllHidden;\n      checkbox.indeterminate = this._indeterminate;\n    }\n\n    /**\n     * Renders the Select Row checkbox to the body cell.\n     *\n     * @override\n     */\n    _defaultRenderer(root, _column, { item, selected }) {\n      let checkbox = root.firstElementChild;\n      if (!checkbox) {\n        checkbox = document.createElement('vaadin-checkbox');\n        checkbox.setAttribute('aria-label', 'Select Row');\n        checkbox.addEventListener('change', this.__onSelectRowCheckboxChange);\n        root.appendChild(checkbox);\n        addListener(root, 'track', this.__onCellTrack);\n        root.addEventListener('mousedown', this.__onCellMouseDown);\n        root.addEventListener('click', this.__onCellClick);\n      }\n\n      checkbox.__item = item;\n      checkbox.checked = selected;\n\n      const isSelectable = this._grid.__isItemSelectable(item);\n      checkbox.readonly = !isSelectable;\n      checkbox.hidden = !isSelectable && !selected;\n    }\n\n    /**\n     * Updates the select all state when the Select All checkbox is switched.\n     * The listener handles only user-fired events.\n     *\n     * @private\n     */\n    __onSelectAllCheckboxChange(e) {\n      if (this._indeterminate || e.currentTarget.checked) {\n        this._selectAll();\n      } else {\n        this._deselectAll();\n      }\n    }\n\n    /**\n     * Selects or deselects the row when the Select Row checkbox is switched.\n     * The listener handles only user-fired events.\n     *\n     * @private\n     */\n    __onSelectRowCheckboxChange(e) {\n      this.__toggleItem(e.currentTarget.__item, e.currentTarget.checked);\n    }\n\n    /** @private */\n    __onCellTrack(event) {\n      if (!this.dragSelect) {\n        return;\n      }\n      this.__dragCurrentY = event.detail.y;\n      this.__dragDy = event.detail.dy;\n      if (event.detail.state === 'start') {\n        const renderedRows = this._grid._getRenderedRows();\n        // Get the row where the drag started\n        const dragStartRow = renderedRows.find((row) => row.contains(event.currentTarget.assignedSlot));\n        // Whether to select or deselect the items on drag\n        this.__selectOnDrag = !this._grid._isSelected(dragStartRow._item);\n        // Store the index of the row where the drag started\n        this.__dragStartIndex = dragStartRow.index;\n        // Store the item of the row where the drag started\n        this.__dragStartItem = dragStartRow._item;\n        // Start the auto scroller\n        this.__dragAutoScroller();\n      } else if (event.detail.state === 'end') {\n        // if drag start and end stays within the same item, then toggle its state\n        if (this.__dragStartItem) {\n          this.__toggleItem(this.__dragStartItem, this.__selectOnDrag);\n        }\n        // clear drag state after timeout, which allows preventing the\n        // subsequent click event if drag started and ended on the same item\n        setTimeout(() => {\n          this.__dragStartIndex = undefined;\n        });\n      }\n    }\n\n    /** @private */\n    __onCellMouseDown(e) {\n      if (this.dragSelect) {\n        // Prevent text selection when starting to drag\n        e.preventDefault();\n      }\n    }\n\n    /** @private */\n    __onCellClick(e) {\n      if (this.__dragStartIndex !== undefined) {\n        // Stop the click event if drag was enabled. This click event should\n        // only occur if drag started and stopped on the same item. In that case\n        // the selection state has already been toggled on drag end, and we\n        // don't  want to toggle it again from clicking the checkbox or changing\n        // the active item.\n        e.preventDefault();\n      }\n    }\n\n    /** @private */\n    _onCellKeyDown(e) {\n      const target = e.composedPath()[0];\n      // Toggle on Space without having to enter interaction mode first\n      if (e.keyCode !== 32) {\n        return;\n      }\n      if (target === this._headerCell) {\n        if (this.selectAll) {\n          this._deselectAll();\n        } else {\n          this._selectAll();\n        }\n      } else if (this._cells.includes(target) && !this.autoSelect) {\n        const checkbox = target._content.firstElementChild;\n        this.__toggleItem(checkbox.__item);\n      }\n    }\n\n    /** @private */\n    __onActiveItemChanged(e) {\n      const activeItem = e.detail.value;\n      if (this.autoSelect) {\n        const item = activeItem || this.__previousActiveItem;\n        if (item) {\n          this.__toggleItem(item);\n        }\n      }\n      this.__previousActiveItem = activeItem;\n    }\n\n    /** @private */\n    __dragAutoScroller() {\n      if (this.__dragStartIndex === undefined) {\n        return;\n      }\n\n      // Get the row being hovered over\n      const renderedRows = this._grid._getRenderedRows();\n      const hoveredRow = renderedRows.find((row) => {\n        const rowRect = row.getBoundingClientRect();\n        return this.__dragCurrentY >= rowRect.top && this.__dragCurrentY <= rowRect.bottom;\n      });\n\n      // Get the index of the row being hovered over or the first/last\n      // visible row if hovering outside the grid\n      let hoveredIndex = hoveredRow ? hoveredRow.index : undefined;\n      const scrollableArea = this.__getScrollableArea();\n      if (this.__dragCurrentY < scrollableArea.top) {\n        hoveredIndex = this._grid._firstVisibleIndex;\n      } else if (this.__dragCurrentY > scrollableArea.bottom) {\n        hoveredIndex = this._grid._lastVisibleIndex;\n      }\n\n      if (hoveredIndex !== undefined) {\n        // Select all items between the start and the current row\n        renderedRows.forEach((row) => {\n          if (\n            (hoveredIndex > this.__dragStartIndex && row.index >= this.__dragStartIndex && row.index <= hoveredIndex) ||\n            (hoveredIndex < this.__dragStartIndex && row.index <= this.__dragStartIndex && row.index >= hoveredIndex)\n          ) {\n            this.__toggleItem(row._item, this.__selectOnDrag);\n            this.__dragStartItem = undefined;\n          }\n        });\n      }\n\n      // Start scrolling in the top/bottom 15% of the scrollable area\n      const scrollTriggerArea = scrollableArea.height * 0.15;\n      // Maximum number of pixels to scroll per iteration\n      const maxScrollAmount = 10;\n\n      if (this.__dragDy < 0 && this.__dragCurrentY < scrollableArea.top + scrollTriggerArea) {\n        const dy = scrollableArea.top + scrollTriggerArea - this.__dragCurrentY;\n        const percentage = Math.min(1, dy / scrollTriggerArea);\n        this._grid.$.table.scrollTop -= percentage * maxScrollAmount;\n      }\n      if (this.__dragDy > 0 && this.__dragCurrentY > scrollableArea.bottom - scrollTriggerArea) {\n        const dy = this.__dragCurrentY - (scrollableArea.bottom - scrollTriggerArea);\n        const percentage = Math.min(1, dy / scrollTriggerArea);\n        this._grid.$.table.scrollTop += percentage * maxScrollAmount;\n      }\n\n      // Schedule the next auto scroll\n      setTimeout(() => this.__dragAutoScroller(), 10);\n    }\n\n    /**\n     * Gets the scrollable area of the grid as a bounding client rect. The\n     * scrollable area is the bounding rect of the grid minus the header and\n     * footer.\n     *\n     * @private\n     */\n    __getScrollableArea() {\n      const gridRect = this._grid.$.table.getBoundingClientRect();\n      const headerRect = this._grid.$.header.getBoundingClientRect();\n      const footerRect = this._grid.$.footer.getBoundingClientRect();\n\n      return {\n        top: gridRect.top + headerRect.height,\n        bottom: gridRect.bottom - footerRect.height,\n        left: gridRect.left,\n        right: gridRect.right,\n        height: gridRect.height - headerRect.height - footerRect.height,\n        width: gridRect.width,\n      };\n    }\n\n    /**\n     * Override to handle the user selecting all items.\n     * @protected\n     */\n    _selectAll() {}\n\n    /**\n     * Override to handle the user deselecting all items.\n     * @protected\n     */\n    _deselectAll() {}\n\n    /**\n     * Override to handle the user selecting an item.\n     * @param {Object} item the item to select\n     * @protected\n     */\n    _selectItem(_item) {}\n\n    /**\n     * Override to handle the user deselecting an item.\n     * @param {Object} item the item to deselect\n     * @protected\n     */\n    _deselectItem(_item) {}\n\n    /**\n     * Toggles the selected state of the given item.\n     *\n     * @param item the item to toggle\n     * @param {boolean} [selected] whether to select or deselect the item\n     * @private\n     */\n    __toggleItem(item, selected = !this._grid._isSelected(item)) {\n      if (selected === this._grid._isSelected(item)) {\n        // Skip selection if the item is already in the desired state.\n        // Note, _selectItem and _deselectItem may be overridden in custom\n        // selection column implementations, and calling them unnecessarily\n        // might affect performance (e.g. vaadin-grid-flow-selection-column).\n        return;\n      }\n\n      if (selected) {\n        this._selectItem(item);\n      } else {\n        this._deselectItem(item);\n      }\n    }\n\n    /**\n     * IOS needs indeterminate + checked at the same time\n     * @private\n     */\n    __isChecked(selectAll, indeterminate) {\n      return indeterminate || selectAll;\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { GridSelectionColumnBaseMixin } from './vaadin-grid-selection-column-base-mixin.js';\n\n/**\n * @polymerMixin\n * @mixes GridSelectionColumnBaseMixin\n */\nexport const GridSelectionColumnMixin = (superClass) =>\n  class extends GridSelectionColumnBaseMixin(superClass) {\n    static get properties() {\n      return {\n        /**\n         * The previous state of activeItem. When activeItem turns to `null`,\n         * previousActiveItem will have an Object with just unselected activeItem\n         * @private\n         */\n        __previousActiveItem: Object,\n      };\n    }\n\n    static get observers() {\n      return ['__onSelectAllChanged(selectAll)'];\n    }\n\n    constructor() {\n      super();\n\n      this.__boundUpdateSelectAllVisibility = this.__updateSelectAllVisibility.bind(this);\n      this.__boundOnSelectedItemsChanged = this.__onSelectedItemsChanged.bind(this);\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      this._grid.removeEventListener('data-provider-changed', this.__boundUpdateSelectAllVisibility);\n      this._grid.removeEventListener('is-item-selectable-changed', this.__boundUpdateSelectAllVisibility);\n      this._grid.removeEventListener('filter-changed', this.__boundOnSelectedItemsChanged);\n      this._grid.removeEventListener('selected-items-changed', this.__boundOnSelectedItemsChanged);\n\n      super.disconnectedCallback();\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n      if (this._grid) {\n        this._grid.addEventListener('data-provider-changed', this.__boundUpdateSelectAllVisibility);\n        this._grid.addEventListener('is-item-selectable-changed', this.__boundUpdateSelectAllVisibility);\n        this._grid.addEventListener('filter-changed', this.__boundOnSelectedItemsChanged);\n        this._grid.addEventListener('selected-items-changed', this.__boundOnSelectedItemsChanged);\n        this.__updateSelectAllVisibility();\n      }\n    }\n\n    /** @private */\n    __onSelectAllChanged(selectAll) {\n      if (selectAll === undefined || !this._grid) {\n        return;\n      }\n\n      if (!this.__selectAllInitialized) {\n        // The initial value for selectAll property was applied, avoid clearing pre-selected items\n        this.__selectAllInitialized = true;\n        return;\n      }\n\n      if (this._selectAllChangeLock) {\n        return;\n      }\n\n      if (selectAll && this.__hasArrayDataProvider()) {\n        this.__withFilteredItemsArray((items) => {\n          this._grid.selectedItems = items;\n        });\n      } else {\n        this._grid.selectedItems = [];\n      }\n    }\n\n    /**\n     * Override a method from `GridSelectionColumnBaseMixin` to handle the user\n     * selecting all items.\n     *\n     * @protected\n     * @override\n     */\n    _selectAll() {\n      this.selectAll = true;\n    }\n\n    /**\n     * Override a method from `GridSelectionColumnBaseMixin` to handle the user\n     * deselecting all items.\n     *\n     * @protected\n     * @override\n     */\n    _deselectAll() {\n      this.selectAll = false;\n    }\n\n    /**\n     * Override a method from `GridSelectionColumnBaseMixin` to handle the user\n     * selecting an item.\n     *\n     * @param {Object} item the item to select\n     * @protected\n     * @override\n     */\n    _selectItem(item) {\n      if (this._grid.__isItemSelectable(item)) {\n        this._grid.selectItem(item);\n      }\n    }\n\n    /**\n     * Override a method from `GridSelectionColumnBaseMixin` to handle the user\n     * deselecting an item.\n     *\n     * @param {Object} item the item to deselect\n     * @protected\n     * @override\n     */\n    _deselectItem(item) {\n      if (this._grid.__isItemSelectable(item)) {\n        this._grid.deselectItem(item);\n      }\n    }\n\n    /** @private */\n    __hasArrayDataProvider() {\n      return Array.isArray(this._grid.items) && !!this._grid.dataProvider;\n    }\n\n    /** @private */\n    __onSelectedItemsChanged() {\n      this._selectAllChangeLock = true;\n      if (this.__hasArrayDataProvider()) {\n        this.__withFilteredItemsArray((items) => {\n          if (!this._grid.selectedItems.length) {\n            this.selectAll = false;\n            this._indeterminate = false;\n          } else if (items.every((item) => this._grid._isSelected(item))) {\n            this.selectAll = true;\n            this._indeterminate = false;\n          } else {\n            this.selectAll = false;\n            this._indeterminate = true;\n          }\n        });\n      }\n      this._selectAllChangeLock = false;\n    }\n\n    /** @private */\n    __updateSelectAllVisibility() {\n      // Hide select all checkbox when we can not easily determine the select all checkbox state:\n      // - When using a custom data provider\n      // - When using conditional selection, where users may not select all items\n      this._selectAllHidden = !Array.isArray(this._grid.items) || !!this._grid.isItemSelectable;\n    }\n\n    /**\n     * Assuming the grid uses an items array data provider, fetches all the filtered items\n     * from the data provider and invokes the callback with the resulting array.\n     *\n     * @private\n     */\n    __withFilteredItemsArray(callback) {\n      const params = {\n        page: 0,\n        pageSize: Infinity,\n        sortOrders: [],\n        filters: this._grid._mapFilters(),\n      };\n      this._grid.dataProvider(params, (items) => callback(items));\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport '@vaadin/checkbox/src/vaadin-checkbox.js';\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\nimport { GridColumn } from './vaadin-grid-column.js';\nimport { GridSelectionColumnMixin } from './vaadin-grid-selection-column-mixin.js';\n\n/**\n * `<vaadin-grid-selection-column>` is a helper element for the `<vaadin-grid>`\n * that provides default renderers and functionality for item selection.\n *\n * #### Example:\n * ```html\n * <vaadin-grid items=\"[[items]]\">\n *  <vaadin-grid-selection-column frozen auto-select></vaadin-grid-selection-column>\n *\n *  <vaadin-grid-column>\n *    ...\n * ```\n *\n * By default the selection column displays `<vaadin-checkbox>` elements in the\n * column cells. The checkboxes in the body rows toggle selection of the corresponding row items.\n *\n * When the grid data is provided as an array of [`items`](#/elements/vaadin-grid#property-items),\n * the column header gets an additional checkbox that can be used for toggling\n * selection for all the items at once.\n *\n * __The default content can also be overridden__\n *\n * @customElement\n * @fires {CustomEvent} select-all-changed - Fired when the `selectAll` property changes.\n * @extends GridColumn\n * @mixes GridSelectionColumnMixin\n */\nclass GridSelectionColumn extends GridSelectionColumnMixin(GridColumn) {\n  static get is() {\n    return 'vaadin-grid-selection-column';\n  }\n}\n\ndefineCustomElement(GridSelectionColumn);\n\nexport { GridSelectionColumn };\n","import '@vaadin/vaadin-lumo-styles/color.js';\nimport '@vaadin/vaadin-lumo-styles/style.js';\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nregisterStyles(\n  'vaadin-grid-sorter',\n  css`\n    :host {\n      justify-content: flex-start;\n      align-items: baseline;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      user-select: none;\n      cursor: var(--lumo-clickable-cursor);\n    }\n\n    [part='content'] {\n      display: inline-block;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    [part='indicators'] {\n      margin-left: var(--lumo-space-s);\n    }\n\n    [part='indicators']::before {\n      transform: scale(0.8);\n    }\n\n    :host(:not([direction]):not(:hover)) [part='indicators'] {\n      color: var(--lumo-tertiary-text-color);\n    }\n\n    :host([direction]) {\n      color: var(--vaadin-selection-color-text, var(--lumo-primary-text-color));\n    }\n\n    [part='order'] {\n      font-size: var(--lumo-font-size-xxs);\n      line-height: 1;\n    }\n\n    /* RTL specific styles */\n\n    :host([dir='rtl']) [part='indicators'] {\n      margin-right: var(--lumo-space-s);\n      margin-left: 0;\n    }\n  `,\n  { moduleId: 'lumo-grid-sorter' },\n);\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\n\nconst template = document.createElement('template');\n\ntemplate.innerHTML = `\n  <style>\n    @font-face {\n      font-family: 'vaadin-grid-sorter-icons';\n      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAA0AAAAABuwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEFAAAABkAAAAcfep+mUdERUYAAAP4AAAAHAAAAB4AJwAOT1MvMgAAAZgAAAA/AAAAYA8TBPpjbWFwAAAB7AAAAFUAAAFeF1fZ4mdhc3AAAAPwAAAACAAAAAgAAAAQZ2x5ZgAAAlgAAABcAAAAnMvguMloZWFkAAABMAAAAC8AAAA2C5Ap72hoZWEAAAFgAAAAHQAAACQGbQPHaG10eAAAAdgAAAAUAAAAHAoAAABsb2NhAAACRAAAABIAAAASAIwAYG1heHAAAAGAAAAAFgAAACAACwAKbmFtZQAAArQAAAECAAACZxWCgKhwb3N0AAADuAAAADUAAABZCrApUXicY2BkYGAA4rDECVrx/DZfGbhZGEDgyqNPOxH0/wNMq5kPALkcDEwgUQBWRA0dAHicY2BkYGA+8P8AAwMLAwgwrWZgZEAFbABY4QM8AAAAeJxjYGRgYOAAQiYGEICQSAAAAi8AFgAAeJxjYGY6yziBgZWBgWkm0xkGBoZ+CM34msGYkZMBFTAKoAkwODAwvmRiPvD/AIMDMxCD1CDJKjAwAgBktQsXAHicY2GAAMZQCM0EwqshbAALxAEKeJxjYGBgZoBgGQZGBhCIAPIYwXwWBhsgzcXAwcAEhIwMCi+Z/v/9/x+sSuElA4T9/4k4K1gHFwMMMILMY2QDYmaoABOQYGJABUA7WBiGNwAAJd4NIQAAAAAAAAAACAAIABAAGAAmAEAATgAAeJyNjLENgDAMBP9tIURJwQCMQccSZgk2i5fIYBDAidJjycXr7x5EPwE2wY8si7jmyBNXGo/bNBerxJNrpxhbO3/fEFpx8ZICpV+ghxJ74fAMe+h7Ox14AbrsHB14nK2QQWrDMBRER4mTkhQK3ZRQKOgCNk7oGQqhhEIX2WSlWEI1BAlkJ5CDdNsj5Ey9Rncdi38ES+jzNJo/HwTgATcoDEthhY3wBHc4CE+pfwsX5F/hGe7Vo/AcK/UhvMSz+mGXKhZU6pww8ISz3oWn1BvhgnwTnuEJf8Jz1OpFeIlX9YULDLdFi4ASHolkSR0iuYdjLak1vAequBhj21D61Nqyi6l3qWybGPjySbPHGScGJl6dP58MYcQRI0bts7mjebBqrFENH7t3qWtj0OuqHnXcW7b0HOTZFnKryRGW2hFX1m0O2vEM3opNMfTau+CS6Z3Vx6veNnEXY6jwDxhsc2gAAHicY2BiwA84GBgYmRiYGJkZmBlZGFkZ2djScyoLMgzZS/MyDQwMwLSrpYEBlIbxjQDrzgsuAAAAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQnYgZgHzGAAD6wA2eJxjYGBgZACCKyoz1cD0o087YTQATOcIewAAAA==) format('woff');\n      font-weight: normal;\n      font-style: normal;\n    }\n  </style>\n`;\n\ndocument.head.appendChild(template.content);\n\nregisterStyles(\n  'vaadin-grid-sorter',\n  css`\n    :host {\n      display: inline-flex;\n      cursor: pointer;\n      max-width: 100%;\n    }\n\n    [part='content'] {\n      flex: 1 1 auto;\n    }\n\n    [part='indicators'] {\n      position: relative;\n      align-self: center;\n      flex: none;\n    }\n\n    [part='order'] {\n      display: inline;\n      vertical-align: super;\n    }\n\n    [part='indicators']::before {\n      font-family: 'vaadin-grid-sorter-icons';\n      display: inline-block;\n    }\n\n    :host(:not([direction])) [part='indicators']::before {\n      content: '\\\\e901';\n    }\n\n    :host([direction='asc']) [part='indicators']::before {\n      content: '\\\\e900';\n    }\n\n    :host([direction='desc']) [part='indicators']::before {\n      content: '\\\\e902';\n    }\n  `,\n  { moduleId: 'vaadin-grid-sorter-styles' },\n);\n\n/**\n * A mixin providing common sorter functionality.\n *\n * @polymerMixin\n */\nexport const GridSorterMixin = (superClass) =>\n  class GridSorterMixinClass extends superClass {\n    static get properties() {\n      return {\n        /**\n         * JS Path of the property in the item used for sorting the data.\n         */\n        path: String,\n\n        /**\n         * How to sort the data.\n         * Possible values are `asc` to use an ascending algorithm, `desc` to sort the data in\n         * descending direction, or `null` for not sorting the data.\n         * @type {GridSorterDirection | undefined}\n         */\n        direction: {\n          type: String,\n          reflectToAttribute: true,\n          notify: true,\n          value: null,\n          sync: true,\n        },\n\n        /**\n         * @type {number | null}\n         * @protected\n         */\n        _order: {\n          type: Number,\n          value: null,\n          sync: true,\n        },\n      };\n    }\n\n    static get observers() {\n      return ['_pathOrDirectionChanged(path, direction)'];\n    }\n\n    /** @protected */\n    ready() {\n      super.ready();\n      this.addEventListener('click', this._onClick.bind(this));\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n      if (this._grid) {\n        this._grid.__applySorters();\n      } else {\n        this.__dispatchSorterChangedEvenIfPossible();\n      }\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n\n      if (!this.parentNode && this._grid) {\n        this._grid.__removeSorters([this]);\n      } else if (this._grid) {\n        this._grid.__applySorters();\n      }\n    }\n\n    /** @private */\n    _pathOrDirectionChanged() {\n      this.__dispatchSorterChangedEvenIfPossible();\n    }\n\n    /** @private */\n    __dispatchSorterChangedEvenIfPossible() {\n      if (this.path === undefined || this.direction === undefined || !this.isConnected) {\n        return;\n      }\n\n      this.dispatchEvent(\n        new CustomEvent('sorter-changed', {\n          detail: { shiftClick: Boolean(this._shiftClick), fromSorterClick: Boolean(this._fromSorterClick) },\n          bubbles: true,\n          composed: true,\n        }),\n      );\n      // Cleaning up as a programatically sorting can be done after some user interaction\n      this._fromSorterClick = false;\n      this._shiftClick = false;\n    }\n\n    /** @private */\n    _getDisplayOrder(order) {\n      return order === null ? '' : order + 1;\n    }\n\n    /** @private */\n    _onClick(e) {\n      if (e.defaultPrevented) {\n        // Something else has already handled the click event, do nothing.\n        return;\n      }\n\n      const activeElement = this.getRootNode().activeElement;\n      if (this !== activeElement && this.contains(activeElement)) {\n        // Some focusable content inside the sorter was clicked, do nothing.\n        return;\n      }\n\n      e.preventDefault();\n      this._shiftClick = e.shiftKey;\n      this._fromSorterClick = true;\n      if (this.direction === 'asc') {\n        this.direction = 'desc';\n      } else if (this.direction === 'desc') {\n        this.direction = null;\n      } else {\n        this.direction = 'asc';\n      }\n    }\n  };\n","/**\n * @license\n * Copyright (c) 2016 - 2024 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\nimport { DirMixin } from '@vaadin/component-base/src/dir-mixin.js';\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\nimport { GridSorterMixin } from './vaadin-grid-sorter-mixin.js';\n\n/**\n * `<vaadin-grid-sorter>` is a helper element for the `<vaadin-grid>` that provides out-of-the-box UI controls,\n * visual feedback, and handlers for sorting the grid data.\n *\n * #### Example:\n * ```html\n * <vaadin-grid-column id=\"column\"></vaadin-grid-column>\n * ```\n * ```js\n * const column = document.querySelector('#column');\n * column.renderer = (root, column, model) => {\n *   let sorter = root.firstElementChild;\n *   if (!sorter) {\n *     sorter = document.createElement('vaadin-grid-sorter');\n *     root.appendChild(sorter);\n *   }\n *   sorter.path = 'name.first';\n * };\n * ```\n *\n * ### Styling\n *\n * The following shadow DOM parts are available for styling:\n *\n * Part name | Description\n * ----------------|----------------\n * `content` | The slotted content wrapper\n * `indicators` | The internal sorter indicators.\n * `order` | The internal sorter order\n *\n * The following state attributes are available for styling:\n *\n * Attribute    | Description | Part name\n * -------------|-------------|------------\n * `direction` | Sort direction of a sorter | :host\n *\n * @fires {CustomEvent} direction-changed - Fired when the `direction` property changes.\n * @fires {CustomEvent} sorter-changed - Fired when the `path` or `direction` property changes.\n *\n * @customElement\n * @extends HTMLElement\n * @mixes GridSorterMixin\n * @mixes ThemableMixin\n * @mixes DirMixin\n */\nclass GridSorter extends GridSorterMixin(ThemableMixin(DirMixin(PolymerElement))) {\n  static get template() {\n    return html`\n      <div part=\"content\">\n        <slot></slot>\n      </div>\n      <div part=\"indicators\">\n        <span part=\"order\">[[_getDisplayOrder(_order)]]</span>\n      </div>\n    `;\n  }\n\n  static get is() {\n    return 'vaadin-grid-sorter';\n  }\n}\n\ndefineCustomElement(GridSorter);\n\nexport { GridSorter };\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Collection.js\";import{referenceSetter as o}from\"../../../core/collectionUtils.js\";import i from\"../../../core/Evented.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as n}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isGroupColumn as s,isFieldColumn as r,isRelationshipColumn as u}from\"../support/columnUtils.js\";import{uniqueColumnNames as d,isPageIndexValid as h}from\"../support/tableUtils.js\";let a=class extends i.EventedAccessor{constructor(t){super(t),this.cellPartNameGenerator=(t,e)=>{let o=\"\";e?.item&&this.rowHighlightIds.includes(e.item.objectId)&&(o+=\" highlight\");const i=this.findColumn(t?.path);return i?(i.invalid&&(o+=\" invalid\"),i.textWrap&&(o+=\" text-wrap\"),\"editInfo\"in i&&i.editInfo&&i.editInfo.rowData?.index===e.index&&(o+=\" editing\"),o):o},this.columnPerformanceModeEnabled=!0,this.columnReorderingEnabled=!0,this.columns=new e,this.dataProvider=async(t,e)=>{const{store:o}=this;if(!e)return;if(!o)return void(e&&e([]));e(await o.fetchItems(t))},this.maxSize=null,this.multipleSelectionEnabled=!0,this.multiSortEnabled=!1,this.paginationEnabled=!1,this.rowDetailsRenderer=null,this.store=null}get actionColumn(){return this.allColumns.find((t=>t.fieldName===d.action))}get allColumns(){return this.columns.toArray().flatMap((t=>[t,...s(t)&&t.columns?.length?t.columns:[]]))}get allVisibleColumns(){return this.allColumns.filter((t=>!t.hidden))}get columnMenuIsOpen(){return this.allColumns.some((t=>t.menuIsOpen))}get editing(){return this.editableColumns.some((t=>t.editInfo))}get editableColumns(){return this.allColumns.filter((t=>\"editable\"in t))}get effectiveSize(){const{filterBySelectionEnabled:t,highlightIds:e,objectIds:o,pageSize:i,size:l}=this;if(this.paginationEnabled){const n=this.pageCount===this.pageIndex+1?l%i:i;return t?Math.min(e.length,n):o.length?Math.min(o.length,n):n}return t?e.length:o.length?o.length:l}get fieldColumns(){return this.allColumns.filter((t=>r(t)))}get filterBySelectionEnabled(){return!!this._get(\"filterBySelectionEnabled\")}set filterBySelectionEnabled(t){this._set(\"filterBySelectionEnabled\",t)}get groupColumns(){return this.columns.toArray().filter((t=>s(t)))}get hasInvalidColumnConfiguration(){return this.visibleColumns.every((t=>t.frozen||t.frozenToEnd))}get highlightIds(){return this._get(\"highlightIds\")||new e}set highlightIds(t){const i=Array.isArray(t)?new e(t):t;this.multipleSelectionEnabled||i.splice(1,i.length-1),this._set(\"highlightIds\",o(i,this._get(\"highlightIds\"),e))}get objectIds(){return this._get(\"objectIds\")??new e}set objectIds(t){this._set(\"objectIds\",o(t,this._get(\"objectIds\"),e))}get pageCount(){const{pageSize:t,size:e}=this;return 0===e||0===t?1:Math.ceil(e/t)}get pageIndex(){return this._get(\"pageIndex\")||0}set pageIndex(t){const{pageCount:e}=this;h(t,e)&&this._set(\"pageIndex\",t)}get pageSize(){return this._get(\"pageSize\")??50}set pageSize(t){this.store?.set(\"pageSize\",t),this._set(\"pageSize\",t)}get relationshipColumns(){return this.allColumns.filter((t=>u(t)))}get rowHighlightIds(){return this._get(\"rowHighlightIds\")||new e}set rowHighlightIds(t){this._set(\"rowHighlightIds\",o(t,this._get(\"rowHighlightIds\"),e))}get size(){const t=this.store?.count??0,{maxSize:e}=this;return null!=t&&null!=e?Math.min(e,t):t}get state(){return this.store?.state??\"disabled\"}get visibleColumns(){return this.columns.toArray().filter((t=>!t.hidden))}closeColumnMenus(){this.allColumns.forEach((t=>t.closeMenu()))}sortColumn(t,e){if(!t)return;const o=this.findColumn(t);o&&(o.direction=e)}hideColumn(t){const e=this.findColumn(t);!1===e?.hidden&&(e.hidden=!0)}showColumn(t){const e=this.findColumn(t);e?.hidden&&(e.hidden=!1)}showAllColumns(){this.allColumns.forEach((t=>{t.hidden&&(t.hidden=!1)}))}findColumn(t){return this.allColumns.find((e=>e.fieldName===t))}refresh(){this.store&&(this.store.reset(),this.store.load())}toggleColumnVisibility(t){const e=this.findColumn(t);e&&(e.hidden=!e.hidden)}};t([l()],a.prototype,\"actionColumn\",null),t([l()],a.prototype,\"allColumns\",null),t([l()],a.prototype,\"allVisibleColumns\",null),t([l()],a.prototype,\"cellPartNameGenerator\",void 0),t([l()],a.prototype,\"columnMenuIsOpen\",null),t([l()],a.prototype,\"columnPerformanceModeEnabled\",void 0),t([l()],a.prototype,\"columnReorderingEnabled\",void 0),t([l()],a.prototype,\"columns\",void 0),t([l()],a.prototype,\"dataProvider\",void 0),t([l()],a.prototype,\"editing\",null),t([l()],a.prototype,\"editableColumns\",null),t([l()],a.prototype,\"effectiveSize\",null),t([l()],a.prototype,\"fieldColumns\",null),t([l()],a.prototype,\"filterBySelectionEnabled\",null),t([l()],a.prototype,\"groupColumns\",null),t([l()],a.prototype,\"hasInvalidColumnConfiguration\",null),t([l()],a.prototype,\"highlightIds\",null),t([l()],a.prototype,\"maxSize\",void 0),t([l()],a.prototype,\"multipleSelectionEnabled\",void 0),t([l()],a.prototype,\"multiSortEnabled\",void 0),t([l()],a.prototype,\"objectIds\",null),t([l()],a.prototype,\"pageCount\",null),t([l()],a.prototype,\"pageIndex\",null),t([l()],a.prototype,\"pageSize\",null),t([l()],a.prototype,\"paginationEnabled\",void 0),t([l()],a.prototype,\"relationshipColumns\",null),t([l()],a.prototype,\"rowHighlightIds\",null),t([l()],a.prototype,\"rowDetailsRenderer\",void 0),t([l({readOnly:!0})],a.prototype,\"size\",null),t([l()],a.prototype,\"store\",void 0),t([l({readOnly:!0})],a.prototype,\"state\",null),t([l()],a.prototype,\"visibleColumns\",null),a=t([n(\"esri.widgets.FeatureTable.Grid.GridViewModel\")],a);const p=a;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"@vaadin/grid/vaadin-grid.js\";import\"@vaadin/grid/vaadin-grid-column-group.js\";import\"@vaadin/grid/vaadin-grid-selection-column.js\";import\"@vaadin/grid/vaadin-grid-sorter.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import{on as i}from\"../../../core/events.js\";import{assertIsSome as r}from\"../../../core/maybe.js\";import{on as n,watch as o}from\"../../../core/reactiveUtils.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import d from\"../../Widget.js\";import a from\"./GridViewModel.js\";import{globalCss as h}from\"../../support/globalCss.js\";import\"../../support/widgetUtils.js\";import{messageBundle as u}from\"../../support/decorators/messageBundle.js\";import{tsx as c}from\"../../support/jsxFactory.js\";const g=\"esri-grid\",m=\"compact column-borders\",p={base:g,content:`${g}__content`,grid:`${g}__grid`},_={sort:[\"Enter\",\" \"]};let f=class extends d{constructor(e,t){super(e,t),this._columnElements=[],this._grid=null,this._temporaryHighlightId=null,this.itemIdPath=null,this.messages=null,this.selectionColumnEnabled=!0,this.viewModel=new a,this._onSelectedItemsChange=this._onSelectedItemsChange.bind(this)}initialize(){this.addHandles([this.columns.on(\"before-changes\",(()=>this.renderNow())),this.columns.on(\"change\",(()=>this.onColumnChange())),n((()=>this.highlightIds),\"before-add\",(({target:e})=>{!this.multipleSelectionEnabled&&e.length&&e.removeAll()})),this.rowHighlightIds.on(\"change\",(()=>this.generateCellPartNames())),o((()=>this.effectiveSize),(()=>this._updateGridSize())),o((()=>this.viewModel.editing),(()=>{this.generateCellPartNames(),this.requestContentUpdate()})),o((()=>this.store?.state),((e,t)=>{\"ready\"!==e||\"loaded\"!==t&&\"error\"!==t||this.refreshPageCache()})),n((()=>this._table),\"scroll\",(()=>this.viewModel.closeColumnMenus())),n((()=>this._table),\"scrollend\",(()=>{this.paginationEnabled||(this.pageIndex=this.getVirtualPageIndex())})),o((()=>this.multipleSelectionEnabled),(e=>{!e&&this.highlightIds.length>1&&this.highlightIds.removeAll()}))])}destroy(){this.resetColumns(),this.columns.destroyed||this.columns.destroy()}resetColumns(){this.columns.drain((e=>!e.destroyed&&e.destroy()))}get _editInfos(){return this.viewModel.editableColumns.map((e=>e.editInfo)).filter(t)}get _columnRendering(){return this.columnPerformanceModeEnabled?\"lazy\":\"eager\"}get _selectedItems(){const{highlightIds:e,store:t}=this;return e.toArray().map((e=>t?.getItemByObjectId(e)??{objectId:e}))}get _table(){return this._grid?.$?.table}get cellPartNameGenerator(){return this.viewModel.cellPartNameGenerator}set cellPartNameGenerator(e){this.viewModel.cellPartNameGenerator=e}get columns(){return this.viewModel.columns}set columns(e){this.viewModel.columns=e}get columnPerformanceModeEnabled(){return this.viewModel.columnPerformanceModeEnabled}set columnPerformanceModeEnabled(e){this.viewModel.columnPerformanceModeEnabled=e}get columnReorderingEnabled(){return this.viewModel.columnReorderingEnabled}set columnReorderingEnabled(e){this.viewModel.columnReorderingEnabled=e}get pageIndex(){return this.viewModel.pageIndex}set pageIndex(e){this.viewModel.pageIndex=e}get dataProvider(){return this.viewModel.dataProvider}set dataProvider(e){this.viewModel.dataProvider=e}get effectiveSize(){return this.viewModel.effectiveSize}get hasInvalidColumnConfiguration(){return this.viewModel.hasInvalidColumnConfiguration}get highlightIds(){return this.viewModel.highlightIds}set highlightIds(e){this.viewModel.highlightIds=e}get temporaryHighlightId(){return this._temporaryHighlightId}get isEditingActive(){return!!this._editInfos.length}get isReady(){return!!this._grid}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get multipleSelectionEnabled(){return this.viewModel.multipleSelectionEnabled}set multipleSelectionEnabled(e){this.viewModel.multipleSelectionEnabled=e}get multiSortEnabled(){return this.viewModel.multiSortEnabled}set multiSortEnabled(e){this.viewModel.multiSortEnabled=e}get pageSize(){return this.viewModel.pageSize}set pageSize(e){this.viewModel.pageSize=e}get paginationEnabled(){return this.viewModel.paginationEnabled}set paginationEnabled(e){this.viewModel.paginationEnabled=e}get rowDetailsRenderer(){return this.viewModel.rowDetailsRenderer}set rowDetailsRenderer(e){this.viewModel.rowDetailsRenderer=e}get rowHighlightIds(){return this.viewModel.rowHighlightIds}set rowHighlightIds(e){this.viewModel.rowHighlightIds=e}get size(){return this.viewModel.size}get sortOrders(){return this._grid?._sorters?this._grid._sorters.filter((e=>!!e&&e.path)).map((({direction:e,path:t})=>({direction:e,path:t}))):[]}get store(){return this.viewModel.store}set store(e){this.viewModel.store=e}addSorter(e){this._grid?.__updateSorter(e,!1,!1),this.notifyChange(\"sortOrders\")}getColumnProps(e,t){const{id:i}=this,{autoWidth:r,direction:n,fieldName:o,flexGrow:l,frozen:s,frozenToEnd:d,hidden:a,label:h,resizable:u,textAlign:c,width:g}=e,m=`${i}_${o}_${t}`,{renderFunction:p,footerRenderFunction:_,headerRenderFunction:f}=e,v=_?(e,t)=>_({root:e,column:t}):void 0,C=f?(e,t)=>f({root:e,column:t}):void 0,y=p?(e,t,i)=>p({root:e,column:t,rowData:i}):void 0;let w=\"\";return e.direction&&(w+=\" direction\"),e.invalid&&(w+=\" invalid\"),{footerRenderer:v,headerRenderer:C,renderer:y,autoWidth:r,direction:n,flexGrow:l,frozen:s,frozenToEnd:d,headerPartName:w,key:m,resizable:u,bind:this,\"data-fieldName\":o,header:h,hidden:this.hasInvalidColumnConfiguration||a,path:o,\"text-align\":c,width:\"number\"==typeof g?`${g}px`:g,afterCreate:this._afterColumnCreate,afterRemoved:this._afterColumnRemoved}}clearSelection(){this._clearSelection(),this.scheduleRender()}clearSort(){let e=!1;if(this._grid){if(this._grid._sorters?.length&&(this._grid._sorters.forEach((e=>{e._order=null,e.direction=null})),e=!0),this.columns.length){this.columns.some((e=>!!e.direction))&&(this.columns.forEach((e=>e.direction=null)),e=!0)}e&&(this.notifyChange(\"sortOrders\"),this.scheduleRender())}}findColumn(e){return this.viewModel.findColumn(e)}generateCellPartNames(){this._grid?.generateCellPartNames()}getFirstVisibleRowIndex(){return this._grid?._firstVisibleIndex||0}getVirtualPageIndex(){return Math.floor(this.getFirstVisibleRowIndex()/this.pageSize)}getLastVisibleRowIndex(){return this._grid?._lastVisibleIndex||0}getVisibleItemsCount(){return this._grid?._visibleItemsCount||0}getRowContainingNode(e){try{return this._grid?._getRowContainingNode(e)}catch{return null}}getSlotElementByName(e){return this._grid?.shadowRoot?.querySelector(`slot[name='${e}']`)??null}hasSorter(e){return this._grid?._sorters?.includes(e)||!1}hideColumn(e){this.viewModel.hideColumn(e)}recalculateColumnWidths(){this._grid?.recalculateColumnWidths()}async reset(){this._clearSelection(),await(this.store?.reset()),this.scrollToTop()}refreshPageCache(){this._grid?.clearCache(),this._temporaryHighlightId=null}requestContentUpdate(){this._grid?.requestContentUpdate(),this._temporaryHighlightId=null}selectRows(e){const{itemIdPath:t}=this,i=e?.filter((e=>!this.highlightIds.includes(e[t]))),r=i.map((e=>e[t]));r.length&&(this.multipleSelectionEnabled||(this.highlightIds.removeAll(),r.splice(1)),this.highlightIds.addMany(r))}deselectRows(e){const{itemIdPath:t}=this,i=e?.map((e=>e[t]))||[];i.length&&this.highlightIds.removeMany(i)}showColumn(e){this.viewModel.showColumn(e)}sort({path:e,direction:t}){this.viewModel.sortColumn(e,t),this.notifyChange(\"sortOrders\")}scrollToIndex(e){this._grid?.isConnected&&this._grid?.scrollToIndex(e),this._temporaryHighlightId=null}scrollToTop(){this.scrollToIndex(0)}scrollToBottom(){this.scrollToIndex(1/0)}scrollLeft(e){const{_table:t}=this;t&&(t.scrollLeft=e)}toggleColumnVisibility(e){this.viewModel.toggleColumnVisibility(e)}onColumnChange(){this._columnElements.forEach((e=>{this._applyRenderersToColumnElement(e)})),this.requestContentUpdate()}render(){return c(\"div\",{bind:this,class:this.classes(p.base,h.widget)},c(\"div\",{bind:this,class:p.content},this._renderGrid()))}_renderGrid(){return c(\"vaadin-grid\",{afterCreate:this._afterGridCreate,afterUpdate:this._afterGridUpdate,bind:this,cellPartNameGenerator:this.cellPartNameGenerator,class:p.grid,columnRendering:this._columnRendering,columnReorderingAllowed:this.columnReorderingEnabled,dataProvider:this.dataProvider,id:`${this.id}_grid`,itemIdPath:this.itemIdPath,multiSort:this.multiSortEnabled,pageSize:this.pageSize,ref:\"grid\",rowDetailsRenderer:this.rowDetailsRenderer,selectedItems:this._selectedItems,size:this.effectiveSize},this._renderAllColumns())}_renderAllColumns(){return\"disabled\"!==this.viewModel.state&&this.columns.length?[this._renderSelectionColumn(),this._renderColumns()]:null}_renderSelectionColumn(){return c(\"vaadin-grid-selection-column\",{_selectAllHidden:!0,autoWidth:!1,bind:this,dragSelect:!0,frozen:!0,hidden:this.hasInvalidColumnConfiguration||!this.selectionColumnEnabled,selectAll:!1,sortable:!1,textAlign:\"center\"})}_renderColumns(){return Array.from(this.columns,((e,t)=>\"columns\"in e?this._renderGroupColumn(e,t):c(\"vaadin-grid-column\",{...this.getColumnProps(e,t)}))).filter(t)}_renderGroupColumn(e,t){const i=this.getColumnProps(e,t);if(i.hidden||!e.columns)return null;const r=e.columns.filter((({hidden:e})=>!e));return r.length?c(\"vaadin-grid-column-group\",{...i},r.map((e=>c(\"vaadin-grid-column\",{...this.getColumnProps(e,t)})))):null}_afterGridCreate(e){const t=this._grid=e;t.setAttribute(\"theme\",m),customElements.whenDefined(\"vaadin-grid\").then((()=>{this._appendStyles(),this._addGridEventListeners()})),t.__updateSorter=(e,i,r)=>{const n=t._sorters,o=!n.includes(e);if(!e.direction&&o)return;e._order=null;const{multiSort:l,multiSortOnShiftClick:s,multiSortPriority:d}=t,a=n.filter((t=>t!==e));l&&(!s||!r)||s&&i?null!=e._initialOrder?(o?n[e._initialOrder]=e:n.splice(e._initialOrder,0,e),e._initialOrder=null):t._sorters=\"append\"===d?[...a,e]:[e,...a]:(e.direction||s)&&(t._sorters=e.direction?[e]:[],a.forEach((e=>{e._order=null,e.direction=null})))},t.__removeSorters=e=>{if(0===e.length)return;const i=new Set(e.filter((e=>!e.direction)));t._sorters=t._sorters.filter((e=>!i.has(e))),t.__applySorters()}}_appendStyles(){const e=this._grid?.shadowRoot,t=document.createElement(\"style\");e&&(t.textContent='\\n      #items [part~=\"row\"][editing],\\n      #items [part~=\"row\"][editing][selected] {\\n        z-index: 2;\\n      }\\n\\n      #items [part~=\"editing\"],\\n      #items [part~=\"editing\"][selected] {\\n        z-index: 3;\\n      }\\n\\n      [frozen], [frozen-to-end] {\\n        z-index: 4;\\n      }\\n\\n      [last-frozen] {\\n        overflow: visible;\\n      }\\n\\n      [part~=\\'cell\\'] ::slotted(vaadin-grid-cell-content) {\\n        align-items: center;\\n        box-sizing: border-box !important;\\n        height: 100%;\\n        line-height: 2em;\\n        min-height: 40px;\\n      }\\n\\n      #items [part~=\"text-wrap\"] {\\n        text-wrap: wrap;\\n      }\\n    ',e.appendChild(t))}_afterGridUpdate(e){this._grid||(this._grid=e)}_afterColumnCreate(e){this._columnElements.push(e)}_afterColumnRemoved(e){const t=this._columnElements.indexOf(e,0);t>-1&&this._columnElements.splice(t,1)}_updateGridSize(){this._grid&&(this._grid.size=this.effectiveSize,this.scheduleRender())}_addGridEventListeners(){const e=this._grid;r(e),this.addHandles([i(e,[\"click\",\"dblclick\",\"keydown\",\"pointerover\",\"pointerout\"],(e=>this._onGridInteraction(e))),i(e,[\"pointerover\",\"pointerout\",\"cell-focus\"],(e=>this._onTransientGridInteraction(e))),i(e,\"selected-items-changed\",this._onSelectedItemsChange),i(e,\"sorter-changed\",(()=>this.notifyChange(\"sortOrders\"))),i(e,\"column-resize\",(e=>{const t=e.detail.resizedColumn,i=t.getAttribute(\"data-fieldName\"),r=this.findColumn(i);r?.set({width:t.width})})),i(e,\"column-reorder\",(()=>this._onColumnOrderChange()))])}_onGridInteraction(e){const t=this._grid;if(r(t),(\"pointerover\"===e.type||\"pointerout\"===e.type)&&e.relatedTarget!==t){const{target:t,relatedTarget:i}=e;if(!this._isGridCellContentNode(t)||!this._isGridCellContentNode(i))return}let i=null;try{i=t.getEventContext(e)}catch(a){}if(!i)return;const{column:n,index:o,item:l,section:s}=i;if(!s)return;if(\"header\"===s&&\"keydown\"===e.type&&n?.path){const t=e.key;_.sort.includes(t)&&this.findColumn(n.path)?.sort()}const d=`cell-${e.type}`;this.emit(d,{type:d,context:i,index:o,item:l,native:e,path:n?.path??void 0})}_onTransientGridInteraction(e){if(\"pointerout\"===e.type)return void(this._temporaryHighlightId=null);const t=this._grid;if(t)try{const{item:i}=t.getEventContext(e);this._temporaryHighlightId=i?.objectId}catch{this._temporaryHighlightId=null}}_isGridCellContentNode(e){return!!(e&&e instanceof HTMLElement&&\"vaadin-grid-cell-content\"===e.localName)}_onColumnOrderChange(){const e=this._grid;r(e);const t=e._getColumnsInOrder(0),i=[],n=(this.viewModel.groupColumns.length?e._getColumnsInOrder(1):t).map((e=>e.getAttribute(\"data-fieldName\")));t?.forEach((e=>{const t=e.getAttribute(\"data-fieldName\");if(null!=t){const e=this.findColumn(t);i.push(t),e&&\"columns\"in e&&e.columns?.length&&e.columns.sort(((e,t)=>n.indexOf(e.fieldName)>n.indexOf(t.fieldName)?1:-1))}})),this.columns.sort(((e,t)=>i.indexOf(e.fieldName)>i.indexOf(t.fieldName)?1:-1)),this.notifyChange(\"sortOrders\"),this.emit(\"column-reorder\",{type:\"column-reorder\"})}_clearSelection(){this.highlightIds.removeAll(),this._temporaryHighlightId=null}_onSelectedItemsChange(e){const{highlightIds:t,itemIdPath:i}=this,r=e.detail.value.map((e=>e[i])),n=r.filter((e=>!t.includes(e)));if(!this.multipleSelectionEnabled&&n.length&&t.length)t.removeAll(),t.add(n[0]);else{const e=t.filter((e=>!r.includes(e)));t.removeMany(e),t.addMany(n)}}_applyRenderersToColumnElement(e){const t=e?.path,i=null!=t?this.findColumn(t):void 0;if(i)try{const{renderFunction:t,footerRenderFunction:r,headerRenderFunction:n}=i;t&&\"renderer\"in e&&(e.renderer=(e,i,r)=>t({root:e,column:i,rowData:r})),r&&(e.footerRenderer=(e,t)=>r({root:e,column:t})),n&&(e.headerRenderer=(e,t)=>n({root:e,column:t}))}catch(r){}}};e([l()],f.prototype,\"_editInfos\",null),e([l()],f.prototype,\"_columnElements\",void 0),e([l()],f.prototype,\"_columnRendering\",null),e([l()],f.prototype,\"_selectedItems\",null),e([l()],f.prototype,\"_grid\",void 0),e([l()],f.prototype,\"_table\",null),e([l()],f.prototype,\"_temporaryHighlightId\",void 0),e([l()],f.prototype,\"cellPartNameGenerator\",null),e([l()],f.prototype,\"columns\",null),e([l()],f.prototype,\"columnPerformanceModeEnabled\",null),e([l()],f.prototype,\"columnReorderingEnabled\",null),e([l()],f.prototype,\"pageIndex\",null),e([l()],f.prototype,\"dataProvider\",null),e([l()],f.prototype,\"effectiveSize\",null),e([l()],f.prototype,\"hasInvalidColumnConfiguration\",null),e([l()],f.prototype,\"highlightIds\",null),e([l()],f.prototype,\"temporaryHighlightId\",null),e([l()],f.prototype,\"isEditingActive\",null),e([l()],f.prototype,\"isReady\",null),e([l()],f.prototype,\"itemIdPath\",void 0),e([l()],f.prototype,\"label\",null),e([l(),u(\"esri/widgets/FeatureTable/t9n/FeatureTable\")],f.prototype,\"messages\",void 0),e([l()],f.prototype,\"multipleSelectionEnabled\",null),e([l()],f.prototype,\"multiSortEnabled\",null),e([l()],f.prototype,\"pageSize\",null),e([l()],f.prototype,\"paginationEnabled\",null),e([l()],f.prototype,\"rowDetailsRenderer\",null),e([l()],f.prototype,\"rowHighlightIds\",null),e([l()],f.prototype,\"selectionColumnEnabled\",void 0),e([l()],f.prototype,\"size\",null),e([l({readOnly:!0})],f.prototype,\"sortOrders\",null),e([l()],f.prototype,\"store\",null),e([l()],f.prototype,\"viewModel\",void 0),f=e([s(\"esri.widgets.FeatureTable.Grid.Grid\")],f);const v=f;export{v as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Accessor.js\";import{watch as e}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";let i=class extends o{constructor(t){super(t),this.attachmentId=null,this.attachmentInfos=[],this.candidates=null,this.error=null,this.form=null,this.mode=\"list\",this.objectId=null}initialize(){this.addHandles([e((()=>this.objectId),(()=>this.reset())),e((()=>this.candidates),(()=>{this.error=null})),e((()=>this.attachmentInfos.length),(t=>{0===t&&(this.mode=\"file\")}))])}onEditComplete(){this.attachmentId=null,this.candidates=null,this.mode=\"list\"}reset(){this.attachmentId=null,this.candidates=null,this.error=null}};t([s()],i.prototype,\"attachmentId\",void 0),t([s()],i.prototype,\"attachmentInfos\",void 0),t([s()],i.prototype,\"candidates\",void 0),t([s()],i.prototype,\"error\",void 0),t([s()],i.prototype,\"form\",void 0),t([s()],i.prototype,\"mode\",void 0),t([s()],i.prototype,\"objectId\",void 0),i=t([r(\"esri.widgets.FeatureTable.support.AttachmentsViewOptions\")],i);const a=i;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../core/Logger.js\";import t from\"../layers/support/Field.js\";function n(e){return Object.keys(e.attributes).map((n=>{const i=e.attributes[n];return\"objectid\"===n.toLowerCase()||\"fid\"===n.toLowerCase()?new t({name:n,alias:n,type:\"oid\"}):new t(\"number\"==typeof i?{name:n,alias:n,type:\"double\"}:{name:n,alias:n,type:\"string\"})}))}function i(e){if(!e.fields){const t=e.features[0];if(t.layer){e.fields=t.layer.fields;const n=Object.keys(t.attributes),i=e.fields.filter((e=>n.includes(e.name)));e.fields=i}else e.fields=n(t)}return e}function o(e){return e.map((({attributes:e})=>e))}function r(e){const{delimiter:t,fields:n=[],outFields:i=[]}=e,o=t||\",\",r=n.map((e=>e.name));return e=>{let t=\"\";return r.filter((e=>i.includes(e))).forEach((i=>{const r=n.find((({name:e})=>e===i));let a=e[i]||\"\";if(\"date\"===r?.type&&(a=new Date(a).toString()),r?.domain&&\"coded-value\"===r.domain.type){const e=r.domain.codedValues.find((e=>a===e.code));e&&(a=e.name)}\"string\"==typeof a&&a.includes(o)&&(a=`\"${a}\"`),t+=`${a}${o}`})),`${t}\\r\\n`}}async function a(n,{includeGeometry:a=!0,delimiter:l=\",\",outFields:s=[\"*\"]}={}){n=i(n),a&&\"point\"!==n.geometryType&&e.getLogger(\"esri.exports.csv\").warn(`The input geometry ${n.geometryType} is not supported. Geometry will be excluded from export.`);const{features:d}=n;if(!d.length)return null;let u=n.fields;const[m]=s;\"*\"===m&&(s=u.map((e=>e.name))),a&&\"point\"===n.geometryType&&(u.some((e=>\"x\"===e.name||\"y\"===e.name))||(u=[...u,new t({name:\"lon\",alias:\"Longitude\",type:\"double\"}),new t({name:\"lat\",alias:\"Latitude\",type:\"double\"})],s=[...s,\"lon\",\"lat\"]),d.forEach((({attributes:e,geometry:t})=>{e.lon=\"point\"===t?.type?t.longitude:null,e.lat=\"point\"===t?.type?t.latitude:null}))),u=u.filter((e=>s.includes(e.name)));const p=l||\",\",c=o(d),f=u.map((e=>e.name)).join(p),y=r({delimiter:p,outFields:s||u.map((e=>e.name)),fields:u});let g=`${f}${p}\\r\\n`;c.forEach((e=>{g+=y(e)}));const b=new RegExp(`${p}\\r\\n\\\\s*$`,\"g\");return g.replace(b,\"\")}export{r as attributeToString,a as convertFeaturesToCSV,o as extractAttributes,n as extractFieldsFromFeature,i as validateFeatureSetFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../core/Error.js\";import{downloadBlobAsFile as e,blobUrlToBlob as r}from\"../../../core/urlUtils.js\";import{convertFeaturesToCSV as o}from\"../../../exports/csv.js\";import{renderingSanitizer as i}from\"../../support/widgetUtils.js\";function s(){return\"showSaveFilePicker\"in window&&(()=>{try{return window.self===window.top}catch{return!1}})()}async function a(r){const{layer:a,includeGeometry:n,objectIds:c,outFields:l}=r,u=l??a.outFields??[\"*\"],w=a.createQuery();w.objectIds=c,w.outFields=u;const p=await a.queryFeatures(w),d=await o(p,{includeGeometry:!a.isTable&&(n||\"point\"===p.geometryType),outFields:u});if(!d)throw new t(\"export-csv:no-output\",\"Unable to generate a valid export string\");const m=new Blob([d],{type:\"text/csv\"}),f=i.sanitize(a.title);if(s())try{const t=await showSaveFilePicker({suggestedName:f,types:[{accept:{\"text/csv\":[\".csv\"]}}]}),e=await t.createWritable();await e.write(m),await e.close()}catch(y){if(y instanceof t&&\"AbortError\"!==y.name)throw y}else e(m,`${f}.csv`)}async function n(t){if(!t?.url)return;const o=await r(`${t.url}`);e(o,t.name)}export{n as downloadAttachmentInfo,a as exportToCSV,s as supportsFileSystemAccess};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Accessor.js\";import{equals as s,isSome as i}from\"../../../core/arrayUtils.js\";import a from\"../../../core/Collection.js\";import o from\"../../../core/Error.js\";import{clone as n}from\"../../../core/lang.js\";import u from\"../../../core/Logger.js\";import p from\"../../../core/ReactiveMap.js\";import{watch as l,when as h}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{geometryTypes as y}from\"../../../geometry/support/typeUtils.js\";import{isSubtypeGroupLayer as m,isSubtypeSublayer as _}from\"../../../layers/support/layerUtils.js\";import f from\"../../../rest/support/AttachmentQuery.js\";import g from\"../../../rest/support/RelationshipQuery.js\";import b from\"../../../time/TimeExtent.js\";import{isIFeatureTableSupportedLayerWithAttachments as v,isIFeatureTableSupportedLayerWithAttachmentsEditing as O,isIFeatureTableSupportedLayerWithEditing as A,isIFeatureTableSupportedLayerWithRelationships as I,findRelatedLayer as j}from\"./tableUtils.js\";let C=class extends r{constructor(e){super(e),this._attachmentsOperationQueue=new a,this._defaultOutFields=[\"*\"],this._editOperationQueue=new a,this._loaded=!1,this._loadError=!1,this._loading=!1,this._objectIdCache=new a,this._queryOperationQueue=new a,this.attachmentsEnabled=!1,this.count=0,this.failures=new a,this.filterGeometry=null,this.initialSize=null,this.layer=null,this.objectIds=null,this.outFields=null,this.pageCache=new p,this.pageSize=50,this.relationshipConfig=null,this.relatedRecordsEnabled=!1,this.returnGeometry=!1,this.returnZ=!1,this.returnM=!1,this.sortOrders=[],this.timeExtent=null,this.view=null,this.where=null}initialize(){this.addHandles([l((()=>[this.filterGeometry,this.layer,this.objectIds,this.outFields,this.pageSize,this.relationshipConfig,this.returnGeometry,this.returnM,this.returnZ,this.timeExtent,this.where]),(()=>this._reset())),l((()=>this.orderByFields),(()=>this._clearCaches()),{equals:s}),h((()=>this.attachmentsEnabled),(()=>this._reset())),h((()=>this.relatedRecordsEnabled),(()=>this._reset()))])}destroy(){this.layer=null,this.itemCache?.destroy(),this.failures?.destroy()}get _capabilities(){const{layer:e}=this;return e?.effectiveCapabilities??e?.capabilities}get _effectiveReturnZ(){return this.returnZ&&this.supportsZ}get _effectiveReturnM(){return this.returnM&&this.supportsM}get _layerWithAttachments(){const{layer:e}=this;return e&&this._capabilities&&this.attachmentsEnabled&&this.supportsAttachments&&v(e)?e:null}get _layerWithAttachmentsEditing(){const{_layerWithAttachments:e}=this;return e&&O(e)&&this.supportsEditing?e:null}get _layerWithEditing(){const e=this.layer;return A(e)&&this.supportsEditing?e:null}get _layerWithRelationships(){const e=this.layer;return I(e)&&this.supportsQueryRelated?e:null}get _relatedLayer(){return this.relationshipConfig?.relatedLayer}get _relatedLayerCapabilities(){const{_relatedLayer:e}=this;return e?.effectiveCapabilities??e?.capabilities}get _relatedLayerSupportsCacheHint(){return!!this._relatedLayerCapabilities?.queryRelated?.supportsCacheHint}get _relatedLayerSupportsQuery(){return!!this._relatedLayerCapabilities?.operations.supportsQuery}get _relatedLayerSupportsQueryRelated(){const{_relatedLayerCapabilities:e}=this;return!!e?.queryRelated?.supportsCount&&!!e?.queryRelated?.supportsPagination}get _sortedFieldNames(){return this.sortOrders.map((({fieldName:e})=>e))}get _subtypeCode(){return this.layer?.subtypeCode??null}get _subtypeField(){const{layer:e}=this;return m(e?.parent)?e.subtypeField:null}get _canUseRelatedLayer(){return!(!this._relatedLayerSupportsQuery||!this._relatedLayerSupportsQueryRelated)}get canAddRelatedFeature(){const{state:e,relationship:t,supportsAdd:r,supportsEditing:s}=this;if(\"loaded\"!==e||!t||!r||!s)return!1;const{count:i}=this,{cardinality:a,role:o}=t,n=i>0;return(\"one-to-one\"!==a||!n)&&(\"one-to-many\"!==a||\"origin\"!==o||!n)}get effectiveOutFields(){const{layer:e,outFields:t}=this;if(!e||!t?.length)return this._defaultOutFields;const r=[];t.forEach((t=>{const s=e.fieldsIndex.normalizeFieldName(t);s&&r.push(s)}));const{objectIdField:s}=e,i=e.fieldsIndex.normalizeFieldName(s)??s;return i&&!r.includes(i)&&r.unshift(i),r}get effectiveTimeExtent(){const{layer:e,timeExtent:t}=this;return t||e&&\"timeExtent\"in e&&e.timeExtent||null}get effectiveWhere(){return this.where||this.layer?.definitionExpression||\"1=1\"}get itemCache(){return new a({items:[...this.pageCache.values()].flat()})}get layerView(){const{layer:e,view:t}=this;if(!e||!t)return null;const r=\"sublayer\"===e.type||_(e)?e.parent:e;return t.allLayerViews.find((e=>e.layer===r))}get orderByFields(){const{_sortedFieldNames:e,layer:t,sortOrders:r}=this,s=r.filter((({fieldName:t,direction:r},s)=>e.indexOf(t)===s&&null!=r)).map((({fieldName:e,direction:t})=>`${e} ${t?.toUpperCase()}`));if(t&&!s.length&&!t.objectIdField&&t.fields?.length){const e=t.fields.find((e=>e.name));if(e){const r=t.fieldsIndex.normalizeFieldName(e.name);r&&s.push(`${r} ASC`)}}return s}get querying(){return this._queryOperationQueue.length>0}get relationship(){const{relationshipConfig:e}=this;return null==e?.relationshipId?null:this.relationships?.find((t=>t.id===e.relationshipId))}get relationshipIds(){return this.relationships?.map((e=>e.id))??[]}get relationshipInfos(){const{_layerWithRelationships:e,relatedRecordsEnabled:t,relationships:r,view:s}=this,i=[];return t&&e?.loaded&&s?.map&&r?.length?(r.forEach((t=>{const r=j(e,s,t);r&&(r.load(),i.push({layer:e,relatedLayer:r,relationshipId:t.id}))})),i):i}get relationships(){return this._layerWithRelationships?.relationships}get state(){const{layer:e,_loaded:t,_loadError:r,_loading:s}=this;return!e||e.destroyed?\"disabled\":r||e.loadError?\"error\":\"loaded\"===e.loadStatus&&t?\"loaded\":s?\"loading\":\"ready\"}get supportsAdd(){return!!this._capabilities?.operations.supportsAdd}get supportsAddingAttachments(){return!(!this._layerWithAttachmentsEditing||!this.supportsAdd)}get supportsAttachments(){const{_capabilities:e}=this;return!(!e?.data?.supportsAttachment||!e?.operations.supportsQueryAttachments)}get supportsCacheHint(){return!!this._capabilities?.query?.supportsCacheHint}get supportsCacheHintQueryRelated(){return!!this._capabilities?.queryRelated?.supportsCacheHint}get supportsDelete(){return!!this._capabilities?.operations.supportsDelete}get supportsDeletingAttachments(){return!(!this._layerWithAttachmentsEditing||!this.supportsDelete)}get supportsEditing(){return!!this._capabilities?.operations.supportsEditing}get supportsM(){return!!this.layer?.hasM&&!!this._capabilities?.data?.supportsM}get supportsOrderBy(){return!!this._capabilities?.query?.supportsOrderBy}get supportsPagination(){return!!this._capabilities?.query?.supportsPagination}get supportsQuery(){return!!this._capabilities?.operations.supportsQuery}get supportsQueryRelated(){const{_capabilities:e}=this;return!!e?.queryRelated?.supportsCount&&!!e?.queryRelated?.supportsPagination}get supportsResizeAttachments(){const{_capabilities:e}=this;return!(!this.supportsAttachments||!e?.attachment?.supportsResize)}get supportsUpdate(){return!!this._capabilities?.operations.supportsUpdate}get supportsUpdateAttachments(){return!(!this._layerWithAttachmentsEditing||!this.supportsUpdate)}get supportsZ(){return!!this.layer?.hasZ&&!!this._capabilities?.data?.supportsZ}get syncing(){return this.syncingFeatureEdits||this.syncingAttachmentEdits}get syncingAttachmentEdits(){return this._attachmentsOperationQueue.length>0}get syncingFeatureEdits(){return this._editOperationQueue.length>0}async addAttachment(e,t){const{_layerWithAttachmentsEditing:r}=this;if(!r||!this.supportsAddingAttachments)return{};const s=await this._queueAttachmentsOperation(e,(()=>r.addAttachment(this._createBaseGraphic(r,e),t)));return this._ensureArrayContent(s)}async deleteAttachments(e,t){const{_layerWithAttachmentsEditing:r}=this;if(!r||!this.supportsDeletingAttachments||!t.length)return[];const s=await this._queueAttachmentsOperation(e,(()=>r.deleteAttachments(this._createBaseGraphic(r,e),t)));return this._ensureArray(s)}async deleteRowsByObjectId(e){const{_layerWithEditing:t}=this;if(!this.supportsDelete||!t)throw new o(\"store:delete-error\",\"Delete is not supported.\");const r=e.map((e=>this.getItemByObjectId(e)?.feature)).filter(i);return this._queueEditOperation((()=>t.applyEdits({deleteFeatures:r})))}async fetchItems(e){const{page:t}=e,{pageSize:r}=this,s=t*r,i=s+r,{layer:a,state:o}=this;return a&&\"loaded\"===o?this._query({layer:a,start:s,num:i,page:t,pageSize:r}):[]}async getAttachmentsByObjectId(e,t){const r=this.getItemByObjectId(e)?.attachments??[];if(!r.length&&t){return(await this._queryAttachments([e]))[e]??[]}return r}getItemByObjectId(e){for(const t of this.pageCache.values())for(const r of t)if(r.objectId===e)return r}getItemIndexByObjectId(e){const{pageCache:t,pageSize:r}=this,s=t.entries();let i=-1;for(const[a,o]of s)if(o.some(((t,s)=>{const o=t.objectId===e;return o&&(i=a*r+s),o})),i>-1)break;return i}async load(){const{layer:e}=this;if(!this._loading&&!this._loaded&&e){this._reset(),this._loading=!0;try{await e.load(),e.parent&&m(e.parent)&&await e.parent.loadAll(),await e.when();const t=this.initialSize;this.initialSize=null,await this.refresh(t),this._loaded=!0,this._loading=!1}catch(t){throw this._reset(),this._loadError=!0,this._logError(\"store:load-error\",\"An error occurred.\"),t}}}async query(e){const{state:t}=this;return this.supportsQuery&&\"loaded\"===t?this._query(e):[]}async refresh(e){this._clearCaches(),await this._syncCount(e),await this._syncObjectIdCache()}async reset(){this._reset()}async updateAttachment(e,t,r){const{_layerWithAttachmentsEditing:s}=this;if(!s||!this.supportsUpdateAttachments)return{};const i=await this._queueAttachmentsOperation(e,(()=>s.updateAttachment(this._createBaseGraphic(s,e),t,r)));return this._ensureArrayContent(i)}async updateItem(e){const{_sortedFieldNames:t}=this,r=e.updates.map((({fieldName:e})=>e)),s=await this._update(e);return!s.updateFeatureResults.find((e=>e.error))&&r.some((e=>t.includes(e)))&&this._clearCaches(),s}async verifyFeaturesByObjectId(e){const{layer:t,state:r}=this;if(!t||\"loaded\"!==r)return[];const{objectIdField:s}=t,i=await this._verifyFeaturesByObjectId(e);return e.map((e=>i.some((t=>{const r=t.getObjectId()??t.attributes[s];return e===r}))))}_clearCaches(){this.pageCache.clear(),this._objectIdCache.removeAll()}_createBaseGraphic(e,r){const s=new t({attributes:{[e.objectIdField]:r}});return this._subtypeField&&null!=this._subtypeCode&&(s.attributes[this._subtypeField]=this._subtypeCode),s}_ensureArray(e){return Array.isArray(e)?e:[e]}_ensureArrayContent(e){return Array.isArray(e)?e[0]:e}_getObjectIdsForPage(e,t){const r=this._objectIdCache.toArray();return r.length>=e+t?r.slice(e,e+t):r.slice(e)}_logError(e,t){u.getLogger(this).error(e,t)}_reset(){this._clearCaches(),this.failures.removeAll(),this._attachmentsOperationQueue.removeAll(),this._editOperationQueue.removeAll(),this._queryOperationQueue.removeAll(),this._loading=!1,this._loaded=!1,this._loadError=!1,this._set(\"count\",0)}async _syncCount(e){null==e?await this._queryCount().then((e=>this._set(\"count\",e))):this._set(\"count\",e)}async _syncObjectIdCache(){if(this.supportsPagination)return;const e=await this._queryObjectIds();this._objectIdCache.removeAll(),this._objectIdCache.addMany(e)}async _verifyFeaturesByObjectId(e){const{layer:t}=this;if(!t||!this.supportsQuery)throw new o(\"store:query-error\",\"Layer does not support query operation.\");const{effectiveTimeExtent:r,effectiveWhere:s,orderByFields:i,supportsCacheHint:a,supportsOrderBy:n}=this,u=t.createQuery();u.where=s,u.timeExtent=r,u.returnGeometry=!1,u.objectIds=e.length?e:void 0,u.outFields=[t.objectIdField],n&&(u.orderByFields=i),a&&(u.cacheHint=!0);return(await t.queryFeatures(u)).features}async _update(e){const{objectId:r,updates:s}=e,{_layerWithEditing:i}=this;if(!this.supportsUpdate||!i)throw new o(\"store:update-error\",\"Update is not supported.\");const a=this.getItemByObjectId(r)?.feature;if(!a)throw new o(\"store:update-error\",\"Feature with provided 'objectId' not found.\");const u=n(a.attributes);s.forEach((({fieldName:e,value:t})=>u[e]=t));const p=new t({attributes:u}),l=i.applyEdits({updateFeatures:[p]}).then((e=>{const{updateFeatureResults:t}=e,r=t.find((e=>!!e.error));if(r)throw r.error;return t.length&&(a.attributes=u),e}));return this._queueEditOperation((()=>l))}_prepareFeatureData(e){const{attachments:t,features:r,layer:s,relatedRecords:i}=e,a=s.objectIdField;return r.map((e=>{const r=e.getObjectId()??e.attributes[a],o=[];return e.layer||e.sourceLayer||(e.layer=s,e.sourceLayer=s),i.forEach(((e,t)=>{o.push({relationshipId:t,count:e[r]??0})})),{objectId:r,feature:e,attachments:t[r]??null,relatedRecords:o}}))}async _query(e){const{page:t,refresh:r}=e;!0===r&&await this.refresh();const s=this.pageCache.get(t);if(s)return s;const i=await this._queryPage(e);return this.pageCache.set(t,i),i}_queryAttachments(e){const{_layerWithAttachments:t,effectiveWhere:r}=this;return t?e.some((e=>\"number\"!=typeof e))?Promise.reject(new o(\"invalid-object-id\",\"Only numeric object ids are valid to query attachments\")):t.queryAttachments(new f({objectIds:e,where:r,returnMetadata:!0})):Promise.resolve({})}async _queryCount(){const{_relatedLayerSupportsCacheHint:e,layer:t,relationshipConfig:r,supportsCacheHint:s}=this;if(!t)return 0;if(r&&this._canUseRelatedLayer){const{objectId:t,relatedLayer:s,relationshipId:i}=r;return(await s.queryRelatedFeaturesCount(new g({cacheHint:e,relationshipId:i,objectIds:[t]})))[t]??0}const{effectiveTimeExtent:i,effectiveWhere:a,filterGeometry:o,objectIds:n}=this,u=t.createQuery();return u.geometry=o,u.returnGeometry=!1,u.where=a,u.timeExtent=i,u.objectIds=n?.length?n:void 0,s&&(u.cacheHint=!0),t.queryFeatureCount(u)}async _queryFeatures(e){const{relationshipConfig:t}=this;if(t&&this._canUseRelatedLayer)return this._queryRelatedFeatures(e,t);const{_effectiveReturnM:r,_effectiveReturnZ:s,effectiveOutFields:i,effectiveTimeExtent:a,effectiveWhere:o,filterGeometry:n,objectIds:u,orderByFields:p,pageSize:l,returnGeometry:h,supportsCacheHint:d,supportsOrderBy:c,supportsPagination:y}=this,{layer:m,start:_}=e,f=u?.length,g=m.createQuery();g.returnGeometry=h,g.outFields=i,g.returnM=r,g.returnZ=s,y?(g.start=_,g.num=l,g.where=o,g.timeExtent=a,g.objectIds=f?u:void 0):g.objectIds=f?u:this._getObjectIdsForPage(_,l??0),c&&(g.orderByFields=p),n&&(g.geometry=n),d&&(g.cacheHint=!0);return(await m.queryFeatures(g)).features}_queryObjectIds(){const{effectiveTimeExtent:e,effectiveWhere:t,filterGeometry:r,layer:s,objectIds:i,orderByFields:a,supportsCacheHint:o,supportsOrderBy:n}=this;if(!s)return Promise.resolve([]);const u=s.createQuery();return u.geometry=r,u.outFields=[s.objectIdField],u.returnGeometry=!1,u.where=t,u.timeExtent=e,u.objectIds=i?.length?i:void 0,n&&(u.orderByFields=a),o&&(u.cacheHint=!0),s.queryObjectIds(u)}async _queryPage(e){const{layer:t}=e;return this._queueQueryOperation((async()=>{const r=await this._queryFeatures(e),s=r.map((e=>e.getObjectId()??e.attributes[t.objectIdField])),i=await this._queryAttachments(s),a=await this._queryRelatedCounts(s);return this._prepareFeatureData({layer:t,features:r,attachments:i,relatedRecords:a})||[]}))}async _queryRelatedCounts(e){const{_layerWithRelationships:t,relationshipIds:r,supportsCacheHintQueryRelated:s}=this,i=new Map;return t&&e?.length&&r.length?(await Promise.allSettled(r.map((async r=>{const a=await t.queryRelatedFeaturesCount(new g({cacheHint:s,relationshipId:r,objectIds:e}));i.set(r,a)}))),i):i}async _queryRelatedFeatures(e,t){const{_defaultOutFields:r,_effectiveReturnM:s,_effectiveReturnZ:i,orderByFields:a,pageSize:o,returnGeometry:n,supportsCacheHint:u}=this,{layer:p,start:l}=e,{objectId:h,relatedLayer:d,relationshipId:c}=t,y=p.createQuery(),m=new g({cacheHint:u,num:o,objectIds:[h],orderByFields:a,outFields:r,relationshipId:c,returnGeometry:n,returnM:s,returnZ:i,start:l,where:y.where??void 0}),_=await d.queryRelatedFeatures(m);return _[h]?.features||[]}_queueAttachmentsOperation(e,t){return this._attachmentsOperationQueue.push(t),t().then((async r=>{this._attachmentsOperationQueue.remove(t);const s=this._ensureArray(r),i=s.some((e=>e.error)),a=this.getItemByObjectId(e);if(a&&(!i||s.length>1)){const t=await this._queryAttachments([e]);a.attachments=t[e]}return r})).catch((async r=>{this._logError(\"store:attachment-error\",\"An error occurred.\");const s={error:r,retry:()=>{this.failures.remove(s),this._queueAttachmentsOperation(e,t)},cancel:()=>this.failures.remove(s)};throw this.failures.add(s),this._attachmentsOperationQueue.remove(t),r}))}_queueEditOperation(e){return this._editOperationQueue.push(e),e().then((t=>(this._editOperationQueue.remove(e),t))).catch((t=>{this._logError(\"store:edit-error\",\"An error occurred.\");const r={error:t,retry:()=>{this.failures.remove(r),this._queueEditOperation(e)},cancel:()=>this.failures.remove(r)};throw this.failures.add(r),this._editOperationQueue.remove(e),t}))}_queueQueryOperation(e){return this._queryOperationQueue.push(e),e().then((t=>this._queryOperationQueue.includes(e)?t:[])).catch((t=>{this._logError(\"store:query-error\",\"An error occurred.\");const r={error:t,retry:()=>{this.failures.remove(r),this._queueQueryOperation(e)},cancel:()=>this.failures.remove(r)};return this.failures.add(r),[]})).then((t=>(this._queryOperationQueue.remove(e),t)))}};e([d()],C.prototype,\"_attachmentsOperationQueue\",void 0),e([d({readOnly:!0})],C.prototype,\"_capabilities\",null),e([d()],C.prototype,\"_defaultOutFields\",void 0),e([d()],C.prototype,\"_editOperationQueue\",void 0),e([d()],C.prototype,\"_effectiveReturnZ\",null),e([d()],C.prototype,\"_effectiveReturnM\",null),e([d({readOnly:!0})],C.prototype,\"_layerWithAttachments\",null),e([d({readOnly:!0})],C.prototype,\"_layerWithAttachmentsEditing\",null),e([d({readOnly:!0})],C.prototype,\"_layerWithEditing\",null),e([d({readOnly:!0})],C.prototype,\"_layerWithRelationships\",null),e([d()],C.prototype,\"_loaded\",void 0),e([d()],C.prototype,\"_loadError\",void 0),e([d()],C.prototype,\"_loading\",void 0),e([d()],C.prototype,\"_objectIdCache\",void 0),e([d()],C.prototype,\"_queryOperationQueue\",void 0),e([d({readOnly:!0})],C.prototype,\"_relatedLayer\",null),e([d({readOnly:!0})],C.prototype,\"_relatedLayerCapabilities\",null),e([d({readOnly:!0})],C.prototype,\"_relatedLayerSupportsCacheHint\",null),e([d()],C.prototype,\"_relatedLayerSupportsQuery\",null),e([d()],C.prototype,\"_relatedLayerSupportsQueryRelated\",null),e([d()],C.prototype,\"_sortedFieldNames\",null),e([d()],C.prototype,\"_subtypeCode\",null),e([d()],C.prototype,\"_subtypeField\",null),e([d()],C.prototype,\"_canUseRelatedLayer\",null),e([d()],C.prototype,\"attachmentsEnabled\",void 0),e([d()],C.prototype,\"canAddRelatedFeature\",null),e([d({readOnly:!0})],C.prototype,\"count\",void 0),e([d()],C.prototype,\"effectiveOutFields\",null),e([d()],C.prototype,\"effectiveTimeExtent\",null),e([d()],C.prototype,\"effectiveWhere\",null),e([d({readOnly:!0})],C.prototype,\"failures\",void 0),e([d({types:y})],C.prototype,\"filterGeometry\",void 0),e([d()],C.prototype,\"initialSize\",void 0),e([d({readOnly:!0})],C.prototype,\"itemCache\",null),e([d()],C.prototype,\"layer\",void 0),e([d()],C.prototype,\"layerView\",null),e([d()],C.prototype,\"objectIds\",void 0),e([d()],C.prototype,\"orderByFields\",null),e([d()],C.prototype,\"outFields\",void 0),e([d({readOnly:!0})],C.prototype,\"pageCache\",void 0),e([d()],C.prototype,\"pageSize\",void 0),e([d({readOnly:!0})],C.prototype,\"querying\",null),e([d()],C.prototype,\"relationship\",null),e([d()],C.prototype,\"relationshipConfig\",void 0),e([d()],C.prototype,\"relationshipIds\",null),e([d()],C.prototype,\"relationshipInfos\",null),e([d()],C.prototype,\"relationships\",null),e([d()],C.prototype,\"relatedRecordsEnabled\",void 0),e([d()],C.prototype,\"returnGeometry\",void 0),e([d()],C.prototype,\"returnZ\",void 0),e([d()],C.prototype,\"returnM\",void 0),e([d()],C.prototype,\"sortOrders\",void 0),e([d({readOnly:!0})],C.prototype,\"state\",null),e([d()],C.prototype,\"supportsAdd\",null),e([d()],C.prototype,\"supportsAddingAttachments\",null),e([d()],C.prototype,\"supportsAttachments\",null),e([d()],C.prototype,\"supportsCacheHint\",null),e([d()],C.prototype,\"supportsCacheHintQueryRelated\",null),e([d()],C.prototype,\"supportsDelete\",null),e([d()],C.prototype,\"supportsDeletingAttachments\",null),e([d()],C.prototype,\"supportsEditing\",null),e([d()],C.prototype,\"supportsM\",null),e([d()],C.prototype,\"supportsOrderBy\",null),e([d()],C.prototype,\"supportsPagination\",null),e([d()],C.prototype,\"supportsQuery\",null),e([d()],C.prototype,\"supportsQueryRelated\",null),e([d()],C.prototype,\"supportsResizeAttachments\",null),e([d()],C.prototype,\"supportsUpdate\",null),e([d()],C.prototype,\"supportsUpdateAttachments\",null),e([d()],C.prototype,\"supportsZ\",null),e([d({readOnly:!0})],C.prototype,\"syncing\",null),e([d({readOnly:!0})],C.prototype,\"syncingAttachmentEdits\",null),e([d({readOnly:!0})],C.prototype,\"syncingFeatureEdits\",null),e([d({type:b})],C.prototype,\"timeExtent\",void 0),e([d()],C.prototype,\"view\",void 0),e([d()],C.prototype,\"where\",void 0),C=e([c(\"esri.widgets.FeatureTable.support.FeatureStore\")],C);const w=C;export{w as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import{isSome as t}from\"../../core/arrayUtils.js\";import i from\"../../core/Collection.js\";import{referenceSetter as s}from\"../../core/collectionUtils.js\";import{deprecatedFunction as l}from\"../../core/deprecate.js\";import o from\"../../core/Error.js\";import n from\"../../core/Handles.js\";import r from\"../../core/Logger.js\";import{abortMaybe as a}from\"../../core/maybe.js\";import{debounce as h,ignoreAbortErrors as d,after as m,throwIfAborted as c,createResolver as p}from\"../../core/promiseUtils.js\";import{watch as g,initial as u,on as b}from\"../../core/reactiveUtils.js\";import{property as f}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import{subclass as y}from\"../../core/accessorSupport/decorators/subclass.js\";import{getLowerCaseDefaultHiddenFields as T}from\"../../layers/support/fieldUtils.js\";import{isSubtypeSublayer as _,getSubtypesFromLayer as w,isSubtypeGroupLayer as C}from\"../../layers/support/layerUtils.js\";import{createFieldInfos as I}from\"../../support/popupUtils.js\";import v from\"../../tables/AttributeTableTemplate.js\";import{defaultHighlightName as E,temporaryHighlightName as A}from\"../../views/support/HighlightDefaults.js\";import{highlightsSupported as F}from\"../../views/support/layerViewUtils.js\";import{isSelectableLayer as j}from\"../../views/support/selectionUtils.js\";import S from\"./ActionColumn.js\";import R from\"./AttachmentsColumn.js\";import x from\"./FieldColumn.js\";import U from\"./RelationshipColumn.js\";import O from\"./Grid/Column.js\";import V from\"./Grid/Grid.js\";import P from\"./Grid/GridViewModel.js\";import W from\"./Grid/GroupColumn.js\";import z from\"./support/AttachmentsColumnTemplate.js\";import L from\"./support/AttachmentsViewOptions.js\";import{isAttachmentsColumn as H,isRelationshipColumn as B}from\"./support/columnUtils.js\";import{downloadAttachmentInfo as Z,exportToCSV as G}from\"./support/exportUtils.js\";import k from\"./support/FeatureStore.js\";import N from\"./support/FieldColumnTemplate.js\";import D from\"./support/RelationshipColumnTemplate.js\";import M from\"./support/TableTemplate.js\";import{isIFeatureTableSupportedLayerWithRelationships as $,findRelatedLayerInSources as q,findRelationship as Q,uniqueColumnNames as K,hasColumnForField as J,findField as X,isIFeatureTableSupportedLayerWithAttachments as Y,getTableHighlightKey as ee,getRelationshipIdsToShow as te}from\"./support/tableUtils.js\";import{createAttributeTableElements as ie}from\"./support/templateUtils.js\";import\"../support/widgetUtils.js\";import{messageBundle as se}from\"../support/decorators/messageBundle.js\";import{onLocaleChange as le}from\"../../intl/locale.js\";import{substitute as oe}from\"../../intl/substitute.js\";import{fetchMessageBundle as ne}from\"../../intl/messages.js\";const re=\"80px\";let ae=class extends P{constructor(e){super(e),this._debounceRefresh=h((()=>this._refresh())),this._temporaryHighlightAbortController=null,this._currentTemporaryHighlight=null,this._highlights=new n,this.actionColumnConfig=null,this.attachmentsViewOptions=new L,this.attributeTableTemplate=null,this.autoRefreshEnabled=!0,this.columns=new i,this.dataProvider=async(e,t)=>{const{layer:i,store:s}=this;if(!t)return;if(!i||!s)return void(t&&t([]));await i.load();const{objectIds:l}=this;if(this.filterBySelectionEnabled&&!this.highlightIds.length||1===l.length&&-1===l.items[0])return void t([]);\"loaded\"!==s.state&&\"loading\"!==s.state&&await s.load();const o=this.paginationEnabled?this.pageIndex:e.page,n=await s.fetchItems({...e,page:o});t&&t(n)},this.editingEnabled=!1,this.grid=null,this.highlightEnabled=!0,this.itemIdPath=\"objectId\",this.layers=null,this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this.messagesURIUtils=null,this.prompt=null,this.relatedTables=new i,this.relationshipColumnConfigs=null,this.selectionSource=\"table\",this.showRelatedTableCallback=null,this.store=null,this.syncTemplateOnChangesEnabled=!0,this.tableController=null,this.tableParent=null,this.tableTemplate=null,this.tableTemplateOverride=null,this._onLayerRefresh=this._onLayerRefresh.bind(this),this._onShowPromptCallback=this._onShowPromptCallback.bind(this),this._set(\"store\",new k),this._set(\"grid\",new V({itemIdPath:this.itemIdPath,viewModel:this}))}initialize(){const e=async()=>{this.messages=await ne(\"esri/widgets/FeatureTable/t9n/FeatureTable\"),this.messagesCommon=await ne(\"esri/t9n/common\"),this.messagesUnits=await ne(\"esri/core/t9n/Units\"),this.messagesURIUtils=await ne(\"esri/widgets/support/t9n/uriUtils\")};e(),this.addHandles([le((()=>{e(),this._generateColumns()})),g((()=>[this.messages,this.messagesCommon,this.messagesURIUtils]),(()=>{const e=this.messages;this.grid&&(this.grid.messages=e),this.allColumns.forEach((t=>{t.messages=e,t.messagesCommon=this.messagesCommon,t.messagesURIUtils=this.messagesURIUtils})),this.refreshCellContent()}),u),b((()=>this.highlightIds),\"change\",(e=>this._onHighlightIdsChange(e)),{onListenerAdd:()=>this._syncSelection(),onListenerRemove:()=>this._highlights.removeAll()}),g((()=>this.grid?.temporaryHighlightId),(e=>{this._temporaryHighlightAbortController?.abort(),this._temporaryHighlightAbortController=new AbortController,d(this._syncTemporaryHighlight(e,this._temporaryHighlightAbortController.signal))})),g((()=>this.attachmentsEnabled),(()=>this.layer?.loaded&&this._generateColumns())),g((()=>this._viewSelection),(()=>{this._viewSelectionReady&&(this.highlightIds.items=this._viewSelection)})),g((()=>[this._tableHighlightsReady,this._viewSelectionReady]),(()=>this._syncSelection())),g((()=>this.layer),(async(e,t)=>{const i=this.grid;i&&(i.clearSort(),e&&t&&await this.reset()),this.goToPage(0),this._drainColumns(),this.store.layer=e,e&&(e.loaded?this._onLayerLoad():e.load().catch((()=>{})))})),g((()=>this.layer?.loaded),(e=>e&&this._onLayerLoad())),g((()=>this.store.state),(e=>{\"loaded\"===e&&(this.scrollToTop(),this.refreshCellContent())})),g((()=>this._effectiveTableTemplate),(()=>{this.scrollLeft(),this.layer?.loaded&&this._generateColumns()})),g((()=>this.editingEnabled),(e=>{this.editableColumns.forEach((t=>t.tableEditingEnabled=e)),this.refreshCellContent()})),g((()=>this.timeZone??this.view?.timeZone),(()=>this.refreshCellContent())),g((()=>this.layer?.definitionExpression),((e,t)=>(e||t)&&\"loaded\"===this.store.state&&this.reset())),g((()=>this.layer?.timeExtent),((e,t)=>(e||t)&&!this.timeExtent&&\"loaded\"===this.store.state&&this.reset())),b((()=>this.layer),\"refresh\",(e=>this._onLayerRefresh(e))),b((()=>this.grid),[\"cell-click\",\"cell-dblclick\",\"cell-pointerover\",\"cell-pointerout\",\"cell-keydown\",\"column-reorder\"],(({index:e,item:t,native:i,path:s,type:l})=>{const o=t?.feature,n=o?.getObjectId(),r=\"cell-keydown\"===l&&i&&i instanceof KeyboardEvent&&\"Enter\"===i.key;this.emit(l,{feature:o,index:e,native:i,type:l,fieldName:s??void 0,objectId:n}),(r||\"cell-click\"===l)&&this._onCellInteraction(n)})),g((()=>this.actionColumnConfig),(e=>{const{actionColumn:t,columns:i}=this;t?e?t.set(e):i.remove(t):e&&i.length&&i.add(this._generateActionColumn(),!1!==e.frozenToEnd?void 0:this._getIndexOfFirstFrozenToEndColumn())})),g((()=>this.relatedRecordsEnabled),(()=>this.layer?.loaded&&this._generateColumns())),b((()=>this.objectIds),\"change\",(()=>this._onObjectIdsChange()),{onListenerAdd:()=>this._onObjectIdsChange()}),g((()=>[this.paginationEnabled,this.pageIndex]),(()=>this.refreshPageCache())),g((()=>this.activeSortOrders),(e=>{this.store.sortOrders=e,this._syncAttributeTableTemplate()})),g((()=>this.allVisibleColumns),(()=>this._syncAttributeTableTemplate())),g((()=>this.pageCount),(()=>{this.pageIndex>=this.pageCount&&this.goToPage(0)})),g((()=>this.state),(e=>{\"disabled\"===e&&this.relatedTables.length&&this.drainRelatedTables()})),b((()=>this.tableParent?.highlightIds),\"change\",(({added:e})=>{const{relationshipConfig:t}=this,i=e[0];if(null==i||!t)return;const{relatedLayer:s,relationshipId:l}=t;this.relationshipConfig={objectId:i,relatedLayer:s,relationshipId:l}})),b((()=>this.tableParent),\"cell-click\",(e=>{const{tableParent:t}=this,{objectId:i}=e;t&&null!=i&&t.highlightIds.add(i)})),g((()=>this.attachmentsViewOptions.objectId),((e,t)=>{null!=e?null==t&&this.showAttachmentsView({objectId:e}):this.hideAttachmentsView()}))])}destroy(){this._drainColumns(),this._highlights.removeAll(),this._highlights.destroy(),this._currentTemporaryHighlight?.handle.remove(),this._temporaryHighlightAbortController=a(this._temporaryHighlightAbortController),this.grid?.destroy(),this.columns.destroyed||this.columns.destroy(),this.layer=null,this.view=null}get _defaultHiddenFields(){return T(this.layer)}get _effectiveTableTemplate(){return this.tableTemplateOverride||this.tableTemplate}get _effectiveAttributeTableTemplate(){return this.attributeTableTemplate||this.layer?.attributeTableTemplate}get _highlightableLayerView(){const e=this.layerView;return F(e)?e:null}get _selectionManager(){const{view:e}=this;return!e||e.destroyed?null:e.selectionManager?.sources?.length?e.selectionManager:null}get _selectableLayer(){const{layer:e}=this;if(j(e)||_(e)){const t=e;return this._selectionManager?.sources?.includes(t)?t:null}return null}get _subtypes(){return w(this.layer)}get _tableHighlightsReady(){return!(\"table\"!==this.selectionSource||!this.highlightEnabled||!this._highlightableLayerView)}get _viewSelection(){const{_selectableLayer:e}=this;return e?this._selectionManager?.getSelection(e)??[]:[]}get _viewSelectionReady(){return!(!this.layer||\"view\"!==this.selectionSource||!this._selectionManager)}get allRelatedTablesVisible(){return!!(this.relatedRecordsEnabled&&this.relatedTables.length&&this.showAllRelatedTables)}get activeFilters(){const{filterGeometry:e,objectIds:t,filterBySelectionEnabled:s,highlightIds:l}=this,o=new i;return e&&o.push({type:\"geometry\",geometry:e}),s?o.push({type:\"selection\",objectIds:l.toArray()}):t.length&&o.push({type:\"objectId\",objectIds:t.toArray()}),o}get activeSortOrders(){return this.grid?.sortOrders?this.grid.sortOrders.map((({path:e,direction:t})=>({fieldName:e,direction:t}))).filter((e=>e.fieldName&&e.direction)):[]}get attachmentsEnabled(){return this.store.attachmentsEnabled}set attachmentsEnabled(e){this.store.attachmentsEnabled=e}get clearPrompt(){return()=>this.prompt=null}set clearPrompt(e){this._overrideIfSome(\"clearPrompt\",e)}get filterGeometry(){return this.store.filterGeometry}set filterGeometry(e){this.store.filterGeometry=e}get filterBySelectionEnabled(){return!!this._get(\"filterBySelectionEnabled\")}set filterBySelectionEnabled(e){const{objectIds:t}=this,i=t.length;e?(i&&(t.removeAll(),this._logWarning(\"Selection filter has been applied with an objectID filter. Object ID filter has been removed.\")),this.filterGeometry&&this._logWarning(\"Selection filter has been applied with a geometry filter. Results may appear inconsistent\"),this._syncObjectIdsWithStore(this.highlightIds.toArray())):i||this._syncObjectIdsWithStore(null),this._set(\"filterBySelectionEnabled\",e)}get hiddenFields(){return this._get(\"hiddenFields\")??new i}set hiddenFields(e){this._set(\"hiddenFields\",s(e,this._get(\"hiddenFields\"),i))}get initialSize(){return this.store.initialSize}set initialSize(e){this.store.initialSize=e}get isQueryingOrSyncing(){const{store:e}=this;return e?.syncing||e?.querying||this.relatedTables.some((e=>!!e.isQueryingOrSyncing))}get isSyncingAttachments(){return this.store.syncingAttachmentEdits||this.relatedTables.some((e=>!!e.isSyncingAttachments))}get layer(){return this._get(\"layer\")}set layer(e){this._highlights.removeAll(),this.drainRelatedTables(),this._set(\"layer\",e)}get layerView(){return this.store.layerView}get outFields(){return this.store.outFields}set outFields(e){this.store.outFields=e}get relatedRecordsEnabled(){return this.store.relatedRecordsEnabled}set relatedRecordsEnabled(e){this.store.relatedRecordsEnabled=e}get relatedTable(){return this.relatedTables.at(-1)}get relationship(){const e=this.relationshipConfig?.relationshipId;return null==e?null:this.relationships?.find((({id:t})=>t===e))}get relationshipConfig(){return this.store.relationshipConfig}set relationshipConfig(e){this.highlightIds.removeAll(),this.objectIds.removeAll(),this.filterBySelectionEnabled=!1,this.store.relationshipConfig=e}get relationshipInfos(){const{layer:e,layers:t,relationships:i,tableController:s}=this,l=this.store.relationshipInfos;if(l.length||!$(e)||!i?.length)return l;const o=[],n=s?.layers||t||[];return i.forEach((t=>{const i=q(e,n,t);i&&(i.load(),o.push({layer:e,relatedLayer:i,relationshipId:t.id}))})),o}get relationships(){return this.store.relationships}get returnGeometryEnabled(){return this.store.returnGeometry}set returnGeometryEnabled(e){this.store.returnGeometry=e}get returnMEnabled(){return this.store.returnM}set returnMEnabled(e){this.store.returnM=e}get returnZEnabled(){return this.store.returnZ}set returnZEnabled(e){this.store.returnZ=e}get showAllRelatedTables(){return this._get(\"showAllRelatedTables\")}set showAllRelatedTables(e){const{relatedTable:t}=this;this._set(\"showAllRelatedTables\",e),t&&(e?this._showAllRelatedTables(t):this._hideAllRelatedTables(t))}get showPrompt(){return e=>{this.prompt?.cancel?.(),this.prompt=e}}set showPrompt(e){this._overrideIfSome(\"showPrompt\",e)}get supportsAttachments(){return this.store.supportsAttachments}get supportsAddAttachments(){const{store:{supportsAddingAttachments:e,supportsEditing:t}}=this;return this.editingEnabled&&t&&e}get supportsDeleteAttachments(){const{store:{supportsDeletingAttachments:e,supportsEditing:t}}=this;return this.editingEnabled&&t&&e}get supportsResizeAttachments(){return this.store.supportsResizeAttachments}get supportsUpdateAttachments(){const{store:{supportsUpdateAttachments:e,supportsEditing:t}}=this;return this.editingEnabled&&t&&e}get timeExtent(){return this.store.timeExtent}set timeExtent(e){this.store.timeExtent=e}get timeZone(){return this._get(\"timeZone\")}set timeZone(e){this.allColumns.forEach((t=>t.tableTimeZone=e)),this._set(\"timeZone\",e)}get view(){return this.store.view}set view(e){this.store.view=e,this.fieldColumns.forEach((t=>t.view=e)),this.refreshCellContent()}async addAttachment(e,t){const{attachmentsViewOptions:i,store:s}=this,l=i.objectId===e;await s.addAttachment(e,t).catch((e=>{l&&e&&\"object\"==typeof e&&\"error\"in e&&e.error instanceof o&&(this._logWarning(`Unable to add attachment. ${e.error.name} ${e.error.message}`),i.error=e.error)})),l&&!i.error&&(i.onEditComplete(),i.attachmentInfos=await s.getAttachmentsByObjectId(e,!0)),this.refreshCellContent()}async deleteAttachments(e,t){const{attachmentsViewOptions:i,store:s}=this,l=i.objectId===e;await s.deleteAttachments(e,t).catch((e=>{l&&e&&\"object\"==typeof e&&\"error\"in e&&e.error instanceof o&&(this._logWarning(`Unable to delete attachment(s). ${e.error.name} ${e.error.message}`),i.error=e.error)})),l&&!i.error&&(i.onEditComplete(),i.attachmentInfos=await s.getAttachmentsByObjectId(e,!0)),this.refreshCellContent()}collapseRelatedTable(e,t){const{relatedLayer:s,objectId:l,relationshipId:o}=t,{objectIdField:n}=s,r=Q(s,o),a=s.displayField||r?.keyField||n;e.set({highlightIds:new i([l]),multipleSelectionEnabled:!1,tableTemplateOverride:this._getTableTemplateForRelatedTableView(e,a,o)});const h=e.hiddenFields;h.includes(K.action)||h.add(K.action),h.includes(K.attachments)||h.add(K.attachments),e.scrollLeft()}async deleteSelection(){const e=this.highlightIds.toArray();if(!e?.length)return;const{deleteFeatureResults:t}=await this.store.deleteRowsByObjectId(e),i=t.filter((e=>!e.error)).map((e=>e.objectId));i.length&&(this.highlightIds.removeMany(i),await this.refresh())}async downloadAttachmentById(e,t){const i=(await this.store.getAttachmentsByObjectId(e,!0)).find((e=>e.id===t));Z(i)}drainRelatedTables(){this.relatedTables.drain((e=>e.destroy())),this.set({multipleSelectionEnabled:!0,relationshipColumnConfigs:null,showAllRelatedTables:!1,tableTemplateOverride:null}),this.hiddenFields.removeMany([K.action,K.attachments])}drainRelatedTablesAboveIndex(e){const{relatedTables:t}=this,i=t.slice(e+1);t.removeMany(i).forEach((e=>e.destroy()));const s=t.at(-1);s&&(s.attachmentsViewOptions.objectId=null,this.allRelatedTablesVisible?this._showAllRelatedTables(s):this._hideAllRelatedTables(s))}async exportSelectionToCSV(e){const{highlightIds:t,layer:i,outFields:s}=this;i&&t.length?await G({layer:i,objectIds:t.toArray(),outFields:s,includeGeometry:e}):this._logWarning(\"Export failed.\")}filterBySelection(){this.filterBySelectionEnabled?this._logWarning(\"Property 'filterBySelectionEnabled' is already 'true'. This method has no effect.\"):(l(r.getLogger(this),\"`FeatureTable.filterBySelection` is deprecated in favor of 'filterBySelectionEnabled' and 'objectIds'\",{replacement:\"FeatureTable.filterBySelectionEnabled or FeatureTable.objectIds\",version:\"4.30\",warnOnce:!0}),this.objectIds.addMany(this.highlightIds.toArray()))}getObjectIdIndex(e){return this.store.getItemIndexByObjectId(e)}getValue(e,t){const i=this.store.getItemByObjectId(e);return i?.feature?.attributes[t]}getVirtualPageIndex(){return this.grid?.getVirtualPageIndex()??0}goToPage(e){if(null==e||!Number.isInteger(e))return void this._logWarning(\"Invalid 'page' parameter provided to 'goToPage()'. Current page will remain the same.\");const{pageCount:t}=this;(e>=t||-1===e)&&(e=t-1),e<-1&&(e=0),e!==this.pageIndex&&(this.pageIndex=e),this.paginationEnabled||this.scrollToIndex(e*this.pageSize)}hideAttachmentsView(){this.attachmentsViewOptions.objectId=null,this.set({relationshipColumnConfigs:null,multipleSelectionEnabled:!0,tableTemplateOverride:null}),this.hiddenFields.remove(K.action)}nextPage(){const e=this.paginationEnabled?this.pageIndex:this.getVirtualPageIndex();this.goToPage(e+1)}previousPage(){const e=this.paginationEnabled?this.pageIndex:this.getVirtualPageIndex();this.goToPage(e-1)}async refresh(){return this.relatedTables.forEach((async e=>await e.refresh())),d(this._debounceRefresh())}refreshCellContent(){this.grid?.requestContentUpdate()}refreshPageCache(){this.grid?.refreshPageCache()}async reset(){this.goToPage(0),await(this.grid?.reset())}scrollLeft(){this.grid?.scrollLeft(0)}scrollToBottom(){this.grid?.scrollToBottom()}scrollToIndex(e){this.grid?.scrollToIndex(e)}scrollToRow(e){const t=this.store.getItemIndexByObjectId(e);t>-1?this.grid?.scrollToIndex(t):this._logWarning(\"Row not found. Associated data may not be loaded yet.\")}scrollToTop(){this.grid?.scrollToTop()}async saveAttachmentsViewForm(){const{attachmentId:e,form:t,objectId:i}=this.attachmentsViewOptions;null!=i&&t&&(null!=e?await this.updateAttachment(i,e,t):await this.addAttachment(i,t))}async showAttachmentsView({objectId:e}){const{attachmentsViewOptions:t,hiddenFields:s,layer:l}=this;if(!this.attachmentsEnabled||!l)return void this._logWarning(\"The 'attachmentsEnabled' property is currently false.\");await l.load();const o=this._getDefaultLayerDisplayField(l),n=await this.store.getAttachmentsByObjectId(e,!0),r=this.store.getItemIndexByObjectId(e);t.set({attachmentInfos:n,mode:n.length?\"list\":\"file\",objectId:e}),this.set({highlightIds:new i([e]),multipleSelectionEnabled:!1,relationshipColumnConfigs:[],tableTemplateOverride:this._getTableTemplateForAttachmentsView(o)}),s.includes(K.action)||s.add(K.action),null!=r&&this.scrollToIndex(r)}syncAttributeTableTemplate(){this._syncAttributeTableTemplate(!0)}clearSelectionFilter(){l(r.getLogger(this),\"`FeatureTable.clearSelectionFilter` is deprecated in favor of 'filterBySelectionEnabled' and 'objectIds'\",{replacement:\"FeatureTable.filterBySelectionEnabled or FeatureTable.objectIds\",version:\"4.30\",warnOnce:!0}),this.objectIds.removeAll()}async updateAttachment(e,t,i){const{attachmentsViewOptions:s,store:l}=this,n=s.objectId===e;await l.updateAttachment(e,t,i).catch((e=>{n&&e&&\"object\"==typeof e&&\"error\"in e&&e.error instanceof o&&(this._logWarning(`Unable to update attachment. ${e.error.name} ${e.error.message}`),s.error=e.error)})),n&&!s.error&&(s.onEditComplete(),s.attachmentInfos=await l.getAttachmentsByObjectId(e,!0)),this.refreshCellContent()}async zoomToSelection(){const{layer:e,view:t}=this,i=this.highlightIds.toArray();if(!e||!t||!i.length)return;const s=e.createQuery();s.objectIds=i,s.returnGeometry=!0;const l=await e.queryFeatures(s);try{await t.goTo(l.features)}catch(o){\"AbortError\"!==o.name&&console.error(o)}}_syncAttributeTableTemplate(e=!1){const{_effectiveAttributeTableTemplate:t,layer:i,tableTemplateOverride:s,syncTemplateOnChangesEnabled:l}=this;if(!i||!t||!l&&!e||s||this.tableParent||this.relatedTable||null!==this.attachmentsViewOptions.objectId)return;const{activeSortOrders:o,allColumns:n,columns:r}=this,a=[],h=ie(r.toArray());o.forEach((({fieldName:e,direction:t})=>{e&&t&&a.push({field:e,order:t})})),n.forEach((({fieldName:e,direction:t})=>{t&&!a.some((t=>t.field===e))&&a.push({field:e,order:t})})),t.elements=h,t.orderByFields=a}async _refresh(){await this.store.refresh();const e=this.highlightIds.toArray();if(e.length){(await this.store.verifyFeaturesByObjectId(e)).forEach(((t,i)=>{t||this.highlightIds.remove(e[i])}))}this.refreshPageCache();const t=this.attachmentsViewOptions;null!=t?.objectId&&(t.attachmentInfos=await this.store.getAttachmentsByObjectId(t.objectId,!0))}async _onLayerLoad(){const{layer:e,pageSize:t}=this;if(!e)return;e.parent&&C(e.parent)&&await e.parent.loadAll();const i=e.capabilities.query?.maxRecordCount,s=i&&i<t,l=s?i:t;s&&(this._logWarning(\"The value for 'pageSize' has been adjusted due to the provided layer's max record count.\"),this.pageSize=l),this.grid?.set(\"pageSize\",l),this.store.load(),this._generateColumns()}_onLayerRefresh(e){this.autoRefreshEnabled&&e.dataChanged&&this.refresh()}_generateColumns(){this._drainColumns();const{_effectiveTableTemplate:e,_effectiveAttributeTableTemplate:t}=this,i=e?.columnTemplates,s=this._generateColumnsFromColumnTemplates(i)??this._generateColumnsFromAttributeTableTemplate(t)??this._generateDefaultFieldColumns();s.length&&(this.attachmentsEnabled&&!s.some((e=>H(e)))&&s.push(this._generateDefaultAttachmentsColumn()),this.relatedRecordsEnabled&&this.relationshipInfos.length&&!s.some((e=>B(e)))&&s.push(...this._generateDefaultRelationshipColumns()),this.actionColumnConfig&&s.push(this._generateActionColumn()),s.sort(((e,t)=>e.frozen&&t.frozen||e.frozenToEnd&&t.frozenToEnd?0:e.frozen||t.frozenToEnd?-1:0)),this.columns.addMany(s))}_generateColumnsFromAttributeTableTemplate(e){const{layer:i}=this;if(!e||!i)return null;const{elements:s,orderByFields:l}=e,o=I(i),n=[];n.push(...this._generateColumnsFromAttributeTableElements(s,l));const r=o.map((e=>{if(!e.fieldName||J(e.fieldName,n))return null;const{fieldName:t}=e,s=X(i,t);return s?this._generateDefaultFieldColumn(s,{hidden:!0,orderByFields:l}):(this._logTemplateWarning(\"A valid 'field' could not be found for the provided template.\"),null)})).filter(t);return n.push(...r),this.attachmentsEnabled&&Y(i)&&!n.some((e=>H(e)))&&n.push(this._generateDefaultAttachmentsColumn({hidden:!0})),this.relatedRecordsEnabled&&$(i)&&i.relationships?.forEach((({id:e},t)=>{const i=this.relationshipInfos.find((t=>t.relationshipId===e));i&&!n.some((t=>B(t)&&t.relationshipId===e))&&n.push(this._generateDefaultRelationshipColumn({hidden:!0,info:i,index:t}))})),n.length?n:null}_generateColumnsFromAttributeTableElements(e,t){const{layer:i}=this;return i?e?.map(((e,i)=>{switch(e.type){case\"field\":return this._createFieldColumnFromElement({element:e,orderByFields:t});case\"group\":return this._createGroupColumnFromElement({element:e,orderByFields:t});case\"attachment\":return this._createAttachmentColumnFromElement({element:e,index:i});case\"relationship\":return this._createRelationshipColumnFromElement({element:e,index:i})}})).filter((e=>!!e))??[]:[]}_createFieldColumnFromElement(e){const{layer:t}=this;if(!t)return null;const{element:i,orderByFields:s}=e,{fieldName:l}=i;if(null==l)return this._logTemplateWarning(\"A valid 'fieldName' must be provided.\"),null;const o=X(t,l);if(!o)return this._logTemplateWarning(\"A valid 'field' could not be found for the provided template.\"),null;const{description:n,label:r}=i,a=s?.findIndex((({field:e})=>e&&e===l))??-1,h=a>-1?s?.at(a)?.order:void 0,d=a>-1?a:void 0,{editingEnabled:m,grid:c,messages:p,messagesCommon:g,messagesURIUtils:u,store:b,timeZone:f,view:y}=this;return new x({description:n,direction:h,field:o,fieldName:l,grid:c,initialSortPriority:d,label:r,layer:t,messages:p,messagesCommon:g,messagesURIUtils:u,store:b,tableEditingEnabled:m,tableTimeZone:f,view:y,onShowPromptCallback:this._onShowPromptCallback})}_createGroupColumnFromElement(e){const{element:t,orderByFields:i}=e,{description:s,label:l}=t;if(!l)return this._logTemplateWarning(\"Group columns require a label.\"),null;if(!t.elements.length)return this._logTemplateWarning(\"Group columns require child columns.\"),null;const{grid:o,messages:n,messagesCommon:r,messagesURIUtils:a,store:h,timeZone:d}=this;return new W({columns:this._generateColumnsFromAttributeTableElements(t.elements,i),description:s,grid:o,label:l,messages:n,messagesCommon:r,messagesURIUtils:a,store:h,tableTimeZone:d})}_createAttachmentColumnFromElement(e){if(!this.attachmentsEnabled)return void this._logTemplateWarning(\"The 'attachmentsEnabled' property is currently false.\");const{element:t,index:i}=e,{description:s,label:l}=t,{grid:o,layer:n,messages:r,messagesCommon:a,messagesURIUtils:h,store:d,timeZone:m}=this;return new R({description:s,fieldName:`${K.attachments}-${i}`,grid:o,label:l,layer:n,messages:r,messagesCommon:a,messagesURIUtils:h,store:d,tableTimeZone:m,onShowAttachments:e=>this._onShowAttachments(e)})}_createRelationshipColumnFromElement(e){if(!this.relatedRecordsEnabled)return void this._logTemplateWarning(\"Relationship columns require related records to be enabled on the table.\");const{element:t,index:i}=e,{description:s,label:l,relationshipId:o}=t,n=this.relationshipInfos.find((e=>e.relationshipId===o));if(!n)return this._logTemplateWarning(\"Unable to find valid related layer target based on the provided relationship id.\"),null;const{grid:r,messages:a,messagesCommon:h,messagesURIUtils:d,store:m,timeZone:c}=this;return new U({description:s,fieldName:`${K.relationship}-${o}-${i}`,grid:r,label:l,messages:a,messagesCommon:h,messagesURIUtils:d,relationshipId:o,store:m,tableTimeZone:c,layer:n.relatedLayer,relatedLayer:n.layer,showRelatedTableCallback:e=>this._onShowRelatedTable(e)})}_generateColumnsFromColumnTemplates(e){const{editingEnabled:t,grid:i,layer:s,messages:l,messagesCommon:o,messagesURIUtils:n,store:r,timeZone:a,view:h}=this;if(!e?.length||!s)return null;const d=[];return e.forEach(((e,m)=>{const{autoWidth:c,description:p,direction:g,flexGrow:u,fieldName:b,formatFunction:f,frozen:y,frozenToEnd:T,icon:_,iconText:w,initialSortPriority:C,invalid:I,label:v,menuConfig:E,resizable:A,sortable:F,textAlign:j,textWrap:S,timeZone:R,type:U,width:V}=e;if(!U)return void this._logTemplateWarning(\"Property 'type' is missing from the provided template.\");if(y&&T)return void this._logTemplateWarning(\"Properties 'frozen' and 'frozenToEnd' cannot both be true for the same column.\");const P=!1===e.visible;if(\"group\"===U){if(!e.columnTemplates?.length)return void this._logTemplateWarning(\"Group columns must contain column templates.\");if(!e.label)return void this._logTemplateWarning(\"Group columns require a label.\");const t=this._generateColumnsFromColumnTemplates(e.columnTemplates),s=P||this._isFieldHidden(e.label);d.push(new W({autoWidth:c,columns:t,description:p,flexGrow:u,frozen:y,frozenToEnd:T,grid:i,hidden:s,icon:_,iconText:w,invalid:I,label:v,menuConfig:E,messages:l,messagesCommon:o,messagesURIUtils:n,resizable:A,tableTimeZone:a,textAlign:j,textWrap:S,timeZone:R,width:V}))}else if(\"attachment\"===U){if(!this.attachmentsEnabled)return void this._logTemplateWarning(\"Attachment columns require attachments to be enabled on the table.\");d.push(this._generateAttachmentsColumnFromTemplate(e,m))}else if(\"relationship\"===U){if(!this.relatedRecordsEnabled)return void this._logTemplateWarning(\"Relationship columns require related records to be enabled on the table.\");const{relationshipId:t}=e;if(null==t)return void this._logTemplateWarning(\"Property 'relationshipId' is missing from the provided template.\");const i=this.relationshipInfos.find((e=>e.relationshipId===t));if(!i)return void this._logTemplateWarning(\"Unable to find valid related layer target based on the provided relationship id.\");d.push(this._generateRelationshipColumnFromTemplate(i,e,m))}else if(!b)return void this._logTemplateWarning(\"Value for 'fieldName' property was missing from the provided template.\");const z=P||this._isFieldHidden(b);if(\"column\"===U)d.push(new O({autoWidth:c,description:p,direction:g,fieldName:b,flexGrow:u,formatFunction:f,frozen:y,frozenToEnd:T,grid:i,hidden:z,icon:_,iconText:w,initialSortPriority:C,invalid:I,label:v,menuConfig:E,messages:l,messagesCommon:o,messagesURIUtils:n,resizable:A,sortable:F,tableTimeZone:a,textAlign:j,textWrap:S,timeZone:R,width:V}));else if(\"field\"===U){const m=X(s,e.fieldName);if(!m)return void this._logTemplateWarning(\"A valid 'field' could not be found for the provided template.\");const{editable:b,required:U}=e;d.push(new x({autoWidth:c,description:p,direction:g,editable:b,field:m,fieldName:m.name,flexGrow:u,formatFunction:f,frozen:y,frozenToEnd:T,grid:i,hidden:z,icon:_,iconText:w,initialSortPriority:C,invalid:I,label:v,layer:s,messages:l,messagesCommon:o,messagesURIUtils:n,menuConfig:E,required:U,resizable:A,sortable:F,store:r,tableEditingEnabled:t,tableTimeZone:a,template:e,textAlign:j,textWrap:S,timeZone:R,width:V,view:h,onShowPromptCallback:this._onShowPromptCallback}))}})),d.length?d:null}_generateDefaultFieldColumns(){return this.layer?.fields?.map((e=>this._generateDefaultFieldColumn(e))).filter(t)??[]}_generateDefaultFieldColumn(e,t){const{editingEnabled:i,grid:s,layer:l,messages:o,messagesCommon:n,messagesURIUtils:r,store:a,timeZone:h,view:d}=this,m=t?.orderByFields;if(!e.visible||\"geometry\"===e.type)return null;const c=e.name,p=m?.findIndex((({field:e})=>e&&e===c))??-1,g=p>-1?m?.at(p)?.order:void 0,u=p>-1?p:void 0;return new x({direction:g,field:e,fieldName:c,grid:s,hidden:t?.hidden||this._isFieldHidden(c),initialSortPriority:u,layer:l,messages:o,messagesCommon:n,messagesURIUtils:r,store:a,tableEditingEnabled:i,tableTimeZone:h,view:d,onShowPromptCallback:this._onShowPromptCallback})}_generateAttachmentsColumnFromTemplate(e,t){const{grid:i,layer:s,messages:l,messagesCommon:o,messagesURIUtils:n,store:r,timeZone:a}=this,{attachmentsViewEnabled:h,autoWidth:d,description:m,flexGrow:c,fieldName:p,formatFunction:g,frozen:u,frozenToEnd:b,icon:f,iconText:y,invalid:T,label:_,menuConfig:w,resizable:C,textAlign:I,textWrap:v,thumbnailAppearance:E,thumbnailCount:A,thumbnailIconScale:F,thumbnailsEnabled:j,timeZone:S,width:x}=e;return new R({attachmentsViewEnabled:h,autoWidth:d,description:m,fieldName:`${K.attachments}-${t}`,flexGrow:c,formatFunction:g,frozen:u,frozenToEnd:b,grid:i,hidden:!1===e.visible||this._isFieldHidden(_)||this._isFieldHidden(p),icon:f,iconText:y,invalid:T,label:_,layer:s,menuConfig:w,messages:l,messagesCommon:o,messagesURIUtils:n,resizable:C,store:r,tableTimeZone:a,textAlign:I,textWrap:v,thumbnailAppearance:E,thumbnailCount:A,thumbnailIconScale:F,thumbnailsEnabled:j,timeZone:S,width:x,onShowAttachments:e=>this._onShowAttachments(e)})}_generateDefaultAttachmentsColumn(e){const{grid:t,layer:i,messages:s,messagesCommon:l,messagesURIUtils:o,store:n,timeZone:r}=this,a=K.attachments;return new R({fieldName:a,grid:t,hidden:e?.hidden||this._isFieldHidden(a),layer:i,messages:s,messagesCommon:l,messagesURIUtils:o,store:n,tableTimeZone:r,onShowAttachments:e=>this._onShowAttachments(e)})}_generateRelationshipColumnFromTemplate(e,t,i){const{grid:s,messages:l,messagesCommon:o,messagesURIUtils:n,store:r,timeZone:a}=this,{autoWidth:h,collapsed:d,description:m,flexGrow:c,fieldName:p,formatFunction:g,frozen:u,frozenToEnd:b,icon:f,iconText:y,invalid:T,label:_,menuConfig:w,relationshipId:C,resizable:I,textAlign:v,textWrap:E,timeZone:A,width:F}=t;return new U({autoWidth:h,collapsed:d,description:m,fieldName:`${K.relationship}-${C}-${i}`,flexGrow:c,formatFunction:g,frozen:u,frozenToEnd:b,grid:s,hidden:!1===t.visible||this._isFieldHidden(_)||this._isFieldHidden(p),icon:f,iconText:y,invalid:T,label:_,menuConfig:w,messages:l,messagesCommon:o,messagesURIUtils:n,relationshipId:C,resizable:I,store:r,tableTimeZone:a,textAlign:v,textWrap:E,timeZone:A,width:F,layer:e.relatedLayer,relatedLayer:e.layer,showRelatedTableCallback:e=>this._onShowRelatedTable(e)})}_generateDefaultRelationshipColumns(){const{relationshipInfos:e,relationshipColumnConfigs:t}=this,i=[];return e?.length?(t?t.forEach(((t,s)=>{const{relationshipId:l}=t,o=e.find((e=>e.relationshipId===l));o&&i.push(this._generateDefaultRelationshipColumn({config:t,index:s,info:o}))})):e.forEach(((e,t)=>i.push(this._generateDefaultRelationshipColumn({index:t,info:e})))),i):i}_generateDefaultRelationshipColumn(e){const{config:t,hidden:i,index:s,info:l}=e,{grid:o,messages:n,messagesCommon:r,messagesURIUtils:a}=this,{relationshipId:h}=l;return new U({...t,fieldName:`${K.relationship}-${h}-${s}`,grid:o,hidden:i,messages:n,messagesCommon:r,messagesURIUtils:a,layer:l.relatedLayer,relatedLayer:l.layer,relationshipId:h,showRelatedTableCallback:e=>this._onShowRelatedTable(e)})}_generateActionColumn(){return new S({hidden:this._isFieldHidden(K.action),...this.actionColumnConfig})}_isFieldHidden(e){const t=e?.toLowerCase();return(this.hiddenFields??this._defaultHiddenFields).some((e=>e.toLowerCase()===t))}_addTableHighlight(e){if(!this.highlightEnabled)return;const{_highlightableLayerView:t,layer:i}=this;if(t&&i){const s=this.store.getItemByObjectId(e),l=s?.feature??e;this._highlights.add(t.highlight(l,{name:E}),ee(i,e))}}_removeTableHighlight(e){const{layer:t}=this;t&&this._highlights.remove(ee(t,e))}async _syncTemporaryHighlight(e,t){if(!this.highlightEnabled)return this._currentTemporaryHighlight?.handle.remove(),void(this._currentTemporaryHighlight=null);if(await m(25),c(t),!this._currentTemporaryHighlight&&!e)return;const{id:i}=this._currentTemporaryHighlight??{};if(i===e)return;this._currentTemporaryHighlight?.handle?.remove(),this._currentTemporaryHighlight=null;const{_highlightableLayerView:s,layer:l,highlightEnabled:o}=this;e&&s&&l&&o&&(this._currentTemporaryHighlight={id:e,handle:s.highlight(e,{name:A})})}_syncSelection(){this._highlights.removeAll(),this._tableHighlightsReady?this.highlightIds.forEach((e=>this._addTableHighlight(e))):this._viewSelectionReady&&(this.highlightIds.items=this._viewSelection)}_appendToViewSelection(e){const{_selectableLayer:t}=this;t&&this._selectionManager?.appendToSelection(t,e)}_removeFromViewSelection(e){const{_selectableLayer:t}=this;t&&this._selectionManager?.removeFromSelection(t,e)}async _onHighlightIdsChange(e){const{added:t,removed:i}=e,{attachmentsViewOptions:s}=this;if(this._tableHighlightsReady?(i.forEach((e=>this._removeTableHighlight(e))),t.forEach((e=>this._addTableHighlight(e)))):this._viewSelectionReady&&(this._removeFromViewSelection(i),this._appendToViewSelection(t)),this.filterBySelectionEnabled&&this._syncObjectIdsWithStore(this.highlightIds.toArray()),null!=s.objectId){const e=this.highlightIds.at(0);if(null!=e){const t=await this.store.getAttachmentsByObjectId(e,!0);s.set({attachmentInfos:t,objectId:e,mode:t.length?\"list\":\"file\"})}}}_onShowRelatedTable(e){const{highlightIds:t}=this,{objectId:i}=e;t.removeAll(),t.add(i),this.showRelatedTableCallback?this.showRelatedTableCallback(e):this.emit(\"show-related-table\",e)}_onObjectIdsChange(){const e=this.objectIds.toArray();e.length&&this.filterBySelectionEnabled&&(this.filterBySelectionEnabled=!1,this._logWarning(\"Object ID filter was applied while a selection filter was applied. Selection filter has been removed.\")),this._syncObjectIdsWithStore(e)}_syncObjectIdsWithStore(e){this.store.objectIds=e,this.refreshPageCache()}_drainColumns(){this.columns.drain((e=>!e.destroyed&&e.destroy()))}_showAllRelatedTables(e){const t=e.layer;if(!t)return;const i=this._getDefaultLayerDisplayField(t);e.set({relationshipColumnConfigs:[],tableTemplateOverride:this._getTableTemplateForShowAllTablesView(e,i)});const s=e.hiddenFields;s.includes(K.action)||s.add(K.action),s.includes(K.attachments)||s.add(K.attachments)}_hideAllRelatedTables(e){const{layer:t,relationship:i}=e;if(t&&null!=i?.id)if(null!=e.attachmentsViewOptions.objectId){const i=this._getDefaultLayerDisplayField(t);e.set({multipleSelectionEnabled:!1,relationshipColumnConfigs:[],showAllRelatedTables:!1,tableTemplateOverride:this._getTableTemplateForAttachmentsView(i)})}else e.set({multipleSelectionEnabled:!0,relationshipColumnConfigs:te(t,i.id),showAllRelatedTables:!1,tableTemplateOverride:null}),e.hiddenFields.removeMany([K.action,K.attachments])}_getTableTemplateForRelatedTableView(e,t,i){return new M({columnTemplates:[new N({fieldName:t,editable:!1,menuConfig:{selectionMode:\"single\",icon:\"chevron-down\",items:this._extractFieldColumnInfosFromTableTemplate(e.viewModel).map((([s,l])=>({selected:s===t,label:l||s,clickFunction:()=>{e.tableTemplateOverride=this._getTableTemplateForRelatedTableView(e,s,i)}})))},resizable:!1}),new D({autoWidth:!1,collapsed:!0,flexGrow:0,label:\"\",resizable:!1,relationshipId:i,width:re})]})}_getTableTemplateForShowAllTablesView(e,t){const i=[new N({fieldName:t,editable:!1,menuConfig:{selectionMode:\"single\",icon:\"chevron-down\",items:this._extractFieldColumnInfosFromTableTemplate(e.viewModel).map((([i,s])=>({selected:i===t,label:s||i,clickFunction:()=>{e.tableTemplateOverride=this._getTableTemplateForShowAllTablesView(e,i)}})))},resizable:!1})];return null!=e.attachmentsViewOptions.objectId&&i.push(new z({attachmentsViewEnabled:!1,autoWidth:!1,flexGrow:0,label:\"\",resizable:!1,thumbnailsEnabled:!1,width:re})),new M({columnTemplates:i})}async _onShowPromptCallback(e){const{column:t,objectId:i,oldValue:s,value:l}=e,{_subtypes:o,layer:n}=this;if(!n||!o.length)return void t.cancel();const r=o.find((e=>e.code===l));if(!r)return void t.cancel();const a=p(),h=this._createSubtypeEditPrompt(s,r,a),d=!!n.parent;try{this.showPrompt(h);const e=await a.promise,s=[{fieldName:t.fieldName,value:l}];switch(e){case\"update-fields\":for(const[e,t]of Object.entries(r.defaultValues))null!=t&&s.push({fieldName:e,value:t});await t.updateItems({objectId:i,updates:s}),d&&this.refresh();break;case\"keep-existing\":await t.updateItems({objectId:i,updates:s}),d&&this.refresh();break;case\"undo\":t.cancel()}}finally{this.clearPrompt()}}_createSubtypeEditPrompt(e,t,i){const{_subtypes:s,messages:l,messagesCommon:o}=this,n=s.find((t=>t.code===e))?.name??`${e}`;let r=\"update-fields\";const a=[{label:l.subtypes.useDefaultValuesOption,value:\"update-fields\"},{label:l.subtypes.keepCurrentValuesOption,value:\"keep-existing\"}];return{context:\"info\",title:l.subtypes.changeWarningTitle,message:oe(l.subtypes.changeWarning,{originalType:n,newType:t.name}),radios:a,defaultRadioSelection:\"update-fields\",onRadioSelection:e=>{r=e},actions:{primary:{label:o.apply,action:()=>i.resolve(r),type:\"positive\"},secondary:{label:o.cancel,type:\"neutral\",action:()=>i.resolve(\"undo\")}},cancel:()=>i.reject()}}_onShowAttachments({objectId:e}){this.attachmentsViewOptions.objectId=e}_getTableTemplateForAttachmentsView(e){return new M({columnTemplates:[new N({fieldName:e,editable:!1,menuConfig:{selectionMode:\"single\",icon:\"chevron-down\",items:this._extractFieldColumnInfosFromTableTemplate(this).map((([t,i])=>({selected:t===e,label:i||t,clickFunction:()=>{this.tableTemplateOverride=this._getTableTemplateForAttachmentsView(t)}})))},resizable:!1}),new z({attachmentsViewEnabled:!1,autoWidth:!1,flexGrow:0,label:\"\",resizable:!1,thumbnailsEnabled:!1,width:re})]})}_extractFieldColumnInfosFromTableTemplate(e){const t=e??this,{layer:i,tableTemplate:s}=t;return s?s.columnTemplates.filter((({type:e})=>\"field\"===e||\"column\"===e)).map((({fieldName:e,label:t})=>[e,t])):i?.fields.map((e=>[e.name,e.alias]))??[]}_getDefaultLayerDisplayField(e){const{displayField:t,objectIdField:i}=e;return t&&\"\"!==t.trim()?t:i||(e.fields.length?e.fields[0].name:\"\")}_getIndexOfFirstFrozenToEndColumn(){const e=this.columns.findIndex((e=>e.frozenToEnd));return e>-1?e:void 0}_logWarning(e,t){t?r.getLogger(this).warnOnce(e):r.getLogger(this).warn(e)}_logTemplateWarning(e){this._logWarning(`${e} Skipped generating a column using the provided template.`,!0)}_onCellInteraction(e){null!=e&&null!=this.attachmentsViewOptions.objectId&&this.highlightIds.add(e)}};e([f()],ae.prototype,\"_defaultHiddenFields\",null),e([f()],ae.prototype,\"_effectiveTableTemplate\",null),e([f()],ae.prototype,\"_effectiveAttributeTableTemplate\",null),e([f()],ae.prototype,\"_highlights\",void 0),e([f()],ae.prototype,\"_highlightableLayerView\",null),e([f()],ae.prototype,\"_selectionManager\",null),e([f()],ae.prototype,\"_selectableLayer\",null),e([f()],ae.prototype,\"_subtypes\",null),e([f()],ae.prototype,\"_tableHighlightsReady\",null),e([f()],ae.prototype,\"_viewSelection\",null),e([f()],ae.prototype,\"_viewSelectionReady\",null),e([f()],ae.prototype,\"actionColumnConfig\",void 0),e([f()],ae.prototype,\"allRelatedTablesVisible\",null),e([f()],ae.prototype,\"activeFilters\",null),e([f({readOnly:!0})],ae.prototype,\"activeSortOrders\",null),e([f()],ae.prototype,\"attachmentsEnabled\",null),e([f()],ae.prototype,\"attachmentsViewOptions\",void 0),e([f({type:v})],ae.prototype,\"attributeTableTemplate\",void 0),e([f()],ae.prototype,\"autoRefreshEnabled\",void 0),e([f()],ae.prototype,\"clearPrompt\",null),e([f({readOnly:!0})],ae.prototype,\"columns\",void 0),e([f()],ae.prototype,\"dataProvider\",void 0),e([f()],ae.prototype,\"editingEnabled\",void 0),e([f()],ae.prototype,\"filterGeometry\",null),e([f()],ae.prototype,\"filterBySelectionEnabled\",null),e([f({readOnly:!0})],ae.prototype,\"grid\",void 0),e([f()],ae.prototype,\"hiddenFields\",null),e([f()],ae.prototype,\"highlightEnabled\",void 0),e([f()],ae.prototype,\"initialSize\",null),e([f()],ae.prototype,\"isQueryingOrSyncing\",null),e([f()],ae.prototype,\"isSyncingAttachments\",null),e([f({readOnly:!0})],ae.prototype,\"itemIdPath\",void 0),e([f()],ae.prototype,\"layer\",null),e([f()],ae.prototype,\"layers\",void 0),e([f()],ae.prototype,\"layerView\",null),e([f()],ae.prototype,\"messages\",void 0),e([f(),se(\"esri/t9n/common\")],ae.prototype,\"messagesCommon\",void 0),e([f(),se(\"esri/core/t9n/Units\")],ae.prototype,\"messagesUnits\",void 0),e([f(),se(\"esri/widgets/support/t9n/uriUtils\")],ae.prototype,\"messagesURIUtils\",void 0),e([f()],ae.prototype,\"outFields\",null),e([f()],ae.prototype,\"prompt\",void 0),e([f()],ae.prototype,\"relatedRecordsEnabled\",null),e([f()],ae.prototype,\"relatedTable\",null),e([f()],ae.prototype,\"relatedTables\",void 0),e([f()],ae.prototype,\"relationship\",null),e([f()],ae.prototype,\"relationshipColumnConfigs\",void 0),e([f()],ae.prototype,\"relationshipConfig\",null),e([f()],ae.prototype,\"relationshipInfos\",null),e([f()],ae.prototype,\"relationships\",null),e([f()],ae.prototype,\"returnGeometryEnabled\",null),e([f()],ae.prototype,\"returnMEnabled\",null),e([f()],ae.prototype,\"returnZEnabled\",null),e([f()],ae.prototype,\"selectionSource\",void 0),e([f()],ae.prototype,\"showAllRelatedTables\",null),e([f()],ae.prototype,\"showPrompt\",null),e([f()],ae.prototype,\"showRelatedTableCallback\",void 0),e([f({readOnly:!0,type:k})],ae.prototype,\"store\",void 0),e([f()],ae.prototype,\"supportsAttachments\",null),e([f()],ae.prototype,\"supportsAddAttachments\",null),e([f()],ae.prototype,\"supportsDeleteAttachments\",null),e([f()],ae.prototype,\"supportsResizeAttachments\",null),e([f()],ae.prototype,\"supportsUpdateAttachments\",null),e([f()],ae.prototype,\"syncTemplateOnChangesEnabled\",void 0),e([f()],ae.prototype,\"tableController\",void 0),e([f()],ae.prototype,\"tableParent\",void 0),e([f({type:M})],ae.prototype,\"tableTemplate\",void 0),e([f()],ae.prototype,\"tableTemplateOverride\",void 0),e([f()],ae.prototype,\"timeExtent\",null),e([f()],ae.prototype,\"timeZone\",null),e([f()],ae.prototype,\"view\",null),ae=e([y(\"esri.widgets.FeatureTable.FeatureTableViewModel\")],ae);const he=ae;export{he as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/JSONSupport.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";let r=class extends t{constructor(o){super(o),this.autoWidth=!1,this.description=null,this.direction=null,this.flexGrow=1,this.fieldName=null,this.formatFunction=null,this.frozen=!1,this.frozenToEnd=!1,this.icon=null,this.iconText=null,this.initialSortPriority=null,this.invalid=!1,this.label=null,this.menuConfig=null,this.resizable=!0,this.sortable=!1,this.textAlign=\"start\",this.textWrap=!1,this.timeZone=null,this.type=null,this.visible=!0,this.width=200}};o([i()],r.prototype,\"autoWidth\",void 0),o([i()],r.prototype,\"description\",void 0),o([i()],r.prototype,\"direction\",void 0),o([i()],r.prototype,\"flexGrow\",void 0),o([i({type:String})],r.prototype,\"fieldName\",void 0),o([i()],r.prototype,\"formatFunction\",void 0),o([i()],r.prototype,\"frozen\",void 0),o([i()],r.prototype,\"frozenToEnd\",void 0),o([i()],r.prototype,\"icon\",void 0),o([i()],r.prototype,\"iconText\",void 0),o([i()],r.prototype,\"initialSortPriority\",void 0),o([i()],r.prototype,\"invalid\",void 0),o([i()],r.prototype,\"label\",void 0),o([i()],r.prototype,\"menuConfig\",void 0),o([i()],r.prototype,\"resizable\",void 0),o([i()],r.prototype,\"sortable\",void 0),o([i()],r.prototype,\"textAlign\",void 0),o([i()],r.prototype,\"textWrap\",void 0),o([i()],r.prototype,\"timeZone\",void 0),o([i({type:String,json:{read:!1,write:!0}})],r.prototype,\"type\",void 0),o([i()],r.prototype,\"visible\",void 0),o([i()],r.prototype,\"width\",void 0),r=o([e(\"esri.widgets.FeatureTable.support.ColumnTemplateBase\")],r);const p=r;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./Column.js\";let e=class extends t{constructor(o){super(o),this.columns=null,this.sortable=!1}initialize(){this._set(\"fieldName\",`group:${this.label}`)}destroy(){this.columns?.forEach((o=>!o.destroyed&&o.destroy()))}};o([r()],e.prototype,\"columns\",void 0),o([r({readOnly:!0})],e.prototype,\"sortable\",void 0),e=o([s(\"esri.widgets.FeatureTable.Grid.GroupColumn\")],e);const i=e;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/Logger.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import{cast as r}from\"../../../core/accessorSupport/decorators/cast.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import m from\"./AttachmentsColumnTemplate.js\";import p from\"./ColumnTemplate.js\";import a from\"./ColumnTemplateBase.js\";import{isTemplateObjectWithType as l}from\"./columnUtils.js\";import n from\"./FieldColumnTemplate.js\";import i from\"./RelationshipColumnTemplate.js\";let u=class extends a{constructor(e){super(e),this.columnTemplates=null,this.type=\"group\"}castColumnTemplates(e){if(!e||!Array.isArray(e))return[];const t=[];return e.forEach((e=>{if(e instanceof n||e instanceof p||e instanceof m||e instanceof i)t.push(e);else if(l(e)){const r=e.type;\"field\"===r?t.push(new n(e)):\"group\"===r?o.getLogger(this).warn(\"A GroupColumnTemplate cannot contain other GroupColumn templates. Template removed from 'GroupColumnTemplate.columnTemplates'.\"):\"column\"===r?t.push(new p(e)):\"attachment\"===r?t.push(new m(e)):\"relationship\"===r&&t.push(new i(e))}else o.getLogger(this).warn(\"Property 'type' is missing from the provided template. Template removed from 'tableTemplate.columnTemplates'.\")})),t}};e([t({json:{write:!0}})],u.prototype,\"columnTemplates\",void 0),e([r(\"columnTemplates\")],u.prototype,\"castColumnTemplates\",null),e([t({type:String,json:{read:!1,write:!0}})],u.prototype,\"type\",void 0),u=e([s(\"esri.widgets.FeatureTable.support.GroupColumnTemplate\")],u);const c=u;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as i}from\"../../../assets.js\";function e(i){const e=i.toLowerCase();return\"image/bmp\"===e||\"image/emf\"===e||\"image/exif\"===e||\"image/gif\"===e||\"image/x-icon\"===e||\"image/jpeg\"===e||\"image/png\"===e||\"image/tiff\"===e||\"image/x-wmf\"===e}function p(e){const p=i(\"esri/themes/base/images/files/\");return e?\"text/plain\"===e?`${p}text-32.svg`:\"application/pdf\"===e?`${p}pdf-32.svg`:\"text/csv\"===e?`${p}csv-32.svg`:\"application/gpx+xml\"===e?`${p}gpx-32.svg`:\"application/x-dwf\"===e?`${p}cad-32.svg`:\"application/postscript\"===e||\"application/json\"===e||\"text/xml\"===e||\"model/vrml\"===e?`${p}code-32.svg`:\"application/x-zip-compressed\"===e||\"application/x-7z-compressed\"===e||\"application/x-gzip\"===e||\"application/x-tar\"===e||\"application/x-gtar\"===e||\"application/x-bzip2\"===e||\"application/gzip\"===e||\"application/x-compress\"===e||\"application/x-apple-diskimage\"===e||\"application/x-rar-compressed\"===e||\"application/zip\"===e?`${p}zip-32.svg`:e.includes(\"image/\")?`${p}image-32.svg`:e.includes(\"audio/\")?`${p}sound-32.svg`:e.includes(\"video/\")?`${p}video-32.svg`:e.includes(\"msexcel\")||e.includes(\"ms-excel\")||e.includes(\"spreadsheetml\")?`${p}excel-32.svg`:e.includes(\"msword\")||e.includes(\"ms-word\")||e.includes(\"wordprocessingml\")?`${p}word-32.svg`:e.includes(\"powerpoint\")||e.includes(\"presentationml\")?`${p}report-32.svg`:`${p}generic-32.svg`:`${p}generic-32.svg`}function a(i){return i?\"text/plain\"===i?\"file-text\":\"application/pdf\"===i?\"file-pdf\":\"text/csv\"===i?\"file-csv\":\"application/gpx+xml\"===i?\"file-gpx\":\"application/x-dwf\"===i?\"file-cad\":\"application/postscript\"===i||\"application/json\"===i||\"text/xml\"===i||\"model/vrml\"===i?\"file-code\":\"application/x-zip-compressed\"===i||\"application/x-7z-compressed\"===i||\"application/x-gzip\"===i||\"application/x-tar\"===i||\"application/x-gtar\"===i||\"application/x-bzip2\"===i||\"application/gzip\"===i||\"application/x-compress\"===i||\"application/x-apple-diskimage\"===i||\"application/x-rar-compressed\"===i||\"application/zip\"===i?\"file-zip\":i.includes(\"image/\")?\"file-image\":i.includes(\"audio/\")?\"file-sound\":i.includes(\"video/\")?\"file-video\":i.includes(\"msexcel\")||i.includes(\"ms-excel\")||i.includes(\"spreadsheetml\")?\"file-excel\":i.includes(\"msword\")||i.includes(\"ms-word\")||i.includes(\"wordprocessingml\")?\"file-word\":i.includes(\"powerpoint\")||i.includes(\"presentationml\")?\"file-ppt\":\"file\":\"file\"}export{a as getCalciteIconForAttachment,p as getIconPath,e as isSupportedImage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{types as e,fromJSON as s}from\"../../../layers/support/domains.js\";import i from\"./ColumnTemplateBase.js\";import{EditableColumnTemplateMixin as p}from\"./EditableColumnTemplateMixin.js\";let n=class extends(p(i)){constructor(o){super(o),this.domain=null,this.editableExpression=null,this.format=null,this.formatFunction=null,this.requiredExpression=null,this.sortable=!0,this.type=\"field\",this.valueExpression=null,this.visibilityExpression=null}};o([t({types:e,json:{read:{reader:s},write:!0}})],n.prototype,\"domain\",void 0),o([t({type:String,json:{write:!0}}),t()],n.prototype,\"editableExpression\",void 0),o([t()],n.prototype,\"format\",void 0),o([t()],n.prototype,\"formatFunction\",void 0),o([t({type:String,json:{write:!0}})],n.prototype,\"requiredExpression\",void 0),o([t()],n.prototype,\"sortable\",void 0),o([t({type:String,json:{read:!1,write:!0}})],n.prototype,\"type\",void 0),o([t({type:String,json:{write:!0}})],n.prototype,\"valueExpression\",void 0),o([t({type:String,json:{write:!0}})],n.prototype,\"visibilityExpression\",void 0),n=o([r(\"esri.widgets.FeatureTable.support.FieldColumnTemplate\")],n);const l=n;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import o from\"../../../core/JSONSupport.js\";import{clone as t}from\"../../../core/lang.js\";import r from\"../../../core/Logger.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import{cast as m}from\"../../../core/accessorSupport/decorators/cast.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"./AttachmentsColumnTemplate.js\";import l from\"./ColumnTemplate.js\";import{isTemplateObjectWithType as n}from\"./columnUtils.js\";import c from\"./FieldColumnTemplate.js\";import i from\"./GroupColumnTemplate.js\";import u from\"./RelationshipColumnTemplate.js\";var f;let T=f=class extends o{constructor(e){super(e),this.columnTemplates=[]}castColumnTemplates(e){if(!e||!Array.isArray(e))return[];const o=[];return e.forEach((e=>{if(e instanceof c||e instanceof i||e instanceof l||e instanceof a||e instanceof u)o.push(e);else if(n(e)){const t=e.type;\"field\"===t?o.push(new c(e)):\"group\"===t?o.push(new i(e)):\"column\"===t?o.push(new l(e)):\"attachment\"===t?o.push(new a(e)):\"relationship\"===t&&o.push(new u(e))}else r.getLogger(this).warn(\"Property 'type' is missing from the provided template. Template removed from 'tableTemplate.columnTemplates'.\")})),o}clone(){return new f({columnTemplates:t(this.columnTemplates)})}};e([s()],T.prototype,\"columnTemplates\",void 0),e([m(\"columnTemplates\")],T.prototype,\"castColumnTemplates\",null),T=f=e([p(\"esri.widgets.FeatureTable.support.TableTemplate\")],T);const h=T;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/ReactiveMap.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{isSupportedImage as s,getCalciteIconForAttachment as a}from\"../Attachments/support/attachmentUtils.js\";import i from\"./Grid/Column.js\";import{css as r}from\"./Grid/ColumnCSS.js\";import{renderingSanitizer as l}from\"../support/widgetUtils.js\";const c=\"esri-attachments-column\",h={contentContainer:`${c}__content`,showAttachmentsButton:`${c}__button`};let m=class extends i{constructor(t){super(t),this._buttonElements=new e,this._thumbnailElements=new e,this.attachmentsViewEnabled=!0,this.cellValueFormatFunction=({root:t,rowData:e})=>{const{_showAttachmentsViewEnabled:n,formatFunction:o}=this,s=this.getCellValue(e);if(o&&e){const{index:n,item:{attachments:a,feature:i,relatedRecords:r}}=e;return o({attachments:a,column:this,feature:i,index:n,relatedRecords:r,value:s,virtualIndex:this.getVirtualRowIndex(t)})}if(!e)return s;const{index:a,item:{attachments:i,objectId:r}}=e,l=`(${s})`;if(!this.thumbnailsEnabled&&!n)return s;const c=document.createElement(\"span\");c.textContent=c.title=l;let m=null;if(this.thumbnailsEnabled&&(m=this._createOrSyncThumbnails(r,i??[])),this._showAttachmentsViewEnabled){const t=document.createElement(\"div\");m&&t.appendChild(m),t.appendChild(c);const e=this._createOrSyncShowAttachmentsButton(r,a);return e.appendChild(t),e}const u=document.createElement(\"div\");return u.classList.add(h.contentContainer),m&&u.appendChild(m),u.appendChild(c),u},this.icon=\"attachment\",this.layer=null,this.onShowAttachments=null,this.sortable=!1,this.store=null,this.textAlign=\"center\",this.thumbnailAppearance=\"image\",this.thumbnailCount=8,this.thumbnailIconScale=\"m\",this.thumbnailsEnabled=!0}get _showAttachmentsViewEnabled(){return!(!this.attachmentsViewEnabled||!this.onShowAttachments)}get _supportsResize(){return!!this.store?.supportsResizeAttachments}get effectiveLabel(){return l.sanitize(this.label??(this.messages?.attachments||this.fieldName))}getCellValue(t){return t?.item?.attachments?.length??0}_createOrSyncThumbnails(t,e){const n=document.createElement(\"div\"),o=this._thumbnailElements.get(t);return o?.length&&o.length===e.length?o.forEach((t=>n.appendChild(t))):this._thumbnailElements.set(t,this._createThumbnailElements(e,n)),n}_createOrSyncShowAttachmentsButton(t,e){const n=this._buttonElements.get(t);if(n)return n.textContent=\"\",n.onclick=n=>this._onShowAttachmentsClick({index:e,objectId:t,event:n}),n;const o=this.createCalciteButton({alignment:\"icon-end-space-between\",className:`${h.showAttachmentsButton} ${r.contentFull}`,iconEnd:\"chevron-right\",iconFlipRtl:\"both\",scale:this.thumbnailIconScale,textContent:\"\",title:this.messages?.viewAttachments,width:\"full\",onclick:n=>this._onShowAttachmentsClick({index:e,objectId:t,event:n})});return this._buttonElements.set(t,o),o}_createThumbnailAnchor({name:t,url:e},n){const o=document.createElement(\"a\");return o.href=`${e}`,o.download=t,o.rel=\"noreferrer\",o.target=\"_blank\",o.appendChild(n),o}_createThumbnailElements(t,e){const{thumbnailAppearance:n,thumbnailCount:o,thumbnailIconScale:i}=this,r=[],l=Math.min(o,t.length),c=!this.onShowAttachments,h=\"image\"===n&&!!this.store?.supportsResizeAttachments;for(let m=0;m<l;m++){const n=t[m],{name:o,contentType:l}=n,u=s(l)&&h?this._createThumbnailImage(n):this.createCalciteIcon({icon:a(l),scale:i,textLabel:o}),p=c?this._createThumbnailAnchor(n,u):u;e&&e.appendChild(p),r.push(p)}return r}_createThumbnailImage(t){const{name:e,size:n,url:o}=t,s=document.createElement(\"img\"),a=`${o}${o?.includes(\"?\")?\"&\":\"?\"}${this._supportsResize?\"w=24\":\"\"}&fs=${n}`;return s.alt=this.messages?.attachmentThumbnail??e,s.src=a,s.title=e,s}_onShowAttachmentsClick({index:t,objectId:e,event:n}){n.preventDefault(),n.stopPropagation(),this.onShowAttachments?.({index:t,objectId:e})}};t([n()],m.prototype,\"_showAttachmentsViewEnabled\",null),t([n()],m.prototype,\"_buttonElements\",void 0),t([n()],m.prototype,\"_supportsResize\",null),t([n()],m.prototype,\"_thumbnailElements\",void 0),t([n()],m.prototype,\"attachmentsViewEnabled\",void 0),t([n()],m.prototype,\"cellValueFormatFunction\",void 0),t([n()],m.prototype,\"effectiveLabel\",null),t([n()],m.prototype,\"icon\",void 0),t([n()],m.prototype,\"layer\",void 0),t([n()],m.prototype,\"onShowAttachments\",void 0),t([n({readOnly:!0})],m.prototype,\"sortable\",void 0),t([n()],m.prototype,\"store\",void 0),t([n()],m.prototype,\"textAlign\",void 0),t([n()],m.prototype,\"thumbnailAppearance\",void 0),t([n()],m.prototype,\"thumbnailCount\",void 0),t([n()],m.prototype,\"thumbnailIconScale\",void 0),t([n()],m.prototype,\"thumbnailsEnabled\",void 0),m=t([o(\"esri.widgets.FeatureTable.AttachmentsColumn\")],m);const u=m;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import r from\"./ColumnTemplateBase.js\";let s=class extends r{constructor(t){super(t),this.attachmentsViewEnabled=!0,this.icon=\"attachment\",this.sortable=!1,this.textAlign=\"center\",this.thumbnailAppearance=\"image\",this.thumbnailCount=8,this.thumbnailsEnabled=!0,this.thumbnailIconScale=\"m\",this.type=\"attachment\"}};t([o()],s.prototype,\"attachmentsViewEnabled\",void 0),t([o()],s.prototype,\"icon\",void 0),t([o()],s.prototype,\"sortable\",void 0),t([o()],s.prototype,\"textAlign\",void 0),t([o()],s.prototype,\"thumbnailAppearance\",void 0),t([o()],s.prototype,\"thumbnailCount\",void 0),t([o()],s.prototype,\"thumbnailsEnabled\",void 0),t([o()],s.prototype,\"thumbnailIconScale\",void 0),t([o({type:String,json:{read:!1,write:!0}})],s.prototype,\"type\",void 0),s=t([e(\"esri.widgets.FeatureTable.support.AttachmentsColumnTemplate\")],s);const a=s;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import r from\"./ColumnTemplateBase.js\";let s=class extends r{constructor(o){super(o),this.collapsed=!1,this.icon=\"link\",this.relationshipId=null,this.sortable=!1,this.textAlign=\"center\",this.type=\"relationship\"}};o([t()],s.prototype,\"collapsed\",void 0),o([t()],s.prototype,\"icon\",void 0),o([t()],s.prototype,\"relationshipId\",void 0),o([t()],s.prototype,\"sortable\",void 0),o([t()],s.prototype,\"textAlign\",void 0),o([t({type:String,json:{read:!1,write:!0}})],s.prototype,\"type\",void 0),s=o([e(\"esri.widgets.FeatureTable.support.RelationshipColumnTemplate\")],s);const p=s;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/arrayUtils.js\";import t from\"../../../tables/elements/AttributeTableAttachmentElement.js\";import i from\"../../../tables/elements/AttributeTableFieldElement.js\";import n from\"../../../tables/elements/AttributeTableGroupElement.js\";import r from\"../../../tables/elements/AttributeTableRelationshipElement.js\";import l from\"./AttachmentsColumnTemplate.js\";import{isGroupColumn as o,isFieldColumn as s,isRelationshipColumn as m,isAttachmentsColumn as a}from\"./columnUtils.js\";import p from\"./FieldColumnTemplate.js\";import f from\"./GroupColumnTemplate.js\";import c from\"./RelationshipColumnTemplate.js\";function d(t,i){const n=[];return t?.forEach((t=>{const{description:r,label:l,type:o}=t;if(\"group\"===o){const o=t.elements.map((e=>u(e,i))).filter(e);if(!o?.length)return;n.push(new f({description:r,columnTemplates:o,label:l}))}else{const e=u(t,i);if(!e)return;n.push(e)}})),n}function u(e,t){const{description:i,label:n,type:r}=e;if(\"field\"===r){const r=e.fieldName??void 0,l=t.findIndex((e=>e.field&&e.field===r)),o=l>-1?t.at(l)?.order:void 0;return new p({description:i,direction:o,fieldName:r,initialSortPriority:l,label:n})}return\"attachment\"===r?new l({description:i,label:n}):\"relationship\"===r?new c({description:i,label:n,relationshipId:e.relationshipId}):void 0}function b(t){const i=[];return t.forEach((t=>{const{description:r,label:l,hidden:s}=t;if(o(t)){if(s)return;const o=t.columns?.map((e=>h(e))).filter(e);if(!o?.length)return;i.push(new n({description:r,elements:o,label:l}))}else{const e=h(t);if(!e)return;i.push(e)}})),i}function h(e){const{fieldName:n,description:l,hidden:o,label:p}=e;if(s(e)){if(!o)return new i({description:l,fieldName:n,label:p})}else if(m(e)){if(!o)return new r({description:l,label:p,relationshipId:e.relationshipId})}else if(a(e)&&!o)return new t({description:l,label:p})}export{b as createAttributeTableElements,d as createColumnTemplates,h as createNestedAttributeTableElement,u as createNestedColumnTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as e}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"./ColumnTemplateBase.js\";import{EditableColumnTemplateMixin as s}from\"./EditableColumnTemplateMixin.js\";let p=class extends(s(t)){constructor(o){super(o),this.type=\"column\"}};o([r({type:String,json:{read:!1,write:!0}})],p.prototype,\"type\",void 0),p=o([e(\"esri.widgets.FeatureTable.support.ColumnTemplate\")],p);const m=p;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{substitute as i}from\"../../intl/substitute.js\";import r from\"./Grid/Column.js\";import{css as s}from\"./Grid/ColumnCSS.js\";import{isIFeatureTableSupportedLayerWithRelationships as l,findRelationship as n}from\"./support/tableUtils.js\";const a={showRecordsButton:\"esri-column__show-related-records-button\"};let p=class extends r{constructor(t){super(t),this.flexGrow=1,this.icon=\"link\",this.layer=null,this.relatedLayer=null,this.relationshipId=null,this.renderFunction=({root:t,rowData:e})=>{if(!e)return;const o=e.item,{layer:r,relatedLayer:n}=this;if(!o?.feature||!l(r)||!l(n))return;const{messages:p}=this,{index:c}=e,{feature:d,objectId:h}=o,{collapsed:u,showRelatedTableCallback:b,relationshipId:m}=this,y=o.relatedRecords,f=y?.find((t=>t.relationshipId===m))?.count??0,C=!u&&b&&p?.recordsCount?i(p.recordsCount,{count:f}):`${f}`,g=t=>{t.preventDefault(),u||this.showRelatedTableCallback?.({feature:d,index:c,layer:r,objectId:h,relatedLayer:n,relationshipId:m})},w=u?\"\":\"chevron-right\";if(t.firstChild){const e=t.firstChild;return e.textContent=C,e.onclick=g,void(e.iconEnd=w)}const v=this.createCalciteButton({className:`${a.showRecordsButton} ${s.contentFull}`,iconEnd:w,iconFlipRtl:\"both\",scale:\"m\",textContent:C,title:C,onclick:g});this.removeCellContent(t),t.appendChild(v)},this.resizable=!0,this.showRelatedTableCallback=null,this.textAlign=\"center\",this.width=\"200px\"}get _relationshipLabel(){return this.label||this.originRelationship?.name||this.layer.title||\"\"}get collapsed(){return this._get(\"collapsed\")||!1}set collapsed(t){t?this.set({flexGrow:0,resizable:!1,width:\"80px\"}):this.set({flexGrow:1,resizable:!0,width:\"200px\"}),this._set(\"collapsed\",t)}get effectiveLabel(){return this.collapsed?\"\":this._relationshipLabel}get iconNode(){const{icon:t}=this;return t?this.createCalciteIcon({icon:t,textLabel:this._relationshipLabel}):null}get originRelationship(){const t=this.relationshipId;return this.relatedLayer.relationships?.find((({id:e})=>e===t))}get relationship(){return n(this.layer,this.relationshipId)}};t([e()],p.prototype,\"_relationshipLabel\",null),t([e()],p.prototype,\"collapsed\",null),t([e()],p.prototype,\"effectiveLabel\",null),t([e()],p.prototype,\"flexGrow\",void 0),t([e()],p.prototype,\"icon\",void 0),t([e()],p.prototype,\"iconNode\",null),t([e()],p.prototype,\"layer\",void 0),t([e()],p.prototype,\"originRelationship\",null),t([e()],p.prototype,\"relatedLayer\",void 0),t([e()],p.prototype,\"relationship\",null),t([e()],p.prototype,\"relationshipId\",void 0),t([e()],p.prototype,\"renderFunction\",void 0),t([e()],p.prototype,\"resizable\",void 0),t([e()],p.prototype,\"showRelatedTableCallback\",void 0),t([e()],p.prototype,\"textAlign\",void 0),t([e()],p.prototype,\"width\",void 0),p=t([o(\"esri.widgets.FeatureTable.RelationshipColumn\")],p);const c=p;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./Grid/Column.js\";import{css as r}from\"./Grid/ColumnCSS.js\";import{uniqueColumnNames as s}from\"./support/tableUtils.js\";const n={action:\"esri-column__action\"};let a=class extends i{constructor(o){super(o),this.autoWidth=!1,this.callback=()=>{},this.fieldName=s.action,this.flexGrow=0,this.frozenToEnd=!0,this.disabled=null,this.headerRenderFunction=()=>{},this.icon=\"pencil\",this.renderFunction=({root:o,rowData:t})=>{if(!t)return;const{index:e,item:{feature:i}}=t,{callback:s,disabled:a,icon:d,effectiveLabel:c}=this,l=a instanceof Function?a({feature:i,index:e}):!!a,p=o=>{o.stopPropagation(),s({index:e,feature:i,native:o})};if(o.firstChild){const t=o.firstChild;return t.disabled=l,t.icon=d,t.text=c,void(t.onclick=p)}const u=this.createCalciteAction({alignment:\"center\",className:`${n.action} ${r.contentFull}`,disabled:l,icon:d,text:c,onclick:p});this.removeCellContent(o),o.appendChild(u)},this.resizable=!1,this.sortable=!1,this.width=\"50px\"}};o([t({readOnly:!0})],a.prototype,\"autoWidth\",void 0),o([t()],a.prototype,\"callback\",void 0),o([t({readOnly:!0})],a.prototype,\"fieldName\",void 0),o([t({readOnly:!0})],a.prototype,\"flexGrow\",void 0),o([t()],a.prototype,\"frozenToEnd\",void 0),o([t()],a.prototype,\"disabled\",void 0),o([t()],a.prototype,\"headerRenderFunction\",void 0),o([t()],a.prototype,\"icon\",void 0),o([t()],a.prototype,\"renderFunction\",void 0),o([t({readOnly:!0})],a.prototype,\"resizable\",void 0),o([t({readOnly:!0})],a.prototype,\"sortable\",void 0),o([t({readOnly:!0})],a.prototype,\"width\",void 0),a=o([e(\"esri.widgets.FeatureTable.ActionColumn\")],a);const d=a;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import{property as e}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{types as r}from\"../../../form/elements/inputs.js\";const s=s=>{let i=class extends s{constructor(){super(...arguments),this.editable=!0,this.hint=null,this.input=null,this.required=!1}};return t([e({type:Boolean,json:{write:!0}})],i.prototype,\"editable\",void 0),t([e({type:String,json:{write:!0}})],i.prototype,\"hint\",void 0),t([e({types:r,json:{read:{source:\"inputType\"},write:{target:\"inputType\"}}})],i.prototype,\"input\",void 0),t([e()],i.prototype,\"required\",void 0),i=t([o(\"esri.widgets.FeatureTable.support.EditableColumnTemplateMixin\")],i),i};export{s as EditableColumnTemplateMixin};\n"],"names":["_window","window","Vaadin","_window$Vaadin","featureFlags","experimentalMap","defineCustomElement","CustomElement","version","arguments","length","undefined","Object","defineProperty","get","experimental","featureFlagKey","concat","is","split","slice","join","replace","m","toUpperCase","Set","add","size","set","value","forEach","elementClass","customElements","define","clear","defined","definedVersion","console","warn","error","Lumo","HTMLElement","ThemePropertyMixin","superClass","properties","_theme","type","String","readOnly","observedAttributes","super","attributeChangedCallback","name","oldValue","newValue","this","_set_theme","themeRegistry","themableInstances","themableTagNames","classHasThemes","prototype","hasOwnProperty","call","matchesThemeFor","themeFor","tagName","some","themeForToken","RegExp","test","getCssText","styles","map","style","cssText","STYLE_ID","updateInstanceStylesOfType","componentClass","ref","instance","deref","shadowRoot","constructor","LitElement","querySelectorAll","remove","adoptStyles","elementStyles","getElementById","template","_template","textContent","content","updateInstanceStyles","delete","updateComponentStyles","finalizeStyles","getStylesForThis","inheritingTagName","inheritingClass","registerStyles","options","flat","Infinity","filter","CSSResult","flattenStyles","styleModules","push","include","moduleId","hasThemes","themes","__themes","theme","themeStyle","hasMatchingStyle","suppressPostFinalizeStylesWarning","getAllThemes","getIncludePriority","moduleName","includePriority","startsWith","getIncludedStyles","includedStyles","includeModuleId","includedTheme","find","s","getThemes","defaultModuleName","_objectSpread","sort","themeA","themeB","ThemableMixin","WeakRef","finalize","styleEl","document","createElement","id","appendChild","addStylesToTemplate","themeStyles","superClassThemes","parent","getPrototypeOf","inheritedThemes","flatMap","index","lastIndexOf","addLumoGlobalStyles","_len","Array","_key","styleTag","toString","head","insertAdjacentElement","addGlobalThemeStyles","css","_templateObject","_taggedTemplateLiteral","_templateObject2","font","JSCompiler_renameProperty","prop","obj","workingURL","resolveDoc","CSS_URL_RX","ABS_URL","resolveUrl","url","baseURI","u","URL","pathname","href","e","location","implementation","createHTMLDocument","base","anchor","body","resolveCss","pre","post","pathFromUrl","substring","useShadow","ShadyDOM","inUse","supportsAdoptingStyleSheets","Boolean","ShadyCSS","nativeCss","polyfillWrapFlushCallback","Document","CSSStyleSheet","sheet","replaceSync","host","attachShadow","mode","adoptedStyleSheets","rootPath","Polymer","sanitizeDOMValue","setPassiveTouchGestures","strictTemplatePolicy","allowTemplateFromDomModule","legacyOptimizations","legacyWarnings","syncInitialRender","legacyUndefined","orderedComputed","cancelSyntheticClickEvents","removeNestedTemplates","fastDomIf","suppressTemplateNotifications","legacyNoObservedAttributes","useAdoptedStyleSheetsWithBuiltCSS","dedupeId","MixinFunction","__mixinApplications","__mixinSet","dedupingMixin","mixin","mixinApplications","WeakMap","mixinDedupeId","baseSet","extended","mixinSet","create","modules","lcModules","setModule","module","toLowerCase","findModule","DomModule","import","selector","querySelector","old","namespace","register","assetpath","__assetpath","owner","HTMLImports","importForElement","ownerDocument","getAttribute","Error","inst","SHADY_UNSCOPED_ATTR","importModule","styleForImport","importDoc","importCss","stylesFromModules","moduleIds","trim","i","stylesFromModule","_styles","_stylesFromModuleImports","stylesFromTemplate","e$","item","self","indexOf","p$","p","unscoped","hasAttribute","_unscopedStyle","setAttribute","_style","wrap","n","isPath","path","root","dotIndex","isAncestor","isDescendant","translate","newBase","normalize","isArray","parts","args","j","info","last","caseMap","DASH_TO_CAMEL","CAMEL_TO_DASH","dashToCamelCase","dash","camelToDashCase","camel","microtaskCurrHandle","microtaskLastHandle","microtaskCallbacks","microtaskNodeContent","microtaskScheduled","microtaskNode","createTextNode","MutationObserver","len","cb","setTimeout","splice","observe","characterData","microtask","run","callback","cancel","handle","idx","PropertiesChanged","createProperties","props","proto","_createPropertyAccessor","attributeNameForProperty","property","typeForProperty","_addPropertyToAttributeMap","__dataHasAccessor","assign","_definePropertyAccessor","__dataAttributes","attr","__data","_setPendingProperty","_invalidateProperties","__dataEnabled","__dataReady","__dataInvalid","__dataPending","__dataOld","__dataInstanceProps","__dataCounter","__serializing","_initializeProperties","ready","_flushProperties","_initializeInstanceProperties","_setProperty","_getProperty","ext","changed","_shouldPropertyChange","_isPropertyPending","_enableProperties","changedProps","_shouldPropertiesChange","_propertiesChanged","currentProps","oldProps","_attributeToProperty","attribute","_deserializeValue","_propertyToAttribute","_valueToNodeAttribute","node","str","_serializeValue","removeAttribute","trustedTypes","Number","nativeProperties","getOwnPropertyNames","isTrustedType","val","isHTML","isScript","isScriptURL","PropertyAccessors","createPropertiesForAttributes","a$","__dataProto","_initializeProtoProperties","_ensureAttribute","el","Date","JSON","stringify","x","outValue","parse","isNaN","model","saveAccessorValue","_hasAccessor","templateExtensions","placeholderBugDetect","placeholderBug","fixPlaceholder","t","placeholder","hasPlaceholderBug","localName","copyAttributeWithTemplateEventPolicy","polymerTemplateEventAttributePolicy","createPolicy","createScript","dest","src","wrapTemplateExtension","parentNode","replaceChild","attributes","findTemplateNode","nodeInfo","parentInfo","firstChild","nextSibling","parentIndex","applyIdToMap","applyEventListener","events","_addMethodEventListenerToNode","applyTemplateInfo","parentTemplateInfo","templateInfo","_templateInfo","_parentTemplateInfo","TemplateStamp","_parseTemplate","outerTemplateInfo","nodeInfoList","nestedTemplate","stripWhiteSpace","_parseTemplateContent","_parseTemplateNode","noted","element","hasInsertionPoint","_parseTemplateNestedTemplate","_parseTemplateChildNodes","hasAttributes","_parseTemplateNodeAttributes","next","nodeType","Node","TEXT_NODE","removeChild","childInfo","infoIndex","createDocumentFragment","attrs","from","a","_parseTemplateNodeAttribute","_contentForTemplate","_stampTemplate","HTMLTemplateElement","decorate","dom","importNode","__noInsertionPoint","nodes","nodeList","$","l","eventName","methodName","context","handler","_methodHost","detail","createNodeEventHandler","_addEventListenerToNode","addEventListener","_removeEventListenerFromNode","removeEventListener","NOOP","TYPES","COMPUTE","REFLECT","NOTIFY","PROPAGATE","OBSERVE","READ_ONLY","COMPUTE_INFO","capitalAttributeRegex","ensureOwnEffectMap","cloneArrays","effects","protoFx","instFx","runEffects","hasPaths","extraArgs","ran","fxs","fx","lastRun","pathMatchesTrigger","trigger","fn","runEffectsForProperty","triggerPath","structured","wildcard","runObserverEffect","method","changedProp","dynamicFn","notifyPath","rootProperty","dispatchNotifyEvent","queueProperty","dispatchEvent","CustomEvent","runNotifyEffect","runReflectEffect","attrName","runComputedEffects","computeEffects","order","ordered","__orderedComputedDeps","Map","curr","counts","total","infoForComputed","computedDeps","literal","dependencyCounts","shift","computedByCurr","computedProp","methodInfo","getComputedOrder","queue","enqueueEffectsFor","runComputedEffect","inputProps","insertEffect","start","end","mid","cmp","result","runMethodEffect","addBinding","kind","target","bindings","binding","isCompound","shouldAddListener","event","negate","listenerEvent","listenerNegate","part","compoundIndex","addEffectForBindingPart","dependencies","evaluator","parseArg","_addTemplatePropertyEffect","runBindingEffect","source","__isPropertyEffectsClient","_setPendingPropertyOrPath","_enqueueClient","_evaluateBinding","storage","__dataCompoundStorage","computeBindingValue","_setUnmanagedPropertyToNode","applyBindingValue","setupCompoundStorage","literals","addNotifyListener","fromProp","toPath","fromPath","currentTarget","handleNotification","createMethodEffect","sig","effectFn","static","arg","_addPropertyEffect","_marshalArgs","apply","emptyArray","IDENT","ARGUMENT","bindingRegex","OPEN_BRACKET","literalFromParts","parseMethod","expression","match","argList","rawArg","parseArgs","fc","getArgValue","data","notifySplices","array","splices","splicesData","indexSplices","_overrideLegacyUndefined","notifySplice","addedCount","removed","object","PropertyEffects","propertyEffectsBase","__dataClientsReady","__dataPendingClients","__dataToNotify","__dataLinkedPaths","__dataHasPaths","__dataHost","__dataTemp","__dataClientsInitialized","__computeEffects","__computeInfo","__reflectEffects","__notifyEffects","__propagateEffects","__observeEffects","__readOnly","__templateInfo","PROPERTY_EFFECT_TYPES","_registerHost","hostStack","effect","_removePropertyEffect","_hasPropertyEffect","_hasReadOnlyEffect","_hasNotifyEffect","_hasReflectEffect","_hasComputedEffect","shouldNotify","isPathNotification","links","link","b","computeLinkedPaths","propIsPath","prevProps","client","_flushClients","__enableOrFlushClients","_readyClients","clients","setProperties","setReadOnly","notifyProps","_propagatePropertyChanges","notified","runNotifyEffects","_runEffectsForTemplate","baseRunEffects","propertyEffects","linkPaths","to","unlinkPaths","items","ret","pop","hadLength","deleteCount","_len2","_key2","Math","floor","unshift","_len3","_key3","propPath","_createReadOnlyProperty","protectedSetter","_createPropertyObserver","_createMethodObserver","_createNotifyingProperty","_createReflectedProperty","_createComputedProperty","values","matches","pathValue","addPropertyEffect","createPropertyObserver","createMethodObserver","createNotifyingProperty","createReadOnlyProperty","createReflectedProperty","createComputedProperty","bindTemplate","_bindTemplate","instanceBinding","wasPreBound","__preBoundTemplateInfo","previous","lastChild","previousSibling","hostProps","childNodes","setupBindings","_removeBoundDom","_parseBindings","origName","nestedTemplateInfo","isDomIf","isDomRepeat","hostProp","text","lastIndex","exec","customEvent","notifyEvent","colon","signature","dynamicFns","registrations","PropertiesMixin","superPropertiesClass","superCtor","ownProperties","output","o","normalizeProperties","__ownProperties","_properties","__observedAttributes","keys","__finalized","_finalizeClass","__properties","connectedCallback","disconnectedCallback","builtCSS","ElementMixin","polymerElementBase","createPropertyFromConfig","allProps","computed","reflectToAttribute","notify","observer","processElementStyles","klass","templateStyles","stylesWithImports","linkedStyles","stylesFromModuleImports","firstTemplateChild","firstElementChild","_processStyleText","insertBefore","templateStyleIndex","templateStyle","cloneNode","prepareTemplate","_styleSheet","polymerElementVersion","observers","__ownObservers","createObservers","_prepareTemplate","protoTemplate","getTemplateFromDomModule","importPath","meta","importMeta","_importPath","_finalizeTemplate","__propertyDefaults","propertyDefaults","_canApplyPropertyDefault","__polymerFinalized","styleElement","_attachDom","shadyUpgradeFragment","flushInitial","updateStyles","styleSubtree","policy","createHTML","LiteralString","strings","assertValidTemplateStringParameters","string","reduce","acc","v","literalValue","html","innerHTML","htmlValue","raw","TypeError","PolymerElement","timeOut","after","delay","clearTimeout","animationFrame","requestAnimationFrame","cancelAnimationFrame","idlePeriod","requestIdleCallback","cancelIdleCallback","microTask","queueMicrotask","microtaskFlush","debouncerQueue","Debouncer","debounce","debouncer","asyncModule","_cancelAsync","setConfig","_asyncModule","_callback","_timer","isActive","flush","enqueueDebouncer","flushDebouncers","didFlush","debouncers","directionSubscribers","alignDirs","documentDir","elementDir","getDocumentDir","documentElement","attributeFilter","DirMixin","dir","converter","fromAttribute","toAttribute","__isRTL","__restoreSubscription","__subscribe","newValueEqlDocDir","newValueEmptied","newDiffValue","__unsubscribe","includes","processTemplates","component","templateRendererCallback","getClosestElement","closest","getRootNode","deserializeAttributeValue","serializeAttributeValue","addValueToAttribute","removeValueFromAttribute","getBodyRowCells","row","__cells","iterateChildren","container","children","iterateRowCells","__detailsCell","updateColumnOrders","columns","scope","baseOrder","c","column","_order","updateState","toggleAttribute","updatePart","updateCellsPart","cells","cell","updateBooleanRowStates","states","entries","_ref","state","rowPart","updateStringRowStates","_ref2","prevValue","prevRowPart","updateCellState","oldPart","ColumnObserver","__host","__callback","__currentSlots","__onMutation","bind","__observer","childList","__initialCallDebouncer","disconnect","__toggleSlotChangeListeners","slot","initialCall","__currentColumns","getColumns","addedColumns","removedColumns","orderChanged","child","HTMLSlotElement","__isColumnElement","ELEMENT_NODE","isColumnElement","_isColumnElement","assignedElements","flatten","assignedElement","ColumnBaseMixin","resizable","sync","frozen","frozenToEnd","rowHeader","hidden","header","textAlign","headerPartName","footerPartName","_lastFrozen","_bodyContentHidden","_firstFrozenToEnd","_reorderStatus","_emptyCells","_headerCell","_footerCell","_grid","__initialized","headerRenderer","Function","_headerRenderer","footerRenderer","_footerRenderer","__gridColumnElement","_gridValue","_findHostGrid","_allCells","_cells","_content","assignedSlot","_renderHeaderAndFooter","_renderHeaderCellContent","_renderFooterCellContent","_flexGrowChanged","flexGrow","parentElement","_columnPropChanged","_orderChanged","_widthChanged","width","_frozenChanged","_frozenCellsChanged","_frozenToEndChanged","sizer","_lastFrozenChanged","lastFrozen","_firstFrozenToEndChanged","firstFrozenToEnd","_rowHeaderChanged","_generateHeader","substr","_reorderStatusChanged","reorderStatus","prevStatus","__previousReorderStatus","newPart","_resizableChanged","headerCell","existingHandle","_textAlignChanged","textAlignFallback","getComputedStyle","direction","_hiddenChanged","_previousHidden","_debouncerHiddenChanged","_renderColumnTree","_columnTree","_debounceUpdateFrozenColumn","_resetKeyboardNavigation","_runRenderer","renderer","isVisibleBodyCell","__renderCellsContent","__getRowModel","_renderer","_clearCellContent","_$litPart$","__debounceUpdateHeaderFooterRowVisibility","_onHeaderRendererOrBindingChanged","__headerFooterPartNameChanged","footerCell","partName","customParts","__customParts","_renderBodyCellsContent","_onRendererOrBindingChanged","_onFooterRendererOrBindingChanged","__setTextContent","__textHeaderRenderer","_defaultHeaderRenderer","_defaultRenderer","_owner","_defaultFooterRenderer","_computeHeaderRenderer","_computeRenderer","_computeFooterRenderer","GridColumn","autoWidth","_focusButtonMode","GridColumnMixin","ControllerMixin","addController","__controllers","hostConnected","hostDisconnected","controller","isConnected","removeController","DEV_MODE_CODE_REGEXP","FlowClients","Flow","uncommentAndRun","log","runIfDevelopmentMode","developmentMode","maybeGatherAndSendStats","localStorage","getItem","hostname","key","productionMode","isDevelopmentMode","statsJob","developmentModeCallback","registered","has","doctype","keyboardActive","isKeyboardActive","isElementHiddenDirectly","visibility","display","computedStyle","isElementHidden","offsetParent","clientWidth","clientHeight","isElementFocusable","capture","DisabledMixin","superclass","disabled","_disabledChanged","_setAriaDisabled","click","TabindexMixin","tabindex","_lastTabIndex","oldDisabled","_tabindexChanged","testUserAgent","regexp","navigator","userAgent","testPlatform","platform","isAndroid","isChrome","vendor","isFirefox","isIPad","maxTouchPoints","isIOS","isSafari","isTouch","createEvent","_","ShadowRoot","SlotObserver","_storedNodes","_connected","_scheduled","_boundSchedule","_schedule","connect","_processNodes","currentNodes","assignedNodes","addedNodes","removedNodes","movedNodes","uniqueId","SlotController","EventTarget","generateId","slotName","config","initializer","multiple","useUniqueId","uniqueIdPrefix","slotInitializer","defaultId","initialized","initMultiple","initSingle","observeSlot","getSlotChild","initAddedNode","attachDefaultNode","initNode","getSlotChildren","defaultNode","Element","initCustomNode","_node","teardownNode","__slotObserver","current","newNodes","isEmptyTextNode","TooltipController","setTarget","tooltipNode","ariaTarget","manual","opened","position","_position","shouldShow","__notifyChange","setAriaTarget","setContext","setManual","setOpened","setPosition","setShouldShow","IOS","IOS_TOUCH_SCROLLING","ironList","_ratio","_scrollerPaddingTop","_scrollPosition","_physicalSize","_physicalAverage","_physicalAverageCount","_physicalTop","_virtualCount","_estScrollHeight","_scrollHeight","_viewportHeight","_viewportWidth","_physicalItems","_physicalSizes","_firstVisibleIndexVal","_lastVisibleIndexVal","_maxPages","_templateCost","_physicalBottom","_scrollBottom","_virtualEnd","_virtualStart","_physicalCount","_hiddenContentSize","_maxScrollTop","_scrollOffset","_maxVirtualStart","virtualCount","max","_virtualStartVal","_clamp","_physicalStart","_physicalStartVal","_physicalEnd","_physicalCountVal","_optPhysicalSize","_isVisible","offsetWidth","offsetHeight","firstVisibleIndex","physicalOffset","_iterateItems","pidx","vidx","_getPhysicalSizeIncrement","lastVisibleIndex","scrollOffset","_scrollHandler","scrollTop","min","_scrollTop","delta","isScrollingDown","abs","idxAdjustment","round","_update","reusables","_getReusables","physicalTop","indexes","_debounce","_increasePoolIfNeeded","fromTop","ith","offsetContent","physicalItemHeight","idxs","protectedOffsetContent","virtualStart","virtualEnd","physicalCount","top","bottom","scrollBottom","itemSet","movingUp","_assignModels","_updateMetrics","_positionItems","_updateScrollerSize","_isClientFull","count","nextIncrease","ts","performance","now","_createPool","_isIndexRendered","_focusedVirtualIndex","_getPhysicalIndex","_render","isAttached","updateViewportBoundaries","_itemsChanged","change","_physicalIndexForKey","_resetScrollPosition","rtn","_computeVidx","_adjustScrollPosition","y","translate3d","deltaHeight","pos","scrollTarget","forceUpdate","estScrollHeight","height","scrollToIndex","currentTopItem","currentVirtualItem","targetOffsetTop","hiddenContentSize","_resetAverage","_resizeHandler","toggleScrollListener","_debouncers","OFFSET_ADJUST_MIN_THRESHOLD","IronListAdapter","createElements","updateElement","scrollContainer","elementsContainer","reorderElements","_vidxOffset","__placeholderHeight","__elementHeightQueue","timeouts","SCROLL_REORDER","IGNORE_WHEEL","FIX_INVALID_ITEM_POSITIONING","__resizeObserver","ResizeObserver","overflow","contentRect","isHidden","__scrollTargetHidden","_scrollLineHeight","_getScrollLineHeight","__onWheel","__onElementFocused","__getFocusedElement","__mouseDown","__pendingReorder","__reorderElements","adjustedFirstVisibleIndex","adjustedLastVisibleIndex","_maxVirtualIndexOffset","__hasPlaceholders","__getVisibleElements","__virtualizerPlaceholder","__pendingScrollToIndex","visibleElementCount","targetVirtualIndex","__skipNextVirtualIndexAdjust","grid","__getIndexScrollOffset","__fixInvalidItemPositioningDebouncer","__scrollReorderDebouncer","__debouncerWheelAnimationFrame","update","startIndex","endIndex","updatedElements","__virtualIndex","__updateElement","__afterElementsUpdated","newPhysicalSize","oldPhysicalSize","prevAvgCount","prevPhysicalAvg","ceil","__getBorderBoxHeight","itemHeight","parseFloat","boxSizing","paddingBottom","paddingTop","borderBottomWidth","borderTopWidth","forceSameIndexUpdates","opacity","__preventElementUpdates","__lastUpdatedIndex","elementHeight","__placeholderClearDebouncer","filteredHeights","h","getBoundingClientRect","__size","fvi","fviOffsetBefore","fviOffsetAfter","parseInt","_isRTL","_scrollPageHeight","_updateGridMetrics","physicalItems","fragment","__clientFull","_x","_z","transform","contains","activeElement","__nextFocusableSiblingMissing","focusedElement","visibleElements","__previousFocusableSiblingMissing","reorderedVisibleElements","_adjustVirtualIndexOffset","__previousScrollTop","__fixInvalidItemPositioning","physicalTopBelowTop","physicalBottomAboveBottom","firstIndexVisible","lastIndexVisible","originalRatio","ctrlKey","_hasScrolledAncestor","deltaX","deltaY","deltaMode","WheelEvent","DOM_DELTA_LINE","DOM_DELTA_PAGE","_deltaYAcc","_wheelAnimationFrame","preventDefault","momentum","_canScroll","scrollLeft","_hasResidualMomentum","_ignoreNewWheel","_debouncerIgnoreNewWheel","_previousMomentum","scrollHeight","scrollWidth","missingItemCount","optPhysicalSize","__getItemHeightBuffer","bufferZoneHeight","maxItemHeight","fontSize","adjustedVirtualStart","targetElement","targetPhysicalIndex","maxOffset","scale","oldOffset","threshold","maxShift","setPrototypeOf","Virtualizer","__adapter","A11yMixin","accessibleName","_a11yGetHeaderRowCount","level","col","_a11yGetFooterRowCount","_a11yUpdateGridSize","bodyColumns","table","_a11yUpdateHeaderRows","_a11yUpdateFooterRows","headerRow","footer","footerRow","_a11yUpdateRowRowindex","_a11yUpdateRowSelected","selected","_a11yUpdateRowExpanded","__isRowExpandable","__isRowCollapsible","_a11yUpdateRowLevel","_a11ySetRowDetailsCell","detailsCell","_a11yUpdateCellColspan","colspan","_a11yUpdateSorters","sorter","cellContent","asc","desc","ActiveItemMixin","activeItem","scroller","_onClick","_activateItem","clickedItem","_itemsEqual","_shouldPreventCellActivationOnClick","_getGridEventLocation","defaultPrevented","emptystatecell","_isFocusable","HTMLLabelElement","isFocusable","checkPaths","arrayToCheck","action","normalizeEmptyValue","compare","createArrayDataProvider","allItems","params","filters","every","filterValueLowercase","sortOrders","sortOrder","multiSort","pageSize","page","ArrayDataProviderMixin","__setArrayDataProvider","arrayDataProvider","__items","_arrayDataProvider","dataProvider","_onDataProviderPageReceived","_flatSize","__dataProviderOrItemsChanged","clearCache","HAS_NATIVE_TA","touchAction","GESTURE_KEY","HANDLED_OBJ","TOUCH_ACTION","MOUSE_EVENTS","MOUSE_WHICH_TO_BUTTONS","MOUSE_HAS_BUTTONS","MouseEvent","buttons","isMouseEvent","supportsPassive","PASSIVE_TOUCH","opts","IS_TOUCH_ONLY","canBeDisabled","button","command","fieldset","input","keygen","optgroup","option","select","textarea","hasLeftMouseButton","ev","which","POINTERSTATE","mouse","mouseIgnoreJob","touch","scrollDecided","trackDocument","stateObj","movefn","upfn","untrackDocument","getComposedPath","noPatch","composedPath","gestures","recognizers","_findOriginalTarget","_handleNative","gobj","gs","changedTouches","touches","identifier","clientX","clientY","ta","firstTouchAction","shouldPrevent","dx","dy","cancelable","prevent","_handleTouchAction","handled","skip","r","flow","reset","addListener","evType","recognizer","deps","dep","gd","_count","setTouchAction","_add","recog","emits","emit","_fire","Event","bubbles","composed","preventer","sourceEvent","evName","_findRecognizerByEvent","downupFire","trackHasMovedEnough","started","trackFire","secondlast","moves","lastmove","ddx","ddy","hover","elementFromPoint","oldNext","deepTargetFind","trackForward","bcr","pageX","pageY","left","right","isSyntheticClick","mousedown","touchstart","touchend","addMove","move","ct","touchmove","NaN","ColumnReorderingMixin","columnReorderingAllowed","_orderBaseScope","_onTrackEvent","_reorderGhost","_onTouchStart","_onTouchMove","_onTouchEnd","_onContextMenu","_onTrackEnd","_startTouchReorderTimeout","_onTrackStart","_draggedColumn","_touchDevice","_onTrack","_cellFromPoint","_column","childElementCount","_setSiblingsReorderStatus","_updateGhost","_updateGhostPosition","_autoScroller","targetCell","targetColumn","_getTargetColumn","_isSwapAllowed","_isSwappableByPosition","columnTreeLevel","findIndex","levelColumnsInOrder","_getColumnsInOrder","_swapColumnOrders","_lastDragClientX","headerLevel","_getCellFromElement","_focusButton","eventClientX","eventClientY","ghostRect","targetLeft","targetTop","_left","_top","ghost","innerText","propertyName","_updateOrders","columnTree","status","sibling","rightDiff","leftDiff","column1","column2","differentColumns","sameParent","sameFrozen","sourceCellRect","targetRect","_updateFirstAndLastColumn","draggedColumn","candidate","ColumnResizingMixin","_onHeaderTrack","_childColumns","isRTL","eventX","columnRowCells","minWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","marginLeft","marginRight","maxWidth","cellWidth","cellRect","cellFrozenToEnd","_frozenToEndCells","frozenRect","offset","resizedColumn","getFlatIndexContext","cache","flatIndex","levelIndex","subCache","subCaches","parentCacheIndex","flatSize","getItemContext","targetItem","getItemId","levelFlatIndex","getSubCache","getFlatIndex","getFlatIndexByPath","subIndexes","flatIndexOnLevel","Cache","parentCache","_defineProperty","__flatSize","parentItem","__subCacheByIndex","isLoading","pendingRequests","effectiveSize","_this$items","_i","recalculateFlatSize","isExpanded","setPage","itemIndex","removeSubCache","removeSubCaches","createSubCache","clampedIndex","prev","getItemForIndex","getCacheAndIndex","scaledIndex","updateSize","ensureSubCacheForScaledIndex","__controller","__loadCachePage","itemCaches","DataProviderController","isPlaceholder","dataProviderParams","rootCache","__createRootCache","__cacheContext","setPageSize","setDataProvider","ensureFlatIndexLoaded","__isItemLoaded","ensureFlatIndexHierarchy","loadFirstPage","DataProviderMixin","loading","_hasData","itemHasChildrenPath","itemIdPath","expandedItems","__expandedKeys","_dataProviderController","_isExpanded","_mapSorters","_mapFilters","_onDataProviderPageRequested","_onDataProviderPageLoaded","_cache","_effectiveSize","_sizeChanged","__itemHasChildrenPathChanged","requestContentUpdate","_getItem","__updateLoading","_updateItem","_generateCellClassNames","_generateCellPartNames","_expandedItemsChanged","__updateVisibleRows","__computeExpandedKeys","_itemIdPath","expanded","expandedKeys","expandItem","collapseItem","_getIndexLevel","_loadPage","_setLoading","_shouldUpdateAllRenderedRowsAfterPageLoad","_getRenderedRows","_debouncerApplyCachedData","shouldUpdateAllRenderedRowsAfterPageLoad","__scrollToPendingIndexes","__dispatchPendingBodyCellFocus","__debounceClearCache","__clearCacheDebouncer","__virtualizer","_pageSizeChanged","oldPageSize","_checkSize","_dataProviderChanged","oldDataProvider","_ensureFirstPageLoaded","_debouncerCheckSize","item1","item2","_getItemIndexInArray","__pendingScrollToIndexes","targetIndex","_scrollToFlatIndex","DropMode","DropLocation","usesDnDPolyfill","DragAndDropMixin","dropMode","rowsDraggable","dragFilter","dropFilter","__dndAutoScrollThreshold","__draggedItems","__onDocumentDragStart","_onDragStart","_onDragEnd","_onDragOver","_onDragLeave","_onDrop","stopPropagation","_safari","rowRect","dataTransfer","setDragImage","rows","_isSelected","_item","__getViewportRows","setData","__formatDefaultTransferData","dragstart","setProperty","draggedItems","setDragData","setDraggedItemsCount","originalEvent","_clearDragStyles","_dropLocation","_dragOverItem","__dndAutoScroll","dropAbove","dragover","elements","originalInlineStyles","willChange","flexShrink","__dndAutoScrolling","headerBottom","footerTop","topDiff","bottomDiff","scrollTopDelta","__updateDragSourceParts","dragData","types","getData","dropTargetItem","dropLocation","_dragDropAccessChanged","filterDragAndDrop","_filterDragAndDrop","dragDisabled","dropDisabled","arrayEquals","arr1","arr2","DynamicColumnsMixin","_addNodeObserver","_hasColumnGroups","_getChildColumns","_flattenColumnGroups","_getColumnTree","rootColumns","_debounceUpdateColumnTree","__updateColumnTreeDebouncer","_updateColumnTree","columnArray","performUpdate","_observer","_addedColumns","allRemovedCells","filterNotConnected","__removeSorters","_sorters","__removeFilters","_filters","_debouncerCheckImports","_checkImports","elementName","_updateFirstAndLastColumnForRow","cellIndex","EventContextMixin","getEventContext","section","FilterMixin","_filterChanged","__addFilter","__applyFilters","filtersToRemove","isRow","HTMLTableRowElement","isCell","HTMLTableCellElement","isDetailsCell","KeyboardNavigationMixin","_headerFocusable","_itemsFocusable","_footerFocusable","_navigatingIsHidden","_focusedItemIndex","_focusedColumnOrder","_focusedCell","interacting","__rowFocusMode","focusable","_visibleItemsCount","_lastVisibleIndex","_firstVisibleIndex","_ios","_android","_onKeyDown","_onKeyUp","_onFocusIn","_onFocusOut","_onContentFocusIn","_isMousedown","_focusableChanged","oldFocusable","_updateGridSectionFocusTarget","_focusedCellChanged","focusedCell","oldFocusedCell","_interactingChanged","__updateItemsFocusable","wasFocused","__getFocusable","focus","keyGroup","_detectInteracting","__ensureFlatIndexInViewport","__scrollIntoViewport","_onNavigationKeyDown","activeRow","activeCell","currentRowIndex","__getIndexInGroup","backwardsKey","_onCellNavigation","activeRowCells","_onRowNavigation","dstRow","__navigateRows","bodyFallbackIndex","rowGroup","activeRowGroup","maxRowIndex","dstRowIndex","dstIsRowDetails","isRowDetails","dstItem","_isDetailsOpened","columnIndex","sizerCell","isCurrentCellRowDetails","_getColumns","dstColumns","dstSortedColumnOrders","maxOrderedColumnIndex","orderedColumnIndex","dstOrderedColumnIndex","columnIndexByOrder","dstColumnIndex","dstCell","dstSizerCell","_lazyColumns","__isColumnInViewport","scrollIntoView","__updateColumnsBodyContentHidden","__updateHorizontalScrollPosition","_scrollHorizontallyToCell","_onInteractionKeyDown","localTarget","localTargetIsTextInput","wantInteracting","focusTarget","_setInteracting","_hideTooltip","_predictFocusStepTarget","srcElement","step","tabOrder","__emptyState","focusexit","rowElement","focusStepTarget","__isHorizontallyInViewport","firstVisibleColumn","rowIndex","_onTabKeyDown","shiftKey","_onSpaceKeyDown","isElementRow","wasNavigating","rootTarget","_activeRowGroup","__pendingBodyCellFocus","_showTooltip","isInteracting","_getGridSectionFromFocusTarget","isInteractingWithinActiveSection","tabIndex","_preventScrollerRotatingCellFocus","__preventScrollerRotatingCellFocusDebouncer","isItemsRowGroupActive","__isValidFocusable","firstVisibleRow","firstVisibleCell","__getFirstVisibleItem","dstCellRect","dstCellIndex","tableRect","leftBoundary","rightBoundary","__composedPath","tableIndex","RowDetailsMixin","detailsOpenedItems","rowDetailsRenderer","_detailsCells","_detailsCellResizeObserver","_updateDetailsCellHeight","_rowDetailsRendererChanged","_updateRow","isDetailsOpened","_toggleDetailsCell","_detailsOpenedItemsChanged","_detailsOpenedItems","_configureDetailsCell","detailsOpened","__updateDetailsRowPadding","removeProperty","_updateDetailsCellHeights","openItemDetails","closeItemDetails","region","alertDebouncer","clip","KeyboardMixin","_onEnter","_onEscape","_event","ActiveMixin","_activeKeys","_shouldSetActive","_setActive","once","active","FocusMixin","_keyboardActive","_shouldSetFocus","_setFocused","_shouldRemoveFocus","focused","DelegateFocusMixin","autofocus","focusElement","_boundOnBlur","_onBlur","_boundOnFocus","_onFocus","blur","_focusElementChanged","oldElement","_addFocusListeners","__forwardTabIndex","_removeFocusListeners","attributeToTargets","getAttrMap","cleanAriaIDReference","storeAriaIDReference","attributeMap","setAriaIDReference","newId","oldId","fromUser","storedValues","attributeValue","FieldAriaController","__required","__target","__setAriaRequiredAttribute","__setLabelIdToAriaAttribute","__labelId","__labelIdFromUser","__setErrorIdToAriaAttribute","__errorId","__setHelperIdToAriaAttribute","__helperId","setAriaLabel","__label","setRequired","required","label","__setAriaLabelToAttribute","setLabelId","labelId","oldLabelId","setErrorId","errorId","setHelperId","helperId","restoreGeneratedAriaIDReference","oldErrorId","oldHelperId","getNormalizedScrollLeft","entry","resizables","_onResize","ResizeMixin","_observeParent","__parent","unobserve","_contentRect","ScrollMixin","columnRendering","_frozenCells","_scrollLeft","relatedTarget","_afterScroll","_updateOverflow","_firefox","isVisible","__previousVisible","__memorizedScrollTop","dstRect","_scheduleScrolling","_scrollingFrame","_debounceScrolling","_debounceColumnContentVisibility","__cachedScrollLeft","_areSizerCellsAssigned","columnsInOrder","bodyContentHiddenChanged","bodyContentHidden","_sizerCell","__parentRow","followingColumnCell","lastFrozenColumn","reverse","lastFrozenColumnEnd","__getColumnEnd","__lazyColumnsStart","__getColumnStart","offsetLeft","__columnRenderingChanged","_debounceOverflow","__doUpdateOverflow","matched","_debouncerCacheElements","__debounceUpdateFrozenColumn","_updateFrozenColumn","columnsRow","normalizedScrollLeft","transformFrozen","remaining","transformFrozenToEnd","transformFrozenToEndBody","lastVisibleColumn","lastVisibleColumnEnd","firstFrozenToEndColumn","translateX","SelectionMixin","selectedItems","isItemSelectable","__selectedKeys","__isItemSelectable","selectItem","deselectItem","__selectedItemsChanged","__computeSelectedKeys","selectedKeys","defaultMultiSortPriority","SortMixin","multiSortPriority","multiSortOnShiftClick","_previousSorters","setDefaultMultiSortPriority","priority","_onSorterChanged","__updateSorter","shiftClick","fromSorterClick","__applySorters","sortersToRemove","__updateSortOrders","activeSorters","_getActiveSorters","restSorters","StylingMixin","cellClassNameGenerator","cellPartNameGenerator","__cellClassNameGeneratorChanged","generateCellClassNames","__cellPartNameGeneratorChanged","generateCellPartNames","__generatedClasses","className","classList","__generatedParts","GridMixin","allRowsVisible","__pendingRecalculateColumnWidths","__gridElement","__hasEmptyStateContent","_onAnimationEnd","firstVisibleItem","lastVisibleItem","__getLastVisibleItem","recalculateColumnWidths","_isInViewport","scrollTargetRect","itemRect","headerHeight","footerHeight","_getRowContainingNode","_isItemAssignedToRow","_createScrollerRows","_updateScrollerItem","__tryToRecalculateColumnWidthsIfPending","minHeightObserver","__updateMinHeight","_tooltipController","__emptyStateContentObserver","emptystateslot","__getBodyCellCoordinates","__focusBodyCell","_focusFirstVisibleRow","_flatSizeChanged","virtualizer","hasData","cellCoordinates","previousSize","__getIntrinsicWidth","__intrinsicWidthCache","__calculateAndCacheIntrinsicWidths","__getDistributedWidth","innerColumn","columnWidth","columnGroupWidth","sumOfWidthOfAllChildColumns","_visibleChildColumns","sum","extraNecessarySpaceForGridColumnGroup","shareOfInnerColumnFromNecessaryExtraSpace","_recalculateColumnWidths","cols","lvi","__viewportRowsCache","__setVisibleCellContentAutoWidth","__measuringAutoWidth","__originalWidth","__getAutoWidthCellsMaxWidth","undefinedCols","Promise","all","whenDefined","then","__afterCreateScrollerRowsDebouncer","_createCell","contentId","_contentIndex","div","mouseUpListener","contentContainsFocusedElement","mouseUpWithinCell","preventScroll","isColumnRow","noNotify","contentsFragment","_vacant","_onCellKeyDown","isSizerRow","__updateHeaderFooterRowVisibility","visibleRowCells","_updateRowOrderParts","_columnTreeChanged","first","odd","even","_updateRowStateParts","_ref3","collapsed","nonselectable","__computeEmptyState","hasEmptyStateContent","__updateHeaderAndFooter","animationName","tooltip","__isCellFullyVisible","_stateController","open","frozenToEndRect","immediate","close","minHeight","__minHeightStyleSheet","Grid","GridColumnGroupMixin","_colSpan","_rootColumns","_updateFlexAndWidth","_preventHiddenSynchronization","_updateVisibleChildColumns","_groupOrderChanged","LN10","_groupReorderStatusChanged","_groupResizableChanged","childColumns","_updateAutoHidden","_setWidth","_setFlexGrow","__scheduleAutoFreezeWarning","frozenProp","frozenAttr","firstColumnFrozen","__autoFreezeWarningDebouncer","_groupFrozenChanged","_groupFrozenToEndChanged","_groupHiddenChanged","__groupHiddenInitialized","_synchronizeHidden","wasAutoHidden","_autoHidden","_colSpanChanged","colSpan","GridColumnGroup","stylesMap","SlotStylesMixin","slotStyles","__applySlotStyles","rootStyles","getRootStyles","insertStyles","DelegateStateMixin","stateTarget","delegateAttrs","delegateProps","_createDelegateAttrsObserver","_createDelegatePropsObserver","_stateTargetChanged","_ensureAttrsDelegated","_ensurePropsDelegated","_delegateAttribute","_delegateProperty","_delegateAttrsChanged","_delegatePropsChanged","InputMixin","inputElement","_hasInputValue","_boundOnInput","__onInput","_boundOnChange","_onChange","_hasValue","_inputElementValueProperty","_inputElementValue","_addInputListeners","_removeInputListeners","_forwardInputValue","_inputElementChanged","oldInput","_hasInputValueChanged","hasValue","oldHasValue","_setHasInputValue","_onInput","__userInput","isTrusted","_toggleHasValue","_valueChanged","newVal","oldVal","CheckedMixin","checked","_toggleChecked","SlotChildObserveController","__updateNodeId","restoreDefaultNode","updateDefaultNode","observeNode","__nodeObserver","mutations","mutation","isCurrentNodeMutation","subtree","__hasContent","hasContent","isFirstNode","ErrorController","setErrorMessage","errorMessage","setInvalid","invalid","errorNode","hasError","timeout","announce","HelperController","setHelperText","helperText","helperNode","LabelController","setLabel","labelNode","LabelMixin","_labelController","_labelId","_labelNode","_labelChanged","ValidateMixin","manualValidation","validate","isValid","checkValidity","_setInvalid","valid","_shouldSetInvalid","_invalid","_requestValidation","FieldMixin","accessibleNameRef","_fieldAriaController","_helperController","_errorController","__labelChanged","__helperChanged","_errorNode","_helperNode","hasHelper","_accessibleNameChanged","_accessibleNameRefChanged","hasLabel","_errorMessageChanged","_helperTextChanged","_ariaTargetChanged","_requiredChanged","_invalidChanged","InputController","LabelledInputController","labelController","__preventDuplicateLabelClick","__initLabel","inputClickHandler","stopImmediatePropagation","CheckboxMixin","indeterminate","readonly","_setType","_boundOnInputClick","_onInputClick","tag","_setInputElement","_setFocusElement","__readonlyChanged","hasFocus","_checkedChanged","__oldChecked","_onRequiredIndicatorClick","Checkbox","GridSelectionColumnBaseMixin","selectAll","autoSelect","dragSelect","_indeterminate","_selectAllHidden","__onCellTrack","__onCellClick","__onCellMouseDown","__onActiveItemChanged","__onSelectRowCheckboxChange","__onSelectAllCheckboxChange","checkbox","__isChecked","__item","isSelectable","_selectAll","_deselectAll","__toggleItem","__dragCurrentY","__dragDy","dragStartRow","__selectOnDrag","__dragStartIndex","__dragStartItem","__dragAutoScroller","keyCode","__previousActiveItem","renderedRows","hoveredRow","hoveredIndex","scrollableArea","__getScrollableArea","scrollTriggerArea","percentage","gridRect","headerRect","footerRect","_selectItem","_deselectItem","GridSelectionColumnMixin","__boundUpdateSelectAllVisibility","__updateSelectAllVisibility","__boundOnSelectedItemsChanged","__onSelectedItemsChanged","__onSelectAllChanged","__selectAllInitialized","_selectAllChangeLock","__hasArrayDataProvider","__withFilteredItemsArray","GridSelectionColumn","GridSorterMixin","__dispatchSorterChangedEvenIfPossible","_pathOrDirectionChanged","_shiftClick","_fromSorterClick","_getDisplayOrder","GridSorter","EventedAccessor","_i$editInfo$rowData","rowHighlightIds","objectId","findColumn","textWrap","editInfo","rowData","columnPerformanceModeEnabled","columnReorderingEnabled","async","store","fetchItems","maxSize","multipleSelectionEnabled","multiSortEnabled","paginationEnabled","actionColumn","allColumns","fieldName","d","toArray","_t$columns","allVisibleColumns","columnMenuIsOpen","menuIsOpen","editing","editableColumns","filterBySelectionEnabled","highlightIds","objectIds","pageCount","pageIndex","fieldColumns","_get","_set","groupColumns","hasInvalidColumnConfiguration","visibleColumns","_this$_get","_this$_get2","_this$store","relationshipColumns","_this$store$count","_this$store2","_this$store$state","_this$store3","closeColumnMenus","closeMenu","sortColumn","hideColumn","showColumn","showAllColumns","refresh","load","toggleColumnVisibility","g","f","_columnElements","_temporaryHighlightId","messages","selectionColumnEnabled","viewModel","_onSelectedItemsChange","initialize","addHandles","on","renderNow","onColumnChange","removeAll","_updateGridSize","refreshPageCache","_table","getVirtualPageIndex","destroy","resetColumns","destroyed","drain","_editInfos","_columnRendering","_selectedItems","_t$getItemByObjectId","getItemByObjectId","_this$_grid","temporaryHighlightId","isEditingActive","isReady","_this$messages$widget","_this$messages","widgetLabel","_overrideIfSome","_this$_grid2","addSorter","_this$_grid3","notifyChange","getColumnProps","renderFunction","footerRenderFunction","headerRenderFunction","C","w","afterCreate","_afterColumnCreate","afterRemoved","_afterColumnRemoved","clearSelection","_clearSelection","scheduleRender","clearSort","_this$_grid$_sorters","_this$_grid4","getFirstVisibleRowIndex","_this$_grid5","getLastVisibleRowIndex","_this$_grid6","getVisibleItemsCount","_this$_grid7","getRowContainingNode","_this$_grid8","_unused","getSlotElementByName","_this$_grid$shadowRoo","_this$_grid9","hasSorter","_this$_grid0","_this$_grid1","scrollToTop","_this$_grid10","_this$_grid11","selectRows","addMany","deselectRows","removeMany","_this$_grid12","_this$_grid13","scrollToBottom","_applyRenderersToColumnElement","render","class","classes","widget","_renderGrid","_afterGridCreate","afterUpdate","_afterGridUpdate","_renderAllColumns","_renderSelectionColumn","_renderColumns","sortable","_renderGroupColumn","_ref4","_appendStyles","_addGridEventListeners","_initialOrder","_this$_grid14","_onGridInteraction","_onTransientGridInteraction","_onColumnOrderChange","_n$path","_isGridCellContentNode","_this$findColumn","native","_unused2","_e$columns","attachmentId","attachmentInfos","candidates","form","onEditComplete","fields","features","layer","alias","includeGeometry","delimiter","outFields","geometryType","getLogger","geometry","lon","longitude","lat","latitude","domain","codedValues","code","createQuery","queryFeatures","isTable","Blob","sanitize","title","showSaveFilePicker","suggestedName","accept","createWritable","write","_attachmentsOperationQueue","_defaultOutFields","_editOperationQueue","_loaded","_loadError","_loading","_objectIdCache","_queryOperationQueue","attachmentsEnabled","failures","filterGeometry","initialSize","pageCache","relationshipConfig","relatedRecordsEnabled","returnGeometry","returnZ","returnM","timeExtent","view","where","_reset","orderByFields","_clearCaches","equals","_this$itemCache","_this$failures","itemCache","_capabilities","_e$effectiveCapabilit","effectiveCapabilities","capabilities","_effectiveReturnZ","supportsZ","_effectiveReturnM","supportsM","_layerWithAttachments","supportsAttachments","_layerWithAttachmentsEditing","O","supportsEditing","_layerWithEditing","A","_layerWithRelationships","I","supportsQueryRelated","_relatedLayer","_this$relationshipCon","relatedLayer","_relatedLayerCapabilities","_e$effectiveCapabilit2","_relatedLayerSupportsCacheHint","_this$_relatedLayerCa","queryRelated","supportsCacheHint","_relatedLayerSupportsQuery","_this$_relatedLayerCa2","operations","supportsQuery","_relatedLayerSupportsQueryRelated","_e$queryRelated","_e$queryRelated2","supportsCount","supportsPagination","_sortedFieldNames","_subtypeCode","_this$layer$subtypeCo","_this$layer","subtypeCode","_subtypeField","subtypeField","_canUseRelatedLayer","canAddRelatedFeature","relationship","supportsAdd","cardinality","role","effectiveOutFields","_e$fieldsIndex$normal","fieldsIndex","normalizeFieldName","objectIdField","effectiveTimeExtent","effectiveWhere","_this$layer2","definitionExpression","layerView","allLayerViews","_t$fields","querying","_this$relationships","relationshipId","relationships","relationshipIds","_this$relationships$m","_this$relationships2","relationshipInfos","loaded","_this$_layerWithRelat","loadError","loadStatus","_this$_capabilities","supportsAddingAttachments","_e$data","supportsAttachment","supportsQueryAttachments","_this$_capabilities2","query","supportsCacheHintQueryRelated","_this$_capabilities3","supportsDelete","_this$_capabilities4","supportsDeletingAttachments","_this$_capabilities5","_this$layer3","_this$_capabilities6","hasM","supportsOrderBy","_this$_capabilities7","_this$_capabilities8","_this$_capabilities9","_e$queryRelated3","_e$queryRelated4","supportsResizeAttachments","_e$attachment","attachment","supportsResize","supportsUpdate","_this$_capabilities0","supportsUpdateAttachments","_this$layer4","_this$_capabilities1","hasZ","syncing","syncingFeatureEdits","syncingAttachmentEdits","addAttachment","_queueAttachmentsOperation","_createBaseGraphic","_ensureArrayContent","deleteAttachments","_ensureArray","deleteRowsByObjectId","_this$getItemByObject","feature","_queueEditOperation","applyEdits","deleteFeatures","_query","num","getAttachmentsByObjectId","_this$getItemByObject2","_this$getItemByObject3","attachments","_await$this$_queryAtt","_queryAttachments","getItemIndexByObjectId","loadAll","when","_logError","_syncCount","_syncObjectIdCache","updateAttachment","updateItem","updates","updateFeatureResults","verifyFeaturesByObjectId","_verifyFeaturesByObjectId","_t$getObjectId","getObjectId","_getObjectIdsForPage","_queryCount","_queryObjectIds","cacheHint","_this$getItemByObject4","_ref5","updateFeatures","_prepareFeatureData","relatedRecords","_e$getObjectId","_t$r","sourceLayer","_e$r","_queryPage","reject","queryAttachments","returnMetadata","resolve","_await$s$queryRelated","queryRelatedFeaturesCount","queryFeatureCount","_queryFeatures","_queryRelatedFeatures","queryObjectIds","_queueQueryOperation","_e$getObjectId2","_queryRelatedCounts","allSettled","_y$where","_$h","queryRelatedFeatures","catch","retry","re","ae","P","_debounceRefresh","_refresh","_temporaryHighlightAbortController","_currentTemporaryHighlight","_highlights","actionColumnConfig","attachmentsViewOptions","L","attributeTableTemplate","autoRefreshEnabled","editingEnabled","highlightEnabled","layers","messagesCommon","messagesUnits","messagesURIUtils","prompt","relatedTables","relationshipColumnConfigs","selectionSource","showRelatedTableCallback","syncTemplateOnChangesEnabled","tableController","tableParent","tableTemplate","tableTemplateOverride","_onLayerRefresh","_onShowPromptCallback","k","V","ne","le","_generateColumns","refreshCellContent","_onHighlightIdsChange","onListenerAdd","_syncSelection","onListenerRemove","_this$grid","_this$_temporaryHighl","abort","AbortController","_syncTemporaryHighlight","signal","_viewSelection","_viewSelectionReady","_tableHighlightsReady","goToPage","_drainColumns","_onLayerLoad","_effectiveTableTemplate","tableEditingEnabled","_this$timeZone","_this$view","timeZone","_this$layer5","KeyboardEvent","_onCellInteraction","_generateActionColumn","_getIndexOfFirstFrozenToEndColumn","_this$layer6","_onObjectIdsChange","activeSortOrders","_syncAttributeTableTemplate","drainRelatedTables","_this$tableParent","added","showAttachmentsView","hideAttachmentsView","_this$_currentTempora","_this$grid2","_defaultHiddenFields","T","_effectiveAttributeTableTemplate","_this$layer7","_highlightableLayerView","F","_selectionManager","_e$selectionManager","selectionManager","sources","_selectableLayer","_this$_selectionManag","_subtypes","_this$_selectionManag2","_this$_selectionManag3","getSelection","allRelatedTablesVisible","showAllRelatedTables","activeFilters","_this$grid3","clearPrompt","_logWarning","_syncObjectIdsWithStore","hiddenFields","isQueryingOrSyncing","isSyncingAttachments","relatedTable","at","q","returnGeometryEnabled","returnMEnabled","returnZEnabled","_showAllRelatedTables","_hideAllRelatedTables","showPrompt","_this$prompt","_this$prompt$cancel","supportsAddAttachments","supportsDeleteAttachments","tableTimeZone","message","collapseRelatedTable","Q","displayField","keyField","_getTableTemplateForRelatedTableView","K","deleteSelection","deleteFeatureResults","downloadAttachmentById","Z","drainRelatedTablesAboveIndex","exportSelectionToCSV","G","filterBySelection","replacement","warnOnce","getObjectIdIndex","getValue","_i$feature","_this$grid$getVirtual","_this$grid4","isInteger","nextPage","previousPage","_this$grid5","_this$grid6","_this$grid7","_this$grid8","_this$grid9","_this$grid0","scrollToRow","_this$grid1","_this$grid10","saveAttachmentsViewForm","_getDefaultLayerDisplayField","_getTableTemplateForAttachmentsView","syncAttributeTableTemplate","clearSelectionFilter","zoomToSelection","goTo","ie","_ref6","field","_ref7","_e$capabilities$query","_this$grid11","maxRecordCount","dataChanged","_ref8","_this$_generateColumn","columnTemplates","_generateColumnsFromColumnTemplates","_generateColumnsFromAttributeTableTemplate","_generateDefaultFieldColumns","H","_generateDefaultAttachmentsColumn","B","_generateDefaultRelationshipColumns","_i$relationships","_generateColumnsFromAttributeTableElements","J","X","_generateDefaultFieldColumn","_logTemplateWarning","Y","_ref9","_generateDefaultRelationshipColumn","_e$map$filter","_createFieldColumnFromElement","_createGroupColumnFromElement","_createAttachmentColumnFromElement","_createRelationshipColumnFromElement","_s$findIndex","_s$at","description","_ref0","initialSortPriority","onShowPromptCallback","W","R","onShowAttachments","_onShowAttachments","U","_onShowRelatedTable","formatFunction","icon","iconText","menuConfig","E","S","visible","_e$columnTemplates","_isFieldHidden","_generateAttachmentsColumnFromTemplate","_generateRelationshipColumnFromTemplate","z","editable","_this$layer$fields$ma","_this$layer8","_m$findIndex","_m$at","_ref1","attachmentsViewEnabled","thumbnailAppearance","thumbnailCount","thumbnailIconScale","thumbnailsEnabled","_this$hiddenFields","_addTableHighlight","_s$feature","highlight","ee","_removeTableHighlight","_this$_currentTempora2","_this$_currentTempora3","_this$_currentTempora4","_appendToViewSelection","_this$_selectionManag4","appendToSelection","_removeFromViewSelection","_this$_selectionManag5","removeFromSelection","_getTableTemplateForShowAllTablesView","te","M","N","selectionMode","_extractFieldColumnInfosFromTableTemplate","_ref10","clickFunction","D","_ref11","_createSubtypeEditPrompt","promise","defaultValues","updateItems","_s$find$name","_s$find","subtypes","useDefaultValuesOption","keepCurrentValuesOption","changeWarningTitle","oe","changeWarning","originalType","newType","radios","defaultRadioSelection","onRadioSelection","actions","primary","secondary","_ref12","_ref13","_i$fields$map","_ref14","_ref15","se","he","json","read","_this$columns","castColumnTemplates","editableExpression","format","requiredExpression","valueExpression","visibilityExpression","reader","clone","contentContainer","showAttachmentsButton","_buttonElements","_thumbnailElements","cellValueFormatFunction","_showAttachmentsViewEnabled","getCellValue","virtualIndex","getVirtualRowIndex","_createOrSyncThumbnails","_createOrSyncShowAttachmentsButton","_supportsResize","effectiveLabel","_this$label","_t$item$attachments$l","_t$item","_createThumbnailElements","_this$messages2","onclick","_onShowAttachmentsClick","createCalciteButton","alignment","contentFull","iconEnd","iconFlipRtl","viewAttachments","_createThumbnailAnchor","download","rel","contentType","_createThumbnailImage","createCalciteIcon","textLabel","_this$messages$attach","_this$messages3","alt","attachmentThumbnail","_this$onShowAttachmen","_e$fieldName","_t$at","_y$find$count","_y$find","recordsCount","_this$showRelatedTabl","removeCellContent","_relationshipLabel","_this$originRelations","originRelationship","iconNode","_this$relatedLayer$re","createCalciteAction","hint"],"sourceRoot":""}