"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[36164],{36164:(e,t,n)=>{n.r(t),n.d(t,{describeCoverage:()=>h,getCapabilities:()=>g});var i=n(89379),o=n(3825),a=n(50076),s=n(50346),r=n(76797),l=n(86769);function u(e){return e.endsWith("?")?e.slice(0,-1):e}function m(e){return e.filter((e=>{let{coverageSubType:t}=e;return null==t||""===t||/^rectified(grid|dataset)/i.test(t)}))}function d(e){const t={};for(let n=0;n<e.childNodes.length;n++){const i=e.childNodes[n];if(1!==i.nodeType)continue;const o=(0,l.vv)(i).toLowerCase();switch(o){case"title":case"abstract":t[o]=(0,l.mX)(i);break;case"identifier":t.id=(0,l.mX)(i);break;case"wgs84boundingbox":{const e=(0,l.pN)(i,"LowerCorner"),n=(0,l.pN)(i,"UpperCorner");t.lonLatEnvelope=new r.default({xmin:e[0],ymin:e[1],xmax:n[0],ymax:n[1],spatialReference:{wkid:4326}})}break;case"coveragesummary":t.coverageSummaries=t.coverageSummaries||[],t.coverageSummaries.push(d(i))}}return t}function p(e,t){if(e.coverageSummaries)for(let n=0;n<e.coverageSummaries.length;n++)e.coverageSummaries[n].abstract=e.coverageSummaries[n].abstract||e.abstract,e.coverageSummaries[n].lonLatEnvelope=e.coverageSummaries[n].lonLatEnvelope||e.lonLatEnvelope,e.coverageSummaries[n].title=e.coverageSummaries[n].title||e.title,p(e.coverageSummaries[n],t);null!=e.id&&t.push(e)}function c(e){var t,n,i;const o=(null===(t=(0,l.V6)(e.querySelector("Operation[name=GetCapabilities]"),"Get"))||void 0===t?void 0:t.getAttribute("xlink:href"))||"",a=(null===(n=(0,l.V6)(e.querySelector("Operation[name=DescribeCoverage]"),"Get"))||void 0===n?void 0:n.getAttribute("xlink:href"))||"",s=(null===(i=(0,l.V6)(e.querySelector("Operation[name=GetCoverage]"),"Get"))||void 0===i?void 0:i.getAttribute("xlink:href"))||"";return{getCapabilities:u(o),describeCoverage:u(a),getCoverage:u(s)}}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null;n="string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e;let i=n.documentElement.getAttribute("version");"1.0"===i?i="1.0.0":"1.1"===i&&(i="1.1.0");const o=i||t||"1.0.0",s=o.slice(0,3);let v;if("2.0"===s)v=function(e){const t=(0,l.V6)(e,"ServiceIdentification"),n=(0,l.mX)(t,"Title"),i=(0,l.Dy)(t,"ServiceTypeVersion"),o=(0,l.Dy)(t,"Profile"),a=c((0,l.V6)(e,"OperationsMetadata")),s=(0,l.IC)(e,"Contents/CoverageSummary"),u=[];for(let m=0;m<s.length;m++){const e=s[m],t=(0,l.mX)(e,"CoverageId"),n=(0,l.V6)(e,"WGS84BoundingBox");let i;if(n){const e=(0,l.pN)(n,"LowerCorner"),t=(0,l.pN)(n,"UpperCorner");i=new r.default({xmin:e[0],ymin:e[1],xmax:t[0],ymax:t[1],spatialReference:{wkid:4326}})}const o=(0,l.mX)(e,"CoverageSubtype")||"RectifiedGridCoverage";u.push({id:t,lonLatEnvelope:i,coverageSubType:o})}const d=(0,l.V6)(e,"ServiceMetadata");return{name:n,supportedVersions:i,supportedFormats:(0,l.Dy)(d,"formatSupported"),supportedInterpolations:(0,l.Dy)(d,"interpolationSupported").concat((0,l.Dy)(d,"InterpolationSupported")),onlineResources:a,profiles:o,coverages:u,gridCoverages:m(u),version:"2.0.1"}}(n);else if("1.1"===s)v=function(e){const t=(0,l.mX)(e,"ServiceIdentification/Title"),n=(0,l.Dy)(e,"ServiceIdentification/ServiceTypeVersion"),i=c((0,l.V6)(e,"OperationsMetadata")),o=[],a=(0,l.V6)(e,"Contents");for(let r=0;r<a.childNodes.length;r++){const e=a.childNodes[r];1===e.nodeType&&(0,l.g7)(e,"CoverageSummary")&&p(d(e),o)}const s=(0,l.Dy)(a,"SupportedFormat");return{name:t,onlineResources:i,coverages:o,gridCoverages:m(o),supportedVersions:n,supportedFormats:s,version:"1.1.0"}}(n);else{if("1.0"!==s)throw new a.default("wcsraster:parsecapabilities","the capabilities version is not supported");v=function(e){var t,n,i,o,a,s;const d=(0,l.mX)(e,"Service/name"),p=(0,l.V6)(e,"Capability"),c=null!==(t=null===(n=(0,l.V6)(p,"GetCapabilities/Get/OnlineResource"))||void 0===n?void 0:n.getAttribute("xlink:href"))&&void 0!==t?t:"",v=null!==(i=null===(o=(0,l.V6)(p,"DescribeCoverage/Get/OnlineResource"))||void 0===o?void 0:o.getAttribute("xlink:href"))&&void 0!==i?i:"",f=null!==(a=null===(s=(0,l.V6)(p,"GetCoverage/Get/OnlineResource"))||void 0===s?void 0:s.getAttribute("xlink:href"))&&void 0!==a?a:"",g={getCapabilities:u(c),describeCoverage:u(v),getCoverage:u(f)},h=(0,l.IC)(e,"CoverageOfferingBrief"),b=[];for(let u=0;u<h.length;u++){const e=h[u],t=(0,l.mX)(e,"name"),n=(0,l.IC)(e,"pos"),i=(0,l.pN)(n[0]),o=(0,l.pN)(n[1]),a=new r.default({xmin:i[0],ymin:i[1],xmax:o[0],ymax:o[1],spatialReference:{wkid:4326}});b.push({id:t,lonLatEnvelope:a})}return{name:d,onlineResources:g,coverages:b,gridCoverages:m(b),supportedVersions:["1.0.0"],version:"1.0.0"}}(n)}return v.version=o,v}var f=n(55222);async function g(e,t){const{version:n,customParameters:r,signal:l}=null!==t&&void 0!==t?t:{},u=null!==n&&void 0!==n&&n.startsWith("1.0")?"version":"acceptVersions",d=(0,i.A)({service:"WCS",request:"GetCapabilities",[u]:n},r);try{let{data:n}=await(0,o.default)(e,{query:d,responseType:"xml",signal:l});return null!==t&&void 0!==t&&t.version||function(e){let t=null;t="string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e;const n=t.documentElement.getAttribute("version"),i=null===n||void 0===n?void 0:n.slice(0,3);return null!=i&&i<"2.1"}(n)||(d[u]="2.0.1",({data:n}=await(0,o.default)(e,{query:d,responseType:"xml",signal:l}))),v(n)}catch(m){if(!(0,s.isAbortError)(m))throw new a.default("wcslayer:open","wcs capabilities is not valid or supported");throw m}}async function h(e,t){const{coverageIds:n,version:r,customParameters:l,signal:u}=t,m=r.slice(0,3),d="1.0"===m?"coverage":"1.1"===m?"identifiers":"coverageId",p=(0,i.A)({service:"WCS",request:"DescribeCoverage",version:r,[d]:n.join(",")},l);try{const{data:t}=await(0,o.default)(e,{query:p,responseType:"xml",signal:u});return(0,f.p)(t,r)}catch(c){if(!(0,s.isAbortError)(c))throw new a.default("wcslayer:open","wcs coverage description is not valid or supported");throw c}}},55222:(e,t,n)=>{n.d(t,{$:()=>c,p:()=>R});var i=n(89379),o=n(76797),a=n(65215),s=n(65660),r=n(41882),l=n(68347),u=n(86769);function m(e){e.variables.forEach((e=>e.dimensions.forEach((e=>{var t;return null!==(t=e.values)&&void 0!==t?t:e.values=(0,l.Xg)(e)}))))}function d(e){return{requestResponseCRSs:(0,u.Dy)(e,"requestResponseCRSs").map((e=>e.split(":")[1])),nativeCRSs:(0,u.Dy)(e,"nativeCRSs").map((e=>e.split(":")[1]))}}function p(e,t){const n=(0,u.Dy)(e,"1.0.0"===t?"interpolationMethod":"InterpolationMethod"),i="1.0.0"===t?e.getAttribute("default"):(0,u.mX)(e,"InterpolationMethods/Default");return null!=i?[i].concat(n.filter((e=>e.toLowerCase()!==i.toLowerCase()))):n}function c(e){return null==e?["nearest"]:e.map((e=>{const t=e.toLowerCase();return t.includes("nearest")?"nearest":t.includes("linear")?"bilinear":t.includes("cubic")?"cubic":null})).filter((e=>!!e))}function v(e){const t=(0,u.IC)(e,"pos"),n=(0,u.pN)(t[0]),i=(0,u.pN)(t[1]);return new o.default({xmin:n[0],ymin:n[1],xmax:i[0],ymax:i[1],spatialReference:{wkid:4326}})}function f(e,t){const n=(0,u.Dy)(e,t);return null!==n&&void 0!==n&&n.length&&""!==n[0]&&!isNaN(Number(n[0]))?n.map((e=>Number(e))):null}function g(e){const t=(0,u.pN)(e,"MinimumValue"),n=(0,u.pN)(e,"MaximumValue");return t.length&&n.length?t.map(((e,t)=>({min:e,max:n[t],avg:-1,stddev:-1}))):null}function h(e){return null==e?null:e.every((t=>t===e[0]))?e[0]:e}function b(e){const t=[],n=(0,u.IC)(e,"RangeSet");let i=[];for(let o=0;o<n.length;o++){const e=(0,u.mX)(n[o],"name"),a=(0,u.mX)(n[o],"label"),s=[],r=f(n[o],"nullValues/singleValue"),l=(0,u.IC)(n[o],"AxisDescription");for(let t=0;t<l.length;t++){const e=(0,u.mX)(l[t],"name"),n=(0,u.mX)(l[t],"label"),o=(0,u.Dy)(l[t],"singleValue");if(0===o.length){const e=(0,u.mX)(l[t],"min"),n=(0,u.mX)(l[t],"max"),i=Number((0,u.mX)(l[t],"res"))||1;if(null!==e&&null!==n)for(let t=parseInt(e,10);t<=parseInt(n,10);t+=i)o.push(t.toString())}"band"===e.toLowerCase()&&(i=o),s.push({name:e,label:n,values:o})}t.push({name:e,label:a,nullValues:r,axis:s})}return{rangeSet:t,bandNames:i}}function x(e){const t=(0,u.IC)(e,"timeposition");if(t.length>0){const e=[];for(let n=0;n<t.length;n++)e.push(new Date((0,u.mX)(t[n])));return{begin:e[0],end:e[e.length-1],values:e}}const n=(0,u.V6)(e,"timePeriod")||(0,u.V6)(e,"TimePeriod");return n?(0,i.A)({begin:new Date((0,u.mX)(n,"beginPosition")||(0,u.mX)(n,"BeginPosition")),end:new Date((0,u.mX)(n,"endPosition")||(0,u.mX)(n,"EndPosition"))},function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return{resolution:null,units:null};let t=e.toUpperCase();const n=["Years","Months","Days","Hours","Minutes","Seconds"];let i,o,a;return t.includes("PT")?(t=t.slice(2),a=["H","M","S"].findIndex((e=>t.includes(e))),i=n[3+a],o=parseFloat(t.slice(0,-1))):(t=t.slice(1),a=["Y","M","D"].findIndex((e=>t.includes(e))),a>-1&&(i=n[a]),o=parseFloat(t.slice(0,-1))),{resolution:o,units:i}}((0,u.mX)(n,"timeResolution")||(0,u.mX)(n,"TimeResolution"))):null}function y(e){const t=(0,u.V6)(e,"spatialDomain"),n=(0,u.V6)(t,"Envelope")||(0,u.V6)(t,"EnvelopeWithTimePeriod"),i=n.getAttribute("srsName").split(":"),a=i[i.length-1],s=(0,u.IC)(n,"pos"),r=(0,u.pN)(s[0]),l=(0,u.pN)(s[1]),m=parseInt(a,10),d=isNaN(m)?null:{wkid:m},p=new o.default({xmin:r[0],ymin:r[1],xmax:l[0],ymax:l[1],spatialReference:d}),c=(0,u.V6)(t,"RectifiedGrid"),v=(0,u.mX)(c,"low").split(" "),f=(0,u.mX)(c,"high").split(" "),g=parseInt(f[0],10)-parseInt(v[0],10)+1,h=parseInt(f[1],10)-parseInt(v[1],10)+1,b=(0,u.pN)(t,"origin/pos"),y=(0,u.IC)(t,"offsetVector"),C={envelope:p,columns:g,rows:h,offset:{x:parseFloat((0,u.mX)(y[0]).split(" ")[0]),y:parseFloat((0,u.mX)(y[1]).split(" ")[1])},origin:{x:b[0],y:b[1]}},w=(0,u.V6)(e,"temporalDomain")||(0,u.V6)(e,"TemporalDomain");return{spatialDomain:C,temporalDomain:w?x(w):null}}function C(e){if(!e.temporalDomain)return null;const{begin:t,end:n,values:i,units:o,resolution:a}=e.temporalDomain,s={variables:[{name:"default",description:"",dimensions:[{name:"StdTime",description:"",unit:"ISO8601",values:null===i||void 0===i?void 0:i.map((e=>e.getTime())),hasRegularIntervals:!i,interval:a,intervalUnit:o,extent:[t.getTime(),n.getTime()]}]}]};return m(s),s}function w(e,t){const n=[],i=(0,u.IC)(e,"Field");let o,a=[];for(let s=0;s<i.length;s++){const e=(0,u.mX)(i[s],"Identifier"),r=(0,u.mX)(i[s],"Description"),l=(0,u.mX)(i[s],"Definition"),m=(0,u.mX)(i[s],"Abstract"),d=(0,u.mX)(i[s],"Title"),c=f(i[s],"NullValue"),v=(0,u.V6)(i[s],"AllowedValues"),h=v?g(v):null,b=p(i[s],"1.1.0"),x=[],y=(0,u.IC)(i[s],"Axis");for(let n=0;n<y.length;n++){const e=y[n].getAttribute("identifier"),i=(0,u.mX)(y[n],"UOM"),s=(0,u.mX)(y[n],"DataType"),r=(0,u.Dy)(y[n],"Key");t&&!e.toLowerCase().includes("band")||(a=r,o=c),x.push({identifier:e,uom:i,dataType:s,values:r,bandNoDataValues:o})}n.push({identifier:e,description:r,definition:l,abstract:m,title:d,supportedInterpolations:b,axis:x,nullValues:c,statistics:h})}return{rangeSet:n,bandNames:a,bandNoDataValues:o,statistics:n[0].statistics}}function S(e,t){if(!t.temporalDomain)return null;const n=e.filter((e=>!e.identifier.toLowerCase().includes("field_1")&&!e.axis.some((e=>e.identifier.includes("band"))))),i=[];if(n.length&&n.forEach((e=>{var t,n;const o=e.axis.map((e=>{const t=e.values.map((t=>"ISO8601"===e.uom?(t=t.trim()).toLowerCase().includes("z")?new Date(t).getTime():new Date(t+"Z").getTime():parseFloat(t.trim()))),n=[Math.min.apply(null,t),Math.max.apply(null,t)];return{name:e.identifier.trim(),description:"",field:e.identifier.trim(),unit:e.uom?e.uom.trim():"",hasRegularIntervals:!1,values:t,extent:n}}));i.push({name:e.identifier.trim(),description:null!==(t=null===(n=e.description)||void 0===n?void 0:n.trim())&&void 0!==t?t:"",unit:"",dimensions:o,statistics:e.statistics})})),t.temporalDomain){const{begin:e,end:n,values:o,units:a,resolution:s}=t.temporalDomain;i.some((e=>e.dimensions.some((e=>"stdtime"===e.name.toLowerCase()))))||i.forEach((t=>{t.dimensions.push({name:"StdTime",description:"",unit:"ISO8601",values:null===o||void 0===o?void 0:o.map((e=>e.getTime())),hasRegularIntervals:!o,interval:s,intervalUnit:a,extent:[e.getTime(),n.getTime()]})}))}if(i.length){const e={variables:i};return m(e),e}return null}function D(e){var t;const n=(0,u.V6)(e,"SpatialDomain"),i=(0,u.V6)(n,"GridCRS"),a=(0,u.mX)(i,"GridBaseCRS"),r=(0,u.mX)(i,"GridOrigin"),l=null!==(t=null===r||void 0===r?void 0:r.split(" ").map((e=>parseFloat(e))))&&void 0!==t?t:[0,0],m=(0,u.pN)(i,"GridOffsets"),d=(0,u.IC)(n,"BoundingBox");let p,c,v,f;for(let s=0;s<d.length;s++){var g;const e=null===(g=d[s].getAttribute("crs"))||void 0===g?void 0:g.toLowerCase();if(null!=e)if(e.includes("imagecrs")){const e=(0,u.pN)(d[s],"LowerCorner"),t=(0,u.pN)(d[s],"UpperCorner");p=t[0]-e[0]+1,c=t[1]-e[1]+1}else if(e.indexOf("epsg")>0){const t=e.split(":");v=parseInt(t[t.length-1],10);const n=(0,u.pN)(d[s],"LowerCorner"),i=(0,u.pN)(d[s],"UpperCorner");f=new o.default({xmin:n[0],ymin:n[1],xmax:i[0],ymax:i[1],spatialReference:{wkid:v}})}}const h=p>c,b=f.xmax-f.xmin>f.ymax-f.ymin;let y=!1;(0,s.m)(v)&&(h===b?y=!1:(y=!0,f=new o.default({xmin:f.ymin,ymin:f.xmin,xmax:f.ymax,ymax:f.xmax,spatialReference:{wkid:v}})));const C={columns:p,rows:c,origin:{x:l[0],y:l[1]},offset:{x:m[0],y:m[m.length-1]},gridBaseCRS:a,envelope:f,useEPSGAxis:y},w=(0,u.V6)(e,"temporalDomain")||(0,u.V6)(e,"TemporalDomain");return{spatialDomain:C,temporalDomain:w?x(w):null}}function I(e){const t=(0,u.V6)(e,"Envelope")||(0,u.V6)(e,"EnvelopeWithTimePeriod"),n=t.getAttribute("srsName"),i=n.slice(n.lastIndexOf("/")+1),a=t.getAttribute("axisLabels").split(" ").map((e=>e.trim())).filter((e=>""!==e.trim())),s=(0,u.pN)(t,"lowerCorner"),r=(0,u.pN)(t,"upperCorner"),l=!["y","lat","latitude","north","nor","n","b"].includes(a[0].toLowerCase());let m;const d=parseInt(i,10),p=isNaN(d)?null:{wkid:d};m=new o.default(l?{xmin:s[0],ymin:s[1],xmax:r[0],ymax:r[1],spatialReference:p}:{xmin:s[1],ymin:s[0],xmax:r[1],ymax:r[0],spatialReference:p});const c={mins:s,maxs:r},v=t.getAttribute("uomLabels").trim().split(" ");let f,g;if((0,u.g7)(t,"EnvelopeWithTimePeriod")){f=new Date((0,u.mX)(e,"beginPosition")||(0,u.mX)(e,"BeginPosition")),g=new Date((0,u.mX)(e,"endPosition")||(0,u.mX)(e,"EndPosition"));const t=null===v||void 0===v?void 0:v.findIndex((e=>"oledatetime"===(null===e||void 0===e?void 0:e.toLowerCase())));t>-1&&(v[t]="ISO8601")}return{envelope:m,axisLabels:a,uomLabels:v.length?v:null,envelopeAllDims:c,beginPosition:f,endPosition:g,isEastFirst:l}}function V(e,t){const n=[],i=(0,u.IC)(e,"DataRecord"),o=[];let a,s=[];for(let m=0;m<i.length;m++){const e=(0,u.IC)(i[m],"field"),d=[];for(let n=0;n<e.length;n++){var r,l;const i=e[n].getAttribute("name"),m=(0,u.mX)(e[n],"description")||"",p=(null===(r=(0,u.V6)(e[n],"uom"))||void 0===r?void 0:r.getAttribute("code"))||"",c=(0,u.pN)(e[n],"interval"),v=null===(l=f(e[n],"nilValue"))||void 0===l?void 0:l[0];t&&!i.toLowerCase().includes("band")||(o.push(i),null!==c&&void 0!==c&&c.length&&(a=a||[],a.push({min:c[0],max:c[1],avg:-1,stddev:-1})),s.push(v)),d.push({name:i,description:m,uom:p,allowedValues:c,nilValue:v})}n.push(d)}return s.some((e=>null!=e))||(s=null),{rangeType:n,bandNames:o,bandStats:a,bandNoDataValues:s}}function N(e){let t=1,n="";const i=.01;return Math.abs(e-1/24)<1/24*i?n="Hours":Math.abs(e-1)<1*i?n="Days":e<1?(t=Math.round(24*e),n="Hours"):e>28-i&&e<31+i||Math.round(e/30)<12?n="Months":e>365-i&&e<366+i&&(n="Years"),{interval:t,intervalUnit:n}}function X(e,t,n){if(n.axisLabels.length<=2)return null;const i=[];for(let r=0;r<e.length;r++){const t=e[r];for(let e=0;e<t.length;e++)t[e].name.toLowerCase().includes("band")||i.push(t[e])}const o=[];if(i.length){const e=[];for(let i=2;i<n.axisLabels.length;i++){var a,s;const o=null!==(a=null===(s=t.uomLabels)||void 0===s||null===(s=s[i])||void 0===s?void 0:s.trim())&&void 0!==a?a:"",r=n.axisLabels[i].toLowerCase().includes("time")||"iso8601"===o.toLowerCase()||"oledatetime"===o.toLowerCase();let u,m;if(r){const e=N(n.offset[i]);u=e.interval,m=e.intervalUnit}else u=n.offset[i],m=o;const d=[];r?(d.push((0,l.$E)(t.envelopeAllDims.mins[i])),d.push((0,l.$E)(t.envelopeAllDims.maxs[i]))):(d.push(t.envelopeAllDims.mins[i]),d.push(t.envelopeAllDims.maxs[i])),e.push({name:n.axisLabels[i].trim(),description:n.axisLabels[i].trim(),unit:r?"ISO8601":o,hasRegularIntervals:!0,extent:d,interval:u,intervalUnit:m})}if(i.forEach((t=>{var n,i;const{allowedValues:a}=t,s=2===(null===a||void 0===a?void 0:a.length)?[{min:a[0],max:a[1],avg:-1,stddev:-1}]:null;o.push({name:t.name.trim(),description:null!==(n=null===(i=t.description)||void 0===i?void 0:i.trim())&&void 0!==n?n:"",unit:t.uom.trim(),statistics:s,dimensions:[...e]})})),o.length){const e={variables:o};return m(e),e}}return null}function L(e,t){const n=(0,u.V6)(e,"RectifiedGrid"),i=(0,u.pN)(n,"low"),o=(0,u.pN)(n,"high"),a=[];for(let u=0;u<i.length;u++)a.push(o[u]-i[u]+1);const s=(0,u.mX)(n,"axisLabels").split(" "),r=(0,u.pN)(n,"origin/pos"),l=(0,u.IC)(n,"offsetVector"),m=[];for(let f=0;f<l.length;f++){const e=(0,u.pN)(l[f]),t=e.findIndex((e=>0!==e));m[t]=e[t]}let d=!1;null!==t&&void 0!==t&&t.length&&null!==s&&void 0!==s&&s.length&&(d=[...t].sort(((e,t)=>e<t?-1:1)).join(",")===[...s].sort(((e,t)=>e<t?-1:1)).join(","));let p,c,v;return["y","lat","latitude","north","nor","n","b"].includes((d?s:t)[0].toLowerCase())?(p=a[1],c=a[0],v={y:Math.abs(m[0]),x:Math.abs(m[1])}):(p=a[0],c=a[1],v={x:Math.abs(m[0]),y:Math.abs(m[1])}),{columns:p,rows:c,origin:r,offset:m,resolution:v,gridSamples:a,axisLabels:s,hasSameAxisLabelsAsBoundedBy:d}}function T(e){const t=(0,u.V6)(e,"EarthObservation");if(!t)return null;const n=(0,u.V6)(t,"phenomenonTime"),i=n?x(n):null,o=(0,u.V6)(t,"phenomenonTime"),s=o?x(o):null,r=(0,u.mX)(t,"featureOfInterest/Footprint/multiExtentOf/MultiSurface/surfaceMembers/Polygon/exterior/LinearRing/posList");let l=null;if(r){const e=r.split(" ").map((e=>e.trim())).filter((e=>null!=e&&""!==e)).map(Number);if(e.length){const t=[];for(let n=0;n<e.length/2;n+=2)t.push(e[n],e[n+1]);l=new a.default({rings:[[t]]})}}return{observation:{phenomenonTime:i,resultTime:s,footprint:l,identifier:(0,u.mX)(e,"metaDataProperty/EarthObservationMetaData/identifier"),acquisitionType:(0,u.mX)(e,"metaDataProperty/EarthObservationMetaData/acquisitionType"),status:(0,u.mX)(e,"metaDataProperty/EarthObservationMetaData/status")}}}function R(e,t){let n=null;if(n="string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e,"1.0.0"===t)return(0,u.IC)(n,"CoverageOffering").map((e=>function(e){const t={version:"1.0"};let n,i=[];for(let r=0;r<e.childNodes.length;r++){const o=e.childNodes[r];if(1===o.nodeType)if((0,u.g7)(o,"description"))t.description=(0,u.mX)(o);else if((0,u.g7)(o,"name"))t.name=(0,u.mX)(o);else if((0,u.g7)(o,"label"))t.label=(0,u.mX)(o);else if((0,u.g7)(o,"supportedFormats"))t.supportedFormats=(0,u.Dy)(o,"formats");else if((0,u.g7)(o,"supportedCRSs"))t.supportedCRSs=d(o);else if((0,u.g7)(o,"supportedInterpolations"))t.supportedInterpolations=p(o,"1.0.0");else if((0,u.g7)(o,"lonLatEnvelope"))t.lonLatEnvelope=v(o);else if((0,u.g7)(o,"rangeSet")){const e=b(o);t.rangeSet=e.rangeSet,i=e.bandNames;const a=e.rangeSet[0].nullValues;(null===a||void 0===a?void 0:a.length)&&(n=h(a))}else(0,u.g7)(o,"domainSet")&&(t.domainSet=y(o))}const o=c(t.supportedInterpolations),{name:a,description:s,label:l,lonLatEnvelope:m,supportedFormats:f}=t,{spatialDomain:g}=t.domainSet,x={x:Math.abs(g.offset.x),y:Math.abs(g.offset.y)},w=C(t.domainSet),S=new r.default({width:g.columns,height:g.rows,pixelSize:x,pixelType:"unknown",extent:g.envelope,spatialReference:g.envelope.spatialReference,bandCount:i.length||1,noDataValue:n,multidimensionalInfo:w});return{id:a,title:t.name,description:s||l,lonLatEnvelope:m,rasterInfo:S,bandNames:i,supportedFormats:f,supportedInterpolations:o,coverageDescription:t,version:"1.0.0",useEPSGAxis:!1}}(e)));const i=(0,u.IC)(n,"CoverageDescription");return"1.1.0"===t||"1.1.1"===t||"1.1.2"===t?i.map((e=>function(e,t){var n;const i=[],o=[],a={supportedFormats:i,supportedCRSs:o,version:"1.1"};let s,l,m=[];for(let r=0;r<e.childNodes.length;r++){const t=e.childNodes[r];if(1!==t.nodeType)continue;const n=(0,u.vv)(t).toLowerCase();switch(n){case"title":case"abstract":case"identifier":a[n]=(0,u.mX)(t);break;case"supportedformat":{const e=(0,u.mX)(t);i.includes(e)||i.push(e)}break;case"supportedcrs":{const e=(0,u.mX)(t);o.includes(e)||o.push(e)}break;case"range":{var d;const e=w(t,!(null===(d=a.domain)||void 0===d||!d.temporalDomain));a.range=e.rangeSet,m=e.bandNames;const{bandNoDataValues:n}=e;null!==n&&void 0!==n&&n.length&&(s=h(n)),l=e.statistics}break;case"domain":a.domain=D(t)}}const p=c(a.range[0].supportedInterpolations),{identifier:v,abstract:f,title:g,domain:b,range:x}=a,y={x:Math.abs(b.spatialDomain.offset.x),y:Math.abs(b.spatialDomain.offset.y)},C=S(x,b);C&&(s=x[0].nullValues,1===(null===(n=s)||void 0===n?void 0:n.length)&&(s=s[0]));const I=new r.default({width:b.spatialDomain.columns,height:b.spatialDomain.rows,pixelSize:y,pixelType:"unknown",extent:b.spatialDomain.envelope,spatialReference:b.spatialDomain.envelope.spatialReference,bandCount:m.length||1,noDataValue:s,statistics:l,multidimensionalInfo:C});return{id:v,title:a.title,description:f||g,bandNames:m,rasterInfo:I,supportedFormats:i,supportedInterpolations:p,coverageDescription:a,version:t,useEPSGAxis:b.spatialDomain.useEPSGAxis}}(e,t))):i.map((e=>function(e){const t={version:"2.0"};let n,i,o=[];for(let r=0;r<e.childNodes.length;r++){var a;const m=e.childNodes[r];if(1===m.nodeType)if((0,u.g7)(m,"coverageId"))t.coverageId=(0,u.mX)(m);else if((0,u.g7)(m,"ServiceParameters"))t.serviceParameters={supportedFormats:(0,u.Dy)(m,"nativeFormat")};else if((0,u.g7)(m,"boundedBy"))t.boundedBy=I(m);else if((0,u.g7)(m,"rangeType")){var s,l;const e=V(m,(null===(s=t.boundedBy)||void 0===s?void 0:s.axisLabels.length)>2||(null===(l=t.domainSet)||void 0===l?void 0:l.axisLabels.length)>2);t.rangeType=e.rangeType,o=e.bandNames,n=e.bandStats;const{bandNoDataValues:a}=e;(null===a||void 0===a?void 0:a.length)&&(i=h(a))}else if((0,u.g7)(m,"domainSet"))t.domainSet=L(m,null===(a=t.boundedBy)||void 0===a?void 0:a.axisLabels);else if((0,u.g7)(m,"metadata")){const e=(0,u.V6)(m,"EOMetadata");t.eoMetadata=e?T(e):null}}const{coverageId:m,boundedBy:d,domainSet:p,rangeType:c,serviceParameters:v}=t,f=X(c,d,p);return!n&&f&&(n=null===f||void 0===f?void 0:f.variables[0].statistics),null!=f&&(i=c[0][0].nilValue),{id:m,title:m,description:m,bandNames:o,rasterInfo:new r.default({width:p.columns,height:p.rows,pixelSize:p.resolution,pixelType:"unknown",extent:d.envelope,spatialReference:d.envelope.spatialReference,bandCount:o.length||1,statistics:n,noDataValue:i,multidimensionalInfo:f}),supportedFormats:v.supportedFormats,coverageDescription:t,version:"2.0.1",useEPSGAxis:!1}}(e)))}},65660:(e,t,n)=>{n.d(t,{m:()=>o});const i=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function o(e){return null!=e&&i.some((t=>{let[n,i]=t;return e>=n&&e<=i}))}}}]);
//# sourceMappingURL=36164.b4acdca5.chunk.js.map