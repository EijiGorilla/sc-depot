"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[57045,90360],{79426:(t,e,r)=>{r.r(e),r.d(e,{default:()=>B});var o=r(89379),l=r(35143),n=r(3825),i=r(50076),s=r(15941),a=r(77717),p=r(68134),u=r(46053),d=(r(81806),r(76460),r(47249),r(28379)),y=r(85842),c=r(76797),h=r(23701),v=r(13312),m=r(25515),f=r(65624),_=r(31362),M=r(5682),g=r(13096),Z=r(95363),O=r(69098),P=r(42553);let S=class extends(O.A.ClonableMixin(P.A)){constructor(t){super(t),this.framerate=null,this.containerFormat=null,this.gop=null,this.aspectRatio=null,this.klv=null}};(0,l._)([(0,u.MZ)({type:String})],S.prototype,"framerate",void 0),(0,l._)([(0,u.MZ)({type:String})],S.prototype,"containerFormat",void 0),(0,l._)([(0,u.MZ)({type:Number})],S.prototype,"gop",void 0),(0,l._)([(0,u.MZ)({type:String})],S.prototype,"aspectRatio",void 0),(0,l._)([(0,u.MZ)({type:Object})],S.prototype,"klv",void 0),S=(0,l._)([(0,y.$)("esri.layers.support.PlaybackInfo")],S);const C=S;var b=r(43505),T=r(58296),w=r(90360),I=r(91967),x=r(17707),N=r(19247);let U=class extends I.default{constructor(){super(...arguments),this.sourcePoint=null,this.mapPoint=null}};(0,l._)([(0,u.MZ)()],U.prototype,"sourcePoint",void 0),(0,l._)([(0,u.MZ)({type:N.default})],U.prototype,"mapPoint",void 0),U=(0,l._)([(0,y.$)("esri.layers.support.VideoFrame.ControlPoint")],U);let j=class extends(O.A.ClonableMixin(P.A)){constructor(t){super(t),this.frame=null,this.controlPoints=null}readControlPoints(t){return t.map((t=>({sourcePoint:{x:t.frameX,y:t.frameY},mapPoint:new N.default(t.point)})))}writeControlPoints(t,e){null!=t&&function(t){return null!=(null===t||void 0===t?void 0:t.sourcePoint)&&null!=t.mapPoint}(t[0])&&(e.controlPoints=t.map((t=>{const e=t.sourcePoint,r=t.mapPoint;return{frameX:e.x,frameY:e.y,point:r.toJSON()}})))}};(0,l._)([(0,u.MZ)({type:String})],j.prototype,"frame",void 0),(0,l._)([(0,u.MZ)({type:[U],json:{write:{allowNull:!1,isRequired:!0}}})],j.prototype,"controlPoints",void 0),(0,l._)([(0,d.w)("controlPoints")],j.prototype,"readControlPoints",null),(0,l._)([(0,x.K)("controlPoints")],j.prototype,"writeControlPoints",null),j=(0,l._)([(0,y.$)("esri.layers.support.VideoFrame")],j);const A=j;var k=r(80782),E=r(75635);let L=class extends((0,f.dM)((0,M.j)((0,a.P)((0,_.d)(m.default))))){constructor(t){super(t),this._trailPoints=[],this.capabilities=null,this.connectionInfo=null,this.controller=new k.default,this.copyright=null,this.created=null,this.description=null,this.elevationSource=null,this.frame=null,this.frameCount=null,this.fullExtent=null,this.initialExtent=null,this.layerId=null,this.playbackInfo=null,this.posterUrl=null,this.qualities=null,this.serviceItemId=null,this.sourceJSON=null,this.sourceQuality=null,this.sourceType=null,this.spatialReference=v.default.WGS84,this.telemetryDisplay=null,this.title=null,this.type="video",this.url=null,this.videoLayersInfo=null,this.videoTimeExtent=null}initialize(){this.telemetryDisplay=new w.default({frame:!1,frameCenter:!1,frameOutline:!0,lineOfSight:!0,sensorLocation:!0,sensorTrail:!0}),this.addHandles([(0,p.watch)((()=>this.metadata),(()=>{this.notifyChange("telemetry"),this.notifyChange("groundControlPoints"),this.notifyChange("frameHorizonPoints")})),(0,p.watch)((()=>{var t;return null===(t=this.telemetry)||void 0===t?void 0:t.sensorLocation}),(t=>this._setSensorTrail(t)),p.initial)])}load(t){const e=null!=t?t.signal:null;return this.addResolvingPromise(this._fetchService(e)),Promise.resolve(this)}get buffered(){return this.controller.buffered}readCapabilitiesFromService(t,e){return(0,b.d)(e)}readConnectionInfo(t,e){const r=Object.values(e.connectionUrl);return null!==r&&void 0!==r&&r.length&&(this.controller.playerUrl=r[0]),e.connectionUrl}get currentTime(){return this.controller.currentTime}get duration(){return this.controller.duration}get ended(){return this.controller.ended}get frameHorizonPoints(){return(0,E.SC)(this.metadata)}get groundControlPoints(){return(0,E.I0)(this.metadata)}get loop(){return this.controller.loop}set loop(t){this.controller.loop=t}get metadata(){var t;return null===(t=this.controller)||void 0===t?void 0:t.currentMetadata}get mimeType(){var t;return null===(t=this.controller)||void 0===t?void 0:t.mimeType}get muted(){return this.controller.muted}set muted(t){this.controller.muted=t}get playbackRate(){return this.controller.rate}set playbackRate(t){this.controller.rate=t}get playerUrl(){return this.controller.playerUrl}get playing(){return this.controller.playing}get state(){return this.controller.state}get telemetry(){return(0,E.YI)(this.metadata)}get videoElement(){var t;return null===(t=this.controller)||void 0===t?void 0:t.element}get videoHeight(){var t;return null===(t=this.controller)||void 0===t?void 0:t.videoHeight}readLayerInfosFromService(t,e){return(0,E.Yv)(e)}get videoWidth(){var t;return null===(t=this.controller)||void 0===t?void 0:t.videoWidth}get waiting(){return this.controller.waiting}play(){this.controller.play()}pause(){this.controller.pause()}reset(){this.controller.reset()}setCurrentTime(t){if(!this.duration)return;const e=(0,s.qE)(t,0,this.duration);this.controller.setCurrentTime(e)}toGround(t,e){var r;return null!==(r=this.controller)&&void 0!==r&&null!==(r=r.sensorModel)&&void 0!==r&&r.metadataSupportsTransforms?this.controller.sensorModel.transformImageToGeo(t,e):null}toVideo(t){var e;if(null===(e=this.controller)||void 0===e||null===(e=e.sensorModel)||void 0===e||!e.metadataSupportsTransforms)return null;const r=this.controller.sensorModel.transformGeoToImage(t.x,t.y,t.z);return{x:r[0],y:r[1]}}async _fetchService(t){var e,r;if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});const l=(0,g.qg)(null===(e=this.parsedUrl)||void 0===e?void 0:e.path);if(null==l)throw new i.default("arcgis-layers:url-mismatch","The url is not a valid arcgis resource");let s=null;const{data:a,ssl:p}=await(0,n.default)(l.url.path,{query:(0,o.A)((0,o.A)({f:"json"},this.parsedUrl.query),this.customParameters),signal:t}),u=a;if(this.url=l.url.path,p&&(this.url=this.url.replace(/^http:/i,"https:")),null===u||void 0===u||!u.currentVersion)return u.currentVersion="11.2",this.sourceJSON=u,void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});let d=null===l||void 0===l?void 0:l.sublayer;if(null==d&&null!==(r=u.layers)&&void 0!==r&&r.length&&(d=u.layers[0].id),null==d)throw new i.default("arcgis-layers:url-mismatch","The url is not a valid arcgis resource");this.url="".concat(l.url.path,"/").concat(d),s=await(0,n.default)(this.url,{query:(0,o.A)({f:"json"},this.customParameters),signal:t});const y=(0,o.A)((0,o.A)({},u),s.data);this.sourceJSON=y,this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl})}_setSensorTrail(t){if(!t)return;const e=(0,E.yQ)(t,this._trailPoints);this._trailPoints=[...e];const r=this._trailPoints.map((t=>t.toArray())),o=new h.default({hasZ:t.hasZ,paths:[r]});this.telemetry.sensorTrail=o.clone()}};(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"buffered",null),(0,l._)([(0,u.MZ)({readOnly:!0,json:{read:!1}})],L.prototype,"capabilities",void 0),(0,l._)([(0,d.w)("service","capabilities",["supportsAppend","supportsCoverageQuery","supportsExportClip","supportsExportFrameset","supportsMensuration","supportsUpdate"])],L.prototype,"readCapabilitiesFromService",null),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"connectionInfo",void 0),(0,l._)([(0,d.w)("connectionInfo",["connectionUrl"])],L.prototype,"readConnectionInfo",null),(0,l._)([(0,u.MZ)()],L.prototype,"controller",void 0),(0,l._)([(0,u.MZ)({type:String})],L.prototype,"copyright",void 0),(0,l._)([(0,u.MZ)({readOnly:!0,type:Date})],L.prototype,"created",void 0),(0,l._)([(0,u.MZ)({type:Number})],L.prototype,"currentTime",null),(0,l._)([(0,u.MZ)({type:String})],L.prototype,"description",void 0),(0,l._)([(0,u.MZ)({type:Number})],L.prototype,"duration",null),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"elevationSource",void 0),(0,l._)([(0,u.MZ)({type:Boolean})],L.prototype,"ended",null),(0,l._)([(0,u.MZ)({type:A})],L.prototype,"frame",void 0),(0,l._)([(0,u.MZ)({readOnly:!0,type:Number})],L.prototype,"frameCount",void 0),(0,l._)([(0,u.MZ)({type:c.default})],L.prototype,"fullExtent",void 0),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"frameHorizonPoints",null),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"groundControlPoints",null),(0,l._)([(0,u.MZ)({type:c.default})],L.prototype,"initialExtent",void 0),(0,l._)([(0,u.MZ)({readOnly:!0,json:{read:{source:"id"}}})],L.prototype,"layerId",void 0),(0,l._)([(0,u.MZ)({type:Boolean})],L.prototype,"loop",null),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"metadata",null),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"mimeType",null),(0,l._)([(0,u.MZ)({type:Boolean})],L.prototype,"muted",null),(0,l._)([(0,u.MZ)({type:C})],L.prototype,"playbackInfo",void 0),(0,l._)([(0,u.MZ)({type:Number})],L.prototype,"playbackRate",null),(0,l._)([(0,u.MZ)({type:String})],L.prototype,"playerUrl",null),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"playing",null),(0,l._)([(0,u.MZ)({readOnly:!0,json:{read:{source:"poster"}}})],L.prototype,"posterUrl",void 0),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"qualities",void 0),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"serviceItemId",void 0),(0,l._)([(0,u.MZ)()],L.prototype,"sourceJSON",void 0),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"sourceQuality",void 0),(0,l._)([(0,u.MZ)({readOnly:!0,json:{name:"serviceType"}})],L.prototype,"sourceType",void 0),(0,l._)([(0,u.MZ)()],L.prototype,"spatialReference",void 0),(0,l._)([(0,u.MZ)({readOnly:!0,type:String})],L.prototype,"state",null),(0,l._)([(0,u.MZ)({readOnly:!0,type:T.default})],L.prototype,"telemetry",null),(0,l._)([(0,u.MZ)({type:w.default})],L.prototype,"telemetryDisplay",void 0),(0,l._)([(0,u.MZ)({readOnly:!1,json:{read:{source:"name"}}})],L.prototype,"title",void 0),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"type",void 0),(0,l._)([(0,u.MZ)(Z.OZ)],L.prototype,"url",void 0),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"videoElement",null),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"videoHeight",null),(0,l._)([(0,u.MZ)({readOnly:!0,json:{read:!1}})],L.prototype,"videoLayersInfo",void 0),(0,l._)([(0,d.w)("service","videoLayersInfo",["id","name","poster","serviceType","type"])],L.prototype,"readLayerInfosFromService",null),(0,l._)([(0,u.MZ)({readOnly:!0,nonNullable:!1,json:{read:{reader:E.nX,source:"time"}}})],L.prototype,"videoTimeExtent",void 0),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"videoWidth",null),(0,l._)([(0,u.MZ)({readOnly:!0})],L.prototype,"waiting",null),L=(0,l._)([(0,y.$)("esri.layers.VideoLayer")],L);const B=L},90360:(t,e,r)=>{r.r(e),r.d(e,{default:()=>p});var o=r(35143),l=r(69098),n=r(42553),i=r(46053),s=(r(81806),r(76460),r(47249),r(85842));let a=class extends(l.A.ClonableMixin(n.A)){constructor(t){super(t),this.frame=null,this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"frame",void 0),(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"frameCenter",void 0),(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"frameOutline",void 0),(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"lineOfSight",void 0),(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"sensorLocation",void 0),(0,o._)([(0,i.MZ)({type:Boolean})],a.prototype,"sensorTrail",void 0),a=(0,o._)([(0,s.$)("esri.layers.support.TelemetryDisplay")],a);const p=a}}]);
//# sourceMappingURL=57045.9aa2f588.chunk.js.map