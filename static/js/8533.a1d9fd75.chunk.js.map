{"version":3,"file":"static/js/8533.a1d9fd75.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/CatalogLayerList/CatalogLayerListViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import s from\"../../core/Evented.js\";import{watch as i,on as o,initial as a}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"../LayerList/ListItem.js\";import{findLayerListMode as d}from\"../LayerList/support/layerListUtils.js\";const m={layerListMode:\"layer-list-mode\"},n=\"hide\",h=e.ofType(c);let p=class extends s.EventedAccessor{constructor(t){super(t),this.catalogItems=new h,this.checkPublishStatusEnabled=!1,this.catalogLayer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.view=null}initialize(){this.addHandles([i((()=>[this.catalogLayer?.loaded,this.view?.ready]),(()=>this._compileList()),a),o((()=>this.catalogLayer?.dynamicGroupLayer.layers),\"change\",(()=>this._compileList())),i((()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled]),(()=>this._recompileList()))])}destroy(){this.view=null,this.catalogItems.removeAll()}get state(){const{view:t,catalogLayer:e}=this;return t?.ready&&e?.loaded?\"ready\":t&&e?\"loading\":\"disabled\"}get totalItems(){return this.catalogItems.flatten((t=>t.children)).length}triggerAction(t,e){t&&!t.disabled&&this.emit(\"trigger-action\",{action:t,item:e})}_createListItem(t){const{view:e,listItemCreatedFunction:s,checkPublishStatusEnabled:i,listModeDisabled:o}=this;return new c({checkPublishStatusEnabled:i,listModeDisabled:o,layer:t,listItemCreatedFunction:s,view:e})}_removeAllItems(){this.catalogItems.removeAll()}_getViewableLayers(t){return t?this.listModeDisabled?t:t.filter((t=>d(t)!==n)):void 0}_watchLayersListMode(t){this.removeHandles(m.layerListMode),t&&!this.listModeDisabled&&this.addHandles(i((()=>t.filter((t=>\"listMode\"in t)).map((t=>t.listMode)).toArray()),(()=>this._compileList())),m.layerListMode)}_compileList(){const{catalogLayer:t}=this;if(!t?.loaded)return;const e=t?.dynamicGroupLayer.layers;this._watchLayersListMode(e);const s=this._getViewableLayers(e);s?.length?(this._createNewItems(s),this._removeItems(s),this._sortItems(s)):this._removeAllItems()}_createNewItems(t){const{catalogItems:e}=this;t.forEach((t=>{e.some((e=>e.layer===t))||e.add(this._createListItem(t))}))}_removeItems(t){const{catalogItems:e}=this,s=[];e.forEach((e=>{e&&t?.includes(e.layer)||s.push(e)})),e.removeMany(s)}_sortItems(t){const{catalogItems:e}=this;e.sort(((e,s)=>{const i=t.indexOf(e.layer),o=t.indexOf(s.layer);return i>o?-1:i<o?1:0}))}_recompileList(){this._removeAllItems(),this._compileList()}};t([r({type:h})],p.prototype,\"catalogItems\",void 0),t([r()],p.prototype,\"checkPublishStatusEnabled\",void 0),t([r()],p.prototype,\"catalogLayer\",void 0),t([r()],p.prototype,\"listItemCreatedFunction\",void 0),t([r({nonNullable:!0})],p.prototype,\"listModeDisabled\",void 0),t([r({readOnly:!0})],p.prototype,\"state\",null),t([r()],p.prototype,\"totalItems\",null),t([r()],p.prototype,\"view\",void 0),p=t([l(\"esri.widgets.CatalogLayerList.CatalogLayerListViewModel\")],p);const y=p;export{y as default};\n"],"names":["m","h","e","ofType","c","p","s","EventedAccessor","constructor","t","super","this","catalogItems","checkPublishStatusEnabled","catalogLayer","listItemCreatedFunction","listModeDisabled","view","initialize","addHandles","i","_this$catalogLayer","_this$view","loaded","ready","_compileList","a","o","_this$catalogLayer2","dynamicGroupLayer","layers","_recompileList","destroy","removeAll","state","totalItems","flatten","children","length","triggerAction","disabled","emit","action","item","_createListItem","layer","_removeAllItems","_getViewableLayers","filter","d","_watchLayersListMode","removeHandles","map","listMode","toArray","_createNewItems","_removeItems","_sortItems","forEach","some","add","includes","push","removeMany","sort","indexOf","r","type","prototype","nonNullable","readOnly","l","y"],"sourceRoot":""}