{"version":3,"file":"static/js/54265.17be4fda.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/versionManagement/support/EditMomentStack.js","../node_modules/@arcgis/core/versionManagement/VersionManagementService.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/FeatureLayerVersionAdapter.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/NetworkVersionAdapter.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/SubTypeGroupLayerVersionAdapter.js","../node_modules/@arcgis/core/versionManagement/versionAdapters/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this.moments=[],this.forwardMoments=[],this.moments.push(t)}push(t){return this.forwardMoments.length,this.moments.push(t)}pop(){if(!(this.forwardMoments.length>0))return this.moments.pop()}undo(){if(!this.canUndo())return;const t=this.moments.pop();return this.forwardMoments.push(t),t}peek(){return this.moments.at(-1)}canUndo(){return this.moments.length>1}canRedo(){return this.hasForwardEdits()}redo(){if(!this.canRedo())return;const t=this.forwardMoments.pop();return this.moments.push(t),t}size(){return this.moments.length+this.forwardMoments.length}hasForwardEdits(){return this.forwardMoments.length>0}clearForwardEdits(){this.forwardMoments=[]}}export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../request.js\";import r from\"../core/Error.js\";import s from\"../core/JSONSupport.js\";import i from\"../core/Loadable.js\";import{removeTrailingSlash as n,Url as o}from\"../core/urlUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{reader as u}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as c}from\"../core/accessorSupport/decorators/writer.js\";import{onApplyEditsEvent as d,emitUpdateMomentEvent as m}from\"../layers/mixins/EditBusLayer.js\";import{parseUrl as f}from\"../rest/utils.js\";import g from\"./support/EditMomentStack.js\";import{versionCollection as p,versionCollectionCount as h,defaultVersionNameLookup as V,currentSessionId as v}from\"./support/versionManagementUtils.js\";import{createVersionAdapters as y}from\"./versionAdapters/utils.js\";let w=class extends(s.JSONSupportMixin(i)){constructor(e){super(e),this.url=null,this.sourceJSON=null,this.name=null,this.defaultVersionIdentifier=null,this.capabilities=null,this._isDefault=e=>!e||e===this.defaultVersionIdentifier.name,this._dateEquals=(e,t)=>!e&&!t||!(!e||!t)&&e.toISOString()===t.toISOString(),this._applyEditsHandler=e=>{const{serviceUrl:t,gdbVersion:r,result:s}=e;t===this._featureServiceUrl&&s.then((e=>{const t=e.historicMoment;t&&this._addMomentToVersionItem(r,t)}))}}initialize(){this.url=n(this.url),this._featureServiceUrl=this.url.replace(/\\/VersionManagementServer/i,\"/FeatureServer\"),p.has(this.url)||p.set(this.url,new Map);const e=(h.get(this.url)??0)+1;h.set(this.url,e),this.when().then((()=>this.addHandles(d(this._applyEditsHandler))),(()=>{}))}destroy(){const e=(h.get(this.url)??1)-1;h.set(this.url,e),0===e&&p.delete(this.url),V.delete(this._featureServiceUrl)}read(e,t){this.sourceJSON=e,super.read(e,t)}readDefaultVersionIdentifier(e,t){return{name:t.defaultVersionName,guid:t.defaultVersionGuid}}writeDefaultVersionIdentifier(e,t){t.defaultVersionName=e.name,t.defaultVersionGuid=e.guid}load(e){return this.addResolvingPromise(this._fetchService(this.url,e)),Promise.resolve(this)}async createVersion(e){const[{createVersion:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/createVersion.js\"),import(\"../rest/versionManagement/support/CreateVersionParameters.js\")]),s=r.from(e);return t(this.url,s)}async deleteVersion(e){const[{deleteVersion:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/deleteVersion.js\"),import(\"../rest/versionManagement/support/DeleteVersionParameters.js\")]);let s;e.guid&&p.get(this.url)?.has(e.guid)&&(s=v??void 0);const i=new r({versionName:e.name,sessionId:s});return t(this.url,i)}async getVersionInfoExtended(e){const{getVersion:t}=await import(\"../rest/versionManagement/getVersion.js\");return t(this.url,e.guid)}async getVersionInfos(e={}){const[{getVersionInfos:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/getVersionInfos.js\"),import(\"../rest/versionManagement/support/GetVersionInfosParameters.js\")]),s=r.from(e);return t(this.url,s)}async reconcile(e,t={}){const[{reconcile:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/reconcile.js\"),import(\"../rest/versionManagement/gdbVersion/support/ReconcileParameters.js\")]),i=s.from(t);return i.sessionId=v,r(this.url,e.guid,i)}async post(e){const[{post:t},{default:r}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/post.js\"),import(\"../rest/versionManagement/gdbVersion/support/PostParameters.js\")]),s=r.from({sessionId:v});return t(this.url,e.guid,s)}async alterVersion(e,t){const[{alterVersion:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/alterVersion.js\"),import(\"../rest/versionManagement/gdbVersion/support/AlterVersionParameters.js\")]),i=s.from(t);return r(this.url,e.guid,i)}async startReading(e){return(await this.startReadingWithResult(e)).success}async startReadingWithResult(e){const{startReading:t}=await import(\"../rest/versionManagement/gdbVersion/startReading.js\"),r=await t(this.url,e.guid,v);if(r.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate),s={name:t.versionIdentifier.name,moment:r,lockType:\"read\"};this._addOrUpdateItem(e.guid,s),m(this._featureServiceUrl,null,e.name,r)}return r}async stopReading(e){return(await this.stopReadingWithResult(e)).success}async stopReadingWithResult(e){const{stopReading:t}=await import(\"../rest/versionManagement/gdbVersion/stopReading.js\"),r=await t(this.url,e.guid,v);return r.success&&(p.get(this.url)?.delete(e.guid),m(this._featureServiceUrl,null,e.name,null)),r}async startEditing(e){return(await this.startEditingWithResult(e)).success}async startEditingWithResult(e){const{startEditing:t}=await import(\"../rest/versionManagement/gdbVersion/startEditing.js\"),r=await t(this.url,e.guid,v);if(r.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate),s=new g(r),i={name:e.name,moment:r,lockType:\"edit\",stack:s};this._addOrUpdateItem(e.guid,i),m(this._featureServiceUrl,null,e.name,r)}return r}async stopEditing(e,t){return(await this.stopEditingWithResult(e,t)).success}async stopEditingWithResult(e,t){if(t){const t=p.get(this.url)?.get(e.guid);if(t?.stack?.canRedo()){const[{deleteForwardEdits:r},{default:s}]=await Promise.all([import(\"../rest/versionManagement/gdbVersion/deleteForwardEdits.js\"),import(\"../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters.js\")]),i=await r(this.url,e.guid,new s({sessionId:v,moment:t.moment}));if(!i.success)return i}}const{stopEditing:r}=await import(\"../rest/versionManagement/gdbVersion/stopEditing.js\"),s=await r(this.url,e.guid,v,t);if(s.success){const t=await this.getVersionInfoExtended(e),r=new Date(t.modifiedDate);this._addOrUpdateItem(e.guid,{name:e.name,moment:r,lockType:\"read\",editMomentStack:void 0}),m(this._featureServiceUrl,null,e.name,r)}return s}getLockType(e){const t=p.get(this.url)?.get(e.guid)?.lockType;return t??\"none\"}async changeVersion(e,t,s){if(s&&\"name\"in s&&!await this.getVersionInfoExtended(s))throw new r(\"version-management-service:invalid-version\",\"version does not exist\");if(\"networkServiceUrl\"in e){if(this._featureServiceUrl.toLowerCase()===e.featureServiceUrl.toLowerCase())return this._changeVersionInternal(e,t,s)}else{let r;\"layers\"in e?(r=e.allTables.concat(e.allLayers),e.utilityNetworks&&e.utilityNetworks.forEach((e=>{this._featureServiceUrl.toLowerCase()===e.featureServiceUrl.toLowerCase()&&this._changeVersionInternal(e,t,s)}))):r=e;for(const e of r)if(\"feature\"===e.type||\"subtype-group\"===e.type){const r=/^(.*\\/FeatureServer)\\/\\d+$/,i=e.url.replace(r,\"$1\");if(this._featureServiceUrl.toLowerCase()===i.toLowerCase()&&!this._changeVersionInternal(e,t,s))return!1}else if(\"group\"===e.type){const r=e.allTables.concat(e.allLayers);for(const e of r)if(\"feature\"===e.type||\"subtype-group\"===e.type){const r=/^(.*\\/FeatureServer)\\/\\d+$/,i=e.url.replace(r,\"$1\");if(this._featureServiceUrl.toLowerCase()===i.toLowerCase()&&!this._changeVersionInternal(e,t,s))return!1}}}return!0}async changeVersionWithResult(e,t,r){let s;if(\"layers\"in e){const t=y(e.allTables.concat(e.allLayers).filter((e=>\"group\"!==e.type)).toArray());e.utilityNetworks&&e.utilityNetworks.forEach((e=>{const r=y([e]);t.push(...r)})),s=t}else s=e;if(r&&\"name\"in r){if(!await this.getVersionInfoExtended(r)){const e=new Map;for(const t of s)e.set(t,{success:!1});return e}}if(t&&\"name\"in t){if(\"none\"!==this.getLockType(t)){const e=new Map;for(const t of s)e.set(t,{success:!1});return e}}const i=new Map;for(const n of s)if(n)if(n.featureServiceUrl.toLowerCase()===this._featureServiceUrl.toLowerCase()){const e=this._changeVersionInternalWithResult(n,t,r);i.set(n,e)}else i.set(n,{success:!1});return i}async getVersionIdentifierFromName(e){try{const t=await this.getVersionInfos({includeHidden:!0});return t.find((t=>t.versionIdentifier.name.toUpperCase()===e.toUpperCase()))?.versionIdentifier||null}catch{return null}}async getVersionIdentifierFromGuid(e){const{getVersion:t}=await import(\"../rest/versionManagement/getVersion.js\");try{return(await t(this.url,e)).versionIdentifier}catch{return null}}canUndo(e){const t=p.get(this.url)?.get(e.guid);return!!t?.stack?.canUndo()}canRedo(e){const t=p.get(this.url)?.get(e.guid);return!!t?.stack?.canRedo()}undo(e){const t=p.get(this.url)?.get(e.guid),r=t?.stack?.undo()||void 0;if(t&&r){const r=t.stack.peek();m(this._featureServiceUrl,null,e.name,r),p.get(this.url)?.set(e.guid,{...t,moment:r})}}redo(e){const t=p.get(this.url)?.get(e.guid),r=t?.stack?.redo()||void 0;t&&r&&(m(this._featureServiceUrl,null,e.name,r),p.get(this.url)?.set(e.guid,{...t,moment:r}))}_setUpData(e,t){let s=null,i=null,n=null,o=null;const a=e=>{const t=p?.get(this.url)?.get(e.guid);n=e.name,o=t?.moment??null};if(e&&\"name\"in e){if(\"none\"!==this.getLockType(e))throw new r(\"version-management-service:version-locked\",\"version is locked\");s=e.name,i=null,t&&\"name\"in t?a(t):(n=this.defaultVersionIdentifier.name,o=t)}else s=this.defaultVersionIdentifier.name,i=e,t&&\"name\"in t?a(t):(n=this.defaultVersionIdentifier.name,o=t);return{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}}_changeVersionInternal(e,t,r){try{const{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}=this._setUpData(t,r);(this._isDefault(s)&&this._isDefault(e.gdbVersion)&&this._dateEquals(e.historicMoment,i)||s===e.gdbVersion&&this._dateEquals(e.historicMoment,i))&&(e.gdbVersion=n,e.historicMoment=o)}catch(s){return!1}return!0}_changeVersionInternalWithResult(e,t,r){try{const{fromVersionName:s,fromMoment:i,toVersionName:n,toMoment:o}=this._setUpData(t,r);return this._isDefault(s)&&this._isDefault(e.gdbVersion)&&this._dateEquals(e.historicMoment,i)||s===e.gdbVersion&&this._dateEquals(e.historicMoment,i)?(e.gdbVersion=n,e.historicMoment=o,{success:!0}):{success:!1}}catch(s){return{success:!1}}}_addMomentToVersionItem(e,t){const r=p.get(this.url);if(r)for(const[s,i]of r){i.name===e&&this._addToStack(s,t)}}_addToStack(e,t){const r=p.get(this.url),s=r?.get(e);return!!s?.stack&&(S(s.stack.peek(),t)&&s.stack.push(t),r.set(e,{...s,moment:t}),!0)}_addOrUpdateItem(e,t){const r=p.get(this.url),s=r?.get(e);return s?(r.set(e,{...s,...t}),!0):!(!t.name||!t.lockType)&&(r?.set(e,{...t,lockType:t.lockType}),!0)}async _fetchService(e,r){if(this.sourceJSON){this.read(this.sourceJSON,{origin:\"service\",url:f(e)});const t=new o(this.url).host;return void V.set(t,this.defaultVersionIdentifier.name)}const s=await t(e,{responseType:\"json\",query:{f:\"json\"},...r});this.read(s.data)}};function S(e,t){if(e){return e.getTime()<t.getTime()}return!0}e([a()],w.prototype,\"url\",void 0),e([a()],w.prototype,\"sourceJSON\",void 0),e([a({type:String,json:{write:!0}})],w.prototype,\"name\",void 0),e([a({json:{write:{target:{defaultVersionName:{type:String},defaultVersionGuid:{type:String}}},read:{source:[\"defaultVersionName\",\"defaultVersionGuid\"]}}})],w.prototype,\"defaultVersionIdentifier\",void 0),e([u(\"defaultVersionIdentifier\",[\"defaultVersionName\",\"defaultVersionGuid\"])],w.prototype,\"readDefaultVersionIdentifier\",null),e([c(\"defaultVersionIdentifier\",{defaultVersionName:{type:String},defaultVersionGuid:{type:String}})],w.prototype,\"writeDefaultVersionIdentifier\",null),e([a({json:{write:!0}})],w.prototype,\"capabilities\",void 0),w=e([l(\"esri.versionManagement.VersionManagementService\")],w);const I=w;export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class t{constructor(e){this.versionableItem=e,this.type=\"feature-layer\"}get gdbVersion(){return this.versionableItem.gdbVersion}set gdbVersion(e){this.versionableItem.gdbVersion=e}get historicMoment(){return this.versionableItem.historicMoment}set historicMoment(e){this.versionableItem.historicMoment=e}get featureServiceUrl(){const e=/^(.*\\/FeatureServer)\\/\\d+$/;return this.versionableItem.url.replace(e,\"$1\")}}e([r({readOnly:!0})],t.prototype,\"type\",void 0),e([r()],t.prototype,\"gdbVersion\",null),e([r({type:Date})],t.prototype,\"historicMoment\",null),e([r({readOnly:!0})],t.prototype,\"featureServiceUrl\",null);export{t as FeatureLayerVersionAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class t{constructor(e){this.versionableItem=e,this.type=\"network\"}get gdbVersion(){return this.versionableItem.gdbVersion}set gdbVersion(e){this.versionableItem.gdbVersion=e}get historicMoment(){return this.versionableItem.historicMoment}set historicMoment(e){this.versionableItem.historicMoment=e}get featureServiceUrl(){return this.versionableItem.featureServiceUrl}}e([r({readOnly:!0})],t.prototype,\"type\",void 0),e([r()],t.prototype,\"gdbVersion\",null),e([r({type:Date})],t.prototype,\"historicMoment\",null),e([r({readOnly:!0})],t.prototype,\"featureServiceUrl\",null);export{t as NetworkVersionAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/accessorSupport/interfaces.js\";import\"../../core/accessorSupport/tracking/Flags.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class t{constructor(e){this.versionableItem=e,this.type=\"subtype-group-layer\"}get gdbVersion(){return this.versionableItem.gdbVersion}set gdbVersion(e){this.versionableItem.gdbVersion=e}get historicMoment(){return this.versionableItem.historicMoment}set historicMoment(e){this.versionableItem.historicMoment=e}get featureServiceUrl(){const e=/^(.*\\/FeatureServer)\\/\\d+$/;return this.versionableItem.url.replace(e,\"$1\")}}e([r({readOnly:!0})],t.prototype,\"type\",void 0),e([r()],t.prototype,\"gdbVersion\",null),e([r({type:Date})],t.prototype,\"historicMoment\",null),e([r({readOnly:!0})],t.prototype,\"featureServiceUrl\",null);export{t as SubTypeGroupLayerVersionAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isLayerFromCatalog as e}from\"../../layers/catalog/catalogUtils.js\";import{FeatureLayerVersionAdapter as r}from\"./FeatureLayerVersionAdapter.js\";import{NetworkVersionAdapter as t}from\"./NetworkVersionAdapter.js\";import{SubTypeGroupLayerVersionAdapter as o}from\"./SubTypeGroupLayerVersionAdapter.js\";function n(n){return\"networkServiceUrl\"in n?new t(n):\"feature\"!==n.type||e(n)?\"subtype-group\"!==n.type||e(n)?null:new o(n):new r(n)}function p(e){const r=[];for(const t of e)if(\"group\"===t.type){const e=t,o=e.allTables.concat(e.allLayers);for(const t of o)if(\"feature\"===t.type||\"subtype-group\"===t.type){const e=n(t);e&&r.push(e)}}else{const e=n(t);e&&r.push(e)}return r}export{n as createVersionAdapter,p as createVersionAdapters};\n"],"names":["t","constructor","this","moments","forwardMoments","push","length","pop","undo","canUndo","peek","at","canRedo","hasForwardEdits","redo","size","clearForwardEdits","w","s","JSONSupportMixin","i","e","super","url","sourceJSON","name","defaultVersionIdentifier","capabilities","_isDefault","_dateEquals","toISOString","_applyEditsHandler","serviceUrl","gdbVersion","r","result","_featureServiceUrl","then","historicMoment","_addMomentToVersionItem","initialize","_h$get","n","replace","p","has","set","Map","h","get","when","addHandles","d","destroy","_h$get2","delete","V","read","readDefaultVersionIdentifier","defaultVersionName","guid","defaultVersionGuid","writeDefaultVersionIdentifier","load","addResolvingPromise","_fetchService","Promise","resolve","createVersion","default","all","from","deleteVersion","_p$get","v","versionName","sessionId","getVersionInfoExtended","getVersion","getVersionInfos","arguments","undefined","reconcile","post","alterVersion","startReading","startReadingWithResult","success","Date","modifiedDate","versionIdentifier","moment","lockType","_addOrUpdateItem","m","stopReading","stopReadingWithResult","_p$get2","startEditing","startEditingWithResult","g","stack","stopEditing","stopEditingWithResult","_p$get3","_t$stack","deleteForwardEdits","editMomentStack","getLockType","_p$get4","changeVersion","toLowerCase","featureServiceUrl","_changeVersionInternal","allTables","concat","allLayers","utilityNetworks","forEach","type","changeVersionWithResult","y","filter","toArray","_changeVersionInternalWithResult","getVersionIdentifierFromName","_t$find","includeHidden","find","toUpperCase","_unused","getVersionIdentifierFromGuid","_unused2","_p$get5","_t$stack2","_p$get6","_t$stack3","_p$get7","_t$stack4","_p$get8","_objectSpread","_p$get9","_t$stack5","_p$get0","_setUpData","o","a","_p$get1","_t$moment","fromVersionName","fromMoment","toVersionName","toMoment","_addToStack","getTime","S","origin","f","host","responseType","query","data","prototype","String","json","write","target","source","u","c","l","I","versionableItem","readOnly"],"sourceRoot":""}