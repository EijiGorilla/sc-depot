"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[70590],{38556:(e,t,n)=>{n.d(t,{A:()=>o});const i="esri-column",o={contentFull:"".concat(i,"__content--full"),sorter:"".concat(i,"__sorter"),headerContent:"".concat(i,"__header-content"),headerDescription:"".concat(i,"__header-description"),headerLabel:"".concat(i,"__header-label"),headerMenuIcon:"".concat(i,"__header-menu-icon")}},47254:(e,t,n)=>{function i(e){return null!=e&&"object"==typeof e&&"type"in e&&null!==e.type&&("column"===e.type||"field"===e.type||"group"===e.type||"attachment"===e.type||"relationship"===e.type)}function o(e){return!(!e||!("field"in e))}function l(e){return!(!e||!("columns"in e))}function r(e){return!(!e||!("relationshipId"in e))}function s(e){return!(!e||!("onShowAttachments"in e))}n.d(t,{CE:()=>i,DU:()=>s,Ie:()=>l,JY:()=>o,Lv:()=>r})},70590:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var i=n(35143),o=n(91967),l=n(68134),r=n(46053),s=(n(81806),n(76460),n(47249),n(85842)),a=n(38556),d=n(78984),c=n(95843),u=n(76099);let p=class extends o.default{constructor(e){super(e),this._menuIsOpen=!1,this.autoWidth=!1,this.cellValueFormatFunction=e=>{let{root:t,rowData:n,value:i}=e;const{formatFunction:o}=this,l=u.W5.sanitize(i);if(o&&n){const{index:e,item:{attachments:i,feature:r,relatedRecords:s}}=n;return o({attachments:i,column:this,feature:r,index:e,relatedRecords:s,value:l,virtualIndex:this.getVirtualRowIndex(t)})}return l},this.description=null,this.direction=null,this.fieldName=null,this.flexGrow=1,this.footerRenderFunction=null,this.formatFunction=null,this.frozen=!1,this.frozenToEnd=!1,this.grid=null,this.headerRenderFunction=e=>{const{root:t}=e,n=this.createHeaderContent();this.removeCellContent(t),t.appendChild(n)},this.hidden=!1,this.icon=null,this.iconText=null,this.initialSortPriority=null,this.label=null,this.menuConfig=null,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.renderFunction=e=>{let{root:t,rowData:n}=e;const i=this.getCellValue(n),o=this.cellValueFormatFunction({root:t,rowData:n,value:i});let l=null;if(l=o instanceof HTMLElement?o:(0,c.Q)(this.messagesURIUtils,o),this.removeCellContent(t),l instanceof HTMLElement)t.removeAttribute("title"),t.appendChild(l);else if(null!=l){const e=l.toString();t.innerHTML=e,t.title=e}},this.resizable=!0,this.sortable=!1,this.store=null,this.tableTimeZone=null,this.textAlign="start",this.textWrap=!1,this.timeZone=null,this.visibleElements=null,this.width=200}initialize(){const{fieldName:e}=this;this._set("sortElement",this.createSortElement()),this.sortElement.setAttribute("path",e),this.addHandles([(0,l.watch)((()=>this.direction),(e=>{const{sortElement:t}=this;this.sortable&&t&&(e?this.sortElement.direction!==e&&t.setAttribute("direction",e):t.removeAttribute("direction"))})),(0,l.when)((()=>{var e;return(null===(e=this.grid)||void 0===e?void 0:e.isReady)&&this.sortElement}),(()=>{const{direction:e,grid:t,hidden:n,sortElement:i}=this;n&&e&&i&&t&&!t.hasSorter(i)&&t.addSorter(i)}),l.initial),(0,l.watch)((()=>[this.timeZone,this.icon,this.iconText]),(()=>{var e;return null===(e=this.grid)||void 0===e?void 0:e.requestContentUpdate()})),(0,l.watch)((()=>this.hidden),(()=>this.closeMenu())),(0,l.watch)((()=>this.fieldName),(e=>{const{sortElement:t}=this;t&&t.path!==e&&t.setAttribute("path",e)})),(0,l.watch)((()=>this.effectiveLabel),(e=>{const{sortElement:t}=this;t&&t.textContent!==e&&(t.setAttribute("title",e),t.textContent=e)}))])}get _headerRequiresTextContainer(){return!(!this.sortable&&""===this.effectiveLabel&&null==this.effectiveDescription)}get customMenuItems(){var e,t;return null!==(e=null===(t=this.menuConfig)||void 0===t||null===(t=t.items)||void 0===t?void 0:t.map((e=>{let{disabled:t,hidden:n,icon:i,iconClass:o,label:l,selected:r,clickFunction:s}=e;return this.createCalciteDropdownItem({disabled:t,hidden:n,iconClass:o,iconStart:i,selected:r,textContent:l,onclick:e=>s(e)})})))&&void 0!==e?e:[]}get defaultMenuItems(){var e;if(!this.sortable)return[];const t=this.messages,n=[],i=null===(e=this.visibleElements)||void 0===e?void 0:e.columnMenuItems;if(!1!==(null===i||void 0===i?void 0:i.sortAscending)){const e=this.createCalciteDropdownItem({iconStart:"sort-ascending-arrow",textContent:null===t||void 0===t?void 0:t.sortAsc,onclick:()=>this.direction="asc"});n.push(e)}if(!1!==(null===i||void 0===i?void 0:i.sortDescending)){const e=this.createCalciteDropdownItem({iconStart:"sort-descending-arrow",textContent:null===t||void 0===t?void 0:t.sortDesc,onclick:()=>this.direction="desc"});n.push(e)}return n}get effectiveDescription(){const{description:e}=this;return(0,d.$m)(e)?null:u.W5.sanitize(e)}get effectiveLabel(){return u.W5.sanitize(this.label||this.fieldName)}get iconNode(){const{icon:e,iconText:t}=this,n=t?u.W5.sanitize(t):void 0;return e?this.createCalciteIcon({icon:e,textLabel:n}):null}set invalid(e){var t;this._set("invalid",e),null===(t=this.grid)||void 0===t||t.generateCellPartNames()}get invalid(){var e;return null!==(e=this._get("invalid"))&&void 0!==e&&e}get menu(){var e,t,n,i,o;const{customMenuItems:l,defaultMenuItems:r,menuConfig:s}=this,a=!(null===s||void 0===s||!s.open),d=this.createCalciteAction({icon:null!==(e=null===s||void 0===s?void 0:s.icon)&&void 0!==e?e:"ellipsis",text:null!==(t=null===(n=this.messages)||void 0===n?void 0:n.menu)&&void 0!==t?t:"",slot:"trigger"}),c=document.createElement("calcite-dropdown");if(c.maxItems=null!==(i=null===s||void 0===s?void 0:s.maxItems)&&void 0!==i?i:4,c.placement="top-end",c.overlayPositioning="fixed",c.scale=null!==(o=null===s||void 0===s?void 0:s.scale)&&void 0!==o?o:"m",a&&(c.open=a,this._menuIsOpen=!0),c.appendChild(d),c.addEventListener("calciteDropdownOpen",(()=>this._menuIsOpen=!0)),c.addEventListener("calciteDropdownClose",(()=>this._menuIsOpen=!1)),c.onkeydown=this._stopPropagationOnSelect,c.addEventListener("mousewheel",(e=>{e.stopPropagation()})),r.length){const e=c.appendChild(document.createElement("calcite-dropdown-group"));e.selectionMode="none",e.append(...r)}if(l.length){var u;const e=c.appendChild(document.createElement("calcite-dropdown-group"));e.selectionMode=null!==(u=null===s||void 0===s?void 0:s.selectionMode)&&void 0!==u?u:"none",e.append(...l)}return c}get menuItems(){return[...this.defaultMenuItems,...this.customMenuItems]}get menuIsOpen(){return this._menuIsOpen}get menuIsVisible(){var e;return!(!1===(null===(e=this.visibleElements)||void 0===e?void 0:e.columnMenus)||!this.menuItems.length)}closeMenu(){this.menu.open=!1}createSortElement(){const{effectiveLabel:e,direction:t,fieldName:n,initialSortPriority:i}=this,o=document.createElement("vaadin-grid-sorter");return o.classList.add(a.A.sorter),o.setAttribute("path",n),o.setAttribute("title",e),o.textContent=e,t&&o.setAttribute("direction",t),null!=i&&(o._initialOrder=i),o.addEventListener("direction-changed",(()=>{this.direction!==o.direction&&this._set("direction",o.direction)})),o}createCalciteAction(e){const t=document.createElement("calcite-action"),{alignment:n,appearance:i,className:o,disabled:l,icon:r,label:s,scale:a,slot:d,text:c,textEnabled:u,onclick:p}=e;return t.alignment=null!==n&&void 0!==n?n:"center",t.appearance=null!==i&&void 0!==i?i:"transparent",t.className=null!==o&&void 0!==o?o:"",t.disabled=!!l,t.icon=null!==r&&void 0!==r?r:"",t.label=null!==s&&void 0!==s?s:"",t.scale=null!==a&&void 0!==a?a:"s",t.slot=null!==d&&void 0!==d?d:"",t.text=t.title=null!==c&&void 0!==c?c:"",t.textEnabled=!!u,t.onclick=null!==p&&void 0!==p?p:null,t}createCalciteButton(e){const t=document.createElement("calcite-button"),{alignment:n,appearance:i,className:o,disabled:l,iconEnd:r,iconFlipRtl:s,kind:a,loading:d,onclick:c,scale:u,textContent:p,title:m,width:h}=e;return t.alignment=null!==n&&void 0!==n?n:"center",t.className=null!==o&&void 0!==o?o:"",t.scale=null!==u&&void 0!==u?u:"s",t.appearance=null!==i&&void 0!==i?i:"transparent",t.disabled=!!l,t.iconEnd=null!==r&&void 0!==r?r:"",s&&(t.iconFlipRtl=s),t.kind=null!==a&&void 0!==a?a:"brand",t.loading=!!d,t.textContent=null!==p&&void 0!==p?p:"",m&&(t.title=m),t.width=null!==h&&void 0!==h?h:"auto",t.onclick=null!==c&&void 0!==c?c:null,t}createCalciteDropdownItem(e){const t=document.createElement("calcite-dropdown-item"),{disabled:n,hidden:i,iconClass:o,iconStart:l,textContent:r,onclick:s,selected:d}=e,c=null!==r&&void 0!==r?r:"";if(o&&!l){const e=document.createElement("span"),n=document.createElement("span");n.classList.add(a.A.headerMenuIcon,o),e.textContent=e.title=c,e.insertBefore(n,e.firstChild),t.appendChild(e)}else t.iconStart=null!==l&&void 0!==l?l:"",t.textContent=t.title=c;return t.disabled=!!n,t.hidden="function"==typeof i?i():!!i,t.selected=!!d,s&&(t.addEventListener("calciteDropdownItemSelect",s),t.onkeydown=this._stopPropagationOnSelect),t}createCalciteIcon(e){const{effectiveLabel:t}=this,{icon:n,scale:i,textLabel:o}=e,l=document.createElement("calcite-icon"),r=null!==o&&void 0!==o?o:t;return l.icon=n,l.scale=null!==i&&void 0!==i?i:"s",l.textLabel=r,l.title=r,l}createHeaderContent(){var e;const{effectiveDescription:t,effectiveLabel:n,iconNode:i}=this,o=document.createElement("div");if(o.classList.add(a.A.headerContent),i&&o.appendChild(i),!this._headerRequiresTextContainer)return o;const l=o.appendChild(document.createElement("div"));return this.sortable?l.appendChild(this.sortElement):""!==n&&l.appendChild(this._createHeaderTextElement(n,a.A.headerLabel)),null!=t&&!1!==(null===(e=this.visibleElements)||void 0===e?void 0:e.columnDescriptions)&&l.appendChild(this._createHeaderTextElement(t,a.A.headerDescription)),this.menuIsVisible&&o.appendChild(this.menu),o}getCellValue(e){var t;return null===e||void 0===e||null===(t=e.item.feature.attributes)||void 0===t?void 0:t[this.fieldName]}getVirtualRowIndex(e){var t;const n=null===(t=this.grid)||void 0===t?void 0:t.getRowContainingNode(e);return null!==n&&void 0!==n&&n.parentElement?[...n.parentElement.children].indexOf(n):-1}removeCellContent(e){if(e&&e.firstChild)try{for(;null!==e&&void 0!==e&&e.firstChild;)null===e||void 0===e||e.removeChild(e.firstChild)}catch(t){}}openMenu(){this.menuIsVisible&&(this.menu.open=!0,(0,u.Z6)(this.menuItems[0]))}sort(){var e;this.sortable&&(null===(e=this.sortElement)||void 0===e||e.click())}_stopPropagationOnSelect(e){"Enter"!==e.key&&" "!==e.key||e.stopPropagation()}_createHeaderTextElement(e,t){const n=document.createElement("span"),i=null!==e&&void 0!==e?e:"";n.classList.add(t);const o=n.appendChild(document.createElement("span"));return o.textContent=i,o.setAttribute("title",i),n}};(0,i._)([(0,r.MZ)()],p.prototype,"_headerRequiresTextContainer",null),(0,i._)([(0,r.MZ)()],p.prototype,"_menuIsOpen",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"autoWidth",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"cellValueFormatFunction",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"customMenuItems",null),(0,i._)([(0,r.MZ)()],p.prototype,"defaultMenuItems",null),(0,i._)([(0,r.MZ)()],p.prototype,"description",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"direction",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"effectiveDescription",null),(0,i._)([(0,r.MZ)()],p.prototype,"effectiveLabel",null),(0,i._)([(0,r.MZ)({constructOnly:!0})],p.prototype,"fieldName",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"flexGrow",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"footerRenderFunction",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"formatFunction",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"frozen",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"frozenToEnd",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"grid",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"iconNode",null),(0,i._)([(0,r.MZ)()],p.prototype,"invalid",null),(0,i._)([(0,r.MZ)()],p.prototype,"headerRenderFunction",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"hidden",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"icon",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"iconText",void 0),(0,i._)([(0,r.MZ)({constructOnly:!0})],p.prototype,"initialSortPriority",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"label",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"menu",null),(0,i._)([(0,r.MZ)()],p.prototype,"menuItems",null),(0,i._)([(0,r.MZ)()],p.prototype,"menuConfig",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"menuIsOpen",null),(0,i._)([(0,r.MZ)()],p.prototype,"menuIsVisible",null),(0,i._)([(0,r.MZ)()],p.prototype,"messages",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"messagesCommon",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"messagesURIUtils",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"renderFunction",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"resizable",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"sortable",void 0),(0,i._)([(0,r.MZ)({readOnly:!0})],p.prototype,"sortElement",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"store",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"tableTimeZone",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"textAlign",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"textWrap",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"timeZone",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"visibleElements",void 0),(0,i._)([(0,r.MZ)()],p.prototype,"width",void 0),p=(0,i._)([(0,s.$)("esri.widgets.FeatureTable.Grid.Column")],p);const m=p},78984:(e,t,n)=>{n.d(t,{$m:()=>f,A5:()=>u,Dv:()=>b,Gx:()=>I,He:()=>d,Kc:()=>g,TV:()=>h,UI:()=>y,YX:()=>C,aq:()=>_,cS:()=>m,d0:()=>a,hg:()=>s,iH:()=>M,k$:()=>l,pJ:()=>p,sR:()=>v,xf:()=>c,zz:()=>r});var i=n(47254),o=n(94126);const l={action:"EsriFeatureTableActionColumn",attachments:"EsriFeatureTableAttachmentsColumn",relationship:"EsriFeatureTableRelationshipColumn"},r=()=>Promise.all([(0,o.W)({"action-bar":()=>Promise.resolve().then(n.bind(n,143))}),Promise.all([(0,o.W)({input:()=>Promise.all([n.e(46870),n.e(38841)]).then(n.bind(n,38841)),option:()=>n.e(46422).then(n.bind(n,46422)),select:()=>n.e(2253).then(n.bind(n,2253)),"input-date-picker":()=>Promise.all([n.e(46870),n.e(79709),n.e(53433)]).then(n.bind(n,40240)),"input-time-picker":()=>Promise.all([n.e(46870),n.e(5506)]).then(n.bind(n,5506))}),(0,o.W)({action:()=>Promise.resolve().then(n.bind(n,85375)),button:()=>Promise.resolve().then(n.bind(n,43285)),dropdown:()=>Promise.resolve().then(n.bind(n,24482)),"dropdown-item":()=>Promise.resolve().then(n.bind(n,84660)),"dropdown-group":()=>Promise.resolve().then(n.bind(n,5368)),icon:()=>Promise.resolve().then(n.bind(n,16702))})])]);function s(e){return null!=e&&"object"==typeof e&&"createQuery"in e&&"getField"in e&&"queryFeatureCount"in e&&"queryFeatures"in e&&"queryObjectIds"in e&&"capabilities"in e&&"fields"in e&&"fieldsIndex"in e&&"id"in e&&"load"in e&&"objectIdField"in e&&"type"in e&&"when"in e}function a(e){return s(e)&&"queryAttachments"in e}function d(e){return a(e)&&"addAttachment"in e&&"deleteAttachments"in e&&"updateAttachment"in e}function c(e){return s(e)&&"editingEnabled"in e&&"applyEdits"in e}function u(e){return s(e)&&"relationships"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e}function p(e){return null!=e&&"object"==typeof e&&"type"in e&&"map-image"===e.type}function m(e,t,n){if(null!==t&&void 0!==t&&t.map)return h(e,[...t.map.allLayers,...t.map.allTables],n)}function h(e,t,n){let{relatedTableId:i}=n;const o="scene"===e.type&&e.associatedLayer?e.associatedLayer.url:e.url,l=t=>{var n;return!(!u(t)||t===e)&&("sublayer"===t.type&&(null===(n=t.layer)||void 0===n?void 0:n.url)===e.url?t.id===i:o===t.url&&t.layerId===i)};if("sublayer"===e.type&&p(e.parent)){var r,s;const t=t=>u(t)&&t!==e&&t.id===i,n=e.parent,o=(null===(r=n.sublayers)||void 0===r?void 0:r.find(t))||(null===(s=n.subtables)||void 0===s?void 0:s.find(t));if(u(o))return o}let a=null;for(const u of t)if(p(u)){var d,c;const e=(null===(d=u.sublayers)||void 0===d?void 0:d.find(l))||(null===(c=u.subtables)||void 0===c?void 0:c.find(l));if(e){a=e;break}}else if(l(u)){a=u;break}if(u(a))return a}function v(e,t){return null!=e&&Number.isInteger(e)&&e>-1&&e<t}function f(e){return null==e||0===e.trim().length}function b(e,t){var n;return(null!==(n=e.relationships)&&void 0!==n?n:[]).filter((e=>!(e.id===t&&"one-to-one"===e.cardinality))).map((e=>{let{id:t}=e;return{relationshipId:t}}))}function g(e,t){var n;return null===(n=e.relationships)||void 0===n?void 0:n.find((e=>{let{id:n}=e;return n===t}))}function y(e,t){var n;return null==t?null:null===e||void 0===e||null===(n=e.fields)||void 0===n?void 0:n.find((e=>{var n;return t.toLowerCase()===(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())}))}function C(e,t){return t.some((t=>!("group"!==t.type||!C(e,t.columnTemplates))||t.fieldName===e))}function _(e,t){var n;return null!==(n=null===t||void 0===t?void 0:t.some((t=>!(!(0,i.Ie)(t)||!_(e,t.columns))||t.fieldName===e)))&&void 0!==n&&n}function M(e,t){return"".concat(e.id,"-").concat(t)}function I(e){return e.isTable?"table":"feature"===e.type?"feature-layer":"layer"}},95843:(e,t,n)=>{n.d(t,{Q:()=>l});var i=n(88685);const o=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function l(e,t){if("string"!=typeof t||!t)return t;const n=o.find((e=>e.pattern.test(t)));if(!n)return t;const l=t.match(n.pattern),r=null===l||void 0===l?void 0:l[2],s=(0,i.HC)((0,i.HC)(n.label,{messages:e,hierPart:r}),{appName:n.appName}),a=n.target?' target="'.concat(n.target,'"'):"",d="_blank"===n.target?' rel="noreferrer"':"";return t.replace(n.pattern,"<a".concat(a,' href="$1"').concat(d,">").concat(s,"</a>"))}}}]);
//# sourceMappingURL=70590.5597d0d6.chunk.js.map