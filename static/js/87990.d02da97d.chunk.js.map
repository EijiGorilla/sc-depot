{"version":3,"file":"static/js/87990.d02da97d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/smartMapping/symbology/size.js","../node_modules/@arcgis/core/smartMapping/heuristics/referenceSize.js","../node_modules/@arcgis/core/smartMapping/renderers/size.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport o from\"../../Color.js\";import{createThemes as a,getThemesforBasemap as i,getRawSchemes as t}from\"./support/symbologyUtils.js\";import{toWorldScale as r}from\"./support/utils.js\";const e=[128,128,128,1],n=[128,128,128,1],c=\"4px\",l=\"40px\",p={primary:{color:[227,139,79,1],noDataColor:e,outline:{color:[255,255,255,.25],width:\"1px\"},noDataSize:\"4px\",size:\"12px\",minSize:c,maxSize:l,opacity:.8},secondary:[{color:[128,128,128,1],noDataColor:e,outline:{color:[255,255,255,.25],width:\"1px\"},noDataSize:\"4px\",size:\"12px\",minSize:c,maxSize:l,opacity:.8},{color:[255,255,255,1],noDataColor:e,outline:{color:[128,128,128,.25],width:\"1px\"},noDataSize:\"4px\",size:\"12px\",minSize:c,maxSize:l,opacity:.8}]},m={primary:{color:[227,139,79,1],noDataColor:n,outline:{color:[92,92,92,.25],width:\"1px\"},noDataSize:\"4px\",size:\"12px\",minSize:c,maxSize:l,opacity:.8},secondary:[{color:[178,178,178,1],noDataColor:n,outline:{color:[92,92,92,.25],width:\"1px\"},noDataSize:\"4px\",size:\"12px\",minSize:c,maxSize:l,opacity:.8},{color:[26,26,26,1],noDataColor:n,outline:{color:[128,128,128,.25],width:\"1px\"},noDataSize:\"4px\",size:\"12px\",minSize:c,maxSize:l,opacity:.8}]},d=[0,0,0,0],h={color:d,outline:{color:[166,166,166,.25],width:\"1px\"}},y={color:d,outline:{color:[153,153,153,.25],width:\"1px\"}},u=a({themeDictionary:{default:{name:\"default\",label:\"Default\",description:\"Default theme for visualizing features by varying their size to show data.\",schemes:{point:{light:p,dark:m},polyline:{light:{primary:{color:[226,119,40,1],noDataColor:e,noDataWidth:\"1px\",width:\"1px\",minWidth:\"1px\",maxWidth:\"18px\"},secondary:[{color:[77,77,77,1],noDataColor:e,noDataWidth:\"1px\",width:\"1px\",minWidth:\"1px\",maxWidth:\"18px\"},{color:[153,153,153,1],noDataColor:e,noDataWidth:\"1px\",width:\"1px\",minWidth:\"1px\",maxWidth:\"18px\"}]},dark:{primary:{color:[226,119,40,1],noDataColor:n,noDataWidth:\"1px\",width:\"1px\",minWidth:\"1px\",maxWidth:\"18px\"},secondary:[{color:[255,255,255,1],noDataColor:n,noDataWidth:\"1px\",width:\"1px\",minWidth:\"1px\",maxWidth:\"18px\"},{color:[153,153,153,1],noDataColor:n,noDataWidth:\"1px\",width:\"1px\",minWidth:\"1px\",maxWidth:\"18px\"}]}},polygon:{light:{primary:{marker:p.primary,background:y,opacity:p.primary.opacity},secondary:[{marker:p.secondary[0],background:y,opacity:p.secondary[0].opacity},{marker:p.secondary[1],background:y,opacity:p.secondary[1].opacity}]},dark:{primary:{marker:m.primary,background:h,opacity:m.primary.opacity},secondary:[{marker:m.secondary[0],background:h,opacity:m.secondary[0].opacity},{marker:m.secondary[1],background:h,opacity:m.secondary[1].opacity}]}}}}}});function s(o){return i(u,o)}function x(o){if(\"mesh\"===o.geometryType)return null;const a=\"default\",i=t({basemap:o.basemap,geometryType:o.geometryType,basemapTheme:o.basemapTheme,theme:u.get(a)});if(!i)return;const{schemesInfo:r,basemapId:e,basemapTheme:n}=i;return{primaryScheme:z(o,r.primary),secondarySchemes:r.secondary.map((a=>z(o,a))).filter(Boolean),basemapId:e,basemapTheme:n}}function D(a){if(!a)return;const i={...a};return\"color\"in i&&i.color&&(i.color=new o(i.color)),\"noDataColor\"in i&&i.noDataColor&&(i.noDataColor=new o(i.noDataColor)),\"outline\"in i&&i.outline&&(i.outline={color:i.outline.color&&new o(i.outline.color),width:i.outline.width}),\"marker\"in i&&i.marker&&(i.marker=D(i.marker)),\"background\"in i&&i.background&&(i.background=D(i.background)),i}function z(o,a){const i=\"mesh\"!==o.geometryType&&o.worldScale?o.view:null;switch(o.geometryType){case\"point\":case\"multipoint\":{const o=a;return w({color:o.color,noDataColor:o.noDataColor,outline:o.outline,size:o.size,noDataSize:o.noDataSize,minSize:o.minSize,maxSize:o.maxSize,opacity:o.opacity||1},i)}case\"polyline\":{const o=a;return S({color:o.color,noDataColor:o.noDataColor,width:o.width,noDataWidth:o.noDataWidth,minWidth:o.minWidth,maxWidth:o.maxWidth},i)}case\"polygon\":{const o=a,t=o.marker;return delete t.opacity,k({marker:t,background:o.background,opacity:o.opacity||1},i)}}}function w(a,i){return{color:new o(a.color),noDataColor:new o(a.noDataColor),outline:{color:new o(a.outline.color),width:a.outline.width},size:i?r(a.size,i):a.size,noDataSize:i?r(a.noDataSize,i):a.noDataSize,minSize:i?r(a.minSize,i):a.minSize,maxSize:i?r(a.maxSize,i):a.maxSize,opacity:a.opacity}}function S(a,i){return{color:new o(a.color),noDataColor:new o(a.noDataColor),width:i?r(a.width,i):a.width,noDataWidth:i?r(a.noDataWidth,i):a.noDataWidth,minWidth:i?r(a.minWidth,i):a.minWidth,maxWidth:i?r(a.maxWidth,i):a.maxWidth,opacity:1}}function k(a,i){const t=w(a.marker,i);delete t.opacity;return{marker:t,background:{color:new o(a.background.color),outline:{color:new o(a.background.outline.color),width:a.background.outline.width}},opacity:a.opacity}}export{D as cloneScheme,x as getSchemes,s as getThemes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{px2pt as t}from\"../../core/screenUtils.js\";import{getGeometryExtent as i}from\"../../geometry/support/extentUtils.js\";import r from\"../statistics/spatialStatistics.js\";import{verifyBinningParams as n}from\"../support/binningUtils.js\";import{binningCapableLayerTypes as s,featureCapableLayerTypes as o,createLayerAdapter as a,getLayerTypeLabels as f}from\"../support/adapters/support/layerUtils.js\";const c=.1,u=.25,p=.1,l=.1;async function m(t){const{view:i}=t;if(!(t&&i&&t.layer))throw new e(\"reference-size:missing-parameters\",\"'view' and 'layer' parameters are required\");t.forBinning&&n(t,\"reference-size\");const{layer:r,...c}=t,u=t.forBinning?s:o,p=a(r,u,t.forBinning);if(!p)throw new e(\"reference-size:invalid-parameters\",\"'reference-size' must be one of these types: \"+f(u).join(\", \"));const l={layerAdapter:p,...c,view:i};await i.when();const m=null!=l.signal?{signal:l.signal}:null;if(await p.load(m),!t.forBinning&&\"polygon\"!==p.geometryType)throw new e(\"reference-size:not-supported\",`reference-size is not supported for geometryType: ${p.geometryType}`);return l}function y(e){let t=0;for(const i of e)t+=i;return t/e.length}function g(e,t){const i=t??y(e),r=e.reduce(((e,t)=>e+(t-i)**2),0);return Math.sqrt(r/e.length)}async function h(t,n){const s=await r({features:t,geometryType:n});if(!(s&&\"avgSize\"in s&&s.avgSize))throw new e(\"reference-size:insufficient-info\",\"average polygon size is invalid\");const o=s.avgSize,a=[],f=[];for(const e of t){const t=i(e.geometry);if(!t){a.push(0),f.push(0);continue}const r=Math.abs(t.xmax-t.xmin),n=Math.abs(t.ymax-t.ymin);a.push(r/n),f.push(Math.sqrt(r*n))}const c=Number(y(a).toFixed(2)),m=Number(g(a,c).toFixed(2)),h=g(f),w=Number((h/o).toFixed(2));return{isGrid:m<=p&&c>=1-u&&c<=1+u&&w<=l,avgSize:o}}async function w(r,n){const{view:s}=n;if(n.forBinning){const n=r[Math.floor(r.length/2)].geometry,o=i(n);if(!o)throw new e(\"reference-size:insufficient-info\",\"Extent is invalid\");const a=Math.abs(o.xmax-o.xmin),f=Math.abs(o.ymax-o.ymin),c=Math.min(a,f);return{size:t(c/s.resolution),isGrid:!0}}const{isGrid:o,avgSize:a}=await h(r,n.layerAdapter.geometryType);return{size:t((o?a*(1-c):.75*a)/s.resolution),isGrid:o}}async function d(t){const i=await m(t),r=-1,n=await i.layerAdapter.getSampleFeatures({sampleSize:r,returnGeometry:!0,...i},\"json\");if(!n?.length)throw new e(\"reference-size:insufficient-info\",\"No features are available to calculate statistics\");return w(n,i)}export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createUniqueColors as e}from\"../../core/colorUtils.js\";import i from\"../../core/Error.js\";import{toPt as a}from\"../../core/screenUtils.js\";import{ensureClass as r}from\"../../core/accessorSupport/ensureType.js\";import{fetchMessageBundle as n}from\"../../intl/messages.js\";import s from\"../../renderers/ClassBreaksRenderer.js\";import l from\"../../renderers/support/AuthoringInfo.js\";import t from\"../../renderers/support/AuthoringInfoSizeStop.js\";import o from\"../../renderers/support/AuthoringInfoVisualVariable.js\";import{setLabelsForClassBreaks as u}from\"../../renderers/support/utils.js\";import m from\"../../renderers/visualVariables/SizeVariable.js\";import{castSizeFromStringOrNumber as d}from\"../../renderers/visualVariables/support/castSizeVariable.js\";import p from\"../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{TransformationType as c}from\"../../renderers/visualVariables/support/sizeVariableUtils.js\";import f from\"../heuristics/ageUnit.js\";import y from\"../heuristics/outline.js\";import v from\"../heuristics/referenceSize.js\";import z from\"../heuristics/sizeRange.js\";import{getReferenceSizeStops as w,createPrimitiveOverrides as b,updateReferenceSizeSymbol as h,createReferenceSizeSymbol as g}from\"./support/referenceSizeUtils.js\";import{isSizeVV as S,getAuthoringInfoVisualVariable as x,spliceVisualVariables as E,findSizeVVIndex as T,findOutlineVVIndex as V,updateAuthoringInfoVisualVariable as I,processRegenerateParams as O,getRendererToUpdate as k,getStyleType as B,hasScaleDependentSizeVV as F,hasOutlineVV as j}from\"./support/regenerateUtils.js\";import{getSummaryStatistics as q,errorCallback as R,getClassBreaks as D,getTitleAndExpressionForAgeRenderer as U,updateAgeRendererAuthoringInfoVV as G,verifyBasicFieldValidity as P,getDataRange as M,getSizeRangeForAxis as $,createSymbol as C,getSymbolOutlineFromScheme as A,getSymbolSizeFromScheme as L,getBasemapInfo as W}from\"./support/utils.js\";import{verifyDates as H,supportedAgeUnits as J}from\"../statistics/support/ageUtils.js\";import{verifyBinningParams as K}from\"../support/binningUtils.js\";import{getFieldsList as N,getNormalizationType as Q,isAnyDateField as X}from\"../support/utils.js\";import{binningCapableLayerTypes as Y,featureCapableLayerTypes as Z,createLayerAdapter as _,getLayerTypeLabels as ee}from\"../support/adapters/support/layerUtils.js\";import{cloneScheme as ie,getSchemes as ae}from\"../symbology/size.js\";import{getColorFromSymbol as re}from\"../../symbols/support/utils.js\";const ne=2**53-1;async function se(e){if(!(e&&e.layer&&(e.field||e.valueExpression||e.sqlExpression)))throw new i(\"size-visual-variable:missing-parameters\",\"'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required\");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new i(\"size-visual-variable:missing-parameters\",\"View is required when 'valueExpression' is specified\");if(\"reference-size\"===e.theme&&!e.view&&!e.field)throw new i(\"size-visual-variable:missing-parameters\",\"'view' and 'field' are required when 'theme' is 'reference-size'\");if(\"reference-size\"===e.theme&&e.valueExpression)throw new i(\"size-visual-variable:missing-parameters\",\"'valueExpression' is not supported when 'theme' is 'reference-size'\");e.forBinning&&K(e,\"size-visual-variable\");const a={...e},r=e.forBinning?Y:Z,n=_(a.layer,r,e.forBinning);if(!n)throw new i(\"size-visual-variable:invalid-parameters\",\"'layer' must be one of these types: \"+ee(r).join(\", \"));\"height\"===a.axis&&(a.sizeOptimizationEnabled=!1);const s=null!=a.signal?{signal:a.signal}:null;await n.load(s);const l=n.geometryType;if(\"mesh\"===l)throw new i(\"size-visual-variable:invalid-parameters\",\"Size visualization is not applicable to layers with 'mesh' geometry type\");if(a.worldScale){if(\"polyline\"===l||\"polygon\"===l)throw new i(\"size-visual-variable:not-supported\",\"'worldScale' sizing is not supported for polyline and polygon layers\");if(!a.view||\"3d\"!==a.view.type)throw new i(\"size-visual-variable:invalid-parameters\",\"'view' parameter should be an instance of SceneView when 'worldScale' parameter is true\")}if(\"reference-size\"===a.theme&&!e.forBinning&&\"polygon\"!==l)throw new i(\"size-visual-variable:invalid-parameters\",\"Reference size is only supported for polygon layers\");const t=await N({field:a.field,normalizationField:a.normalizationField,valueExpression:a.valueExpression}),o=P(n,t,\"size-visual-variable:invalid-parameters\");if(o)throw o;return await te(a),{...a,layer:n}}async function le(e){if(!(e&&e.layer&&(e.field||e.valueExpression||e.sqlExpression)))throw new i(\"size-continuous-renderer:missing-parameters\",\"'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required\");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new i(\"size-continuous-renderer:missing-parameters\",\"View is required when 'valueExpression' is specified\");e.forBinning&&K(e,\"size-continuous-renderer\");const a={...e};a.symbolType=a.symbolType||\"2d\",a.defaultSymbolEnabled??=!0;const r=e.forBinning?Y:Z,n=_(a.layer,r,e.forBinning);if(!n)throw new i(\"size-continuous-renderer:invalid-parameters\",\"'layer' must be one of these types: \"+ee(r).join(\", \"));const s=null!=a.signal?{signal:a.signal}:null;await n.load(s);const l=n.geometryType,t=a.symbolType.includes(\"3d\");if(a.outlineOptimizationEnabled=\"reference-size\"!==a.theme&&\"polygon\"===l&&a.outlineOptimizationEnabled,\"mesh\"===l)throw new i(\"size-continuous-renderer:invalid-parameters\",\"Size visualization is not applicable to layers with 'mesh' geometry type\");if(t&&(\"polyline\"===l||\"polygon\"===l))throw new i(\"size-continuous-renderer:not-supported\",\"3d symbols are not supported for polyline and polygon layers\");if(a.symbolType.includes(\"3d-volumetric\")&&(!a.view||\"3d\"!==a.view.type))throw new i(\"size-continuous-renderer:invalid-parameters\",\"'view' parameter should be an instance of SceneView when 'symbolType' parameter is '3d-volumetric' or 3d-volumetric-uniform\");if(\"reference-size\"===a.theme&&!e.forBinning&&\"polygon\"!==l)throw new i(\"size-continuous-renderer:invalid-parameters\",\"Reference size is only supported for polygon layers\");const o=await N({field:a.field,normalizationField:a.normalizationField,valueExpression:a.valueExpression}),u=P(n,o,\"size-continuous-renderer:invalid-parameters\");if(u)throw u;return await te(a),{...a,layer:n}}async function te(e){const i=e.layer;if((\"polygon\"===i.geometryType||e.forBinning)&&e.view&&e.field&&!e.valueExpression&&(!e.theme||\"reference-size\"===e.theme)){try{e.referenceSizeResult=e.referenceSizeResult??await v({layer:i,view:e.view,filter:e.filter,forBinning:e.forBinning,signal:e.signal})}catch{}!e.theme&&e.referenceSizeResult?.isGrid&&(e.theme=\"reference-size\"),e.referenceSizeOptions?.symbolStyle||(e.referenceSizeOptions?e.referenceSizeOptions.symbolStyle=\"circle\":e.referenceSizeOptions={symbolStyle:\"circle\"})}}async function oe(e){if(!e||!(e.layer&&e.view&&e.sizeStops))throw new i(\"update-renderer-with-reference-size:missing-parameters\",\"'layer', 'view and 'sizeStops' parameters are required\");const{view:a,forBinning:r}=e,n=e.forBinning?Y:Z,s=_(e.layer,n,e.forBinning);if(!s)throw new i(\"update-renderer-with-reference-size:invalid-parameters\",\"'layer' must be one of these types: \"+ee(n).join(\", \"));const l=s.layer;let t=e.renderer;if(!t)if(e.forBinning){if(!(\"featureReduction\"in l&&l.featureReduction&&\"renderer\"in l.featureReduction&&l.featureReduction.renderer)||\"class-breaks\"!==l.featureReduction.renderer.type&&\"unique-value\"!==l.featureReduction.renderer.type)throw new i(\"update-renderer-with-reference-size:invalid-parameters\",\"Feature reduction renderer is not supported\");t=l.featureReduction.renderer}else{if(!(\"renderer\"in l)||!l.renderer||\"class-breaks\"!==l.renderer.type&&\"unique-value\"!==l.renderer.type)throw new i(\"update-renderer-with-reference-size:invalid-parameters\",\"Renderer is not supported\");t=l.renderer}const o=t.authoringInfo;if(!o||!o?.visualVariables?.some((e=>\"reference-size\"===e.theme)))throw new i(\"update-renderer-with-reference-size:invalid-parameters\",\"'renderer.authoringInfo.visualVariables' should have an authoringInfoVisualVariable with 'theme' set to 'reference-size'\");const u=e.isGrid??(await v({view:a,layer:l,forBinning:r}))?.isGrid;return{...e,isGrid:u,renderer:t,layer:s}}async function ue(e){if(!e||!e.layer||!e.field&&!e.valueExpression)throw new i(\"size-class-breaks-renderer:missing-parameters\",\"'layer' and 'field' or 'valueExpression' parameters are required\");if(e.valueExpression&&!e.view)throw new i(\"size-class-breaks-renderer:missing-parameters\",\"View is required when 'valueExpression' is specified\");e.forBinning&&K(e,\"size-class-breaks-renderer\");const a={...e};a.symbolType=a.symbolType||\"2d\",a.defaultSymbolEnabled??=!0,a.classificationMethod??=\"equal-interval\",a.normalizationType=Q(a);const r=e.forBinning?Y:Z,n=_(a.layer,r,e.forBinning);if(!n)throw new i(\"size-class-breaks-renderer:invalid-parameters\",\"'layer' must be one of these types: \"+ee(r).join(\", \"));if(!(null!=a.minValue&&null!=a.maxValue)&&(null!=a.minValue||null!=a.maxValue))throw new i(\"size-class-breaks-renderer:missing-parameters\",\"Both 'minValue' and 'maxValue' are required when specifying custom data range\");const s=null!=a.signal?{signal:a.signal}:null;await n.load(s);const l=n.geometryType,t=a.symbolType.includes(\"3d\");if(a.outlineOptimizationEnabled=\"polygon\"===l&&a.outlineOptimizationEnabled,\"mesh\"===l)throw new i(\"size-class-breaks-renderer:invalid-parameters\",\"Size visualization is not applicable to layers with 'mesh' geometry type\");if(t&&(\"polyline\"===l||\"polygon\"===l))throw new i(\"size-class-breaks-renderer:not-supported\",\"3d symbols are not supported for polyline and polygon layers\");if(a.symbolType.includes(\"3d-volumetric\")&&(!a.view||\"3d\"!==a.view.type))throw new i(\"size-class-breaks-renderer:invalid-parameters\",\"'view' parameter should be an instance of SceneView when 'symbolType' parameter is '3d-volumetric' or 3d-volumetric-uniform\");const o=await N({field:a.field,normalizationField:a.normalizationField}),u=P(n,o,\"size-class-breaks-renderer:invalid-parameters\");if(u)throw u;return{...a,layer:n}}function me(e){const i={...e};delete i.basemap,delete i.sizeScheme,delete i.legendOptions,delete i.symbolType,delete i.defaultSymbolEnabled;const a=i;return a.analyzeData=!(null!=i.minValue&&null!=i.maxValue),a}function de(e){const i={...e},a=!!i.symbolType?.includes(\"3d-volumetric\"),r=i;return r.worldScale=a,a&&(r.axis=\"3d-volumetric-uniform\"===i.symbolType?\"all\":\"height\"),delete i.symbolType,delete i.defaultSymbolEnabled,r}async function pe(e){if(!(e&&e.layer&&e.view&&e.startTime&&e.endTime))throw new i(\"size-age-renderer:missing-parameters\",\"'layer', 'view', 'startTime', 'endTime' parameters are required\");const a={...e};a.symbolType??=\"2d\",a.defaultSymbolEnabled??=!0;const r=_(a.layer,Z);if(!r)throw new i(\"size-age-renderer:invalid-parameters\",\"'layer' must be one of these types: \"+ee(Z).join(\", \"));const n=null!=a.signal?{signal:a.signal}:null;await r.load(n);const s=r.geometryType,l=a.symbolType.includes(\"3d\");if(a.outlineOptimizationEnabled=\"polygon\"===s&&a.outlineOptimizationEnabled,\"mesh\"===s)throw new i(\"size-age-renderer:invalid-parameters\",\"Size visualization is not applicable to layers with 'mesh' geometry type\");if(l&&(\"polyline\"===s||\"polygon\"===s))throw new i(\"size-age-renderer:not-supported\",\"3d symbols are not supported for polyline and polygon layers\");if(a.symbolType.includes(\"3d-volumetric\")&&(!a.view||\"3d\"!==a.view.type))throw new i(\"size-age-renderer:invalid-parameters\",\"'view' parameter should be an instance of SceneView when 'symbolType' parameter is '3d-volumetric' or 3d-volumetric-uniform\");const t=H(r,a.startTime,a.endTime,\"size-age-renderer:invalid-parameters\");if(t)throw t;if(a.unit&&!J.includes(a.unit))throw new i(\"size-age-renderer:invalid-unit\",`Supported units are: ${J.join(\", \")}`);return{...a,layer:r}}async function ce(e){const a=\"regenerate-size-visual-variables\";O(e,a);const r=await k(e),n=B(r);if(!n||![\"size-continuous\",\"univariate-color-size\",\"color-size\",\"relationship-size\",\"type-size\"].includes(n))throw new i(`${a}:invalid-parameters`,\"Renderer is invalid\");const s=x(r,\"size\");if(!s)throw new i(`${a}:invalid-parameters`,\"Renderer does not have a size visual variable authoringInfo\");const l=s.theme,t=\"reference-size\"===l,o=r.visualVariables?.find(S);if(!o&&!t)throw new i(`${a}:invalid-parameters`,\"Renderer does not have a size visual variable\");let u=s.field,m=s.normalizationField,d=null,p=null;u||(o?.field?(u=o.field,m=o.normalizationField):r.field?(u=r.field,m=r.normalizationField):(d=o?.valueExpression??r.valueExpression,p=o?.valueExpressionTitle??r.valueExpressionTitle));const{layer:c,forBinning:f,filter:y,view:v,signal:z}=e,w=F(r),b=await se({layer:c,field:u,valueExpression:d,valueExpressionTitle:p,normalizationField:m,theme:l,sizeOptimizationEnabled:w,forBinning:f,filter:y,view:v,signal:z});return{...e,creatorParameters:b,renderer:r}}async function fe(e){const a=\"regenerate-size-continuous-renderer\";O(e,a);const r=await k(e),n=B(r);if(!n||![\"size-continuous\",\"univariate-color-size\"].includes(n))throw new i(`${a}:invalid-parameters`,\"Renderer is invalid\");const{authoringInfo:s,field:l,normalizationField:t,valueExpression:o,valueExpressionTitle:u}=r,m=s?.visualVariables.find((e=>\"size\"===e.type)),d=m.theme,{layer:p,forBinning:c,filter:f,view:y,signal:v}=e,z=j(r),w=F(r),b=await le({layer:p,field:l,valueExpression:o,valueExpressionTitle:u,normalizationField:t,theme:d,outlineOptimizationEnabled:z,sizeOptimizationEnabled:w,forBinning:c,filter:f,view:y,signal:v});return{...e,creatorParameters:b,renderer:r}}async function ye(e){const a=\"regenerate-size-class-breaks-renderer\";await O(e,a);const r=await k(e);if(\"size-class-breaks\"!==B(r))throw new i(`${a}:invalid-parameters`,\"Renderer is invalid\");const{authoringInfo:n,field:s,normalizationField:l,normalizationType:t,normalizationTotal:o,valueExpression:u,valueExpressionTitle:m}=r,{classificationMethod:d,standardDeviationInterval:p}=n,c=r.classBreakInfos.length,{layer:f,forBinning:y,filter:v,view:z,signal:w}=e,b=j(r),h=await ue({layer:f,field:s,valueExpression:u,valueExpressionTitle:m,normalizationType:t,normalizationField:l,normalizationTotal:o,classificationMethod:d,standardDeviationInterval:p,numClasses:c,outlineOptimizationEnabled:b,forBinning:y,filter:v,view:z,signal:w});return{...e,creatorParameters:h,renderer:r}}async function ve(e){const a=\"regenerate-size-age-renderer\";await O(e,a);const r=await k(e);if(\"size-age\"!==B(r))throw new i(`${a}:invalid-parameters`,\"Renderer is invalid\");const{authoringInfo:n}=r,s=n?.visualVariables.find((e=>\"size\"===e.type)),l=s.startTime,t=s.endTime,o=s.units,u=s.theme,{layer:m,filter:d,view:p,signal:c}=e,f=j(r),y=F(r),v=await pe({layer:m,startTime:l,endTime:t,unit:o,theme:u,outlineOptimizationEnabled:f,sizeOptimizationEnabled:y,filter:d,view:p,signal:c});return{...e,creatorParameters:v,renderer:r}}async function ze(e){let i=e.sizeScheme,a=null,r=null;const n=await W(e.basemap,e.view);if(a=null!=n.basemapId?n.basemapId:null,r=null!=n.basemapTheme?n.basemapTheme:null,i)return{scheme:ie(i),basemapId:a,basemapTheme:r};const s=ae({basemapTheme:r,geometryType:e.geometryType,worldScale:e.worldScale,view:e.view});return s&&(i=s.primaryScheme,a=s.basemapId,r=s.basemapTheme),{scheme:i,basemapId:a,basemapTheme:r}}function we(e,i){switch(i){case\"point\":case\"multipoint\":{const i=e;return[d(i.minSize),d(i.maxSize)]}case\"polyline\":{const i=e;return[d(i.minWidth),d(i.maxWidth)]}case\"polygon\":{const i=e;return[d(i.marker.minSize),d(i.marker.maxSize)]}}}function be(e,i){e.transformationType===c.ClampedLinear&&\"below\"===i&&e.flipSizes()}async function he(e,i,a,r,n){return\"reference-size\"===a&&i?[1,i.size]:e?[e.minSize,e.maxSize]:we(r,n)}function ge(e,i,a){return\"reference-size\"===a&&i?[1,i.size]:e?[e.minSize,e.maxSize]:null}function Se(e,i){if(\"reference-size\"===i.theme&&null!=e.min&&null!=e.max&&null!=e.avg&&null!=e.stddev){const i=100,a=0,r=0,n=1,s=e.avg,l=e.min,t=e.max,o=e.stddev,u=0!==s?o/s:0,m=l>r&&l<n&&t<2*n&&u<.5,d=l>a&&l<i&&t<2*i&&u<.5;return{minDataValue:m?r:d?a:l,maxDataValue:m?n:d?i:s+2*o,defaultValuesUsed:!1}}const{theme:a,field:r}=i,n=i.layer,s=r&&!(\"function\"==typeof r)?n.getField(r):null,l=X(s);return M(e,a,l,\"above\"===a||\"below\"===a)}async function xe(e,a,n,s){const{theme:u,field:d,normalizationField:c,minValue:f,maxValue:y,axis:v}=e,z=e.layer.geometryType,b=await ze({basemap:e.basemap,geometryType:z,sizeScheme:e.sizeScheme,worldScale:e.worldScale,view:e.view}),h=b.scheme;if(!h)throw new i(\"size-visual-variable:insufficient-info\",\"Unable to find size scheme\");const g=await he(n,s,u,h,z),{minDataValue:S,maxDataValue:x,defaultValuesUsed:E}=Se(a,e),T=[],V=\"height\"===v,I=V?v:void 0,O=g[0];let k=g[1];if(V&&\"number\"==typeof O&&\"number\"==typeof k){const e=$({minSize:O,maxSize:k},I);T.push(new m({axis:\"width-and-depth\",minSize:e.minSize})),k=e.maxSize}const B=new m({field:d??void 0,valueExpression:e.valueExpression,valueExpressionTitle:e.valueExpressionTitle,valueUnit:\"unknown\",normalizationField:c,axis:I,minSize:O,maxSize:k,minDataValue:S,maxDataValue:x,legendOptions:r(p,e.legendOptions)});be(B,u),T.unshift(B);const F=new o(\"reference-size\"===u?{type:\"size\",field:e.field,normalizationField:e.normalizationField,sizeStops:w(B).map((({label:e,size:i,value:a})=>new t({label:e,size:i,value:a}))),theme:u,referenceSizeScale:s?.isGrid||e.sizeOptimizationEnabled?e?.view?.scale:void 0,referenceSizeSymbolStyle:e.referenceSizeOptions?.symbolStyle,minSliderValue:null!=f?f:a.min,maxSliderValue:null!=y?y:a.max}:{type:\"size\",theme:u,minSliderValue:null!=f?f:a.min,maxSliderValue:null!=y?y:a.max}),j=new l({visualVariables:[F]});return{basemapId:b.basemapId,basemapTheme:b.basemapTheme,visualVariables:T,statistics:a,isGrid:s?.isGrid,defaultValuesUsed:E,sizeScheme:ie(h),authoringInfo:j}}async function Ee(e,i,a,r,l){const t=await n(\"esri/smartMapping/t9n/smartMapping\"),o=l.layer,u=l.field,m=o.geometryType,d=l.defaultSymbolEnabled,p=ie(e.sizeScheme),c=\"polygon\"===m,f=c?p.marker:p,y=c?p.background:null,v=c?\"point\":m,z=i?.opacity,h=e.isGrid,S=\"reference-size\"===l.theme,x=S?[]:e.visualVariables.map((e=>e.clone()));i?.visualVariables?.length&&x.push(...i.visualVariables.map((e=>e.clone())));const E=S?b({view:l.view,field:u,normalizationField:r,sizeStops:w(e.visualVariables[0]),sizeByScaleEnabled:h||!!l.sizeOptimizationEnabled}):null;return{renderer:new s({backgroundFillSymbol:!h&&y?C(m,{type:l.symbolType,color:y.color,outline:A(y,m,z)}):null,classBreakInfos:[{minValue:-9007199254740991,maxValue:ne,symbol:E?g({type:l.referenceSizeOptions?.symbolStyle||\"circle\",color:f.color,primitiveOverrides:E}):C(v,{type:l.symbolType,color:f.color,size:L(f,v),outline:A(f,v,z)})}],defaultLabel:d?t.other:null,defaultSymbol:d&&!S?C(v,{type:l.symbolType,color:f.noDataColor,size:L(f,v,!0),outline:A(f,v,z)}):null,field:u,normalizationField:r,normalizationType:a,valueExpression:l.valueExpression,valueExpressionTitle:l.valueExpressionTitle,visualVariables:x,authoringInfo:e.authoringInfo?.clone()}),visualVariables:e.visualVariables.map((e=>e.clone())),statistics:e.statistics,defaultValuesUsed:e.defaultValuesUsed,isGrid:h,sizeScheme:ie(e.sizeScheme),basemapId:e.basemapId,basemapTheme:e.basemapTheme}}function Te(e,i){const r=a(e.minSize),n=(a(e.maxSize)-r)/(i>=4?i-1:i),s=[];for(let a=0;a<i;a++)s.push(r+n*a);return s}async function Ve(e,i){const a=await n(\"esri/smartMapping/t9n/smartMapping\"),r=e.layer,t=e.defaultSymbolEnabled,o=r.geometryType,m=\"polygon\"===o,d=e.symbolType?.includes(\"3d-volumetric\"),p=await ze({basemap:e.basemap,geometryType:o,sizeScheme:e.sizeScheme,worldScale:d,view:e.view}),c=p.scheme,{result:f,outlineResult:y}=i,v=f?.classBreakInfos??[],z=e.classificationMethod,w=e.normalizationType,b=m?c.marker:c,h=m?c.background:null,g=m?\"point\":o,S=we(b,g),x=d?$({minSize:S[0],maxSize:S[1]},\"height\"):null,E=Te({minSize:S[0],maxSize:x?x.maxSize:S[1]},v.length),T=y?.opacity,V=new s({backgroundFillSymbol:h&&C(o,{type:e.symbolType,color:h.color,outline:A(h,o,T)}),classBreakInfos:v.map(((i,a)=>({minValue:i.minValue,maxValue:i.maxValue,symbol:C(g,{type:e.symbolType,color:b.color,size:E[a],widthAndDepth:x?.minSize,outline:A(b,g,T)}),label:i.label}))),defaultLabel:t?a.other:null,defaultSymbol:t?C(g,{type:e.symbolType,color:b.noDataColor,size:L(b,g,!0),widthAndDepth:x?.minSize,outline:A(b,g,T)}):null,field:e.field,valueExpression:e.valueExpression,valueExpressionTitle:e.valueExpressionTitle,normalizationType:w,normalizationField:e.normalizationField,normalizationTotal:\"percent-of-total\"===w?f?.normalizationTotal:void 0,legendOptions:e.legendOptions,authoringInfo:new l({type:\"class-breaks-size\",classificationMethod:z,standardDeviationInterval:e.standardDeviationInterval})});return\"standard-deviation\"!==z&&u({classBreakInfos:V.classBreakInfos,classificationMethod:z,normalizationType:w,round:!0}),y?.visualVariables?.length&&(V.visualVariables=y.visualVariables.map((e=>e.clone()))),{renderer:V,sizeScheme:ie(c),classBreaksResult:f,defaultValuesUsed:!!i.defaultValuesUsed,basemapId:p.basemapId,basemapTheme:p.basemapTheme}}async function Ie(e){const i=await se(e),{view:a,field:r,valueExpression:n,minValue:s,maxValue:l,layer:t,normalizationField:o,signal:u,statistics:m,filter:d}=i,p=o?\"field\":void 0,[c,f]=await Promise.all([m??q({layer:t,field:r,valueExpression:n,sqlExpression:i.sqlExpression,sqlWhere:i.sqlWhere,normalizationType:p,normalizationField:o,filter:d,minValue:s,maxValue:l,view:a,signal:u}),i.sizeOptimizationEnabled?z({view:a,layer:t,signal:u,filter:d}).catch(R):null]);return xe(i,c,f,i.referenceSizeResult)}async function Oe(e){const{view:i,filter:a,renderer:r,signal:n,creatorParameters:s}=await ce(e),{field:l,normalizationField:o,valueExpression:u,theme:d,layer:p,sizeOptimizationEnabled:c,referenceSizeResult:f,valueExpressionTitle:y}=s,v=o?\"field\":void 0,[b,h]=await Promise.all([q({layer:p,field:l,valueExpression:u,normalizationField:o,normalizationType:v,filter:a,view:i,signal:n}),c?z({view:i,layer:p,signal:n,filter:a}).catch(R):null]),g=ge(h,f,d),{minDataValue:E,maxDataValue:T}=Se(b,{theme:d,layer:p,field:l}),V=r.visualVariables?.find(S),I=(V?.stops?null:V)??new m({field:l??void 0,valueExpression:u,valueExpressionTitle:y,valueUnit:\"unknown\",normalizationField:o});g&&(I.minSize=g[0],I.maxSize=g[1]),I.minDataValue=E,I.maxDataValue=T,be(I,d);const O=x(r,\"size\");return O.minSliderValue=b.min,O.maxSliderValue=b.max,\"reference-size\"===d&&(O.sizeStops=w(I).map((({label:e,size:i,value:a})=>new t({label:e,size:i,value:a}))),O.referenceSizeScale=f?.isGrid||c?i?.scale:void 0),{visualVariables:\"reference-size\"===d?[]:[I],isGrid:!!f?.isGrid,authoringInfo:r.authoringInfo?.clone(),statistics:b}}async function ke(e){const i=await le(e),a={layer:i.layer,view:i.view,filter:i.filter,signal:i.signal},[r,n]=await Promise.all([Ie(de(i)),i.outlineOptimizationEnabled?y(a).catch(R):null]),s=i.normalizationField;return Ee(r,n,s?\"field\":void 0,s,i)}async function Be(e){const{renderer:i,view:a,signal:r,filter:n,creatorParameters:s,forBinning:l}=await fe(e),{layer:t,outlineOptimizationEnabled:o,theme:u,referenceSizeResult:m}=s,[d,p]=await Promise.all([Oe({...e,referenceSizeResult:m}),o?y({layer:t,view:a,filter:n,signal:r}).catch(R):null]),c=d.isGrid,f=\"reference-size\"===u;E(i,d.visualVariables,T),E(i,p?.visualVariables,V),I(i,d.authoringInfo,\"size\");const v=d.statistics;if(!f)return{renderer:i,statistics:v};return{renderer:await Fe({layer:t,renderer:i,view:a,forBinning:l,sizeStops:x(i,\"size\",\"reference-size\")?.sizeStops,isGrid:c}),isGrid:c,statistics:v}}async function Fe(a){const{layer:r,referenceSizeOptions:n,renderer:s,sizeScheme:o,sizeStops:u,typeScheme:m,view:d,isGrid:p}=await oe(a),c=s.clone();c.authoringInfo??=new l;const f=c.authoringInfo.visualVariables.find((e=>\"reference-size\"===e.theme)),y=a.field??f?.field,v=a.normalizationField??f?.normalizationField;if(!y)throw new i(\"update-renderer-with-reference-size:invalid-parameters\",\"'field' parameter or authoring info with 'field' is required.\");const z=b({view:d,field:y,normalizationField:v,sizeStops:u,sizeByScaleEnabled:p||!!a.sizeOptimizationEnabled}),w=n?.symbolStyle||f?.referenceSizeSymbolStyle||\"circle\";if(\"class-breaks\"===c.type){const e=\"polygon\"===(\"geometryType\"in r?r.geometryType:null)&&o&&\"marker\"in o?o.marker:null;c.classBreakInfos.forEach((i=>{const a=e?.color??re(i.symbol,1);\"cim\"===i.symbol.type?h(i.symbol,{type:w,color:a,primitiveOverrides:z}):a&&(i.symbol=g({type:w,color:a,primitiveOverrides:z}))}))}else if(\"unique-value\"===c.type){const i=c.uniqueValueGroups,a=\"polygon\"===(\"geometryType\"in r?r.geometryType:null)&&m&&\"colors\"in m?m.colors:null,n=a?e(a,c.uniqueValueInfos?.length??0):null;let s=0;if(i){for(const e of i)for(const i of e.classes??[]){const e=n?n[s]:re(i.symbol,1);\"cim\"===i.symbol?.type?h(i.symbol,{type:w,color:e,primitiveOverrides:z}):e&&(i.symbol=g({type:w,color:e,primitiveOverrides:z})),s++}c.uniqueValueGroups=i}}return f&&(f.field=y,f.normalizationField=v,f.sizeStops=u.map((({label:e,size:i,value:a})=>new t({label:e,size:i,value:a}))),f.referenceSizeScale=p||a.sizeOptimizationEnabled?d.scale:void 0,f.referenceSizeSymbolStyle=w),c}async function je(e){const i=await ue(e);return Ve(i,await D(me(i),i.outlineOptimizationEnabled))}async function qe(e){const{renderer:a,creatorParameters:r}=await ye(e),{outlineOptimizationEnabled:n,normalizationType:s,classificationMethod:l}=r,{result:t,outlineResult:o}=await D(me(r),n),m=t.classBreakInfos;if(r.numClasses!==m.length)throw new i(\"regenerate-class-breaks-renderer:invalid-parameters\",\"The number of class breaks generated does not match the number of class breaks in the renderer.\");return a.classBreakInfos.forEach(((e,i)=>{e.minValue=m[i].minValue,e.maxValue=m[i].maxValue,e.label=m[i].label})),a.normalizationTotal=\"percent-of-total\"===s?t.normalizationTotal:void 0,\"standard-deviation\"!==l&&u({classBreakInfos:a.classBreakInfos,classificationMethod:l,normalizationType:s,round:!0}),E(a,o?.visualVariables,V),{renderer:a}}async function Re(e){const i=await pe(e),{defaultSymbolEnabled:a,view:r,startTime:n,endTime:s,symbolType:l,minValue:t,maxValue:o,signal:u,filter:m,layer:d}=i,[p,c]=await Promise.all([i.unit?{unit:i.unit,statistics:null,valueExpression:null}:await f({view:r,layer:d,startTime:n,endTime:s,minValue:t,maxValue:o,signal:u,filter:m}),i.outlineOptimizationEnabled?y({layer:d,view:r,filter:m,signal:u}).catch(R):null]),{unit:v,statistics:z}=p,{valueExpression:w,title:b}=await U(i,v),h=await Ie(de({layer:d,basemap:i.basemap,valueExpression:w,symbolType:l,statistics:z,legendOptions:{title:b},theme:i.theme,sizeScheme:i.sizeScheme,sizeOptimizationEnabled:i.sizeOptimizationEnabled,view:i.view,minValue:t,maxValue:o,filter:m,signal:u})),g={layer:d,valueExpression:w,defaultSymbolEnabled:a,symbolType:l},S=await Ee(h,c,null,null,g),x=S.renderer.authoringInfo?.visualVariables;return x?.forEach((e=>G(e,n,s,v))),{...S,unit:v}}async function De(e){const{renderer:i,creatorParameters:a}=await ve(e),{layer:r,outlineOptimizationEnabled:n,sizeOptimizationEnabled:s,startTime:l,endTime:t,theme:o,view:u,signal:m,filter:d}=a,[p,c]=await Promise.all([f({view:u,layer:r,startTime:l,endTime:t,signal:m,filter:d}),n?y({layer:r,view:u,filter:d,signal:m}).catch(R):null]),{unit:v,statistics:z}=p,{valueExpression:w,title:b}=await U(a,v),h=await Ie(de({layer:r,valueExpression:w,statistics:z,legendOptions:{title:b},sizeOptimizationEnabled:s,theme:o,view:u,filter:d,signal:m}));E(i,h.visualVariables,T),E(i,c?.visualVariables,V),i.authoringInfo=h.authoringInfo.clone();const g=i.authoringInfo?.visualVariables;return g?.forEach((e=>G(e,l,t,v))),{renderer:i}}export{Re as createAgeRenderer,je as createClassBreaksRenderer,ke as createContinuousRenderer,Ie as createVisualVariables,De as regenerateAgeRenderer,qe as regenerateClassBreaksRenderer,Be as regenerateContinuousRenderer,Oe as regenerateVisualVariables,Fe as updateRendererWithReferenceSize};\n"],"names":["e","n","c","l","p","primary","color","noDataColor","outline","width","noDataSize","size","minSize","maxSize","opacity","secondary","m","d","h","y","u","a","themeDictionary","default","name","label","description","schemes","point","light","dark","polyline","noDataWidth","minWidth","maxWidth","polygon","marker","background","s","o","i","x","geometryType","t","basemap","basemapTheme","theme","get","schemesInfo","r","basemapId","primaryScheme","z","secondarySchemes","map","filter","Boolean","D","_objectSpread","worldScale","view","w","S","k","length","g","reduce","Math","sqrt","async","forBinning","floor","geometry","abs","xmax","xmin","f","ymax","ymin","min","resolution","isGrid","avgSize","features","push","Number","toFixed","layerAdapter","layer","_objectWithoutProperties","_excluded","join","when","signal","load","concat","getSampleFeatures","sampleSize","returnGeometry","ne","se","field","valueExpression","sqlExpression","K","Y","Z","_","ee","axis","sizeOptimizationEnabled","type","N","normalizationField","P","te","le","_a$defaultSymbolEnabl","symbolType","defaultSymbolEnabled","includes","outlineOptimizationEnabled","_e$referenceSizeResul2","_e$referenceSizeOptio","_e$referenceSizeResul","referenceSizeResult","v","_unused","referenceSizeOptions","symbolStyle","oe","_o$visualVariables","_e$isGrid","_await$v","sizeStops","renderer","featureReduction","authoringInfo","visualVariables","some","ue","_a$defaultSymbolEnabl2","_a$classificationMeth","classificationMethod","normalizationType","Q","minValue","maxValue","me","sizeScheme","legendOptions","analyzeData","de","_i$symbolType","pe","_a$symbolType","_a$defaultSymbolEnabl3","startTime","endTime","H","unit","J","ze","W","scheme","ie","ae","we","be","transformationType","ClampedLinear","flipSizes","Se","max","avg","stddev","minDataValue","maxDataValue","defaultValuesUsed","getField","X","M","xe","_e$view","_e$referenceSizeOptio2","b","he","E","T","V","I","O","$","B","valueExpressionTitle","valueUnit","unshift","F","_ref","value","referenceSizeScale","scale","referenceSizeSymbolStyle","minSliderValue","maxSliderValue","j","statistics","Ee","_i$visualVariables","_l$referenceSizeOptio","_e$authoringInfo","clone","sizeByScaleEnabled","backgroundFillSymbol","C","A","classBreakInfos","symbol","primitiveOverrides","L","defaultLabel","other","defaultSymbol","Ve","_e$symbolType","_f$classBreakInfos","_y$visualVariables","result","outlineResult","Te","widthAndDepth","normalizationTotal","standardDeviationInterval","round","classBreaksResult","Ie","Promise","all","q","sqlWhere","catch","R","Oe","_r$visualVariables2","_ref2","_r$authoringInfo","creatorParameters","_r$visualVariables","_o$valueExpression","_o$valueExpressionTit","find","ce","ge","stops","_ref3","ke","Be","_x","fe","Fe","_c$authoringInfo","_a$field","_a$normalizationField","typeScheme","forEach","_e$color","re","_c$uniqueValueInfos$l","_c$uniqueValueInfos","uniqueValueGroups","colors","uniqueValueInfos","_e$classes","classes","_i$symbol","_ref4","je","qe","numClasses","ye","Re","_S$renderer$authoring","title","U","G","De","_i$authoringInfo","units","ve"],"sourceRoot":""}