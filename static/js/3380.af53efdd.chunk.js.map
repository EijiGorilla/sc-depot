{"version":3,"file":"static/js/3380.af53efdd.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/ScaleBar/css.js","../node_modules/@arcgis/core/widgets/ScaleBar.js","../node_modules/@arcgis/core/widgets/ScaleBar/ScaleBarViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst e=\"esri-scale-bar\",n={base:e,labelContainer:`${e}__label-container`,rulerLabelContainer:`${e}__label-container--ruler`,lineLabelContainer:`${e}__label-container--line`,topLabelContainer:`${e}__label-container--top`,bottomLabelContainer:`${e}__label-container--bottom`,label:`${e}__label`,line:`${e}__line`,topLine:`${e}__line--top`,bottomLine:`${e}__line--bottom`,ruler:`${e}__ruler`,rulerBlock:`${e}__ruler-block`,barContainer:`${e}__bar-container`,rulerBarContainer:`${e}__bar-container--ruler`,lineBarContainer:`${e}__bar-container--line`};export{n as css};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{deprecateWidget as t}from\"../core/deprecate.js\";import r from\"../core/Logger.js\";import{watch as s}from\"../core/reactiveUtils.js\";import{createScreenPoint as i}from\"../core/screenUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{formatNumber as a}from\"../intl/number.js\";import{defaultUnitPropertyMetadata as n}from\"../properties/defaultUnit.js\";import d from\"./Widget.js\";import{css as c}from\"./ScaleBar/css.js\";import p from\"./ScaleBar/ScaleBarViewModel.js\";import{globalCss as u}from\"./support/globalCss.js\";import\"./support/widgetUtils.js\";import{messageBundle as m}from\"./support/decorators/messageBundle.js\";import{tsx as h}from\"./support/jsxFactory.js\";function v(e,t){return a(e,{style:\"unit\",unit:t,unitDisplay:\"short\"})}let f=class extends d{constructor(e,s){super(e,s),this.messages=null,this.style=\"line\",this.viewModel=new p,t(r.getLogger(this),\"Scale Bar\",\"arcgis-scale-bar\",{version:\"4.32\"})}initialize(){this.addHandles(s((()=>{const{view:e}=this;return[e?.stationary,e?.center,e?.scale,e?.zoom]}),(([e])=>{e&&this.scheduleRender()})))}get icon(){return\"actual-size\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get unit(){return this._defaultUnit}set unit(e){this._overrideIfSome(\"unit\",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e=\"disabled\"===this.viewModel.state,t={[u.disabled]:e};let r,s;if(!e){const{unit:e,style:t}=this,i=\"metric\"===e||\"dual\"===e,o=100,l=\"dual\"===e?\"line\":t;if(\"imperial\"===e||\"dual\"===e){const e=this.viewModel.getScaleBarProperties(o,\"imperial\");e&&(s=\"ruler\"===l?this._renderRuler(e):this._renderLine(e,\"bottom\"))}if(i){const e=this.viewModel.getScaleBarProperties(o,\"metric\");e&&(r=\"ruler\"===l?this._renderRuler(e):this._renderLine(e,\"top\"))}}return h(\"div\",{afterCreate:this._handleRootCreateOrUpdate,afterUpdate:this._handleRootCreateOrUpdate,bind:this,class:this.classes(c.base,u.widget,t)},r,s)}_renderRuler(e){const{length:t,unit:r,value:s}=e,i=Math.round(t),o=v(s,r);return h(\"div\",{class:this.classes(c.barContainer,c.rulerBarContainer),key:c.rulerBarContainer},h(\"div\",{class:c.ruler,styles:{width:`${i}px`}},h(\"div\",{class:c.rulerBlock}),h(\"div\",{class:c.rulerBlock}),h(\"div\",{class:c.rulerBlock}),h(\"div\",{class:c.rulerBlock})),h(\"div\",{class:this.classes(c.labelContainer,c.rulerLabelContainer)},h(\"div\",{class:c.label},\"0\"),h(\"div\",{class:c.label},o)))}_renderLine(e,t){const{length:r,unit:s,value:i}=e,o=Math.round(r),l=v(i,s),a={[c.topLabelContainer]:\"top\"===t,[c.bottomLabelContainer]:\"bottom\"===t},n=h(\"div\",{class:this.classes(c.labelContainer,c.lineLabelContainer,a),key:c.labelContainer},h(\"div\",{class:c.label},l)),d={[c.topLine]:\"top\"===t,[c.bottomLine]:\"bottom\"===t},p=h(\"div\",{class:this.classes(c.line,d),key:c.line,styles:{width:`${o}px`}});return h(\"div\",{class:this.classes(c.barContainer,c.lineBarContainer),key:c.lineBarContainer},[p,n])}_handleRootCreateOrUpdate(e){if(!this.viewModel)return;const{scaleComputedFrom:t}=this.viewModel,r=e.getBoundingClientRect(),s=r.left+window.pageXOffset,o=r.top+window.pageYOffset,l=i(s,o);(l.x!==t.x||l.y!==t.y)&&(this.viewModel.scaleComputedFrom=l)}};e([o(n)],f.prototype,\"_defaultUnit\",void 0),e([o()],f.prototype,\"icon\",null),e([o()],f.prototype,\"label\",null),e([o(),m(\"esri/widgets/ScaleBar/t9n/ScaleBar\")],f.prototype,\"messages\",void 0),e([o({type:[\"ruler\",\"line\"]})],f.prototype,\"style\",void 0),e([o({type:[\"metric\",\"imperial\",\"dual\"]})],f.prototype,\"unit\",null),e([o()],f.prototype,\"view\",null),e([o()],f.prototype,\"viewModel\",void 0),f=e([l(\"esri.widgets.ScaleBar\")],f);const b=f;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import{createScreenPoint as r}from\"../../core/screenUtils.js\";import{getMetersPerUnit as i,convertUnit as s}from\"../../core/unitUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"../../geometry/Point.js\";import c from\"../../geometry/Polyline.js\";import m from\"../../geometry/SpatialReference.js\";import{isSupported as l,geodesicLengths as p}from\"../../geometry/support/geodesicUtils.js\";import{straightLineDensify as u}from\"../../geometry/support/normalizeUtils.js\";import{isValid as d,getInfo as f}from\"../../geometry/support/spatialReferenceUtils.js\";import{webMercatorToGeographic as h}from\"../../geometry/support/webMercatorUtils.js\";import{isLinkChartView as w}from\"../../linkChart/utils.js\";function g(e){return e>.5?{min:.5,max:1}:e>.2?{min:.2,max:.5}:{min:.1,max:.2}}function y(e,t){switch(t){case\"metric\":return e>1e3?{distance:s(e,\"meters\",\"kilometers\"),unit:\"kilometer\"}:e>1?{distance:e,unit:\"meter\"}:e>.01?{distance:s(e,\"meters\",\"centimeters\"),unit:\"centimeter\"}:{distance:s(e,\"meters\",\"millimeters\"),unit:\"millimeter\"};case\"imperial\":return e>1609.344?{distance:s(e,\"meters\",\"miles\"),unit:\"mile\"}:e>.3048?{distance:s(e,\"meters\",\"feet\"),unit:\"foot\"}:{distance:s(e,\"meters\",\"inches\"),unit:\"inch\"}}}function j(e){const{isWebMercator:t,wkt:r,wkt2:i}=e;return t||((i||r)?.includes(\"WGS_1984_Web_Mercator\")??!1)}function S({state:{paddedViewState:e},spatialReference:t,width:r}){return t.isWrappable&&e.worldScreenWidth<r}function v(e,t){const{x:r,y:i}=e?h(t,!0):t;return[r,i]}let M=class extends t{constructor(e){super(e),this.scaleComputedFrom=r(),this.view=null}get state(){return this.view?.ready&&\"2d\"===this.view.type?w(this.view)&&!this.view.inGeographicLayout?\"disabled\":\"ready\":\"disabled\"}getScaleBarProperties(e,t){if(\"disabled\"===this.state||isNaN(e)||!t||!this.view)return null;const r=this._getDistanceInMeters();return null==r?null:this._getScaleBarProps(e,r,t)}_getDistanceInMeters(){const{state:e,spatialReference:t}=this.view;if(!d(t))return null;const{isGeographic:r}=t,s=j(t);if(!r&&!s){return e.extent.width*(i(t)??1)}const[o,n]=this._getScaleMeasuringPoints(),a=s||r&&!l(t)?m.WGS84:t,f=new c({paths:[[v(s,o),v(s,n)]],spatialReference:a}),h=u(f,10);let w;try{[w]=p([h],\"meters\")}catch{return null}return w}_getScaleMeasuringPoints(){const e=this.view,{width:t,height:i,position:s,spatialReference:o}=e;if(S(e)){const e=f(o),{valid:t}=e;return[new a(t[0],0,o),new a(t[1],0,o)]}let n=this.scaleComputedFrom.y-s[1];n>i?n=i:n<0&&(n=0);const c=r(0,n),m=r(t,n);return[e.toMap(c),e.toMap(m)]}_getScaleBarProps(e,t,r){const i=this.view,s=e*t/(S(i)?i.state.paddedViewState.worldScreenWidth:i.width);if(s<.001)return null;const o=y(s,r),{distance:n,unit:a}=o;let c=n,m=0;for(;c>=1;)c/=10,m++;const{min:l,max:p}=g(c),u=p/c>=c/l?l:p;return{length:e*(u/c),value:10**m*u,unit:a}}};e([o()],M.prototype,\"scaleComputedFrom\",void 0),e([o({readOnly:!0})],M.prototype,\"state\",null),e([o()],M.prototype,\"view\",void 0),M=e([n(\"esri.widgets.ScaleBar.ScaleBarViewModel\")],M);const _=M;export{_ as default};\n"],"names":["e","n","base","labelContainer","concat","rulerLabelContainer","lineLabelContainer","topLabelContainer","bottomLabelContainer","label","line","topLine","bottomLine","ruler","rulerBlock","barContainer","rulerBarContainer","lineBarContainer","v","t","a","style","unit","unitDisplay","f","d","constructor","s","super","this","messages","viewModel","p","r","getLogger","version","initialize","addHandles","view","stationary","center","scale","zoom","_ref","scheduleRender","icon","_overrideIfSome","_this$messages$widget","_this$messages","widgetLabel","_defaultUnit","render","state","u","disabled","i","o","l","getScaleBarProperties","_renderRuler","_renderLine","h","afterCreate","_handleRootCreateOrUpdate","afterUpdate","bind","class","classes","c","widget","length","value","Math","round","key","styles","width","scaleComputedFrom","getBoundingClientRect","left","window","pageXOffset","top","pageYOffset","x","y","prototype","m","type","b","S","_ref2","paddedViewState","spatialReference","isWrappable","worldScreenWidth","M","_this$view","ready","w","inGeographicLayout","isNaN","_getDistanceInMeters","_getScaleBarProps","isGeographic","_includes","isWebMercator","wkt","wkt2","includes","j","_i","extent","_getScaleMeasuringPoints","WGS84","paths","_unused","height","position","valid","toMap","distance","min","max","g","readOnly","_"],"sourceRoot":""}