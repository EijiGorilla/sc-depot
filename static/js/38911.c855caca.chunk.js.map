{"version":3,"file":"static/js/38911.c855caca.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/MeshTransform.js","../node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import o from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{fromRotationTranslationScale as i,invert as e,exactEquals as a}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{setAxisAngle as n}from\"../../core/libs/gl-matrix-2/math/quat.js\";import{create as c}from\"../../core/libs/gl-matrix-2/factories/quatf64.js\";import{create as p,fromArray as m,fromValues as u,clone as h}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{up as x,fromAxisAndAngle as g,axis as f,angle as j,angleRad as b}from\"./axisAngleDegrees.js\";var y;let A=y=class extends o{constructor(t){super(t),this.translation=p(),this.rotationAxis=m(x),this.rotationAngle=0,this.scale=u(1,1,1)}get rotation(){return g(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=h(f(t)),this.rotationAngle=j(t)}get localMatrix(){const t=l();return n(d,f(this.rotation),b(this.rotation)),i(t,d,this.translation,this.scale),t}get localMatrixInverse(){return e(l(),this.localMatrix)}equals(t){return this===t||null!=t&&a(this.localMatrix,t.localMatrix)}clone(){const t={translation:h(this.translation),rotationAxis:h(this.rotationAxis),rotationAngle:this.rotationAngle,scale:h(this.scale)};return new y(t)}};t([r({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,\"translation\",void 0),t([r({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,\"rotationAxis\",void 0),t([r({type:Number,nonNullable:!0,json:{write:!0}})],A.prototype,\"rotationAngle\",void 0),t([r({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,\"scale\",void 0),t([r()],A.prototype,\"rotation\",null),t([r()],A.prototype,\"localMatrix\",null),t([r()],A.prototype,\"localMatrixInverse\",null),A=y=t([s(\"esri.geometry.support.MeshTransform\")],A);const d=c(),N=A;export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../Graphic.js\";import e from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{getMetersPerCartesianUnitForSR as a}from\"../../core/unitUtils.js\";import{parseData as o}from\"../../core/urlUtils.js\";import{isEqualBaseGCS as s,canProjectWithoutEngine as n,projectWithoutEngine as l}from\"../../geometry/projection.js\";import{fromJSON as i}from\"../../geometry/support/jsonUtils.js\";import u from\"../../geometry/support/MeshTransform.js\";import{equals as d}from\"../../geometry/support/spatialReferenceUtils.js\";import{isFeatureIdentifierArrayWithGlobalId as c,isFeatureIdentifierArrayWithObjectId as p}from\"./editingSupport.js\";async function m(t,e,r){const{geometry:o}=e,i={...e.attributes};if(null!=r&&\"mesh\"===o?.type){const{transformFieldRoles:e}=r,{origin:c,spatialReference:p,vertexSpace:m}=o,f=o.transform??new u,g=\"local\"===m.type,b=t.spatialReference,y=b.isGeographic,R=d(b,p),h=s(p,b)&&n(p,b);if(!(g&&y&&h||!g&&!y&&R))return null;const I=l(c,p,b);if(null==I)return null;if(i[e.originX]=I.x,i[e.originY]=I.y,i[e.originZ]=I.z??0,null!=f){const{translation:t,scale:r,rotation:o}=f,s=g?1:a(p)/a(b);i[e.translationX]=t[0]*s,i[e.translationY]=t[2]*s,i[e.translationZ]=-t[1]*s,i[e.scaleX]=r[0],i[e.scaleY]=r[2],i[e.scaleZ]=r[1],i[e.rotationX]=o[0],i[e.rotationY]=o[2],i[e.rotationZ]=-o[1],i[e.rotationDeg]=o[3]}return{attributes:i}}return null==o?{attributes:i}:\"mesh\"===o.type||\"extent\"===o.type?null:{geometry:o.toJSON(),attributes:i}}async function f(t,e){const r=await Promise.all((e.addAttachments??[]).map((e=>g(t,e)))),a=await Promise.all((e.updateAttachments??[]).map((e=>g(t,e)))),o=e.deleteAttachments??[];return r.length||a.length||o.length?{adds:r,updates:a,deletes:[...o]}:null}async function g(t,e){const{feature:r,attachment:a}=e,{globalId:s,name:n,contentType:l,data:i,uploadId:u}=a,d={globalId:s};if(r&&(\"attributes\"in r?d.parentGlobalId=r.attributes?.[t.globalIdField]:r.globalId&&(d.parentGlobalId=r.globalId)),u)d.uploadId=u;else if(i){const t=await o(i);t&&(d.contentType=t.mediaType,d.data=t.data),i instanceof File&&(d.name=i.name)}return n&&(d.name=n),l&&(d.contentType=l),d}function b(t,e,r){if(!e||0===e.length)return[];if(r&&c(e))return e.map((t=>t.globalId));if(p(e))return e.map((t=>t.objectId));const a=r?t.globalIdField:t.objectIdField;return a?e.map((t=>t.getAttribute(a))):[]}function y(t){const e=t?.assetMaps;if(e){for(const t of e.addResults)t.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${t.globalId}.`);for(const t of e.updateResults)t.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${t.globalId}.`)}const a=t?.attachments,o={addFeatureResults:t?.addResults?.map(R)??[],updateFeatureResults:t?.updateResults?.map(R)??[],deleteFeatureResults:t?.deleteResults?.map(R)??[],addAttachmentResults:a?.addResults?a.addResults.map(R):[],updateAttachmentResults:a?.updateResults?a.updateResults.map(R):[],deleteAttachmentResults:a?.deleteResults?a.deleteResults.map(R):[]};return t?.editMoment&&(o.editMoment=t.editMoment),o}function R(t){const r=!0===t.success?null:t.error||{code:void 0,description:void 0};return{objectId:t.objectId,globalId:t.globalId,error:r?new e(\"feature-layer-source:edit-failure\",r.description,{code:r.code}):null}}function h(e,r){return new t({attributes:e.attributes,geometry:i({...e.geometry,spatialReference:r})})}function I(t,e){return{adds:t?.adds?.map((t=>h(t,e)))||[],updates:t?.updates?.map((t=>({original:h(t[0],e),current:h(t[1],e)})))||[],deletes:t?.deletes?.map((t=>h(t,e)))||[],spatialReference:e}}function j(t){const e=t.details.raw,r=+e.code,a=+e.extendedCode;return 500===r&&(-2147217144===a||-2147467261===a)}export{I as createEditedFeatures,R as createFeatureEditResult,f as getAttachmentEditsJSON,b as getFeatureIds,m as getFeatureJSON,j as isProtectedOrPrivateVersionError,y as unpackEditResultData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{isGlbSupportedEditFormat as y}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as g,getEffectiveLayerCapabilities as b}from\"../support/layerUtils.js\";function w(e){return null!=e?.applyEdits}function F(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function A(e){return e.every(F)}function v(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function I(e){return e.every(v)}async function $(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then((t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)}));const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await E(e,t,a,s),l=e=>e.filter((e=>!e.error)).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function E(e,t,r,s){if(await e.load(),!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!g(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await S(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function S(e,t,r){const i=b(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(V(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=G(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter((e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8));if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach((e=>B(e,t)))}u.addFeatures.forEach((t=>O(t,e,p,c))),u.updateFeatures.forEach((t=>k(t,e,p,c))),u.deleteFeatures.forEach((t=>U(t,e,p,c))),u.addAttachments.forEach((t=>L(t,e))),u.updateAttachments.forEach((t=>L(t,e))),l&&await x(u,e);return{edits:await T(u),options:d}}function R(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function j(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function O(e,t,a,r){R(e,t,a,r),j(e,t)}function U(e,t,a,r){R(e,t,a,r)}function k(e,t,r,s){R(e,t,r,s),j(e,t);const i=b(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function L(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function B(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function T(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map((e=>e.geometry)),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach(((e,a)=>t[a].geometry=e)),s.slice(i,i+n).forEach(((e,t)=>a[t].geometry=e)),e}function D(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function G(e,t,r){const s=D(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(M),s.updateFeatures=s.updateFeatures.map(M),s.addAssetFeatures=[],s}function V(e,t,r,s,i,n){if(!e||!s&&!i)throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed&&!r.usingFeatureServiceEndpoint)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function M(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function x(e,t){const{infoFor3D:r}=t;if(null==r)return;if(!y(r))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:s}=e;for(const a of e.addFeatures??[])z(a)&&s.push(a);for(const a of e.updateFeatures??[])z(a)&&s.push(a)}function z(e){return\"mesh\"===e?.geometry?.type}function q(e,t,r,s){if(!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{$ as applyEdits,V as checkEditingCapabilities,I as isFeatureIdentifierArrayWithGlobalId,A as isFeatureIdentifierArrayWithObjectId,v as isFeatureIdentifierWithGlobalId,F as isFeatureIdentifierWithObjectId,D as normalizeCollections,G as normalizeEdits,T as normalizeGeometries,M as shallowCloneFeature,q as uploadAssets};\n"],"names":["y","A","o","constructor","t","super","this","translation","p","rotationAxis","m","x","rotationAngle","scale","u","rotation","g","h","f","j","localMatrix","l","n","d","b","i","localMatrixInverse","e","equals","a","clone","r","type","Number","nonNullable","json","write","prototype","s","c","N","async","geometry","_objectSpread","attributes","_o$transform","_I$z","transformFieldRoles","origin","spatialReference","vertexSpace","transform","isGeographic","R","I","originX","originY","originZ","z","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","toJSON","_e$addAttachments","_e$updateAttachments","_e$deleteAttachments","Promise","all","addAttachments","map","updateAttachments","deleteAttachments","length","adds","updates","deletes","_r$attributes","feature","attachment","globalId","name","contentType","data","uploadId","parentGlobalId","globalIdField","mediaType","File","objectId","objectIdField","getAttribute","_t$addResults$map","_t$addResults","_t$updateResults$map","_t$updateResults","_t$deleteResults$map","_t$deleteResults","assetMaps","addResults","success","getLogger","error","concat","updateResults","attachments","addFeatureResults","updateFeatureResults","deleteFeatureResults","deleteResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","editMoment","code","description","_t$adds","_t$updates","_t$deletes","original","current","details","raw","extendedCode","w","applyEdits","F","every","v","$","_s$gdbVersion","arguments","undefined","gdbVersion","url","layerId","returnServiceEditsOption","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","_i$editedFeatureResul","results","edits","_i$addFeatures","_i$updateFeatures","_i$deleteFeatures","_i$addAttachments","_i$updateAttachments","_i$deleteAttachments","load","layer","options","addFeatures","updateFeatures","deleteFeatures","infoFor3D","V","isVersioned","editing","supportsRollbackOnFailure","rollbackOnFailureEnabled","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","G","globalIdUsed","fields","filter","forEach","B","O","supportsGeometryUpdate","k","U","L","_e$addAssetFeatures","addAssetFeatures","_e$addFeatures3","push","_e$updateFeatures3","T","S","E","exceededTransferLimit","historicMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","MAX_SAFE_INTEGER","_t$capabilities","_t$capabilities2","hasZ","capabilities","supportsZ","hasM","supportsM","_e$geometry","wkid","_t$capabilities3","supportsUploadWithItemId","isBase64","_e$addFeatures","_e$updateFeatures","slice","_s$addFeatures","_s$updateFeatures","_s$deleteFeatures","_e$addFeatures2","_e$updateFeatures2","Array","from","isCollection","toArray","D","operations","supportsAdd","supportsUpdate","supportsDelete","M","supportsGlobalId","usingFeatureServiceEndpoint","_e$geometry2","q","uploadAssets"],"sourceRoot":""}