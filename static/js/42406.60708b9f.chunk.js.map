{"version":3,"file":"static/js/42406.60708b9f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/ImageryLayerView.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js","../node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js","../node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combineTimeExtent as a}from\"../../layers/support/timeSupport.js\";import{load as p,getSourceScale as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import u from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as c}from\"./support/popupUtils.js\";const m=m=>{let l=class extends m{constructor(){super(...arguments),this.view=null}get timeExtent(){return a(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}async fetchPopupFeaturesAtLocation(e,o){const{layer:s}=this;if(!e)throw new t(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:a}=s,p=c(s,o);if(!a||null==p)return[];const n=await p.getRequiredFields();r(o);const m=new u;m.timeExtent=this.timeExtent,m.geometry=e,m.outFields=n,m.outSpatialReference=e.spatialReference;const{resolution:l,spatialReference:y}=this.view,h=\"2d\"===this.view.type?new i(l,l,y):new i(.5*l,.5*l,y),{returnTopmostRaster:f,showNoDataRecords:w}=p.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},d={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:h,showNoDataRecords:w,signal:o?.signal};return s.queryVisibleRasters(m,d).then((e=>e))}async getSourceScale(){return await p(),await this.layer.load(),n(this.layer.serviceRasterInfo,this.view.spatialReference)}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([o()],l.prototype,\"layer\",void 0),e([o()],l.prototype,\"suspended\",void 0),e([o({readOnly:!0})],l.prototype,\"timeExtent\",null),e([o()],l.prototype,\"view\",void 0),l=e([s(\"esri.views.layers.ImageryLayerView\")],l),l};export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isAbortError as s}from\"../../../../core/promiseUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mosaicPixelData as p}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{BitmapContainer as n}from\"../../engine/BitmapContainer.js\";import{Container as l}from\"../../engine/Container.js\";import c from\"../../engine/ImageryBitmapSource.js\";import h from\"../support/ExportStrategy.js\";let m=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new l,this.updateRequested=!1,this.type=\"imagery\",this._bitmapView=new n}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(t){this.strategy.update(t).catch((t=>{s(t)||r.getLogger(this).error(t)}))}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const t=this.layer.version>=10,e=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new h({container:this._bitmapView,imageNormalizationSupported:t,imageMaxHeight:e,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async t=>{const{source:e}=t;if(!e||e instanceof ImageBitmap)return;const i=await this.layer.applyRenderer({extent:e.extent,pixelBlock:e.originalPixelBlock??e.pixelBlock});e.filter=t=>this.layer.pixelFilter?this.layer.applyFilter(t):{...i,extent:e.extent}})).catch((t=>{s(t)||r.getLogger(this).error(t)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const t=this.strategy.bitmaps;if(1===t.length&&t[0].source)return{extent:t[0].source.extent,pixelBlock:t[0].source.originalPixelBlock};if(t.length>1){const e=this.view.extent,i=t.map((t=>t.source)).filter((t=>t.extent&&t.extent.intersects(e))).map((t=>({extent:t.extent,pixelBlock:t.originalPixelBlock}))),r=p(i,e);return null!=r?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(t,e,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!0,r.returnImageBitmap=!0;const s=await this.layer.fetchImage(t,e,i,r);if(s.imageBitmap)return s.imageBitmap;const a=await this.layer.applyRenderer(s.pixelData,{signal:r.signal}),o=new c(a.pixelBlock,a.extent?.clone(),s.pixelData.pixelBlock);return o.filter=t=>this.layer.applyFilter(t),o}};t([a()],m.prototype,\"attached\",void 0),t([a()],m.prototype,\"container\",void 0),t([a()],m.prototype,\"layer\",void 0),t([a()],m.prototype,\"strategy\",void 0),t([a()],m.prototype,\"timeExtent\",void 0),t([a()],m.prototype,\"view\",void 0),t([a()],m.prototype,\"updateRequested\",void 0),t([a()],m.prototype,\"updating\",null),t([a()],m.prototype,\"type\",void 0),m=t([o(\"esri.views.2d.layers.imagery.ImageryView2D\")],m);const d=m;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"./BrushVectorField.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.symbolTypes=[\"triangle\"]}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"imagery (vf)\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}export{t as RasterVFContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{debounce as r,isAbortError as o}from\"../../../../core/promiseUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as l}from\"../../engine/imagery/RasterVFDisplayObject.js\";let c=class extends t{constructor(e){super(e),this._loading=null,this.update=r(((e,t)=>this._update(e,t).catch((e=>{o(e)||i.getLogger(this).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,i){if(!e.stationary)return;const{extent:r,spatialReference:o}=e.state,s=new n({xmin:r.xmin,ymin:r.ymin,xmax:r.xmax,ymax:r.ymax,spatialReference:o}),[a,l]=e.state.size;this._loading=this.fetchPixels(s,a,l,i);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,i){if(null==e.pixelBlock)return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:r,pixelBlock:o}=e,s=new l(o);s.offset=[0,0],s.symbolizerParameters=t,s.rawPixelData=e,s.invalidateVAO(),s.x=r.xmin,s.y=r.ymax,s.pixelRatio=i.pixelRatio,s.rotation=i.rotation,s.resolution=i.resolution,s.width=o.width*t.symbolTileSize,s.height=o.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(s)}};e([s()],c.prototype,\"fetchPixels\",void 0),e([s()],c.prototype,\"container\",void 0),e([s()],c.prototype,\"_loading\",void 0),e([s()],c.prototype,\"updating\",null),c=e([a(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")],c);const p=c;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import r from\"../../../../request.js\";import i from\"../../../../core/Accessor.js\";import s from\"../../../../core/Logger.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{watch as o,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as m}from\"../../../../core/accessorSupport/decorators/subclass.js\";import c from\"../../../../geometry/Extent.js\";import{srToRESTValue as p}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{projectExtent as h}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{snapImageToSymbolTile as y,convertVectorFieldData as u}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFContainer as x}from\"../../engine/imagery/RasterVFContainer.js\";import d from\"./ImageryVFStrategy.js\";let f=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new x,this.type=\"imageryVF\",this._dataParameters={exportParametersVersion:0,bbox:\"\",symbolTileSize:0,time:\"\"},this._fetchpixels=async(t,e,r,i)=>{const s=await this._projectFullExtentPromise,{symbolTileSize:a}=this.layer.renderer,{extent:o,width:n,height:l}=y(t,e,r,a,s);if(null!=s&&!s.intersects(t))return{extent:o,pixelBlock:null};const m={bbox:`${o.xmin}, ${o.ymin}, ${o.xmax}, ${o.ymax}`,exportParametersVersion:this.layer.exportImageServiceParameters.version,symbolTileSize:a,time:JSON.stringify(this.timeExtent||\"\")};if(this._canReuseVectorFieldData(m)){const t=this.getPixelData();if(null!=t){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===m.bbox)return t}}const{pixelData:c}=await this.layer.fetchImage(o,n,l,{timeExtent:this.timeExtent,requestAsImageElement:!1,signal:i});this._dataParameters=m;const p=c?.pixelBlock;if(null==p)return{extent:o,pixelBlock:null};return{extent:o,pixelBlock:\"vector-uv\"===this.layer.rasterInfo.dataType?u(p,\"vector-uv\"):p}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new d({container:this.container,fetchPixels:this._fetchpixels}),this.addHandles(o((()=>this.layer.renderer),(t=>this._updateSymbolizerParams(t)),n),\"attach\")}detach(){this._strategy.destroy(),this.container.children.forEach((t=>t.destroy())),this.container.removeAllChildren(),this.removeHandles(\"attach\"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams).catch((t=>{a(t)||s.getLogger(this).error(t)}))}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,s=this._dataParameters.bbox===t.bbox;return e&&r&&i&&s}async _getProjectedFullExtent(t){try{return h(this.layer.fullExtent,t)}catch(e){try{const e=(await r(this.layer.url,{query:{option:\"footprints\",outSR:p(t),f:\"json\"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?c.fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){\"vector-field\"===t?.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};t([l()],f.prototype,\"attached\",void 0),t([l()],f.prototype,\"container\",void 0),t([l()],f.prototype,\"layer\",void 0),t([l()],f.prototype,\"timeExtent\",void 0),t([l()],f.prototype,\"type\",void 0),t([l()],f.prototype,\"view\",void 0),t([l()],f.prototype,\"updating\",null),f=t([m(\"esri.views.2d.layers.imagery.VectorFieldView2D\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import s from\"../../../core/Collection.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import{watch as h,sync as a}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GraphicsCollection as n}from\"../../../support/GraphicsCollection.js\";import c from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as g}from\"./LayerView2D.js\";import p from\"./graphics/GraphicsView2D.js\";import d from\"./graphics/HighlightGraphicContainer.js\";import w from\"./imagery/ImageryView2D.js\";import m from\"./imagery/VectorFieldView2D.js\";import u from\"../../layers/ImageryLayerView.js\";import v from\"../../layers/LayerView.js\";import y from\"../../layers/RefreshableLayerView.js\";import{defaultHighlightName as f}from\"../../support/HighlightDefaults.js\";let b=class extends(u(y(g(v)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new n,this._highlightView=void 0,this.layer=null,this.subview=null}get pixelData(){const{subview:e}=this;return this.updating||!e?null:\"getPixelData\"in e?e.getPixelData():null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new p({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new d(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([h((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),a),h((()=>this.timeExtent),(e=>{const{subview:i}=this;i&&(i.timeExtent=e,\"redraw\"in i?this.requestUpdate():i.redrawOrRefetch())}),a),this.layer.on(\"redraw\",(()=>{const{subview:e}=this;e&&(\"redraw\"in e?e.redraw():e.redrawOrRefetch())})),h((()=>this.layer.renderer),(()=>this._setSubView()))])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,h){if(!((Array.isArray(e)?e[0]:s.isCollection(e)?e.at(0):e)instanceof i))return r();let a=[];Array.isArray(e)||s.isCollection(e)?a=e.map((e=>e.clone())):e instanceof i&&(a=[e.clone()]);const o=a?.filter(t);if(!o?.length)return r();const l=h?.name??f;return this._addHighlightGraphics(a,l),r((()=>!this.destroyed&&this._removeHighlightGraphics(a,l)))}_addHighlightGraphics(e,i){this._highlightGraphics.addMany(e),this._addHighlights(e.map((e=>e.uid)),i)}_removeHighlightGraphics(e,i){this._highlightGraphics.removeMany(e),this._removeHighlights(e.map((e=>e.uid)),i)}async doRefresh(){this.requestUpdate()}isUpdating(){const e=!this.subview||this.subview.updating||!!this._highlightView?.updating;return has(\"esri-2d-log-updating\")&&console.log(`Updating ImageryLayerView2D (${this.layer.id}): ${e}\\n-> subview ${!this.subview||this.subview.updating}\\n-> higlightView ${this._highlightView?.updating}\\n`),e}_processHighlight(){const e=this._getHighlights();this._highlightView?.setHighlight(e)}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let i=\"imagery\";if(\"vector-field\"===e?i=\"imageryVF\":\"flow\"===e&&(i=\"flow\"),this.subview){const{type:e}=this.subview;if(e===i)return this._attachSubview(this.subview),void(\"flow\"===e?this.subview.redrawOrRefetch():\"imagery\"===e&&\"lerc\"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview=\"imagery\"===i?new w({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):\"imageryVF\"===i?new m({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new c({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0))}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([o()],b.prototype,\"pixelData\",null),e([o()],b.prototype,\"subview\",void 0),b=e([l(\"esri.views.2d.layers.ImageryLayerView2D\")],b);const _=b;export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as s,FeatureSelection as t}from\"../../engine/webgl/enums.js\";import{AGraphicContainer as i}from\"./AGraphicContainer.js\";import{renderHighlight as o}from\"../support/util.js\";let a=class extends i{get hasHighlight(){return this.children.some((r=>r.hasData))}renderChildren(r){this.attributeView.update(),r.drawPhase===s.HIGHLIGHT&&this.children.some((r=>r.hasData))&&(super.renderChildren(r),r.context.setColorMask(!0,!0,!0,!0),o(r,!1,(r=>{this._renderChildren(r,t.Highlight)})))}};a=r([e(\"esri.views.2d.layers.graphics.HighlightGraphicContainer\")],a);const h=a;export{h as default};\n"],"names":["m","l","constructor","super","arguments","this","view","timeExtent","_this$view","a","layer","_get","fetchPopupFeaturesAtLocation","e","o","s","t","popupEnabled","p","c","n","getRequiredFields","r","u","geometry","outFields","outSpatialReference","spatialReference","resolution","y","h","type","i","returnTopmostRaster","f","showNoDataRecords","w","layerOptions","d","returnDomainValues","pixelSize","signal","queryVisibleRasters","then","getSourceScale","load","serviceRasterInfo","canResume","_this$timeExtent","isEmpty","prototype","readOnly","attached","container","updateRequested","_bitmapView","destroy","detach","updating","isUpdating","update","strategy","catch","getLogger","error","hitTest","attributes","clone","attach","addChild","version","imageMaxHeight","imageMaxWidth","imageNormalizationSupported","fetchSource","_fetchImage","bind","requestUpdate","removeAllChildren","redraw","updateExports","async","_e$originalPixelBlock","source","ImageBitmap","applyRenderer","extent","pixelBlock","originalPixelBlock","filter","pixelFilter","applyFilter","_objectSpread","getPixelData","bitmaps","length","map","intersects","_a$extent","requestAsImageElement","returnImageBitmap","fetchImage","imageBitmap","pixelData","symbolTypes","prepareRenderPasses","registerRenderPass","name","brushes","target","children","drawPhase","MAP","doRender","visible","forEach","renderPass","_loading","_update","symbolizerParameters","invalidateVAO","style","requestRender","stationary","state","xmin","ymin","xmax","ymax","size","fetchPixels","_addToDisplay","offset","rawPixelData","x","pixelRatio","rotation","width","symbolTileSize","height","_dataParameters","exportParametersVersion","bbox","time","_fetchpixels","_projectFullExtentPromise","renderer","concat","exportImageServiceParameters","JSON","stringify","_canReuseVectorFieldData","rasterInfo","dataType","_strategy","_getProjectedFullExtent","addHandles","_updateSymbolizerParams","removeHandles","_this$container$child","_symbolizerParams","fullExtent","url","query","option","outSR","data","featureCollection","layers","layerDefinition","fromJSON","_unused","symbolizer","generateWebGLParameters","g","b","v","_exportImageVersion","_highlightGraphics","_highlightView","subview","_this$subview","increaseRasterJobHandlerUsage","_setSubView","graphics","requestUpdateCallback","featuresTilingScheme","addAttachHandles","redrawOrRefetch","on","_this$subview2","_this$_highlightView","decreaseRasterJobHandlerUsage","_detachSubview","viewChange","moveEnd","highlight","_a","_h$name","Array","isArray","isCollection","at","_addHighlightGraphics","destroyed","_removeHighlightGraphics","addMany","_addHighlights","uid","removeMany","_removeHighlights","doRefresh","_this$_highlightView2","_this$_highlightView3","has","console","log","id","_processHighlight","_this$_highlightView4","_getHighlights","setHighlight","_this$layer$renderer","_this$subview3","_attachSubview","format","layerView","addChildAt","removeChild","_","hasHighlight","some","hasData","renderChildren","attributeView","HIGHLIGHT","context","setColorMask","_renderChildren","Highlight"],"sourceRoot":""}