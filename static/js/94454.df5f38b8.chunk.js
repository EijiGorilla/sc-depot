"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[94454],{81552:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(35143),o=n(69098),s=n(76460),a=(n(81806),n(47249),n(50076),n(85842)),l=n(9624);let i=class extends o.A{projectOrWarn(e,t){if(null==e)return e;const{geometry:n,pending:r}=(0,l.projectOrLoad)(e,t);return r?null:r||n?n:(s.A.getLogger(this).warn("geometry could not be projected to the spatial reference",{georeference:this,geometry:e,sourceSpatialReference:e.spatialReference,targetSpatialReference:t}),null)}};i=(0,r._)([(0,a.$)("esri.layers.support.GeoreferenceBase")],i);const c=i},94454:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(35143),o=n(15941),s=n(76931),a=n(46053),l=(n(81806),n(76460),n(47249),n(85842)),i=n(53494),c=n(76797),u=n(65215),p=n(9624),x=n(81552);let h=class extends x.A{constructor(e){super(e),this.extent=null,this.rotation=0,this.type="extent-and-rotation"}get coords(){if(null==this.extent)return null;const{xmin:e,ymin:t,xmax:n,ymax:r,spatialReference:o}=this.extent;let s;if(this.rotation){const{x:o,y:a}=this.extent.center,l=f(o,a,this.rotation);s=[l(e,t),l(e,r),l(n,r),l(n,t)],s.push(s[0])}else s=[[e,t],[e,r],[n,r],[n,t],[e,t]];return new u.default({rings:[s],spatialReference:o})}set coords(e){var t;if(null==e||null==this.extent)return;const n=this.extent.spatialReference;if(null==(null===(t=e=this.projectOrWarn(e,n))||void 0===t?void 0:t.extent))return;const{rings:[[r,s,a]],extent:{center:{x:l,y:i}}}=e,u=(0,o.KJ)(Math.PI/2-Math.atan2(s[1]-r[1],s[0]-r[0])),p=f(l,i,-u),[x,h]=p(r[0],r[1]),[d,y]=p(a[0],a[1]);this.extent=new c.default({xmin:x,ymin:h,xmax:d,ymax:y,spatialReference:n}),this.rotation=u}toSourceNormalized(e){const{extent:t,rotation:n}=this;if(null==e||null==t)return null;const{xmin:r,ymin:a,xmax:l,ymax:i,center:c,spatialReference:u}=t;e=e.normalize();const x=(0,p.projectOrLoad)(e,u).geometry;if(null==x)return null;let h=x.x,d=x.y;return n&&([h,d]=f(c.x,c.y,-n)(h,d)),(0,s.tc)((0,o.hs)(h,r,l,0,1),(0,o.hs)(d,i,a,0,1))}};function f(e,t,n){const r=(0,i.DF)(n),o=Math.cos(r),s=Math.sin(r);return(n,r)=>[o*(n-e)+s*(r-t)+e,o*(r-t)-s*(n-e)+t]}(0,r._)([(0,a.MZ)({clonable:!1})],h.prototype,"coords",null),(0,r._)([(0,a.MZ)({type:c.default})],h.prototype,"extent",void 0),(0,r._)([(0,a.MZ)({type:Number})],h.prototype,"rotation",void 0),h=(0,r._)([(0,l.$)("esri.layers.support.ExtentAndRotationGeoreference")],h);const d=h}}]);
//# sourceMappingURL=94454.df5f38b8.chunk.js.map