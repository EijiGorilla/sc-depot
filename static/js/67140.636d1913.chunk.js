"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[67140],{33723:(e,t,o)=>{o.d(t,{O:()=>v,W:()=>c});var n=o(63919),r=o(44680),i=o(19555),l=o(20664);const s=(0,o(9392).vt)(),d=(0,r.vt)(),a=(0,r.vt)(),u=(0,r.vt)();function c(e,t,o){return(0,l.i)(s,t[0],t[1],1),(0,l.q)(s,s,(0,n.mg)(d,o)),0===s[2]?(0,i.hZ)(e,s[0],s[1]):(0,i.hZ)(e,s[0]/s[2],s[1]/s[2])}function v(e,t,o){return h(a,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),h(u,o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]),(0,n.lw)(e,(0,n.KC)(a,a),u),0!==e[8]&&(e[0]/=e[8],e[1]/=e[8],e[2]/=e[8],e[3]/=e[8],e[4]/=e[8],e[5]/=e[8],e[6]/=e[8],e[7]/=e[8],e[8]/=e[8]),e}function h(e,t,o,r,i,a,u,c,v){(0,n.hZ)(e,t,r,a,o,i,u,1,1,1),(0,l.i)(s,c,v,1),(0,n.KC)(d,e);const[h,p,y]=(0,l.q)(s,s,(0,n.mg)(d,d));return(0,n.hZ)(d,h,0,0,0,p,0,0,0,y),(0,n.lw)(e,d,e)}},54154:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var n,r=o(35143),i=o(3825),l=o(50076),s=o(79053),d=o(76460),a=o(15941),u=o(68134),c=o(90534),v=o(46053),h=(o(81806),o(47249),o(85842)),p=o(17707),y=o(83622),m=o(62705),g=o(6446),f=o(79453);let _=class extends y.A{constructor(e){super(e),this.autoplay=!0,this.content=null,this.controller=null,this.type="video",this[n]=!0}load(){const e=this.video;return"string"==typeof e?this.addResolvingPromise(Promise.all([this._preProcessVideoUrl(e),o.e(80782).then(o.bind(o,80782))]).then((async e=>{let[t,{default:o}]=e;this.controller=new o,this.controller.playerUrl=t,await(0,u.whenOnce)((()=>{var e;return null===(e=this.controller)||void 0===e?void 0:e.element})),this.controller.loop=!0,this.controller.muted=!0,this.controller.playsInline=!0,this.controller.crossOrigin="anonymous",await(0,u.whenOnce)((()=>{var e;return"can-play"===(null===(e=this.controller)||void 0===e?void 0:e.state)})),await this.controller.play(),this.autoplay||this.controller.pause(),this._set("content",this.controller.element)}))):e instanceof HTMLVideoElement?this.addResolvingPromise(this._loadVideo(e).then((()=>{this._set("content",e)}))):this.addResolvingPromise(Promise.reject(new l.default("video-element:invalid-video-type","Invalid video type",{video:e}))),Promise.resolve(this)}get contentWidth(){var e,t;return null!==(e=null===(t=this.content)||void 0===t?void 0:t.videoWidth)&&void 0!==e?e:0}get contentHeight(){var e,t;return null!==(e=null===(t=this.content)||void 0===t?void 0:t.videoHeight)&&void 0!==e?e:0}get currentTime(){var e;return null===(e=this.controller)||void 0===e?void 0:e.currentTime}set currentTime(e){var t;if(!this.controller)return;const o=(0,a.qE)(e,0,this.controller.duration);null===(t=this.controller)||void 0===t||t.setCurrentTime(o)}get duration(){var e;return null===(e=this.controller)||void 0===e?void 0:e.duration}set video(e){"not-loaded"===this.loadStatus?this._set("video",e):d.A.getLogger(this).error("#video","video cannot be changed after the element is loaded.")}writeVideo(e,t,o,n){if(!e)return void((null===n||void 0===n?void 0:n.messages)&&n.messages.push(new l.default("video-element:unsupported-video","video source is missing")));const r=function(e){return"string"==typeof e&&!(0,c.isDataProtocol)(e)&&!(0,c.isBlobProtocol)(e)}(e)?e:null;if(!r)return void((null===n||void 0===n?void 0:n.messages)&&n.messages.push(new l.default("video-element:unsupported-video","video source must be an absolute url")));!(0,c.isAbsolute)(r)&&(null===n||void 0===n?void 0:n.blockedRelativeUrls)&&n.blockedRelativeUrls.push(r);const i=(0,c.makeAbsolute)(r);(0,f.i)(i)?(null===n||void 0===n?void 0:n.messages)&&n.messages.push(new l.default("video-element:unsupported-video","video source cannot be an item resource")):t[o]=i}async _preProcessVideoUrl(e){if((0,c.getProxyRule)(e))return(0,c.addProxy)(e);try{return await(0,i.default)(e,{method:"head"}),e}catch(t){return(0,c.addProxy)(e,!0)}}_loadVideo(e){return new Promise(((t,o)=>{const n=(0,s.Oo)(e,"canplay",(()=>{this.removeHandles("canplay"),this.autoplay?e.play().then(t,o):t()}));this.addHandles(n,"canplay"),"anonymous"!==e.crossOrigin&&(e.crossOrigin="anonymous",(0,c.isBlobProtocol)(e.src)||(e.src=e.src))}))}};n=g.UR,(0,r._)([(0,v.MZ)()],_.prototype,"autoplay",void 0),(0,r._)([(0,v.MZ)({readOnly:!0})],_.prototype,"content",void 0),(0,r._)([(0,v.MZ)({readOnly:!0})],_.prototype,"contentWidth",null),(0,r._)([(0,v.MZ)({readOnly:!0})],_.prototype,"contentHeight",null),(0,r._)([(0,v.MZ)()],_.prototype,"controller",void 0),(0,r._)([(0,v.MZ)({type:Number})],_.prototype,"currentTime",null),(0,r._)([(0,v.MZ)({type:Number})],_.prototype,"duration",null),(0,r._)([(0,v.MZ)(m.x3)],_.prototype,"video",null),(0,r._)([(0,p.K)("video")],_.prototype,"writeVideo",null),(0,r._)([(0,v.MZ)(m.m$)],_.prototype,"type",void 0),_=(0,r._)([(0,h.$)("esri.layers.support.VideoElement")],_);const w=_}}]);
//# sourceMappingURL=67140.636d1913.chunk.js.map