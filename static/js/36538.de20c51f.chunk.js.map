{"version":3,"file":"static/js/36538.de20c51f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/3d/analysis/support/projectionUtils.js","../node_modules/@arcgis/core/chunks/Viewshed.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js","../node_modules/@arcgis/core/analysis/Viewshed.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedConfiguration.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/FieldOfViewManipulation.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ArrowManipulator.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ScaleOrientManipulation.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/viewshedToolManipulatorUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedSubTool.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedTool.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/ViewshedShapeVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedAnalysisVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/Viewshed/ViewshedComputedData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedFaceCamera.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/ViewshedShadowMap.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ViewshedTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Viewshed.js","../node_modules/@arcgis/core/views/3d/analysis/ViewshedAnalysisView3D.js","../node_modules/@arcgis/core/analysis/featureReferenceUtils.js","../node_modules/@arcgis/core/views/3d/support/engineContent/line.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/sliceToolConfig.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import r from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r.EsriPromiseMixin(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromTranslation as e}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as t}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as r,t as s}from\"../../../../chunks/vec32.js\";import{ZEROS as o,create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{Object3DVisualElement as n}from\"./Object3DVisualElement.js\";import{lineStripsToParameters as l,createGeometry as m}from\"../../support/engineContent/line.js\";import{RenderOccludedFlag as p}from\"../../webgl-engine/lib/Material.js\";import{RibbonLineMaterial as h}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";class d extends n{constructor(e,t){super(e),this._hasExternalMaterial=!1,this._hasExternalMaterial=null!=t,this._material=null!=t?t:new h({width:1,color:a(1,0,1,1),stipplePreferContinuous:!0,isClosed:!1,falloff:0,innerWidth:1,hasPolygonOffset:!1,renderOccluded:p.OccludeAndTransparent,isDecoration:!!e.isDecoration,writeDepth:!0}),this.applyProperties(e)}setGeometryFromPoint(e,t=1e3){const r=i();this.view.renderCoordsHelper.toRenderCoords(e,r)&&this.setGeometryFromRenderSpacePoint(r,t)}setGeometryFromRenderSpacePoint(e,t=1e3){this.geometry=[[[e[0]-t,e[1],e[2]],[e[0]+t,e[1],e[2]]],[[e[0],e[1]-t,e[2]],[e[0],e[1]+t,e[2]]],[[e[0],e[1],e[2]-t],[e[0],e[1],e[2]+t]]]}setGeometryFromExtent(e){const t=this.view.spatialReference,s=i(),o=i(),a=100,n=[];r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[2],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[2],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[3],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),r(s,e[0],e[1],a),this.view.renderCoordsHelper.toRenderCoords(s,t,o),n.push([o[0],o[1],o[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,o=e.basis2,a=.5,n=i(),l=i(),m=i(),p=i();n[0]=r[0]-s[0]*a-o[0]*a,n[1]=r[1]-s[1]*a-o[1]*a,n[2]=r[2]-s[2]*a-o[2]*a,l[0]=r[0]-s[0]*a+o[0]*a,l[1]=r[1]-s[1]*a+o[1]*a,l[2]=r[2]-s[2]*a+o[2]*a,m[0]=r[0]+s[0]*a+o[0]*a,m[1]=r[1]+s[1]*a+o[1]*a,m[2]=r[2]+s[2]*a+o[2]*a,p[0]=r[0]+s[0]*a-o[0]*a,p[1]=r[1]+s[1]*a-o[1]*a,p[2]=r[2]+s[2]*a-o[2]*a,t.push([n[0],n[1],n[2]]),t.push([l[0],l[1],l[2]]),t.push([m[0],m[1],m[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(t){const r=t.endRenderSpace;this.transform=e(f,r);const{points:s}=t.createRenderGeometry(r,this.view.renderCoordsHelper);this.geometry=[s]}setGeometryFromSegments(t,r=o){this.transform=e(f,r),this.geometry=t.map((e=>e.createRenderGeometry(r,this.view.renderCoordsHelper).points))}getTransformedGeometry(){return null==this._geometry?null:this._geometry.map((e=>e.map((e=>s(i(),e,this.transform)))))}get renderOccluded(){return this._material.parameters.renderOccluded}set renderOccluded(e){this._material.setParameters({renderOccluded:e})}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._material.parameters.width}set width(e){this._material.setParameters({width:e})}get color(){return this._material.parameters.color}set color(e){const t=1===e[3];this._material.setParameters({color:e,writeDepth:t})}get innerWidth(){return this._material.parameters.innerWidth}set innerWidth(e){this._material.setParameters({innerWidth:e})}get innerColor(){return this._material.parameters.innerColor}set innerColor(e){this._material.setParameters({innerColor:e})}get stipplePattern(){return this._material.parameters.stipplePattern}set stipplePattern(e){null!=this._material&&this._material.setParameters({stipplePattern:e})}get stippleOffColor(){return this._material.parameters.stippleOffColor}set stippleOffColor(e){this._material.setParameters({stippleOffColor:e})}get stipplePreferContinuous(){return this._material.parameters.stipplePreferContinuous}set stipplePreferContinuous(e){this._material.setParameters({stipplePreferContinuous:e})}get falloff(){return this._material.parameters.falloff}set falloff(e){this._material.setParameters({falloff:e})}get polygonOffset(){return this._material.parameters.hasPolygonOffset}set polygonOffset(e){this._material.setParameters({hasPolygonOffset:e})}createExternalResources(){}destroyExternalResources(){}createGeometries(e){for(const t of l(this.geometry)){const r=m(this._material,t);e.addGeometry(r)}}forEachExternalMaterial(e){this._hasExternalMaterial||e(this._material)}}const f=t();export{d as LineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{tryProjectWithZConversion as o}from\"../../../../geometry/projection.js\";import{getElevationAtPoint as e}from\"../../support/ElevationProvider.js\";function r(r,t,i,n=!1){const l=o(r,t);return null==l?null:(l.hasZ&&!n||null==i||(l.z=e(i,l)??0),l)}function t(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}export{r as applyProjectionAndElevationAlignment,t as logFailedGeometryProjectionError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{invertOrIdentity as e}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{IDENTITY as i,create as o}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{ScreenSpacePass as t}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{ReadDepth as s}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadDepth.glsl.js\";import{PiUtils as r}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js\";import{LocalFromScreenSpacePassParameters as a,localFromScreenSpace as n}from\"../views/3d/webgl-engine/core/shaderLibrary/util/LocalFromScreenSpace.glsl.js\";import{Rgba4FloatEncoding as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloat16Encoding.glsl.js\";import{TextureAtlasLookup as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/TextureAtlasLookup.glsl.js\";import{Float2PassUniform as c}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3PassUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js\";import{FloatPassUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{FloatsPassUniform as w}from\"../views/3d/webgl-engine/core/shaderModules/FloatsPassUniform.js\";import{glsl as f}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{IntegerPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/IntegerPassUniform.js\";import{Matrix4BindUniform as p}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{Matrix4sPassUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4sPassUniform.js\";import{Texture2DBindUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DBindUniform.js\";import{Texture2DPassUniform as V}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as x}from\"../views/webgl/ShaderBuilder.js\";class b extends a{constructor(){super(...arguments),this.shadowMap={depthTexture:null,nearFar:[1,100],numActiveFaces:1,atlasRegions:[[0,0,1,1]]},this.targetVector=[1,0,0],this.upVector=[0,0,1],this.fovs=[45,45],this.headingAndTilt=[0,0],this.observerOffset=[0,0,0],this.projectionMatrices=i.flat(),this.viewMatrices=i.flat(),this.volumeOffset=0}}function P(){const i=new x,o=i.fragment;return i.include(t),i.include(n),i.include(l),o.include(s),o.include(d),i.include(r),o.uniforms.add(new u(\"depthTexture\",(e=>e.depth?.attachment)),new p(\"inverseProjectionMatrix\",(e=>e.camera.inverseProjectionMatrix)),new p(\"inverseViewNormalMatrix\",(({camera:i})=>e(M,i.viewInverseTransposeMatrix))),new h(\"viewshedObserverOffset\",(e=>e.observerOffset)),new h(\"viewshedTargetVector\",(e=>e.targetVector)),new h(\"viewshedUpVector\",(e=>e.upVector)),new c(\"viewshedFOVs\",(e=>e.fovs)),new c(\"viewshedHeadingAndTilt\",(e=>e.headingAndTilt)),new c(\"viewshedNearFar\",(e=>e.shadowMap.nearFar??[1,100])),new v(\"viewshedVolumeOffset\",(e=>e.volumeOffset)),new V(\"viewshedShadowMap\",(e=>e.shadowMap.depthTexture)),new m(\"viewshedProjectionMatrices\",(e=>e.projectionMatrices),6),new m(\"viewshedViewMatrices\",(e=>e.viewMatrices),6),new g(\"viewshedNumFaces\",(e=>e.shadowMap.numActiveFaces)),new w(\"viewshedAtlasRegions\",(e=>e.shadowMap.atlasRegions.flat()),24),new V(\"normalMap\",(e=>e.normals))),o.constants.add(\"visibleColor\",\"vec4\",[0,1,0,.5]),o.constants.add(\"occludedColor\",\"vec4\",[1,0,0,.5]),o.code.add(f`vec2 getViewshedUv(vec4 worldPosition, int face) {\nmat4 viewshedMatrix = viewshedProjectionMatrices[face];\nvec4 viewshedUv4 = viewshedMatrix * worldPosition;\nvec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;\nreturn viewshedUv.xy;\n}\nfloat viewshedDepthToFloat(float depth) {\nreturn (depth - viewshedNearFar[0]) / (viewshedNearFar[1] - viewshedNearFar[0]);\n}\nfloat getOrthographicDepthToViewshed(vec4 worldPosition, int face) {\nmat4 viewshedViewMatrix = viewshedViewMatrices[face];\nvec4 viewshedUv4 = viewshedViewMatrix * worldPosition;\nvec3 viewshedUv = viewshedUv4.xyz / viewshedUv4.w;\nfloat depth = -viewshedUv.z;\nreturn viewshedDepthToFloat(depth);\n}\nfloat getDepthFromShadowMap(vec2 uv, int face) {\nint index = 4 * face;\nfloat umin = viewshedAtlasRegions[index];\nfloat umax = viewshedAtlasRegions[index + 1];\nfloat vmin = viewshedAtlasRegions[index + 2];\nfloat vmax = viewshedAtlasRegions[index + 3];\nvec4 atlasRegion = vec4(umin, vmin, umax, vmax);\nreturn rgba4ToFloat(textureAtlasLookup(viewshedShadowMap, uv, atlasRegion));\n}\nstruct ViewshedPoint {\nint face;\nvec2 uv;\nbool isWithin;\nfloat orthographicDepth;\n};\nmat3 rotationMatrix(vec3 axis, float angle)\n{\nfloat s = sin(angle);\nfloat c = cos(angle);\nfloat oc = 1.0 - c;\nreturn mat3(\noc * axis.xxz * axis.xyx + vec3(c, axis.zy) * vec3(1., -s, s),\noc * axis.xyy * axis.yyz + vec3(axis.z, c, axis.x) * vec3(s, 1., -s),\noc * axis.zyz * axis.xzz + vec3(axis.yx, c) * vec3(-s, s, 1.)\n);\n}\nfloat distanceToPlane(vec3 position, vec3 normal) {\nreturn dot(position, normal);\n}\nbool outsideViewshed(float distance) {\nreturn distance > -viewshedVolumeOffset;\n}\nbool isWithinViewshed(vec3 position) {\nfloat positionLength = length(position - viewshedObserverOffset);\nfloat farSphereDistance = positionLength - viewshedNearFar[1];\nif (outsideViewshed(farSphereDistance)) { return false; }\nfloat nearSphereDistance = viewshedNearFar[0] - positionLength;\nif (outsideViewshed(nearSphereDistance)) { return false; }\nvec3 westVector = normalize(cross(viewshedUpVector, viewshedTargetVector));\nbool leftOfTarget = distanceToPlane(position, westVector) > 0.0;\nif (viewshedFOVs[0] < TWO_PI) {\nfloat horAngle = viewshedFOVs[0] / 2.0;\nhorAngle = leftOfTarget ? horAngle : -horAngle;\nvec3 sideVector = viewshedTargetVector * rotationMatrix(viewshedUpVector, horAngle);\nbool inFront = distanceToPlane(position, sideVector) > 0.0;\nif (inFront) {\nvec3 sideNormal = cross(viewshedUpVector, sideVector) * (leftOfTarget ? 1. : -1.);\nfloat sideDistance = distanceToPlane(position, normalize(sideNormal));\nif (outsideViewshed(sideDistance)) { return false; }\n} else if (viewshedFOVs[0] < PI) { return false; }\n}\nif (viewshedFOVs[1] < PI) {\nfloat t = dot(viewshedUpVector, position);\nvec3 nProjVector = normalize(position - t * viewshedUpVector);\nfloat heading = acos(clamp(dot(normalize(viewshedTargetVector), nProjVector), -1.0, 1.0));\nheading = leftOfTarget ? heading : -heading;\nbool aboveTarget = distanceToPlane(position, viewshedUpVector) > 0.0;\nfloat verFOV = viewshedFOVs[1] / 2.0;\nverFOV = aboveTarget ? -verFOV : verFOV;\nmat3 rotateByHeading = rotationMatrix(viewshedUpVector, heading);\nvec3 sideVector = viewshedTargetVector * rotationMatrix(westVector, verFOV) * rotateByHeading;\nvec3 leftVector = westVector * rotateByHeading;\nvec3 sideNormal = cross(sideVector, leftVector) * (aboveTarget ? 1. : -1.);\nfloat sideDistance = distanceToPlane(position, normalize(sideNormal));\nif (outsideViewshed(sideDistance)) { return false; }\n}\nreturn true;\n}\nbool getViewshedPoint(vec4 localPosition, out ViewshedPoint point) {\nfor(int i=0; i < viewshedNumFaces; i++) {\nvec2 viewshedUv = getViewshedUv(localPosition, i);\nif (viewshedUv.x > 0. && viewshedUv.x < 1. && viewshedUv.y > 0. && viewshedUv.y < 1.) {\nfloat orthoDepth = getOrthographicDepthToViewshed(localPosition, i);\nif (orthoDepth >= 0.) {\nbool isWithin = isWithinViewshed(localPosition.xyz);\npoint = ViewshedPoint(i, viewshedUv, isWithin, orthoDepth);\nreturn true;\n}\n}\n}\nreturn false;\n}\nfloat normalCosAngle(float linearDepth, vec3 localPosition) {\nvec4 normal4 = texture(normalMap, uv);\nvec3 normalN = vec3(-1.0) + 2.0 * normal4.xyz;\nvec3 normal =  normalize((inverseViewNormalMatrix * vec4(normalN, 1.0)).xyz);\nvec3 viewingDir = normalize(localPosition);\nreturn dot(normal, viewingDir);\n}`),o.main.add(f`float depth = depthFromTexture(depthTexture, uv);\nif (depth >= 1.0 || depth <= 0.0) {\nreturn;\n}\nfloat linearDepth = linearizeDepth(depth);\nvec4 localPosition = reconstructLocalPosition(gl_FragCoord.xy, linearDepth);\nViewshedPoint point;\nbool foundFace = getViewshedPoint(localPosition, point);\nif (!foundFace || !point.isWithin) {\nreturn;\n}\nfloat viewshedDepth = getDepthFromShadowMap(point.uv, point.face);\nfloat distance = point.orthographicDepth;\nbool visible = distance < viewshedDepth;\nfragColor = visible ? visibleColor : occludedColor;\nfloat cosAngle = normalCosAngle(linearDepth, localPosition.xyz);\nfloat threshold = -0.01;\nif (cosAngle > threshold) {\nfragColor = occludedColor;\n}`),i}const M=o(),F=Object.freeze(Object.defineProperty({__proto__:null,ViewshedPassParameters:b,build:P},Symbol.toStringTag,{value:\"Module\"}));export{b as V,F as a,P as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{translate as r,invertOrIdentity as e}from\"../../../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as o}from\"../../../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{zeros as i}from\"../../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{CameraSpace as t}from\"./CameraSpace.glsl.js\";import{glsl as a}from\"../../shaderModules/glsl.js\";import{Matrix4PassUniform as s}from\"../../shaderModules/Matrix4PassUniform.js\";import{NoParameters as c}from\"../../../../../webgl/NoParameters.js\";class m extends c{constructor(){super(...arguments),this.localOrigin=i()}}function l(i){i.include(t),i.fragment.uniforms.add(new s(\"inverseViewMatrix\",((i,t)=>{const a=r(o(),t.camera.viewMatrix,i.localOrigin);return e(a,a)}))).code.add(a`vec4 reconstructLocalPosition(vec2 coord, float linearDepth) {\nvec4 cameraSpace = vec4(reconstructPosition(coord, linearDepth), 1.0);\nreturn inverseViewMatrix * cameraSpace;\n}`)}export{m as LocalFromScreenSpacePassParameters,l as localFromScreenSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{featureReferenceEquals as r,featureReferenceProperty as i}from\"./featureReferenceUtils.js\";import o from\"../core/Clonable.js\";import{cyclicalDegrees as t}from\"../core/Cyclical.js\";import s from\"../core/JSONSupport.js\";import{equalsMaybe as a}from\"../core/maybe.js\";import{property as l}from\"../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as p}from\"../core/accessorSupport/decorators/subclass.js\";import{ensureNumber as c}from\"../core/accessorSupport/ensureType.js\";import m from\"../geometry/Point.js\";let u=class extends(s.JSONSupportMixin(o)){constructor(e){super(e),this.observer=null,this.farDistance=1e3,this.heading=0,this.tilt=90,this.horizontalFieldOfView=45,this.verticalFieldOfView=45,this.feature=null}isValid(){return null!=this.observer&&this.farDistance>0}equals(e){return a(this.observer,e.observer)&&this.farDistance===e.farDistance&&this.heading===e.heading&&this.tilt===e.tilt&&this.horizontalFieldOfView===e.horizontalFieldOfView&&this.verticalFieldOfView===e.verticalFieldOfView&&r(this.feature,e.feature)}};e([l({type:m,json:{write:{isRequired:!0}}})],u.prototype,\"observer\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],u.prototype,\"farDistance\",void 0),e([l({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),n((e=>t.normalize(c(e),void 0,!0)))],u.prototype,\"heading\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],u.prototype,\"tilt\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}})],u.prototype,\"horizontalFieldOfView\",void 0),e([l({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],u.prototype,\"verticalFieldOfView\",void 0),e([l(i)],u.prototype,\"feature\",void 0),e([l({json:{read:!1}})],u.prototype,\"isValid\",null),u=e([p(\"esri.analysis.Viewshed\")],u);const d=u;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst t={dash:[4,3],dot:[1,3],\"long-dash\":[8,3],\"short-dash\":[4,1],\"short-dot\":[1,1]},o={dash:t.dash,\"dash-dot\":[...t.dash,...t.dot],dot:t.dot,\"long-dash\":t[\"long-dash\"],\"long-dash-dot\":[...t[\"long-dash\"],...t.dot],\"long-dash-dot-dot\":[...t[\"long-dash\"],...t.dot,...t.dot],none:null,\"short-dash\":t[\"short-dash\"],\"short-dash-dot\":[...t[\"short-dash\"],...t[\"short-dot\"]],\"short-dash-dot-dot\":[...t[\"short-dash\"],...t[\"short-dot\"],...t[\"short-dot\"]],\"short-dot\":t[\"short-dot\"],solid:null},d=8;function s(t,o){return null==t?t:{pattern:t.slice(),pixelRatio:o}}function h(t){return{pattern:[t,t],pixelRatio:2}}function n(t){return\"style\"===t?.type?l(t.style):null}function l(t){return null!=t?s(o[t],d):null}export{h as createStipplePatternSimple,n as getStipplePatternForLinePattern,l as getStipplePatternForPatternStyle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{CullFaceOptions as t}from\"../../webgl-engine/lib/basicInterfaces.js\";import{RenderOccludedFlag as r}from\"../../webgl-engine/lib/Material.js\";const s=2,o=4,c=i(2),n=1.5;class l{constructor(){this.collisionRadius=5,this.fovUnfocusedArcWidth=o,this.fovFocusedArcWidth=s*this.fovUnfocusedArcWidth,this.scaleOrientSize=90,this.scaleOrientHandleRadius=.025,this.scaleOrientMinDistance=1,this.scaleOrientArrowTipLength=.3,this.scaleOrientArrowTipFocusMultiplier=s/1.5,this.observerSize=5,this.hoverTimeoutMilliseconds=1e3,this.viewAngleThreshold=10}getFovArcWidth(e){return e?this.fovFocusedArcWidth:this.fovUnfocusedArcWidth}getScaleOrientArrowTipLength(e){return this.scaleOrientArrowTipLength*(e?this.scaleOrientArrowTipFocusMultiplier:1)}}const h=new l;class a{constructor(){this.frameWidthNotSelected=.3,this.frameWidthSelected=1,this.frameColor=new e([255,255,255,.99]),this.observerPointConfiguration={size:6,pixelSnappingEnabled:!1,primitive:\"circle\",elevationInfo:{mode:\"absolute-height\",offset:0},outlineSize:0,color:e.toUnitRGBA(new e([3,252,111,1]))},this.shapeMaterialParameters={color:[.33,.33,.33,.25],renderOccluded:r.Occlude,cullFace:t.Back,writeDepth:!1}}}const d=new a;export{c as arcAnglePerSegment,n as creationVerticalOffset,h as viewshedToolManipulatorConfiguration,d as viewshedVisualizationConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{rad2deg as r,clamp as e}from\"../../../../core/mathUtils.js\";import{fromRotation as t}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{n as o,c as a,r as s,t as i,f as c,a as m,g as p,h as l}from\"../../../../chunks/vec32.js\";import{create as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getNormal as f,fromPositionAndNormal as u,create as g}from\"../../../../geometry/support/plane.js\";import{viewshedToolManipulatorConfiguration as h}from\"./ViewshedConfiguration.js\";import{calculateTranslateRotateFromBases as j,calculateInputRotationTransform as b}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as x}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{headingTiltToDirectionUp as v}from\"../../support/cameraUtils.js\";import{createDirectionUp as S}from\"../../support/cameraUtilsInternal.js\";function R({tiltedUpVector:r,rightVector:e,observerRenderSpace:t},n){const o=j(r,e,t,n);return o[12]=0,o[13]=0,o[14]=0,o}function U(t,n,s,i){const j=d(),v=f(s.plane),S=E(n,v);let R;if(Math.abs(S)>h.viewAngleThreshold)R=t.next(x(n,s.plane));else{const r=u(i.targetRenderSpace,s.basis1,g()),a=o(D,s.basis1),f=o(M,s.basis2);R=t.next(x(n,r)).next((r=>{const t=r=>{const t=c(m(V,r,s.origin),f),n=Math.acos(e(t/i.farDistanceRenderSpace,-1,1)),o=Math.sin(n)*i.farDistanceRenderSpace;return p(d(),s.origin,p(d(),l(V,a,o),l(w,f,t)))},n=t(r.renderStart),o=t(r.renderEnd);return{...r,renderStart:n,renderEnd:o}}))}return R.next((e=>{\"start\"===e.action&&a(j,e.renderStart);const t=r(b(j,e.renderEnd,s.origin,v));return{...e,deltaAngle:t}}))}function E(e,t){const n=D;e.renderCoordsHelper.toRenderCoords(e.camera.position,n);const o=v(e,n,e.camera.heading,e.camera.tilt,S()).direction;return r(s(o,t))-90}function C(r,e,n,o){return t(A,n,o),i(r,e,A)}const D=d(),M=d(),V=d(),w=d(),A=n();export{R as getViewshedRotationMatrix,C as rotateBy,U as screenToCircleAngle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../../Color.js\";import r from\"../../../../core/Handles.js\";import{handlesGroup as e}from\"../../../../core/handleUtils.js\";import{deg2rad as i,clamp as a}from\"../../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as n,initial as s}from\"../../../../core/reactiveUtils.js\";import{fromYRotation as l,fromXRotation as c,fromScaling as u,fromZRotation as p,fromRotation as m,multiply as h}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as d,a as g,h as _}from\"../../../../chunks/vec32.js\";import{fromValues as M,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{f as v}from\"../../../../chunks/boundedPlane.js\";import{viewshedToolManipulatorConfiguration as j}from\"./ViewshedConfiguration.js\";import{screenToCircleAngle as w,getViewshedRotationMatrix as A}from\"./viewshedToolUtils.js\";import{Manipulator3D as V}from\"../../interactive/Manipulator3D.js\";import{RenderObject as E}from\"../../interactive/RenderObject.js\";import{ManipulatorType as O}from\"../../interactive/editingTools/ManipulatorType.js\";import{InteractiveManipulation as T}from\"../../interactive/editingTools/manipulations/InteractiveManipulation.js\";import{createPolylineGeometry as y}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as U}from\"../../webgl-engine/lib/Material.js\";import{assert as R}from\"../../webgl-engine/lib/Util.js\";import{RibbonLineMaterial as S}from\"../../webgl-engine/materials/RibbonLineMaterial.js\";import{createManipulatorDragEventPipeline as x}from\"../../../interactive/dragEventPipeline.js\";import{ManipulatorStateFlags as P}from\"../../../interactive/interfaces.js\";class C extends T{constructor(t){super(),this._handles=new r,this._tool=t.tool,this._view=t.view,this._focusedArcMaterial=this._createArcMaterial(!0),this._unfocusedArcMaterial=this._createArcMaterial(!1),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles=o(this._handles),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulators=null}createDragPipeline(t,r){const i=Object.values(this._manipulators);return e(i.map((({manipulator:e,side:i})=>x(e,((e,a,o,n,s)=>{const l=k(i,r),c=a.next((t=>({...t,manipulatorType:O.SCALE,side:i}))),u=w(c,this._view,l,r);t(e,u,o)})))))}updateManipulatorsTransform(t){t.arcCentersPoints(J),this._forEachManipulatorInfo((r=>this._updateArcManipulatorTransform(r,t,J[r.side])))}updateManipulatorVisuals(t){this._forEachManipulatorInfo((r=>this._updateArcManipulatorVisuals(r,t)))}_updateArcManipulatorVisuals({manipulator:t,side:r},e){const i=[];if(null!=e){const[a,o]=F(r,e,this._unfocusedArcMaterial);i.push(new E(a,P.Unfocused),new E(a.instantiate({material:this._focusedArcMaterial}),P.Focused)),t.collisionType={type:\"line\",paths:[o]}}t.renderObjects=i,t.radius=j.collisionRadius}_updateArcManipulatorTransform({manipulator:t,side:r},e,a){const o=e.horizontalFieldOfView,n=i(e.verticalFieldOfView/2),s=i(o/2),g=z(r);t.renderLocation=a;const _=f(),M=t=>{h(_,t,_)};M(l(H,i(-90))),g||M(c(H,n));const b=e.farDistanceRenderSpace;let v,j;M(u(H,d(W,b,b,b))),M(p(H,L(r))),M(A(e,H)),g?(v=s,j=e.tiltedUpVector):(j=e.rightVector,v=n),v*=\"right\"===r||\"bottom\"===r?-1:1;const w=m(H,v,j);null!=w&&M(w),t.modelTransform=_}_createManipulators(){const t=this._createArcManipulator(\"left\"),r=this._createArcManipulator(\"right\"),e=this._createArcManipulator(\"top\"),i=this._createArcManipulator(\"bottom\");this._manipulators={left:t,right:r,top:e,bottom:i};[[i.manipulator,e.manipulator],[t.manipulator,r.manipulator]].forEach((([t,r])=>{t.metadata={pairedManipulator:r},r.metadata={pairedManipulator:t}}))}_createArcManipulator(t){const r=new V({view:this._view,autoScaleRenderObjects:!1,worldSized:!0}),e={manipulator:r,side:t};return this._updateArcManipulatorVisuals(e),this._handles.add(r.events.on(\"focus-changed\",(t=>{const e=r.metadata?.pairedManipulator;null!=e&&(e.hovering!==r.hovering&&(e.hovering=r.hovering),e.grabbing!==r.grabbing&&(e.grabbing=r.grabbing))}))),e}_createArcMaterial(r){const e=j.getFovArcWidth(r),i=new S({renderOccluded:U.OccludeAndTransparent,isDecoration:!0,width:e});return this._handles.add(n((()=>t.toUnitRGBA(this._view.effectiveTheme.accentColor)),(t=>i.setParameters({color:t})),s)),i}forEachManipulator(t){Object.values(this._manipulators).forEach((({manipulator:r})=>t(r,O.SCALE)))}_forEachManipulatorInfo(t){Object.values(this._manipulators).forEach((r=>t(r)))}get test(){return{manipulators:this._manipulators}}}function F(t,r,e){const{horizontalFieldOfView:o,verticalFieldOfView:n}=r,s=z(t),l=i(a((s?n:o)/2,0,15)),c=D(-l/2,l/2,s?1:Math.max(Math.sin(i(90-n/2)),.1));return[y(e,c),c]}function D(t,r,e,i=10){R(i>1,\"createArcPolylineGeometry() needs at least 2 for numVertices\");const a=r-t;if(a<=0||e<=0){return[M(0,0,.01),M(0,0,-.01)]}const o=[],n=a/i;for(let s=0;s<i;s++){let a=t+s*n;s===i-1&&(a=r);const l=Math.cos(a)*e,c=Math.sin(a)*e,u=M(l-e,0,c);o.push(u)}return o}function I(t){switch(t){case\"left\":return 0;case\"bottom\":return 1;case\"right\":return 2;case\"top\":return 3}}function L(t){return I(t)*B}function z(t){return\"left\"===t||\"right\"===t}function G(t){return\"left\"===t?\"right\":\"right\"===t?\"left\":\"top\"===t?\"bottom\":\"top\"}function k(t,{observerRenderSpace:r,targetRenderSpace:e,tiltedUpVector:i,rightVector:a,farDistanceRenderSpace:o}){const n=g(W,e,r),s=z(t)?a:i,l=_(q,s,o);return v(r,n,l)}const B=Math.PI/2,H=f(),W=b(),q=b(),J={top:b(),bottom:b(),left:b(),right:b()};export{C as FieldOfViewManipulation,D as createArcPolylineVertices,G as flipSide,z as isSideHorizontal,L as sideToRad};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import t from\"../../../../core/Handles.js\";import{watch as r,initial as o}from\"../../../../core/reactiveUtils.js\";import{fromTranslation as i,mul as s,fromXRotation as n,fromYRotation as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as l}from\"../../../../chunks/vec32.js\";import{fromValues as m}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{displayFocusMultiplier as f}from\"../Slice/sliceToolConfig.js\";import{viewshedToolManipulatorConfiguration as p}from\"./ViewshedConfiguration.js\";import{Manipulator3D as d}from\"../../interactive/Manipulator3D.js\";import{RenderObject as u}from\"../../interactive/RenderObject.js\";import{CullFaceOptions as h}from\"../../webgl-engine/lib/basicInterfaces.js\";import{createTubeGeometry as j,createExtrudedTriangle as g}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as w}from\"../../webgl-engine/lib/Material.js\";import{ColorMaterial as b}from\"../../webgl-engine/materials/ColorMaterial.js\";import{ManipulatorStateFlags as v}from\"../../../interactive/interfaces.js\";class M extends d{constructor(e,r){super({view:e,autoScaleRenderObjects:!1,worldSized:!1,radius:p.collisionRadius}),this._handles=new t,this._setupManipulatorVisual(r)}destroy(){this._handles.remove(),super.destroy()}_setupManipulatorVisual(e){const t=this._createMaterial(),r=1,o=[m(0,0,0),m(0,0,r)],d=j(t,o,e,16,!1),h=j(t,o,e*f,16,!1),g=O(!1,t,e),w=O(!0,t,e),b=c();i(b,o[o.length-1]),s(b,b,n(_,Math.PI/2)),s(b,b,a(_,Math.PI/2)),g.transformation=b,w.transformation=b,this.renderObjects=[new u(d,v.Unfocused),new u(h,v.Focused),new u(g,v.Unfocused),new u(w,v.Focused)];const M=m(0,p.getScaleOrientArrowTipLength(!0),0),T=l(M,M,b),x=[...o,T];this.collisionType={type:\"line\",paths:[x]}}_createMaterial(){const t=new b({cullFace:h.Back,renderOccluded:w.OccludeAndTransparent,isDecoration:!0});return this._handles.add(r((()=>e.toUnitRGBA(this.view.effectiveTheme.accentColor)),(e=>t.setParameters({color:e})),o)),t}}function O(e,t,r){const o=p.getScaleOrientArrowTipLength(e);let i=2*r;e&&(i*=f);const s=o/2;return g(t,o,s,s,i,0)}const _=c();export{M as ArrowManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/Handles.js\";import{deg2rad as i}from\"../../../../core/mathUtils.js\";import{fromScaling as e,fromTranslation as a,fromZRotation as r,mul as o,fromYRotation as n,multiply as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{g as m,h as p,a as c,H as u,f as h,b as d,n as f,i as _}from\"../../../../chunks/vec32.js\";import{create as g}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{f as T}from\"../../../../chunks/boundedPlane.js\";import{fromValues as v}from\"../../../../geometry/support/ray.js\";import{displayFocusMultiplier as j}from\"../Slice/sliceToolConfig.js\";import{ArrowManipulator as w}from\"./ArrowManipulator.js\";import{viewshedToolManipulatorConfiguration as D}from\"./ViewshedConfiguration.js\";import{screenToCircleAngle as R,getViewshedRotationMatrix as S}from\"./viewshedToolUtils.js\";import{screenToRenderRay as E}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{ManipulatorType as H}from\"../../interactive/editingTools/ManipulatorType.js\";import{discRadiusSmall as x,discRadius as M}from\"../../interactive/editingTools/manipulations/config.js\";import{InteractiveManipulation as y}from\"../../interactive/editingTools/manipulations/InteractiveManipulation.js\";import{createManipulatorDragEventPipeline as P,dragAtLocation as b}from\"../../../interactive/dragEventPipeline.js\";class A extends y{constructor(i){super(),this._handles=new t,this._tool=i.tool,this._view=i.view;const e=D.scaleOrientHandleRadius;this._manipulatorHeading=new w(this._view,e),this._manipulatorTilt=new w(this._view,e),this._manipulatorDistance=new w(this._view,e),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._manipulatorHeading=null,this._manipulatorTilt=null,this._manipulatorDistance=null,this._tool=null,this._view=null}createHeadingDragPipeline(t,e){return P(this._manipulatorHeading,((a,r,o,n,s)=>{const l=this._view,{tiltParallelToSurface:h,farDistanceRenderSpace:d,upVector:f,observerRenderSpace:_,targetRenderSpace:g,rightVector:v}=e,j=Math.sin(i(h))*d,w=m(V,_,p(C,f,j)),D=c(C,g,w),S=p(I,v,u(D)),E=T(w,D,S),x=R(r,l,E,e).next((t=>({...t,manipulatorType:H.ROTATE})));t(a,x,o)}))}createTiltDragPipeline(t,i){return P(this._manipulatorTilt,((e,a,r,o,n)=>{const{observerRenderSpace:s,farDistanceRenderSpace:l,upVector:m,targetDirection:c}=i,u=h(c,m),_=d(V,c,m,-u);p(_,f(_,_),l);const g=p(C,m,l),v=T(s,_,g),j=R(a,this._view,v,i).next((t=>({...t,manipulatorType:H.ROTATE})));t(e,j,r)}))}createDistanceDragPipeline(t,i){return P(this._manipulatorDistance,((e,a,r,o,n)=>{const s=v(i.observerRenderSpace,i.targetDirection),l=a.next(b(this._view,e.location)).next(E(this._view,s)).next((t=>({...t,manipulatorType:H.SCALE})));t(e,l,r)}))}updateManipulators(t){const{targetRenderSpace:i}=t;this._manipulatorHeading.renderLocation=i,this._manipulatorTilt.renderLocation=i,this._manipulatorDistance.renderLocation=i;const m=l(),c=t=>{s(m,t,m)},u=D.scaleOrientSize*(x/M);c(e(O,_(V,u,u,u))),c(S(t,O));const h=D.scaleOrientHandleRadius*j*u,d=p(V,t.targetDirection,h);c(a(O,d));const f=r(O,-k);o(f,f,n(L,-k)),this._manipulatorHeading.modelTransform=o(l(),m,f);const g=n(O,k);o(g,g,r(L,Math.PI)),this._manipulatorTilt.modelTransform=s(l(),m,g),this._manipulatorDistance.modelTransform=m}forEachManipulator(t){t(this._manipulatorHeading,H.ROTATE),t(this._manipulatorTilt,H.ROTATE),t(this._manipulatorDistance,H.SCALE)}}const O=l(),L=l(),V=g(),C=g(),I=g(),k=Math.PI/2;export{A as ScaleOrientManipulation};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import o from\"../../../../Color.js\";import e from\"../../../../core/Handles.js\";import{watch as t,initial as s}from\"../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/accessorSupport/interfaces.js\";import\"../../../../core/accessorSupport/tracking/Flags.js\";import\"../../../../core/Warning.js\";import\"../../../../core/Error.js\";import{viewshedToolManipulatorConfiguration as c}from\"./ViewshedConfiguration.js\";import{Manipulator3D as a}from\"../../interactive/Manipulator3D.js\";import{createManipulatorMaterial as m}from\"../../interactive/manipulatorUtils.js\";import{RenderObject as n}from\"../../interactive/RenderObject.js\";import{createSphereGeometry as p}from\"../../webgl-engine/lib/GeometryUtil.js\";class l extends a{constructor(r,o){super({view:r,autoScaleRenderObjects:!1,worldSized:!1,radius:c.observerSize,interactive:!1}),this._handles=new e;const i=m(this._color);this.renderObjects=[new n(p(i,c.observerSize,32,32))],o.manipulators.add(this),this._handles.add([t((()=>this._color),(r=>{i.setParameters({color:r})}),s)])}destroy(){this._handles.remove(),super.destroy()}get _color(){return o.toUnitRGBA(this.view.effectiveTheme.accentColor)}}r([i()],l.prototype,\"_color\",null);export{l as ViewshedObserverManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{isSome as t}from\"../../../../core/arrayUtils.js\";import{createTask as a}from\"../../../../core/asyncUtils.js\";import{cyclicalDegrees as o,Cyclical as n}from\"../../../../core/Cyclical.js\";import{handlesGroup as s}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{abortMaybe as l,destroyMaybe as p}from\"../../../../core/maybe.js\";import{after as h,throwIfAborted as u}from\"../../../../core/promiseUtils.js\";import{watch as c,syncAndInitial as d,initial as v}from\"../../../../core/reactiveUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{a as g,H as M,f as _}from\"../../../../chunks/vec32.js\";import{create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{tryProjectWithZConversion as w}from\"../../../../geometry/projection.js\";import{viewingModeFromString as O}from\"../../../ViewingMode.js\";import{FieldOfViewManipulation as V,isSideHorizontal as y,flipSide as D}from\"./FieldOfViewManipulation.js\";import{ScaleOrientManipulation as T}from\"./ScaleOrientManipulation.js\";import{viewshedToolManipulatorConfiguration as H}from\"./ViewshedConfiguration.js\";import{ViewshedObserverManipulator as j}from\"./viewshedToolManipulatorUtils.js\";import{discRadiusSmall as C}from\"../../interactive/editingTools/manipulations/config.js\";import{MoveManipulation as F}from\"../../interactive/editingTools/manipulations/MoveManipulation.js\";import{resetProperties as S,dragManipulatedObject as P}from\"../../../interactive/dragEventPipeline.js\";import{EditGeometryOperations as k}from\"../../../interactive/editGeometry/EditGeometryOperations.js\";const E=Symbol(\"dragHandles\"),x=Symbol(\"hideManipulators\"),A=Symbol(\"hideFoVManipulators\"),z=Symbol(\"hideObserverManipulator\");let U=class extends e{constructor(i){super(i),this._moveManipulation=null,this._observerManipulator=null,this._fieldOfViewManipulation=null,this._scaleOrientManipulation=null,this._forceHoveringTask=null,this._forceHoveringTestPromise=null,this._grabbing=!1,this.viewshedComputedData=null}initialize(){this._moveManipulation=this._createMoveManipulation(),this._fieldOfViewManipulation=new V({view:this.view,tool:this.parentTool}),this._scaleOrientManipulation=new T({view:this.view,tool:this.parentTool}),this._observerManipulator=new j(this.view,this.parentTool),this.addHandles([c((()=>this.viewshedComputedData?.observerRenderSpace),(i=>{null!=i&&(this._moveManipulation.renderLocation=i,this._observerManipulator.renderLocation=i)}),d),c((()=>this.viewshedComputedData?.heading),(i=>{i&&(this._moveManipulation.angle=r(90-i))}),v),c((()=>{const{viewshedComputedData:i}=this;return{viewshedComputedData:i,observer:i?.observer}}),(({viewshedComputedData:i,observer:e},a)=>{this._grabbing&&e!==a?.observer||(this.removeHandles(E),i?.isValid()&&this.addHandles([this._buildObserverDragPipeline(i),this._buildFOVDragPipeline(i),this._buildScaleOrientDragPipeline(i)].filter(t),E))}),v),c((()=>{const i=this.viewshedComputedData;return i?.isValid()?{viewshedCompData:i,target:i.targetRenderSpace,hFOV:i.horizontalFieldOfView,vFOV:i.verticalFieldOfView}:null}),(i=>{null!=i&&this._fieldOfViewManipulation.updateManipulatorsTransform(i.viewshedCompData)}),v),c((()=>{const i=this.viewshedComputedData;return i?.isValid()?{viewshedCompData:i,hFOV:i.horizontalFieldOfView,vFOV:i.verticalFieldOfView,tilt:i.tilt}:null}),(i=>{null!=i&&this._fieldOfViewManipulation.updateManipulatorVisuals(i.viewshedCompData)}),v),c((()=>{const i=this.analysisViewData.visible&&(this.viewshedComputedData?.isValid()??!1),e=this.parentTool.selectedViewshedComputedData===this.viewshedComputedData;return{fovManipulationAvailable:i&&!this.parentTool.isPlacingTarget,nonFOVManipulationAvailable:i&&(!this.parentTool.creating||e)}}),(({fovManipulationAvailable:i,nonFOVManipulationAvailable:e})=>{this._moveManipulation.available=e,this._scaleOrientManipulation.available=e,this._observerManipulator.available=e,this._fieldOfViewManipulation.available=i}),v),c((()=>{const i=this.viewshedComputedData;if(!i?.isValid())return null;const{observer:e,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}=i;return{viewshedCompData:i,observer:e,target:t,verticalFieldOfView:a,horizontalFieldOfView:o}}),(i=>{null!=i&&this._scaleOrientManipulation.updateManipulators(i.viewshedCompData)}),v)]);const i=i=>{const e=this.analysisViewData;this.addHandles([i.events.on(\"focus-changed\",(()=>{const i=this._someManipulatorHovering();i&&this.parentTool.subToolHandles.forEach((({subTool:i})=>{i._resetHoveringTask()})),this._someManipulatorSelected()||i||(this._forceHoveringTask=a((async i=>{await(this._forceHoveringTestPromise??h(H.hoverTimeoutMilliseconds,i)),u(i),this._forceHoveringTask=null,this._updateManipulatorVisibility()})))})),i.events.on(\"grab-changed\",(t=>{this._grabbing=\"start\"===t.action,\"end\"===t.action&&e.tool?.updateInteractionVisualsVisibility(),this.parentTool.subToolHandles.forEach((({subTool:i})=>{i!==this&&i._setInteractive(!this._grabbing)})),this._setInteractive((e=>e.hasManipulator(i)||!this._grabbing))})),i.events.on(\"drag\",(i=>{\"start\"===i.action&&e.tool?.updateInteractionVisualsVisibility()}))])};this._forEachManipulator(i)}destroy(){this._forceHoveringTask=l(this._forceHoveringTask),this._moveManipulation=p(this._moveManipulation),this._fieldOfViewManipulation=p(this._fieldOfViewManipulation),this._scaleOrientManipulation=p(this._scaleOrientManipulation),this.parentTool.manipulators.remove(this._observerManipulator),this._observerManipulator=p(this._observerManipulator)}get viewshed(){return this.viewshedComputedData?.viewshed}get grabbing(){return this._grabbing}get observer(){return this.viewshed?.observer}set observer(i){const e=this.viewshed;null!=e&&(e.observer=i)}get discManipulator(){return this._moveManipulation.xyManipulation.discManipulator}get moveInteractionState(){const{dragging:i,grabbing:e}=this._moveManipulation;return{dragging:i,grabbing:e}}get scaleOrientInteractionState(){const{dragging:i,grabbing:e}=this._scaleOrientManipulation;return{dragging:i,grabbing:e}}_setInteractive(i){const e=\"boolean\"==typeof i;this._forEachManipulation((t=>t.interactive=e?i:i(t)))}onManipulatorSelectionChanged(){if(this._updateManipulatorVisibility(),!this._someManipulatorSelected()){this.analysisViewData.selectedViewshed===this.viewshed&&(this.analysisViewData.selectedViewshed=null),this._resetHoveringTask()}}hasManipulator(i){let e=!1;return this._forEachManipulator((t=>{e=e||t===i})),e}_someManipulatorSelected(){return this._moveManipulation.selected||this._fieldOfViewManipulation.selected||this._scaleOrientManipulation.selected}_someManipulatorHovering(){return this._moveManipulation.hovering||this._fieldOfViewManipulation.hovering||this._scaleOrientManipulation.hovering}_createMoveManipulation(){return new F({view:this.view,tool:this.parentTool,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:C})}_buildObserverDragPipeline(i){const e={mode:\"absolute-height\",offset:0},t=i.observer;if(null==t)return null;const a=this.view.spatialReference;return this._moveManipulation.createDragPipeline(((i,e,o,n,s)=>{n=n.next(S(this,[\"observer\"]));const r=w(t,a);if(null==r)return{steps:o,cancel:n};const l=k.fromGeometry(r,O(this.view.viewingMode));return{steps:o.next(P({operations:l})).next((i=>(this.observer=l.data.geometry,i))),cancel:n}}),e,a,void 0)}_buildFOVDragPipeline(i){let e=0,t=0;return this._fieldOfViewManipulation.createDragPipeline(((a,n,s)=>{if(null==i)return{steps:n,cancel:s};const r=i.viewshed;let l=null;s=s.next(S(r,[\"horizontalFieldOfView\",\"verticalFieldOfView\"]));return{steps:n.next((a=>{\"start\"===a.action&&(l=null,e=i.horizontalFieldOfView,t=i.verticalFieldOfView);const n=a.deltaAngle;if(null==l&&0!==n){const i=\"bottom\"===a.side||\"left\"===a.side?n>0:n<0;l=y(a.side)?0===e&&i||360===e&&!i:0===t&&i}const s=l?D(a.side):a.side;let p=0;switch(s){case\"left\":p=e/2-n;break;case\"right\":p=e/2+n;break;case\"top\":p=t+2*n;break;case\"bottom\":p=t-2*n}return y(s)?(p=o.normalize(p),p=p>270?0:p>180?180:p,r.horizontalFieldOfView=2*p):r.verticalFieldOfView=p,a})),cancel:s}}),i)}_buildScaleOrientDragPipeline(i){let e=0,t=0;const a=(e,t)=>(a,o,n)=>{if(null==i)return{steps:o,cancel:n};const s=i.viewshed;return n=n.next(S(s,[e])),{steps:o=o.next(t(s,i)),cancel:n}};return s([this._scaleOrientManipulation.createHeadingDragPipeline(a(\"heading\",((e,a)=>a=>(\"start\"===a.action&&(t=i.heading),e.heading=o.normalize(t+a.deltaAngle),a))),i),this._scaleOrientManipulation.createTiltDragPipeline(a(\"tilt\",((t,a)=>a=>{\"start\"===a.action&&(e=i.tilt);let o=e+a.deltaAngle;return o<-90?o=180:o>270&&(o=0),t.tilt=R.clamp(o),a})),i),this._scaleOrientManipulation.createDistanceDragPipeline(a(\"farDistance\",((i,e)=>t=>{const a=g(I,t.renderEnd,e.observerRenderSpace),o=M(a)*e.metersPerUnit,n=_(a,e.targetDirection)<0?H.scaleOrientMinDistance:o;return i.farDistance=n,t})),i)])}_updateManipulatorVisibility(){const i=this._someManipulatorSelected(),e=null!=this._forceHoveringTask||this._someManipulatorHovering(),t=this._fieldOfViewManipulation.hovering,a=this.parentTool.creating;let o=[];const n=i=>{o.push(i.disableDisplay())};i||!a&&e?this.removeHandles(x):(this._scaleOrientManipulation.forEachManipulator(n),this._moveManipulation.forEachManipulator(n),this.addHandles(o,x),o=[]),i||!a&&e||a&&t?this.removeHandles(A):(this._fieldOfViewManipulation.forEachManipulator(n),this.addHandles(o,A)),i||!a?this.removeHandles(z):this.addHandles(this._observerManipulator.disableDisplay(),z)}_resetHoveringTask(){this._forceHoveringTask=l(this._forceHoveringTask),this._updateManipulatorVisibility()}_forEachManipulator(i){this._forEachManipulation((e=>{e.forEachManipulator(i)})),i(this._observerManipulator)}_forEachManipulation(i){i(this._moveManipulation),i(this._fieldOfViewManipulation),i(this._scaleOrientManipulation)}get test(){return{moveManipulation:this._moveManipulation,fieldOfViewManipulation:this._fieldOfViewManipulation,scaleOrientManipulation:this._scaleOrientManipulation,viewshedComputedData:this.viewshedComputedData,setHoveringTimeoutPromise:i=>{this._forceHoveringTestPromise=i}}}};i([m({constructOnly:!0})],U.prototype,\"analysis\",void 0),i([m({constructOnly:!0})],U.prototype,\"analysisViewData\",void 0),i([m({constructOnly:!0})],U.prototype,\"parentTool\",void 0),i([m({constructOnly:!0,nonNullable:!0})],U.prototype,\"view\",void 0),i([m()],U.prototype,\"viewshed\",null),i([m()],U.prototype,\"_grabbing\",void 0),i([m()],U.prototype,\"grabbing\",null),i([m()],U.prototype,\"viewshedComputedData\",void 0),i([m()],U.prototype,\"observer\",null),U=i([f(\"esri.views.3d.analysis.Viewshed.ViewshedSubTool\")],U);const I=b(),R=new n(0,180);export{U as ViewshedSubTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../analysis/Viewshed.js\";import{makeHandle as i}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{rad2deg as s}from\"../../../../core/mathUtils.js\";import{destroyMaybe as a}from\"../../../../core/maybe.js\";import{mapCollection as n,watch as o,syncAndInitial as r,sync as l,when as c,initial as d}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as u}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as g,H as m,i as w,r as v,f as _}from\"../../../../chunks/vec32.js\";import{create as V}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import b from\"../../../../geometry/Point.js\";import{create as f,fromPositionAndNormal as y,projectPoint as S}from\"../../../../geometry/support/plane.js\";import{creationVerticalOffset as T}from\"./ViewshedConfiguration.js\";import{ViewshedSubTool as D}from\"./ViewshedSubTool.js\";import{Manipulator3D as C}from\"../../interactive/Manipulator3D.js\";import{Settings as j}from\"../../interactive/editingTools/settings.js\";import{ExtendedLineVisualElement as M}from\"../../interactive/visualElements/ExtendedLineVisualElement.js\";import{LaserlineVisualElement as H}from\"../../interactive/visualElements/LaserlineVisualElement.js\";import{toGraphic as P}from\"../../webgl-engine/lib/intersectorUtilsConversions.js\";import{RenderOccludedFlag as I}from\"../../webgl-engine/lib/Material.js\";import{AnalysisToolBase as E}from\"../../../interactive/AnalysisToolBase.js\";import{sketchKeys as L}from\"../../../interactive/keybindings.js\";import{newToolIntersector as k}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointArrayFromEvent as O}from\"../../../support/screenUtils.js\";const R=Symbol(\"interactionVisuals\");let x=class extends E{constructor(e){super(e),this.removeIncompleteOnCancel=!1,this.automaticManipulatorSelection=!1,this._stagedViewshed=null,this._stagedViewshedComputedData=null,this._creationState=!1,this._interactionVisualElements=null,this._settings=new j({getTheme:()=>this.view.effectiveTheme}),this._selectedManipulator=null}initialize(){this._intersector=k(this.view.state.viewingMode),this._createInteractionVisuals();const e=this.analysisViewData.viewshedComputedDataHandles;this.subToolHandles=n((()=>e),(({viewshedComputedData:e})=>{const t=new D({analysis:this.analysis,analysisViewData:this.analysisViewData,parentTool:this,view:this.view,viewshedComputedData:e});return{subTool:t,remove:()=>{this.selectedViewshed===e.viewshed&&(this.selectedViewshed=null),t.destroy()}}})),this.addHandles([o((()=>e?.some((e=>e.viewshedComputedData.isValid()))),(e=>{e&&this.finishToolCreation()}),r),o((()=>this._stagedViewshed),(e=>{const t=this.analysisViewData.viewshedComputedDataHandles;this._stagedViewshedComputedData=null!=e&&null!=t?this._findSubTool(e)?.viewshedComputedData:null}),r),o((()=>this.firstGrabbedManipulator),(e=>{if(null!=e){const t=this._findSubTool(e)?.viewshed;this.selectedViewshed=t,this._selectManipulator(e)}else this._selectedSubTool?.onManipulatorSelectionChanged()}),l),o((()=>this.view.activeTool),(e=>{e!==this&&null!=e&&(this.selectedViewshed=null)})),c((()=>{const e=this.selectedViewshedComputedData;return null==e?null:{subTool:this._selectedSubTool,observer:e.observerRenderSpace,target:e.targetRenderSpace}}),(e=>{const{subTool:t,observer:i,target:s}=e;t?.moveInteractionState.dragging?this._updateInteractionVisualsLocation(i,!0):t?.scaleOrientInteractionState.dragging&&this._updateInteractionVisualsLocation(s,!1)}),d),o((()=>this.creating),(()=>this.updateInteractionVisualsVisibility())),o((()=>this.selectedViewshed),(e=>{const t=this._selectedManipulator,i=this._selectedSubTool;null==e?this._selectManipulator(null):null!=t&&i.hasManipulator(t)||this._selectManipulator(i.discManipulator)}),d)])}destroy(){this.subToolHandles=a(this.subToolHandles),this.removeHandles(R)}onDeactivate(){this.removeStaged(),this._creationState=!1}get cursor(){return this.creating?\"crosshair\":null}get _selectedSubTool(){return this._findSubTool(this.selectedViewshed)}_selectManipulator(e){const t=this._selectedManipulator;t!==e&&(this._selectedManipulator=e,null!=t&&(t.selected=!1),null!=e&&(e.selected=!0),this._findSubTool(t)?.onManipulatorSelectionChanged(),this._selectedSubTool?.onManipulatorSelectionChanged())}get selectedViewshed(){return this.analysisViewData.selectedViewshed}set selectedViewshed(e){this.analysisViewData.selectedViewshed=e}get selectedViewshedComputedData(){return this._selectedSubTool?.viewshedComputedData}get stagedViewshed(){return this._stagedViewshed}get grabbing(){return this.subToolHandles.some((({subTool:e})=>e.grabbing))}get creating(){return this._creationState&&this.active}get isPlacingTarget(){return\"placing-target\"===this._creationState}createViewsheds(){this.selectedViewshed=null,this._creationState=\"placing-observer\"}onManipulatorSelectionChanged(){this.subToolHandles.forEach((e=>e.subTool.onManipulatorSelectionChanged()))}onInputEvent(e){switch(e.type){case\"immediate-double-click\":this._doubleClickHandler(e);break;case\"pointer-move\":this._pointerMoveHandler(e);break;case\"key-down\":L.cancel===e.key?this._cancelKeyHandler(e):L.delete.includes(e.key)&&this._deleteKeyHandler();break;case\"hold\":this.updateInteractionVisualsVisibility(!0)}}onInputEventAfter(e){if(\"immediate-click\"===e.type)this._clickPlacementHandler(e)}_clickPlacementHandler(e){if(!this.creating||this.hasFocusedManipulators)return;const i=this._intersectScreen(e,B);if(null!=i){if(\"placing-observer\"===this._creationState){i.mapPoint.z=(i.mapPoint.z??0)+T;const e=new t({observer:i.mapPoint.clone(),feature:i.feature});this.analysis.viewsheds.add(e),this._stagedViewshed=e,this._creationState=\"placing-target\",this._updateStagedViewshed(i.scenePoint)}else if(\"placing-target\"===this._creationState){this._updateStagedViewshed(i.scenePoint);const e=this._stagedViewshed;this._creationState=\"placing-observer\",this._stagedViewshed=null,this.selectedViewshed=e}e.stopPropagation()}}_doubleClickHandler(e){this.creating&&(this.removeStaged(),this._creationState=!1,this.view.activeTool=null,e.stopPropagation())}_pointerMoveHandler(e){if(!this.creating)return;const t=this._intersectScreen(e,B);null!=t&&(this._updateInteractionVisualsLocation(t.scenePoint,!1),this._updateStagedViewshed(t.scenePoint))}_cancelKeyHandler(e){if(this.creating){if(this.removeStaged())return this._creationState=\"placing-observer\",this.selectedViewshed=null,void e.stopPropagation();this._creationState=!1}else if(!this.grabbing)return this.selectedViewshed=null,void e.stopPropagation()}_deleteKeyHandler(){this.creating&&(this.removeStaged(),this._creationState=\"placing-observer\"),null!=this.selectedViewshed&&this.analysis.viewsheds.remove(this.selectedViewshed)}_updateStagedViewshed(e){const t=this._stagedViewshed,i=this._stagedViewshedComputedData;if(null==t||null==i)return;const{heading:s,tilt:a,farDistance:n}=U(this.view,i,e);t.farDistance=n,t.tilt=a,t.heading=s}removeStaged(){return null!=this._stagedViewshed&&(this.analysis.viewsheds.remove(this._stagedViewshed),this._stagedViewshed=null,!0)}_intersectScreen(e,t){const i=O(e);this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(i,this._intersector);const s=this._intersector.results.min,a=t.scenePoint;if(!s.getIntersectionPoint(a))return null;const n=t.mapPoint;return n.spatialReference=this.view.spatialReference,this.view.renderCoordsHelper.fromRenderCoords(a,n),null==n?null:(t.feature=P(s,this.view),t)}_createInteractionVisuals(){this.removeHandles(R);const e=this._settings.visualElements,t=new H({view:this.view,attached:!1,style:{glowWidth:e.heightPlane.glowWidth,innerWidth:e.heightPlane.innerWidth},isDecoration:!0}),s=new M({view:this.view,extensionType:e.zVerticalLine.extensionType,attached:!1,innerWidth:1,writeDepthEnabled:!1,renderOccluded:I.OccludeAndTransparent,isDecoration:!0});this._interactionVisualElements={laserline:t,verticalLine:s},this.addHandles([o((()=>e.zVerticalLine),(e=>e.apply(s)),r),o((()=>e.heightPlane),(e=>e.apply(t)),r),i((()=>{t.destroy(),s.destroy(),this._interactionVisualElements=null}))],R)}updateInteractionVisualsVisibility(e=!1){const t=this.creating,i=this.analysisViewData.visible,s=this._selectedSubTool,a=this.selectedViewshedComputedData,n=(e,t)=>{const i=this._interactionVisualElements;null!=i&&(i.verticalLine.attached=t,i.laserline.attached=e)};if(t)return void n(i,!1);if(null==s||null==a)return void n(!1,!1);const o=s.moveInteractionState,r=e?o.grabbing:o.dragging,l=s.scaleOrientInteractionState,c=e?l.grabbing:l.dragging,d=i&&(r||c);if(n(d,r),d){const e=r?a.observerRenderSpace:a.targetRenderSpace;this._updateInteractionVisualsLocation(e,r)}}_updateInteractionVisualsLocation(e,t){const i=this._interactionVisualElements;if(null==i)return;const{laserline:s,verticalLine:a}=i;s.heightManifoldTarget=e,s.intersectsWorldUpAtLocation=t?e:null,null!=e&&a.setStartEndFromWorldDownAtLocation(e)}_findSubTool(e){if(null==e)return null;const t=e instanceof C?t=>t.subTool.hasManipulator(e):t=>t.subTool.viewshed===e;return this.subToolHandles?.find(t)?.subTool}get test(){}};function U(e,t,i){const a=t.observerRenderSpace,n=g(W,i,a),o=m(n)*t.metersPerUnit,r=e.renderCoordsHelper.basisMatrixAtPosition(a,F),l=w(A,r[8],r[9],r[10]),c=y(a,l,G),d=S(c,i,z),h=g(d,d,a),u=(m(h)<1e-4?90:s(v(n,h)))*(_(l,n)<0?-1:1)+90,p=w(K,r[4],r[5],r[6]),V=s(v(p,h)),b=w(K,r[0],r[1],r[2]);return{heading:_(h,b)<0?360-V:V,tilt:u,farDistance:o}}e([h({constructOnly:!0})],x.prototype,\"view\",void 0),e([h()],x.prototype,\"analysisViewData\",void 0),e([h()],x.prototype,\"removeIncompleteOnCancel\",void 0),e([h()],x.prototype,\"automaticManipulatorSelection\",void 0),e([h({constructOnly:!0})],x.prototype,\"analysis\",void 0),e([h()],x.prototype,\"subToolHandles\",void 0),e([h()],x.prototype,\"_stagedViewshed\",void 0),e([h()],x.prototype,\"_stagedViewshedComputedData\",void 0),e([h()],x.prototype,\"_creationState\",void 0),e([h({readOnly:!0})],x.prototype,\"cursor\",null),e([h()],x.prototype,\"_selectedManipulator\",void 0),e([h()],x.prototype,\"_selectedSubTool\",null),e([h()],x.prototype,\"selectedViewshed\",null),e([h()],x.prototype,\"selectedViewshedComputedData\",null),e([h()],x.prototype,\"stagedViewshed\",null),e([h()],x.prototype,\"grabbing\",null),e([h()],x.prototype,\"creating\",null),e([h()],x.prototype,\"isPlacingTarget\",null),x=e([u(\"esri.views.3d.analysis.Viewshed.ViewshedTool\")],x);const W=V(),A=V(),z=V(),K=V(),F=p(),G=f(),B={mapPoint:new b,scenePoint:V(),feature:null},q=x;export{q as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../../core/mathUtils.js\";import{fromScaling as t,mul as r,fromTranslation as s,fromRotation as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as a,c as n,t as l}from\"../../../../chunks/vec32.js\";import{fromValues as m,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{viewshedVisualizationConfiguration as h,arcAnglePerSegment as f}from\"../../analysis/Viewshed/ViewshedConfiguration.js\";import{getViewshedRotationMatrix as u,rotateBy as p}from\"../../analysis/Viewshed/viewshedToolUtils.js\";import{Object3DVisualElement as d}from\"./Object3DVisualElement.js\";import{Attribute as w}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as b}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";import{ColorMaterial as j}from\"../../webgl-engine/materials/ColorMaterial.js\";class v extends d{constructor(e){super(e),this._material=null,this._viewshedComputedData=null,this._material=new j({...h.shapeMaterialParameters,isDecoration:this.isDecoration,writeDepth:!1}),this.applyProperties(e)}get viewshedComputedData(){return this._viewshedComputedData}set viewshedComputedData(e){this._viewshedComputedData=e,this.updateTransform()}updateTransform(){const e=this._viewshedComputedData;if(null==e)return;const i=o(),a=e.farDistanceRenderSpace;t(i,m(a,a,a)),u(e,E),r(i,E,i),s(E,this._viewshedComputedData.observerRenderSpace),r(i,E,i),this.transform=i}createExternalResources(){}destroyExternalResources(){}forEachExternalMaterial(e){null!=this._material&&e(this._material)}createGeometries(e){const{_material:t,viewshedComputedData:r}=this;if(null==r||null==t||!r.isValid())return;D(t,r).forEach((t=>e.addGeometry(t)))}}function D(t,r){const{horizontalFieldOfView:s,verticalFieldOfView:o}=r,m=a(_,0,0,1),c=a(x,0,1,0),h=a(V,1,0,0);p(m,m,e(o/2),c),p(m,m,e(s/2),h);const u=e=>Math.ceil(Math.abs(e)/f)+1,d=e(s),j=n(y,h),v=u(d),D=C(-d/(v-1)),O=i(E,D,j),R=e(-o),T=u(R),G=C(R/(T-1)),N=n(x,c),P=i(M,e(s)/2,h);l(N,N,P);const S=M,A=[],F=n(V,m);for(let e=0;e<v;e++){i(S,G,N);for(let t=0;t<T;t++){const r=3*(t*v+e);A[r]=F[0],A[r+1]=F[1],A[r+2]=F[2],l(F,F,S)}l(N,N,O),l(m,m,O),n(F,m)}const I=v*T;A[3*I]=0,A[3*I+1]=0,A[3*I+2]=0;const U=[];for(let e=0;e<v-1;e++)for(let t=0;t<T-1;t++){const r=6*(t*(v-1)+e);U[r]=t*v+e,U[r+1]=(t+1)*v+e,U[r+2]=t*v+e+1,U[r+3]=t*v+e+1,U[r+4]=(t+1)*v+e,U[r+5]=(t+1)*v+e+1}const k=[U];if(360!==s&&0!==o){const e=[],t=[];for(let r=0;r<T-1;r++){const s=3*r;e[s]=I,e[s+1]=(r+1)*v,e[s+2]=r*v,t[s]=I,t[s+1]=r*v+v-1,t[s+2]=(r+1)*v+v-1}k.push(e,t)}if(180!==o&&0!==s){const e=[],t=[];for(let r=0;r<v-1;r++){const s=3*r;e[s]=I,e[s+1]=r,e[s+2]=r+1,t[s]=I,t[s+1]=r+(T-1)*v+1,t[s+2]=r+(T-1)*v}k.push(e,t)}return k.map((e=>{const r=[[g.POSITION,new w(A,e,3,!0)]];return new b(t,r)}))}function C(e){return isNaN(e)?1:e}const _=c(),x=c(),V=c(),y=c(),E=o(),M=o();export{v as ViewshedShapeVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Color.js\";import i from\"../../../../core/Accessor.js\";import\"../../../../core/has.js\";import{equals as s}from\"../../../../core/lang.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{destroyMaybe as o}from\"../../../../core/maybe.js\";import{watch as a,initial as l}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as h}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{t as d,i as u,a as p,H as _,n as V,h as f,r as v,v as w,c as E,g as b}from\"../../../../chunks/vec32.js\";import{create as g,clone as C}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{viewshedVisualizationConfiguration as L,arcAnglePerSegment as A}from\"./ViewshedConfiguration.js\";import j from\"./ViewshedTool.js\";import{LineVisualElement as y}from\"../../interactive/visualElements/LineVisualElement.js\";import{PointVisualElement as D}from\"../../interactive/visualElements/PointVisualElement.js\";import{ViewshedShapeVisualElement as F}from\"../../interactive/visualElements/ViewshedShapeVisualElement.js\";import{RenderOccludedFlag as R}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as O}from\"../../webgl-engine/materials/lineStippleUtils.js\";let S=class extends i{constructor(e){super(e),this.visible=!0,this._viewshedCorners={topLeft:g(),topRight:g(),bottomLeft:g(),bottomRight:g()},this._arcCenterPoints={top:g(),bottom:g(),left:g(),right:g()},this._parallelCenters={top:g(),bottom:g()}}initialize(){const e={view:this.view,isDecoration:!0},t={...e,color:this._color,renderOccluded:R.OccludeAndTransparent},i={...t,stipplePattern:O(2)};this._observerVisualElement=new D({...e,...L.observerPointConfiguration}),this._shapeVisualElement=new F(e),this._frameLinesVisualElement=new y(t),this._leftArcVisualElement=new y(t),this._rightArcVisualElement=new y(t),this._topArcVisualElement=new y(t),this._bottomArcVisualElement=new y(t),this._centralLongitude=new y(i),this._centralLatitude=new y(i),this.addHandles([a((()=>{const e=this.viewshedComputedData;if(!e?.isValid())return null;const t=this._viewshedCorners,i=this._arcCenterPoints,s=this._parallelCenters;return e.cornerPoints(t),e.arcCentersPoints(i),e.parallelCenterPoints(s),{viewshedComputedData:e,corners:t,arcCenters:i,parallelCenters:s,interactive:this.analysisViewData.interactive,selected:this._selected}}),(e=>{const t=null!=e;this._forEachVisualElement((e=>e.attached=t)),t&&this._updateVisualElements(e)}),{initial:!0,equals:s}),a((()=>{const{viewshedComputedData:e}=this,{horizontalFieldOfView:t,verticalFieldOfView:i}=e??{};return{viewshedComputedData:e,horizontalFieldOfView:t,verticalFieldOfView:i}}),(({viewshedComputedData:e})=>{const{_shapeVisualElement:t}=this;e!==t.viewshedComputedData&&(t.viewshedComputedData=e),this._shapeVisualElement.recreateGeometry()}),l),a((()=>{const{interactive:e}=this.analysisViewData;return{visible:this.visible,selected:e&&this._selected,staged:e&&this._staged,horFovNot360:360!==this.viewshedComputedData?.horizontalFieldOfView}}),(({visible:e,selected:t,staged:i,horFovNot360:s})=>{const r=t||i;this._shapeVisualElement.visible=e,this._topArcVisualElement.visible=e,this._bottomArcVisualElement.visible=e,this._frameLinesVisualElement.visible=e&&s;const o=e&&(t||s);this._leftArcVisualElement.visible=o,this._rightArcVisualElement.visible=o,this._forEachLineVisualElement((e=>{e.width=r?L.frameWidthSelected:L.frameWidthNotSelected,e.renderOccluded=t?R.OccludeAndTransparent:R.Occlude})),[this._centralLatitude,this._centralLongitude].forEach((i=>{i.width=2*(r?L.frameWidthSelected:L.frameWidthNotSelected),i.visible=e&&t}))}),l),a((()=>{const{analysisViewData:{interactive:e,tool:t},_selected:i,visible:s}=this,r=this.view.activeTool,o=!t?.active&&r instanceof j&&r.creating;return{observerVisible:s&&!i&&(!e||(t?.creating??!1)||o),color:this._color}}),(({observerVisible:e,color:t})=>{this._observerVisualElement.visible=e,this._forEachLineVisualElement((e=>e.color=t))}),l)])}get _color(){const{viewshedComputedData:e,_selected:i,analysisViewData:s}=this;if(null==e)return t.toUnitRGBA(L.frameColor);const r=s.tool?.active||s.interactive,o=e.viewshed===s.tool?.stagedViewshed,a=r&&(i||o)?this.view.effectiveTheme.accentColor:L.frameColor;return t.toUnitRGBA(a)}get _selected(){const{viewshedComputedData:e,analysisViewData:{selectedViewshedComputedData:t}}=this;return null!=e&&e===t}get _staged(){const{analysisViewData:{tool:e},viewshedComputedData:t}=this;return null!=e&&e.creating&&e.stagedViewshed===t?.viewshed}destroy(){this._observerVisualElement=o(this._observerVisualElement),this._shapeVisualElement=o(this._shapeVisualElement),this._frameLinesVisualElement=o(this._frameLinesVisualElement),this._leftArcVisualElement=o(this._leftArcVisualElement),this._rightArcVisualElement=o(this._rightArcVisualElement),this._topArcVisualElement=o(this._topArcVisualElement),this._bottomArcVisualElement=o(this._bottomArcVisualElement),this._centralLongitude=o(this._centralLongitude),this._centralLatitude=o(this._centralLatitude)}_forEachLineVisualElement(e){[this._frameLinesVisualElement,this._leftArcVisualElement,this._rightArcVisualElement,this._topArcVisualElement,this._bottomArcVisualElement,this._centralLatitude,this._centralLongitude].forEach(e)}_forEachVisualElement(e){this._forEachLineVisualElement(e),e(this._observerVisualElement),e(this._shapeVisualElement)}_updateVisualElements(e){const{viewshedComputedData:t,corners:i,arcCenters:s,parallelCenters:r}=e,o=C(t.observerRenderSpace);this._observerVisualElement.geometry=t.observer,this._shapeVisualElement.updateTransform(),this._updateFrameLines(o,i),this._updateFrameArcs(t,i,r),this._updateCentralHelperArcs(t,s)}_updateFrameLines(e,t){this._frameLinesVisualElement.geometry=[[e,t.topLeft],[e,t.topRight],[e,t.bottomLeft],[e,t.bottomRight]]}_updateFrameArcs(e,t,i){const{observerRenderSpace:s,rightVector:o,horizontalFieldOfView:a,tiltedUpVector:l}=e,n=r(a),c=g(),p=m();h(p,n/2,l),d(c,o,p),P(this._leftArcVisualElement,s,t.bottomLeft,t.topLeft,\"forward\",c),h(p,-n/2,l),u(c,0,0,0),d(c,o,p),P(this._rightArcVisualElement,s,t.bottomRight,t.topRight,\"forward\",c);const _=a>180?\"backward\":\"forward\";P(this._topArcVisualElement,i.top,t.topRight,t.topLeft,_,l),P(this._bottomArcVisualElement,i.bottom,t.bottomRight,t.bottomLeft,_,l)}_updateCentralHelperArcs(e,t){const i=e.observerRenderSpace,s=e.horizontalFieldOfView>=180?\"backward\":\"forward\";P(this._centralLatitude,i,t.right,t.left,s,e.tiltedUpVector),P(this._centralLongitude,i,t.top,t.bottom,\"forward\",e.leftVector)}get test(){}};function P(e,t,i,s,r,o,a=A){const l=g();p(l,i,t);const n=_(l),c=g();p(c,s,t),V(c,c),f(c,c,n);let u=v(l,c);const L=C(o);\"backward\"===r&&(w(L,L),u=-(2*Math.PI-u));const j=[],y=Math.ceil(Math.abs(u)/a),D=m();h(D,u/y,L);const F=g();E(F,l);const R=g();E(R,i);for(let h=0;h<y;h++){const e=g();E(e,R),d(F,F,D),b(R,t,F);const i=g();E(i,R),j.push([e,i])}e.geometry=j}e([n()],S.prototype,\"view\",void 0),e([n()],S.prototype,\"analysisViewData\",void 0),e([n()],S.prototype,\"viewshedComputedData\",void 0),e([n()],S.prototype,\"visible\",void 0),e([n()],S.prototype,\"_color\",null),e([n()],S.prototype,\"_selected\",null),e([n()],S.prototype,\"_staged\",null),S=e([c(\"esri.views.3d.analysis.Viewshed.ViewshedVisualization\")],S);const z=S;export{z as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../core/Accessor.js\";import{destroyHandle as e}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import{mapCollection as t,watch as o,initial as a}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"./ViewshedVisualization.js\";let c=class extends i{get visible(){return this.analysisViewData.visible}constructor(s){super(s)}initialize(){const s=this.analysisViewData,i=t((()=>this.analysisViewData.viewshedComputedDataHandles),(({viewshedComputedData:i})=>{const e=new n({view:this.view,viewshedComputedData:i,analysisViewData:s});return{visualization:e,remove:()=>e.destroy()}}));this._viewshedVisualizations=i,this.addHandles([e(i),o((()=>this.visible),(s=>this._viewshedVisualizations.forEach((({visualization:i})=>i.visible=s))),a)])}get test(){}};s([r({constructOnly:!0})],c.prototype,\"analysisViewData\",void 0),s([r({constructOnly:!0,nonNullable:!0})],c.prototype,\"view\",void 0),s([r({constructOnly:!0})],c.prototype,\"isDecoration\",void 0),s([r()],c.prototype,\"visible\",null),c=s([l(\"esri.views.3d.analysis.Viewshed.ViewshedAnalysisVisualization\")],c);export{c as ViewshedAnalysisVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{deg2rad as r}from\"../../../../core/mathUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as n,n as p,e as a,v as c,g as l,h}from\"../../../../chunks/vec32.js\";import{create as d,fromValues as u,fromArray as f}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import v from\"../../../../geometry/Point.js\";import{rotateBy as g}from\"./viewshedToolUtils.js\";var S;let m=S=class extends t{constructor(e){super(e),this.observerRenderSpaceOverride=null}get observer(){return this.viewshed.observer??new v}get effectiveObserverRenderSpace(){return this.observerRenderSpaceOverride??this.observerRenderSpace}get effectiveObserver(){return this.renderSpaceToPoint(this.effectiveObserverRenderSpace,this.observer.spatialReference)}get effectiveTargetRenderSpace(){return this._computeTargetRenderSpace(this.effectiveObserverRenderSpace)}get farDistance(){return this.viewshed.farDistance}get farDistanceRenderSpace(){return this.farDistance/this.metersPerUnit}get heading(){return this.viewshed.heading}get tilt(){return this.viewshed.tilt}get feature(){return this.viewshed.feature}get tiltParallelToSurface(){return this.tilt-90}get horizontalFieldOfView(){return this.viewshed.horizontalFieldOfView}get verticalFieldOfView(){return this.viewshed.verticalFieldOfView}get observerRenderSpace(){return this._pointToRenderSpace(this.observer,d())}get target(){const e=this.targetRenderSpace;return this.renderSpaceToPoint(e,this.observer.spatialReference)}get targetRenderSpace(){return this._computeTargetRenderSpace(this.observerRenderSpace)}get targetDirection(){const e=n(d(),this.targetRenderSpace,this.observerRenderSpace);return p(e,e)}get tiltedUpVector(){const e=g(d(),this.upVector,-r(this.tiltParallelToSurface),this.leftVector);return p(e,e)}get _basis(){return this.renderCoordsHelper.basisMatrixAtPosition(this.observerRenderSpace,s())}get upVector(){const e=this._basis;return u(e[8],e[9],e[10])}get northVector(){const e=this._basis;return u(e[4],e[5],e[6])}get leftVector(){const e=this.upVector,t=g(d(),this.northVector,-r(this.heading),e);return a(t,e,t)}get rightVector(){return c(d(),this.leftVector)}clone(){return new S({renderCoordsHelper:this.renderCoordsHelper,viewshed:this.viewshed.clone()})}isValid(){return this.viewshed.isValid()}get metersPerUnit(){return this.renderCoordsHelper.spatialReference.metersPerUnit}pointOnSphere(e,t,o){const{observerRenderSpace:i,targetRenderSpace:s}=this,p=n(R,s,i);return g(p,p,-r(t),this.leftVector),g(p,p,-r(e),this.tiltedUpVector),l(o,p,i)}cornerPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(-t,r,e.topLeft),this.pointOnSphere(t,r,e.topRight),this.pointOnSphere(-t,-r,e.bottomLeft),this.pointOnSphere(t,-r,e.bottomRight)}arcCentersPoints(e){const t=this.horizontalFieldOfView/2,r=this.verticalFieldOfView/2;this.pointOnSphere(0,r,e.top),this.pointOnSphere(0,-r,e.bottom),this.pointOnSphere(-t,0,e.left),this.pointOnSphere(t,0,e.right)}parallelCenterPoints(e){const t=this.observerRenderSpace,o=this.farDistanceRenderSpace*Math.sin(r(this.verticalFieldOfView/2)),i=h(R,this.tiltedUpVector,o);l(e.top,t,i),n(e.bottom,t,i)}renderSpaceToPoint(e,t){const r=R;return this.renderCoordsHelper.fromRenderCoords(e,r,t),new v(r[0],r[1],r[2],t)}_pointToRenderSpace(e,t){const r=f(e.toArray());return this.renderCoordsHelper.toRenderCoords(r,e.spatialReference,t),t}_computeTargetRenderSpace(e){const{leftVector:t,northVector:o,upVector:i}=this,s=this.farDistanceRenderSpace,n=d();return h(n,o,s),g(n,n,-r(this.heading),i),g(n,n,-r(this.tiltParallelToSurface),t),l(n,e,n),n}};e([o()],m.prototype,\"renderCoordsHelper\",void 0),e([o()],m.prototype,\"viewshed\",void 0),e([o()],m.prototype,\"observerRenderSpaceOverride\",void 0),e([o()],m.prototype,\"observer\",null),e([o()],m.prototype,\"effectiveObserverRenderSpace\",null),e([o()],m.prototype,\"effectiveObserver\",null),e([o()],m.prototype,\"effectiveTargetRenderSpace\",null),e([o()],m.prototype,\"farDistance\",null),e([o()],m.prototype,\"farDistanceRenderSpace\",null),e([o()],m.prototype,\"heading\",null),e([o()],m.prototype,\"tilt\",null),e([o()],m.prototype,\"feature\",null),e([o()],m.prototype,\"tiltParallelToSurface\",null),e([o()],m.prototype,\"horizontalFieldOfView\",null),e([o()],m.prototype,\"verticalFieldOfView\",null),e([o()],m.prototype,\"observerRenderSpace\",null),e([o()],m.prototype,\"target\",null),e([o()],m.prototype,\"targetRenderSpace\",null),e([o()],m.prototype,\"targetDirection\",null),e([o()],m.prototype,\"tiltedUpVector\",null),e([o()],m.prototype,\"_basis\",null),e([o()],m.prototype,\"upVector\",null),e([o()],m.prototype,\"northVector\",null),e([o()],m.prototype,\"leftVector\",null),e([o()],m.prototype,\"rightVector\",null),e([o()],m.prototype,\"isValid\",null),e([o()],m.prototype,\"metersPerUnit\",null),m=S=e([i(\"esri.views.3d.analysis.Viewshed.ViewshedComputedData\")],m);const R=d();export{m as ViewshedComputedData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{rad2deg as s,deg2rad as e}from\"../../../../core/mathUtils.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mul as i,fromTranslation as n,fromScaling as a}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{create as l,fromArray as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import m from\"../../webgl/RenderCamera.js\";import{assert as h}from\"./Util.js\";let g=class extends m{constructor(){super(...arguments),this.sectionAngles=l()}get sectionAnglesDeg(){return p(this.sectionAngles.map((t=>s(t))))}set sectionAnglesDeg(t){this.sectionAngles=p(t.map((t=>e(t))))}get projectionMatrix(){return i(c(),this.sectionMatrix,this._projectionMatrixInternal)}get sectionMatrix(){const t=this.sectionAngles[0],s=this.sectionAngles[1],e=this.sectionAngles[2],o=this.sectionAngles[3];h(t<=s),h(e<=o);const r=2*Math.tan(this.fovX/2),l=2*Math.tan(this.fovY/2),p=Math.tan(t),m=Math.tan(s),g=Math.tan(e),f=m-p,M=Math.tan(o)-g,j=r/f,u=l/M,A=-(p+f/2)/r*2,x=-(g+M/2)/l*2,b=c();n(b,[A,x,0]);const d=c();a(d,[j,u,1]);const v=c();return i(v,d,b)}get _sectionRatioX(){const t=Math.tan(this.sectionAngles[0]),s=Math.tan(this.sectionAngles[1]),e=2*Math.tan(this.fovX/2);return Math.min(1,(s-t)/e)}setViewport(t,s){const e=s*this._sectionRatioX;return this.viewport=[t[0],t[1],e,s],e}};t([o()],g.prototype,\"sectionAngles\",void 0),t([o()],g.prototype,\"sectionAnglesDeg\",null),t([o()],g.prototype,\"projectionMatrix\",null),t([o()],g.prototype,\"sectionMatrix\",null),t([o()],g.prototype,\"_sectionRatioX\",null),g=t([r(\"esri.views.3d.webgl-engine.lib.ViewshedFaceCamera\")],g);export{g as ViewshedFaceCamera};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{clamp as t}from\"../../../../core/mathUtils.js\";import{releaseMaybe as e}from\"../../../../core/maybe.js\";import{fromRotation as i}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as r,g as h,v as a,t as o}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{ColorFormat as n,DepthFormat as l}from\"../../webgl/formats.js\";import{applyTextureResizeFloorModulo as u,applyTextureResizeModulo as f}from\"./textureUtils.js\";import{ViewshedFaceCamera as m}from\"./ViewshedFaceCamera.js\";import{FramebufferBit as d}from\"../../../webgl/enums.js\";class p{constructor(){this.textureSizeQuality=1,this.textureSizeModHighQuality=1.3,this.textureSizeModLowQuality=.9,this.textureSizeMultiple=128,this.toleranceSides=5,this.toleranceBottomTop=10}textureSizeModifier(t){const e=t?this.textureSizeModHighQuality:this.textureSizeModLowQuality;return this.textureSizeQuality*e}textureResizeModulo(t){return Math.ceil(t/this.textureSizeMultiple)*this.textureSizeMultiple}}const _=[\"front\",\"left\",\"right\",\"back\",\"top\",\"bottom\"];function g(t){return![\"top\",\"bottom\"].includes(t)}class x{constructor(t){this._fbos=t,this._minTextureSize=16,this._faces={},this._width=0,this._height=0,this.settings=new p,this._maxTextureSize=Math.min(has(\"esri-mobile\")?4096:16384,t.rctx.parameters.maxTextureSize)}get depthTexture(){return this._handle?.getTexture()}get ready(){return null!=this.depthTexture&&0!==this._width&&0!==this._height}get nearFar(){const t=this.faces;return 0===t.length?null:t[0].nearFar}get numActiveFaces(){const t=this._faces;let e=0;return Object.keys(t).forEach((i=>{t[i]&&(e+=1)})),e}get faces(){const t=this._faces,e=[];for(const i of _){const s=t[i];s&&e.push(s)}return e}get atlasRegions(){return this.faces.map((t=>[t.x/this._width,(t.x+t.width)/this._width,t.y/this._height,(t.y+t.height)/this._height]))}get viewshedProjectionMatrices(){return this.faces.map((t=>t.projectionMatrix))}get viewshedViewMatrices(){return this.faces.map((t=>t.viewMatrix))}_setupFaceCamera(e,n,l,u){const{effectiveObserverRenderSpace:f,tiltedUpVector:d,targetRenderSpace:p,farDistanceRenderSpace:_,horizontalFieldOfView:x,verticalFieldOfView:w}=n,b=c();r(b,p,f);const M=c(),S=c(),z=(t,e)=>{const r=c(),a=s();return i(a,t,e),o(r,b,a),h(r,f,r),r};let T,F=d;const v=Math.min(90,x),B=Math.min(90,Math.max(0,(x-90)/2));let j=-45,y=45,O=-45,R=45;if(g(e)){const e=e=>t(e,-45,45);O=e(-w/2)-this.settings.toleranceBottomTop,R=e(+w/2)+this.settings.toleranceBottomTop}switch(e){case\"front\":T=p,j=-v/2,y=v/2;break;case\"left\":T=z(Math.PI/2,d),j=45-B;break;case\"right\":T=z(-Math.PI/2,d),y=-45+B;break;case\"top\":T=h(M,f,d),F=a(S,b);break;case\"bottom\":T=r(M,f,d),F=b;break;case\"back\":T=z(Math.PI,d)}const k=new m({center:T,eye:f,up:F,far:_});k.sectionAnglesDeg=[j-this.settings.toleranceSides,y+this.settings.toleranceSides,O,R],k.fovY=Math.PI/2;const E=k.setViewport(l,u);return this._faces[e]=k,E}isActive(t){return this._computeActiveFaces(t).size>0}_computeActiveFaces(t){const e=new Set,{horizontalFieldOfView:i,verticalFieldOfView:s}=t,r=-s/2,h=s/2;return 0===i||0===s||(r<=45&&h>=-45&&e.add(\"front\"),i>90&&(e.add(\"left\"),e.add(\"right\")),i>270&&e.add(\"back\"),h>45-this.settings.toleranceBottomTop&&e.add(\"top\"),r<-45+this.settings.toleranceBottomTop&&e.add(\"bottom\")),e}_computeBaseTextureSize(e,i,s,r){const h=i/e.pixelRatio,a=this.settings.textureSizeModifier(s),o=Math.max(e.fullWidth,e.fullHeight),c=f(Math.floor(o*h*a)),n=Math.floor(this._maxTextureSize/r),l=t(c,this._minTextureSize,n);return u(l)}_ensureFBO(t){const e=this._width,i=this._height;this._handle?.fbo?.width===e&&this._handle?.fbo?.height===i||(this._handle?.release(),this._handle=this._fbos.acquire(e,i,\"viewshed shadow map\",n.RGBA4));const s=t?l.DEPTH_STENCIL_TEXTURE:l.DEPTH16_BUFFER;this._handle.acquireDepth(s)}clearFBO(t){const e=this._fbos.rctx;this._ensureFBO(t),e.bindFramebuffer(this._handle?.fbo),e.setClearColor(1,1,1,1),e.clear(d.COLOR|d.DEPTH)}dispose(){this._handle=e(this._handle)}start(t,e,i,s,r=!1){this._faces={};const h=this._computeActiveFaces(e),a=h.size;if(0===a)return!1;const o=this._computeBaseTextureSize(t,s,i,a);let c=0,n=0,l=0;return _.filter((t=>h.has(t))).forEach((t=>{const i=w(t,a);i>n&&(l=Math.max(l,c),c=0),n=i;const s=i*o;c+=this._setupFaceCamera(t,e,[c,s],o)})),l=Math.max(l,c),this._width=this.settings.textureResizeModulo(l),this._height=b(a)*o,this.clearFBO(r),!0}finish(){this._handle?.detachDepth()}get test(){return{faces:this._faces,faceTypes:_,width:this._width,height:this._height,getFBO:()=>this._fbos.acquire(this._width,this._height,\"viewshed shadow map\",n.RGBA4)}}}function w(t,e){if(e<4)return 0;const i=\"front\"===t||\"left\"===t;return 4===e?i?0:1:i||\"right\"===t?0:1}function b(t){return t<4?1:2}export{x as ViewshedShadowMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{a as i}from\"../../../../chunks/Viewshed.glsl.js\";import{makePipelineState as o,defaultColorWrite as s,premultipliedAlphaToPremultipliedAlpha as t}from\"../../../webgl/renderState.js\";class l extends r{constructor(r,o){super(r,o,new e(i,(()=>import(\"./Viewshed.glsl.js\"))))}initializePipeline(){return o({colorWrite:s,blending:t})}}export{l as ViewshedTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import s from\"../../../../core/Collection.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{disposeMaybe as r}from\"../../../../core/maybe.js\";import{watch as i,initial as o,when as a,sync as n}from\"../../../../core/reactiveUtils.js\";import{property as h}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as d}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{translate as c,fromTranslation as p,scale as w,mul as m}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{a as u,j as f}from\"../../../../chunks/vec32.js\";import{create as v,fromValues as _}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{l as V}from\"../../../../chunks/sphere.js\";import{InternalRenderCategory as g}from\"../../webgl.js\";import b from\"../../webgl/RenderNode.js\";import{RenderRequestType as M}from\"./basicInterfaces.js\";import{RenderFeature as j}from\"./RenderFeature.js\";import{ViewshedShadowMap as S}from\"./ViewshedShadowMap.js\";import{V as y}from\"../../../../chunks/Viewshed.glsl.js\";import{ViewshedTechnique as R}from\"../shaders/ViewshedTechnique.js\";let P=class extends b{get shadowMap(){return this._shadowMap}get hasViewsheds(){return this._viewsheds.length>0}get _contentPixelRatio(){return this.view.state.contentPixelRatio}get _viewshedsInView(){return this._viewsheds.items.filter((e=>E(this.view,e)))}constructor(e){super(e),this._passParameters=new y,this._viewsheds=new s,this._shadowMap=null,this.consumes={required:[g.VIEWSHED,\"normals\"]},this.produces=g.VIEWSHED,this.requireGeometryDepth=!0}initialize(){this._shadowMap=new S(this.fboCache),this.addHandles([i((()=>this.view.resolutionScale),(e=>{const s=this._shadowMap;s&&(s.settings.textureSizeQuality=e)}),o),a((()=>!this.hasViewsheds),(()=>this._shadowMap?.dispose())),i((()=>this._viewshedsInView.map((e=>[e.observerRenderSpace,e.heading,e.tilt,e.farDistance,e.horizontalFieldOfView,e.verticalFieldOfView]))),(()=>this.requestRender(M.UPDATE)),n)])}destroy(){this._shadowMap=r(this._shadowMap)}precompile(){if(this.hasViewsheds){this.techniques.precompile(R);for(const e of this._viewshedsInView)if(this._shadowMap?.isActive(e))return void this.view._stage.renderer.precompileViewshedShadowMap()}}render(e){const s=this.bindParameters,t=this.renderingContext,r=e.find((({name:e})=>e===g.VIEWSHED));if(!this.hasViewsheds||!s.depth)return r;this._passParameters.shadowMap=this._shadowMap??this._passParameters.shadowMap,this._passParameters.normals=e.find((({name:e})=>\"normals\"===e))?.getTexture();const i=this.techniques.get(R);if(!i?.compiled)return this.requestRender(M.UPDATE),r;const o=this.view._stage.renderer.isFeatureEnabled(j.HighResolutionViewshed);for(const a of this._viewshedsInView){if(!this._renderShadowCubeMap(s,a,o)||!this._shadowMap?.ready)continue;const e=this._setupViewshedParameters(a,s.camera);t.bindTechnique(i,s,e),t.bindFramebuffer(r.fbo),t.screen.draw()}return this.shadowMap?.dispose(),r}updateViewsheds(e){const s=this._viewsheds,{removes:t,adds:r}=e;if(t&&(Array.isArray(t)?s.removeMany(t):s.remove(t)),r)if(Array.isArray(r)){const e=r.filter((e=>!s.includes(e)));s.addMany(e)}else s.includes(r)||s.add(r)}_renderShadowCubeMap(e,s,t){const r=this._shadowMap;if(!r)return!1;const i=this.view.basemapTerrain.hasStencilEnabledExtents,o=r.start(e.camera,s,t,this._contentPixelRatio,i);return o&&r.faces.forEach((e=>this.view._stage.renderer.renderViewshedShadowMap(e))),r.finish(),o}_setupViewshedParameters(e,s){const r=this._shadowMap;if(!r)return this._passParameters;const i=this._passParameters,o=e.effectiveObserverRenderSpace;i.localOrigin=o,i.observerOffset=u(O,e.observerRenderSpace,e.effectiveObserverRenderSpace),i.fovs=[t(e.horizontalFieldOfView),t(e.verticalFieldOfView)],i.headingAndTilt=[t(e.heading),t(e.tiltParallelToSurface)],i.upVector=e.tiltedUpVector;const a=x(e.targetRenderSpace,o);i.targetVector=a;const n=new Array,h=new Array;for(let t=0;t<r.numActiveFaces;t++)c(q,r.viewshedViewMatrices[t],o),n.push(...q),A(r.viewshedProjectionMatrices[t],q,D),h.push(...D);return i.viewMatrices=n,i.projectionMatrices=h,i.volumeOffset=this.selectedViewshed?.()===e.viewshed?I(e,this.view,s.eye):0,i}get test(){return{viewsheds:this._viewsheds,shadowMap:this._shadowMap,viewshedsInView:this._viewshedsInView}}};function x(e,s){const t=v();return u(t,e,s)}function A(e,s,t){const r=_(.5,.5,.5);return p(t,r),w(t,t,r),m(t,t,e),m(t,t,s),t}function E(e,s){const t=V(s.observerRenderSpace,s.farDistanceRenderSpace);return!!e.ready&&e.frustum.intersectsSphere(t)}function I(e,s,t){if(null==e)return 0;const{observerRenderSpace:r,targetRenderSpace:i}=e,o=f(t,r)>f(t,i)?e.observer:e.target;return s.pixelSizeAt(o)}e([h()],P.prototype,\"selectedViewshed\",void 0),e([h()],P.prototype,\"shadowMap\",null),e([h()],P.prototype,\"hasViewsheds\",null),e([h()],P.prototype,\"_contentPixelRatio\",null),e([h()],P.prototype,\"_viewshedsInView\",null),e([h()],P.prototype,\"consumes\",void 0),e([h()],P.prototype,\"produces\",void 0),P=e([d(\"esri.views.3d.webgl-engine.lib.Viewshed\")],P);const O=v(),q=l(),D=l();export{P as Viewshed,I as computeOffsetScale};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{getFeatureId as s,updatePointsFromFeatureReference as t}from\"../../../analysis/featureReferenceUtils.js\";import i from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import r from\"../../../core/Logger.js\";import{abortMaybe as o,destroyMaybe as a}from\"../../../core/maybe.js\";import{mapCollection as d,watch as l,when as n,initial as h,syncAndInitial as c}from\"../../../core/reactiveUtils.js\";import{property as p}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as m}from\"../../../core/accessorSupport/decorators/subclass.js\";import{c as w,p as u}from\"../../../chunks/vec32.js\";import{create as v}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{canProjectWithoutEngine as V,isLoaded as f}from\"../../../geometry/projection.js\";import{AnalysisView3D as y}from\"./AnalysisView3D.js\";import{logFailedGeometryProjectionError as _}from\"./support/projectionUtils.js\";import{ViewshedAnalysisVisualization as j}from\"./Viewshed/ViewshedAnalysisVisualization.js\";import{ViewshedComputedData as b}from\"./Viewshed/ViewshedComputedData.js\";import g from\"./Viewshed/ViewshedTool.js\";import{newIntersector as R}from\"../webgl-engine/lib/Intersector.js\";import{StoreResults as D}from\"../webgl-engine/lib/IntersectorInterfaces.js\";import{Viewshed as C}from\"../webgl-engine/lib/Viewshed.js\";import{connectAnalysisViewToTool as F,removeAnalysisViewTool as H,activateAnalysisViewTool as T}from\"../../analysis/analysisViewUtils.js\";let k=class extends(y(i)){constructor(e){super(e),this.type=\"viewshed-view-3d\",this.analysis=null,this.tool=null,this._selectedViewshed=null,this.viewshedComputedDataHandles=null,this._placementTask=null,this._viewshedRenderer=null,this._intersector=null}get selectedViewshed(){return this._selectedViewshed}set selectedViewshed(e){this._unselectOtherViewsheds(e),this._selectedViewshed=e}get selectedViewshedComputedData(){return this.tool?.selectedViewshedComputedData}initialize(){const e=this.view;this._viewshedRenderer=new C({view:e,selectedViewshed:()=>this.selectedViewshed??this.tool?.stagedViewshed}),this._intersector=R(this.view.state.viewingMode),this._intersector.options.hud=!1,this._intersector.options.store=D.MIN,this.viewshedComputedDataHandles=d((()=>this.analysis.viewsheds),(s=>{const t=new b({renderCoordsHelper:e.renderCoordsHelper,viewshed:s}),i=Symbol();return this.addHandles([l((()=>({valid:t.isValid(),canProject:V(t.observer?.spatialReference,this.view.spatialReference)||f()})),(({valid:e,canProject:s},i)=>{this.visible&&(e&&s?this._addViewshedsToRenderer(t):i?.valid&&i?.canProject&&this._removeViewshedsFromRenderer(t),s||_(this.analysis,t.observer.spatialReference,r.getLogger(this)))}),h),l((()=>[e.state.camera,e.slicePlane,t.viewshed.observer,t.targetRenderSpace,t.verticalFieldOfView,t.horizontalFieldOfView,t.feature]),(()=>{this._updateObserverFromFeature(e,t)}),h)]),{viewshedComputedData:t,remove:()=>{this.removeHandles(i),this._removeViewshedsFromRenderer(t),t.destroy()}}})),this._analysisVisualization=new j({view:e,analysisViewData:this,isDecoration:!this.parent}),this.addHandles([l((()=>this.visible),(e=>{const s=this.viewshedComputedDataHandles;if(null==s)return;e||(this.selectedViewshed=null);const t=s.map((e=>e.viewshedComputedData)).filter((e=>e.isValid())).toArray();e?this._addViewshedsToRenderer(t):this._removeViewshedsFromRenderer(t)})),l((()=>e.renderCoordsHelper),(e=>{this.viewshedComputedDataHandles?.forEach((({viewshedComputedData:s})=>s.renderCoordsHelper=e))})),F(this,g),n((()=>this.interactive),(()=>{this._unselectOtherViewsheds(this.selectedViewshed)}),c)])}destroy(){this._placementTask=o(this._placementTask),H(this),this._analysisVisualization=a(this._analysisVisualization);const e=this.viewshedComputedDataHandles;null!=e&&this._removeViewshedsFromRenderer(e.map((e=>e.viewshedComputedData)).toArray())}async createViewsheds(e){return this._placementTask=o(this._placementTask),this._placementTask=T(this,e),null!=this.tool&&this.tool.createViewsheds(),await this._placementTask.promise}_addViewshedsToRenderer(e){this._viewshedRenderer.updateViewsheds({adds:e})}_removeViewshedsFromRenderer(e){this._viewshedRenderer.updateViewsheds({removes:e})}_updateObserverFromFeature(e,i){const r=i.observerRenderSpace,o=i.targetRenderSpace,a=w(v(),r),d={observer:r,observerSurfaceNormal:null,observerAdjusted:a,observerFeatureId:s(i.feature),target:o,targetSurfaceNormal:null,targetAdjusted:w(v(),o),targetFeatureId:null};t(e,this._intersector,d,(e=>Math.min(e,.05*i.farDistanceRenderSpace))),i.observerRenderSpaceOverride=u(a,r)?null:a}_unselectOtherViewsheds(e){if(null!=e)for(const s of this.view.tools.items)s!==this.tool&&s instanceof g&&(s.analysisViewData.selectedViewshed=null)}get test(){}};e([p({readOnly:!0})],k.prototype,\"type\",void 0),e([p({constructOnly:!0,nonNullable:!0})],k.prototype,\"analysis\",void 0),e([p()],k.prototype,\"tool\",void 0),e([p()],k.prototype,\"_selectedViewshed\",void 0),e([p()],k.prototype,\"selectedViewshed\",null),e([p()],k.prototype,\"selectedViewshedComputedData\",null),e([p()],k.prototype,\"viewshedComputedDataHandles\",void 0),e([p()],k.prototype,\"_analysisVisualization\",void 0),e([p()],k.prototype,\"_placementTask\",void 0),e([p()],k.prototype,\"_viewshedRenderer\",void 0),k=e([m(\"esri.views.3d.analysis.ViewshedAnalysisView3D\")],k);const O=k;export{O as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{a as e,l as t,b as r}from\"../chunks/vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as l,fromPoints as o}from\"../geometry/support/ray.js\";import{StoreResults as i}from\"../views/3d/webgl-engine/lib/IntersectorInterfaces.js\";import{toGraphic as u,hasLod as s,getIntersectedFeatureBSRadius as a}from\"../views/3d/webgl-engine/lib/intersectorUtilsConversions.js\";function c(e,t){return d(e)===d(t)}function d(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:\"\";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&\"objectIdField\"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:`o-${t}-${r}`}const b={json:{write:{writer:f,target:{\"feature.layerId\":{type:[Number,String],isRequired:!0},\"feature.objectId\":{type:[Number,String],isRequired:!0}}},origins:{\"web-scene\":{read:I}}}};function f(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})}function I(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:\"ObjectId\"},attributes:{ObjectId:e.objectId}}}function m(l,s,a,c){const{sceneIntersectionHelper:b}=l,{observer:f,observerFeatureId:I,targetFeatureId:m,target:g}=a;if(null==I&&null==m)return;c||(c=e=>e),e(p,f,g);const v=t(p),S=1;r(p,f,p,S/v);const F=o(p,g,y);s.options.store=i.ALL,b.intersectToolIntersectorRay(F,s);let N=null,w=null,R=null,A=null;for(const e of s.results.all){const t=u(e,l);if(null==t||null==e.distanceInRenderSpace)continue;const r=d(t);null!=r&&(null!=I&&r===I&&(N??=c(j(e,l,v)),e.distanceInRenderSpace-S<N&&(R=e)),null!=m&&r===m&&(w??=c(j(e,l,v)),null==A&&e.distanceInRenderSpace-S<v&&v-e.distanceInRenderSpace+S<w&&(A=e)))}const{observerAdjusted:T,targetAdjusted:h}=a;R?.getIntersectionPoint(T)?a.observerSurfaceNormal=R.getTransformedNormal(n()):a.observerSurfaceNormal=null,A?.getIntersectionPoint(h)?a.targetSurfaceNormal=A.getTransformedNormal(n()):a.targetSurfaceNormal=null}function j(e,t,r){if(s(e)){const n=a(e,t);if(null!=n)return Math.min(n*g,r)}return 1e-5*r}const g=.05,y=l(),p=n();export{c as featureReferenceEquals,b as featureReferenceProperty,d as getFeatureId,m as updatePointsFromFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as t,dist as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ONES as o}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{getReferenceEllipsoid as n}from\"../../../../geometry/ellipsoidUtils.js\";import{lonLatToWebMercatorComparable as i}from\"../../../../geometry/projection/projectors.js\";import{newDoubleArray as a}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as l}from\"../../../../geometry/support/FloatArray.js\";import{getZeroIndexArray as u}from\"../../../../geometry/support/Indices.js\";import{ViewingMode as s}from\"../../../ViewingMode.js\";import{Attribute as c}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as p}from\"../../webgl-engine/lib/ContentObjectType.js\";import{Geometry as f}from\"../../webgl-engine/lib/Geometry.js\";import{VertexAttribute as m}from\"../../webgl-engine/lib/VertexAttribute.js\";function b(t,e,r=null){const o=[],n=e.mapPositions;g(e,o);const i=o[0][1].data,a=o[0][1].indices.length,l=u(a);return h(e,o,l),j(e,o,l),T(e,o,l),D(e,o,l),w(e,o,l),y(e,o,l),E(e,o,i),new f(t,o,n,p.Line,r)}function g(t,e){const{attributeData:{position:r},removeDuplicateStartEnd:o}=t,n=A(r)&&o,i=r.length/3-(n?1:0),a=new Array(2*(i-1)),l=n?r.slice(0,-3):r;let u=0;for(let s=0;s<i-1;s++)a[u++]=s,a[u++]=s+1;e.push([m.POSITION,new c(l,a,3,n)])}function h(t,e,r){if(null!=t.attributeData.colorFeature)return;const n=t.attributeData.color;e.push([m.COLOR,new c(n??o,r,4)])}function T(t,e,r){t.attributeData.normal&&e.push([m.NORMAL,new c(t.attributeData.normal,r,3)])}function D(t,e,r){null!=t.attributeData.colorFeature&&e.push([m.COLORFEATUREATTRIBUTE,new c([t.attributeData.colorFeature],r,1,!0)])}function j(t,e,r){null==t.attributeData.sizeFeature&&e.push([m.SIZE,new c([t.attributeData.size??1],r,1,!0)])}function w(t,e,r){null!=t.attributeData.sizeFeature&&e.push([m.SIZEFEATUREATTRIBUTE,new c([t.attributeData.sizeFeature],r,1,!0)])}function y(t,e,r){null!=t.attributeData.opacityFeature&&e.push([m.OPACITYFEATUREATTRIBUTE,new c([t.attributeData.opacityFeature],r,1,!0)])}function E(r,o,u){if(null==r.overlayInfo||r.overlayInfo.renderCoordsHelper.viewingMode!==s.Global||!r.overlayInfo.spatialReference.isGeographic)return;const p=a(u.length),f=n(r.overlayInfo.spatialReference);for(let t=0;t<p.length;t+=3)i(u,t,p,t,f);const b=u.length/3,g=l(b+1);let h=I,T=F,D=0,j=0;t(h,p[j++],p[j++]),j++,g[0]=0;for(let n=1;n<b+1;++n)n===b&&(j=0),t(T,p[j++],p[j++]),j++,D+=e(h,T),g[n]=D,[h,T]=[T,h];o.push([m.DISTANCETOSTART,new c(g,o[0][1].indices,1,!0)])}function A(t){const e=t.length;return t[0]===t[e-3]&&t[1]===t[e-2]&&t[2]===t[e-1]}const I=r(),F=r();function R(t,e){if(null==t||0===t.length)return[];const r=[];return t.forEach((t=>{const o=t.length,n=a(3*o);t.forEach(((t,e)=>{n[3*e]=t[0],n[3*e+1]=t[1],n[3*e+2]=t[2]}));const i={attributeData:{position:n,normal:e},removeDuplicateStartEnd:!1};r.push(i)})),r}export{b as createGeometry,R as lineStripsToParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{deg2rad as o}from\"../../../../core/mathUtils.js\";const t=has(\"mac\")?\"Meta\":\"Control\",r=\"Shift\",s=2,a=1.15,c=1.15,m=2500,h=.02,e=Math.cos(o(45)),i=Math.cos(o(5)),f=.95,p=.3,M=2,j=1,l=3,n=11,x=22.5,C=40,S=48,U=2.25,b=4,d=1,g=.3,k=6,q=4,u=1600,v=.4;export{s as displayFocusMultiplier,t as forceHorizontalModifier,r as forceVerticalModifier,h as initialDepthOffsetFrac,v as initialPlaneHalfSizeViewProportion,u as planeMinBasisScreenLen2,j as planeOutlineWidth,M as planePreviewOutlineWidth,m as pointerMoveTimerMs,f as previewFadeDotThreshold,p as previewFadeDurationSeconds,k as resizeHandleCornerInputRadius,b as resizeHandleCornerWidth,q as resizeHandleEdgeInputRadius,g as resizeHandleEdgePaddingFrac,d as resizeHandleEdgeWidth,S as shiftRestartArrowLength,U as shiftRestartArrowOutlineWidth,C as shiftRestartOffsetDistance,c as shiftRestartTipFocusMultiplier,x as shiftRestartTipLength,n as shiftRestartTipRadius,a as shiftRestartTubeFocusMultiplier,l as shiftRestartTubeRadius,i as smallAngleDotThreshold,e as verticalDotThreshold};\n"],"names":["s","n","r","EsriPromiseMixin","constructor","super","arguments","this","parent","_userInteractive","_interactiveViewModelCount","interactive","e","updating","visible","suspended","_overrideIfSome","forceInteractiveForViewModel","t","i","constructOnly","prototype","type","Boolean","readOnly","o","d","_hasExternalMaterial","_material","h","width","color","a","stipplePreferContinuous","isClosed","falloff","innerWidth","hasPolygonOffset","renderOccluded","p","OccludeAndTransparent","isDecoration","writeDepth","applyProperties","setGeometryFromPoint","length","undefined","view","renderCoordsHelper","toRenderCoords","setGeometryFromRenderSpacePoint","geometry","setGeometryFromExtent","spatialReference","push","setGeometryFromFrustum","lines","forEach","origin","endpoint","setGeometryFromBoundedPlane","basis1","basis2","l","m","setGeometryFromSegment","endRenderSpace","transform","f","points","createRenderGeometry","setGeometryFromSegments","map","getTransformedGeometry","_geometry","parameters","setParameters","recreateGeometry","innerColor","stipplePattern","stippleOffColor","polygonOffset","createExternalResources","destroyExternalResources","createGeometries","addGeometry","forEachExternalMaterial","tool","activeTool","c","async","active","v","analysis","analysisViewData","tools","add","remove","_e","hasZ","z","warnOnce","concat","id","wkid","b","shadowMap","depthTexture","nearFar","numActiveFaces","atlasRegions","targetVector","upVector","fovs","headingAndTilt","observerOffset","projectionMatrices","flat","viewMatrices","volumeOffset","P","x","fragment","include","uniforms","u","_e$depth","depth","attachment","camera","inverseProjectionMatrix","_ref","M","viewInverseTransposeMatrix","_e$shadowMap$nearFar","V","g","w","normals","constants","code","_templateObject","_taggedTemplateLiteral","main","_templateObject2","F","Object","freeze","defineProperty","__proto__","ViewshedPassParameters","build","Symbol","toStringTag","value","localOrigin","viewMatrix","JSONSupportMixin","observer","farDistance","heading","tilt","horizontalFieldOfView","verticalFieldOfView","feature","isValid","equals","json","write","isRequired","Number","nonNullable","range","min","normalize","max","read","dash","dot","none","solid","pattern","pixelRatio","slice","style","collisionRadius","fovUnfocusedArcWidth","fovFocusedArcWidth","scaleOrientSize","scaleOrientHandleRadius","scaleOrientMinDistance","scaleOrientArrowTipLength","scaleOrientArrowTipFocusMultiplier","observerSize","hoverTimeoutMilliseconds","viewAngleThreshold","getFovArcWidth","getScaleOrientArrowTipLength","frameWidthNotSelected","frameWidthSelected","frameColor","observerPointConfiguration","size","pixelSnappingEnabled","primitive","elevationInfo","mode","offset","outlineSize","toUnitRGBA","shapeMaterialParameters","Occlude","cullFace","Back","R","tiltedUpVector","rightVector","observerRenderSpace","j","U","plane","S","D","position","direction","E","Math","abs","next","targetRenderSpace","acos","farDistanceRenderSpace","sin","renderStart","renderEnd","_objectSpread","action","deltaAngle","C","A","T","_handles","_tool","_view","_focusedArcMaterial","_createArcMaterial","_unfocusedArcMaterial","_createManipulators","forEachManipulator","manipulators","destroy","_manipulators","createDragPipeline","values","manipulator","side","_ref6","W","_","q","k","manipulatorType","O","SCALE","updateManipulatorsTransform","arcCentersPoints","J","_forEachManipulatorInfo","_updateArcManipulatorTransform","updateManipulatorVisuals","_updateArcManipulatorVisuals","_ref2","cos","y","Unfocused","instantiate","material","Focused","collisionType","paths","renderObjects","radius","_ref3","renderLocation","H","I","B","L","modelTransform","_createArcManipulator","left","right","top","bottom","_ref4","metadata","pairedManipulator","autoScaleRenderObjects","worldSized","events","on","_r$metadata","hovering","grabbing","effectiveTheme","accentColor","_ref5","test","PI","_setupManipulatorVisual","_createMaterial","transformation","_manipulatorHeading","_manipulatorTilt","_manipulatorDistance","createHeadingDragPipeline","tiltParallelToSurface","ROTATE","createTiltDragPipeline","targetDirection","createDistanceDragPipeline","location","updateManipulators","_color","_moveManipulation","_observerManipulator","_fieldOfViewManipulation","_scaleOrientManipulation","_forceHoveringTask","_forceHoveringTestPromise","_grabbing","viewshedComputedData","initialize","_createMoveManipulation","parentTool","addHandles","_this$viewshedCompute","_this$viewshedCompute2","angle","removeHandles","_buildObserverDragPipeline","_buildFOVDragPipeline","_buildScaleOrientDragPipeline","filter","viewshedCompData","target","hFOV","vFOV","_this$viewshedCompute3","_this$viewshedCompute4","selectedViewshedComputedData","fovManipulationAvailable","isPlacingTarget","nonFOVManipulationAvailable","creating","available","_forEachManipulator","_someManipulatorHovering","subToolHandles","subTool","_resetHoveringTask","_someManipulatorSelected","_this$_forceHoveringT","_updateManipulatorVisibility","_e$tool","updateInteractionVisualsVisibility","_setInteractive","hasManipulator","_e$tool2","viewshed","_this$viewshedCompute5","_this$viewshed","discManipulator","xyManipulation","moveInteractionState","dragging","scaleOrientInteractionState","_forEachManipulation","onManipulatorSelectionChanged","selectedViewshed","selected","snapToScene","xyAvailable","xyAxisAvailable","zAvailable","steps","cancel","fromGeometry","viewingMode","operations","data","clamp","metersPerUnit","disableDisplay","moveManipulation","fieldOfViewManipulation","scaleOrientManipulation","setHoveringTimeoutPromise","removeIncompleteOnCancel","automaticManipulatorSelection","_stagedViewshed","_stagedViewshedComputedData","_creationState","_interactionVisualElements","_settings","getTheme","_selectedManipulator","_intersector","state","_createInteractionVisuals","viewshedComputedDataHandles","some","finishToolCreation","_this$_findSubTool","_findSubTool","firstGrabbedManipulator","_this$_selectedSubToo","_this$_findSubTool2","_selectManipulator","_selectedSubTool","_updateInteractionVisualsLocation","onDeactivate","removeStaged","cursor","_this$_findSubTool3","_this$_selectedSubToo2","_this$_selectedSubToo3","stagedViewshed","createViewsheds","onInputEvent","_doubleClickHandler","_pointerMoveHandler","key","_cancelKeyHandler","delete","includes","_deleteKeyHandler","onInputEventAfter","_clickPlacementHandler","hasFocusedManipulators","_intersectScreen","_i$mapPoint$z","mapPoint","clone","viewsheds","_updateStagedViewshed","scenePoint","stopPropagation","basisMatrixAtPosition","G","K","sceneIntersectionHelper","intersectToolIntersectorScreen","results","getIntersectionPoint","fromRenderCoords","visualElements","attached","glowWidth","heightPlane","extensionType","zVerticalLine","writeDepthEnabled","laserline","verticalLine","apply","heightManifoldTarget","intersectsWorldUpAtLocation","setStartEndFromWorldDownAtLocation","_this$subToolHandles","find","_viewshedComputedData","updateTransform","ceil","N","POSITION","isNaN","_viewshedCorners","topLeft","topRight","bottomLeft","bottomRight","_arcCenterPoints","_parallelCenters","_observerVisualElement","_shapeVisualElement","_frameLinesVisualElement","_leftArcVisualElement","_rightArcVisualElement","_topArcVisualElement","_bottomArcVisualElement","_centralLongitude","_centralLatitude","cornerPoints","parallelCenterPoints","corners","arcCenters","parallelCenters","_selected","_forEachVisualElement","_updateVisualElements","initial","staged","_staged","horFovNot360","_forEachLineVisualElement","_t$creating","observerVisible","_s$tool","_s$tool2","_updateFrameLines","_updateFrameArcs","_updateCentralHelperArcs","leftVector","visualization","_viewshedVisualizations","observerRenderSpaceOverride","_this$viewshed$observ","effectiveObserverRenderSpace","_this$observerRenderS","effectiveObserver","renderSpaceToPoint","effectiveTargetRenderSpace","_computeTargetRenderSpace","_pointToRenderSpace","_basis","northVector","pointOnSphere","toArray","sectionAngles","sectionAnglesDeg","projectionMatrix","sectionMatrix","_projectionMatrixInternal","tan","fovX","fovY","_sectionRatioX","setViewport","viewport","textureSizeQuality","textureSizeModHighQuality","textureSizeModLowQuality","textureSizeMultiple","toleranceSides","toleranceBottomTop","textureSizeModifier","textureResizeModulo","_fbos","_minTextureSize","_faces","_width","_height","settings","_maxTextureSize","has","rctx","maxTextureSize","_this$_handle","_handle","getTexture","ready","faces","keys","height","viewshedProjectionMatrices","viewshedViewMatrices","_setupFaceCamera","center","eye","up","far","isActive","_computeActiveFaces","Set","_computeBaseTextureSize","fullWidth","fullHeight","floor","_ensureFBO","_this$_handle2","_this$_handle3","_this$_handle4","fbo","release","acquire","RGBA4","DEPTH_STENCIL_TEXTURE","DEPTH16_BUFFER","acquireDepth","clearFBO","_this$_handle5","bindFramebuffer","setClearColor","clear","COLOR","DEPTH","dispose","start","finish","_this$_handle6","detachDepth","faceTypes","getFBO","initializePipeline","colorWrite","blending","_shadowMap","hasViewsheds","_viewsheds","_contentPixelRatio","contentPixelRatio","_viewshedsInView","items","frustum","intersectsSphere","_passParameters","consumes","required","VIEWSHED","produces","requireGeometryDepth","fboCache","resolutionScale","_this$_shadowMap","requestRender","UPDATE","precompile","techniques","_this$_shadowMap2","_stage","renderer","precompileViewshedShadowMap","render","_this$_shadowMap3","_e$find","_this$shadowMap","bindParameters","renderingContext","name","get","compiled","isFeatureEnabled","HighResolutionViewshed","_this$_shadowMap4","_renderShadowCubeMap","_setupViewshedParameters","bindTechnique","screen","draw","updateViewsheds","removes","adds","Array","isArray","removeMany","addMany","basemapTerrain","hasStencilEnabledExtents","renderViewshedShadowMap","_this$selectedViewshe","call","pixelSizeAt","viewshedsInView","_selectedViewshed","_placementTask","_viewshedRenderer","_unselectOtherViewsheds","_this$tool","_this$tool2","options","hud","store","MIN","_t$observer","valid","canProject","_addViewshedsToRenderer","_removeViewshedsFromRenderer","getLogger","slicePlane","_updateObserverFromFeature","_analysisVisualization","promise","observerSurfaceNormal","observerAdjusted","observerFeatureId","targetSurfaceNormal","targetAdjusted","targetFeatureId","layer","objectId","objectIdField","attributes","uid","writer","_e$layer","layerId","String","origins","ObjectId","_R","_A","ALL","intersectToolIntersectorRay","all","distanceInRenderSpace","getTransformedNormal","mapPositions","attributeData","removeDuplicateStartEnd","indices","colorFeature","_t$attributeData$size","sizeFeature","SIZE","normal","NORMAL","COLORFEATUREATTRIBUTE","SIZEFEATUREATTRIBUTE","opacityFeature","OPACITYFEATUREATTRIBUTE","overlayInfo","Global","isGeographic","DISTANCETOSTART","Line"],"sourceRoot":""}