"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[32864],{32864:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var l=r(35143),n=r(42251),i=r(69098),o=r(73582),a=r(42553),u=r(30726),s=r(46053),d=r(21403),c=(r(81806),r(47249),r(85842)),b=r(40565),f=r(19247);let p=class extends(a.A.JSONSupportMixin(i.A)){constructor(e){super(e),this.observer=null,this.farDistance=1e3,this.heading=0,this.tilt=90,this.horizontalFieldOfView=45,this.verticalFieldOfView=45,this.feature=null}isValid(){return null!=this.observer&&this.farDistance>0}equals(e){return(0,u.CM)(this.observer,e.observer)&&this.farDistance===e.farDistance&&this.heading===e.heading&&this.tilt===e.tilt&&this.horizontalFieldOfView===e.horizontalFieldOfView&&this.verticalFieldOfView===e.verticalFieldOfView&&(0,n.xH)(this.feature,e.feature)}};(0,l._)([(0,s.MZ)({type:f.default,json:{write:{isRequired:!0}}})],p.prototype,"observer",void 0),(0,l._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],p.prototype,"farDistance",void 0),(0,l._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,d.w)((e=>o.ie.normalize((0,b.GB)(e),void 0,!0)))],p.prototype,"heading",void 0),(0,l._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],p.prototype,"tilt",void 0),(0,l._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}})],p.prototype,"horizontalFieldOfView",void 0),(0,l._)([(0,s.MZ)({type:Number,nonNullable:!0,range:{min:0,max:180},json:{write:{isRequired:!0}}})],p.prototype,"verticalFieldOfView",void 0),(0,l._)([(0,s.MZ)(n.N1)],p.prototype,"feature",void 0),(0,l._)([(0,s.MZ)({json:{read:!1}})],p.prototype,"isValid",null),p=(0,l._)([(0,c.$)("esri.analysis.Viewshed")],p);const v=p},42251:(e,t,r)=>{r.d(t,{N1:()=>d,uY:()=>c,wY:()=>s,xH:()=>u});var l=r(20664),n=r(9392),i=r(95925),o=r(3112),a=r(30310);function u(e,t){return s(e)===s(t)}function s(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:"";let r=null;return r=null!=e.objectId?e.objectId:null!=e.layer&&"objectIdField"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==r?null:"o-".concat(t,"-").concat(r)}const d={json:{write:{writer:function(e,t){var r;null!=(null===e||void 0===e||null===(r=e.layer)||void 0===r?void 0:r.objectIdField)&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String],isRequired:!0},"feature.objectId":{type:[Number,String],isRequired:!0}}},origins:{"web-scene":{read:function(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:e.objectId}}}}}}};function c(e,t,r,u){var d,c;const{sceneIntersectionHelper:f}=e,{observer:y,observerFeatureId:h,targetFeatureId:I,target:j}=r;if(null==h&&null==I)return;u||(u=e=>e),(0,l.a)(v,y,j);const m=(0,l.l)(v);(0,l.b)(v,y,v,1/m);const w=(0,i.Cr)(v,j,p);t.options.store=o.oH.ALL,f.intersectToolIntersectorRay(w,t);let g=null,N=null,F=null,S=null;for(const l of t.results.all){const t=(0,a.Gy)(l,e);if(null==t||null==l.distanceInRenderSpace)continue;const r=s(t);null!=r&&(null!=h&&r===h&&(null!==g&&void 0!==g||(g=u(b(l,e,m))),l.distanceInRenderSpace-1<g&&(F=l)),null!=I&&r===I&&(null!==N&&void 0!==N||(N=u(b(l,e,m))),null==S&&l.distanceInRenderSpace-1<m&&m-l.distanceInRenderSpace+1<N&&(S=l)))}const{observerAdjusted:R,targetAdjusted:M}=r;null!==(d=F)&&void 0!==d&&d.getIntersectionPoint(R)?r.observerSurfaceNormal=F.getTransformedNormal((0,n.vt)()):r.observerSurfaceNormal=null,null!==(c=S)&&void 0!==c&&c.getIntersectionPoint(M)?r.targetSurfaceNormal=S.getTransformedNormal((0,n.vt)()):r.targetSurfaceNormal=null}function b(e,t,r){if((0,a.QS)(e)){const l=(0,a.SM)(e,t);if(null!=l)return Math.min(l*f,r)}return 1e-5*r}const f=.05,p=(0,i.vt)(),v=(0,n.vt)()}}]);
//# sourceMappingURL=32864.143595c2.chunk.js.map