"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[25356],{25356:(e,i,l)=>{l.r(i),l.d(i,{createAgeRenderer:()=>K,createClassBreaksRenderer:()=>H,createContinuousRenderer:()=>Z,createPCContinuousRenderer:()=>L,createPCTrueColorRenderer:()=>G,createVisualVariable:()=>U,regenerateAgeRenderer:()=>$,regenerateClassBreaksRenderer:()=>W,regenerateContinuousRenderer:()=>N,regenerateVisualVariable:()=>D});var o=l(89379),a=l(59784),n=l(50076),r=l(53084),t=l(40565),s=l(63860),d=l(63844),u=l(83542),c=l(42600),m=l(9922),p=l(45430),f=l(23994),v=l(64694),y=l(77718),h=l(84332),b=l(17237),w=l(33766),g=l(31650),T=l(53680),z=l(51006),x=l(27208),E=l(90494),V=l(42633),S=l(11563),M=l(39289);const I="high-to-low",A=2**53-1,k=5;async function C(e){if(!(e&&e.layer&&(e.field||e.valueExpression||e.sqlExpression)))throw new n.default("color-visual-variable:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new n.default("color-visual-variable:missing-parameters","View is required when 'valueExpression' is specified");e.forBinning&&(0,E.p)(e,"color-visual-variable");const i=(0,o.A)({},e),l=e.forBinning?S.Mi:S.J4,a=(0,S.Jg)(i.layer,l,e.forBinning);if(!a)throw new n.default("color-visual-variable:invalid-parameters","'layer' must be one of these types: "+(0,S.Ho)(l).join(", "));const r=null!=i.signal?{signal:i.signal}:null;if(await a.load(r),"mesh"!==a.geometryType&&i.worldScale&&(!i.view||"3d"!==i.view.type))throw new n.default("color-visual-variable:invalid-parameters","'view' parameter should be an instance of SceneView when 'worldScale' parameter is true");const t=await(0,V.EG)({field:i.field,normalizationField:i.normalizationField,valueExpression:i.valueExpression}),s=(0,z.MH)(a,t,"color-visual-variable:invalid-parameters");if(s)throw s;return(0,o.A)((0,o.A)({},i),{},{layer:a})}async function R(e){var i;if(!(e&&e.layer&&(e.field||e.valueExpression||e.sqlExpression)))throw new n.default("color-continuous-renderer:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new n.default("color-continuous-renderer:missing-parameters","View is required when 'valueExpression' is specified");e.forBinning&&(0,E.p)(e,"color-continuous-renderer");const l=(0,o.A)({},e);l.symbolType=l.symbolType||"2d",null!==(i=l.defaultSymbolEnabled)&&void 0!==i||(l.defaultSymbolEnabled=!0);const a=e.forBinning?S.Mi:S.J4,r=(0,S.Jg)(l.layer,a,e.forBinning);if(!r)throw new n.default("color-continuous-renderer:invalid-parameters","'layer' must be one of these types: "+(0,S.Ho)(a).join(", "));const t=null!=l.signal?{signal:l.signal}:null;await r.load(t);const s=r.geometryType;if(l.outlineOptimizationEnabled="polygon"===s&&l.outlineOptimizationEnabled,l.sizeOptimizationEnabled=("point"===s||"multipoint"===s||"polyline"===s)&&l.sizeOptimizationEnabled,"mesh"===s)l.symbolType="3d-volumetric",l.colorMixMode=l.colorMixMode||"replace",l.edgesType=l.edgesType||"none";else{if("3d-volumetric-uniform"===l.symbolType&&"point"!==s)throw new n.default("color-continuous-renderer:not-supported","3d-volumetric-uniform symbols are supported for point layers only");if(l.symbolType.includes("3d-volumetric")&&(!l.view||"3d"!==l.view.type))throw new n.default("color-continuous-renderer:invalid-parameters","'view' parameter should be an instance of SceneView when 'symbolType' parameter is '3d-volumetric' or '3d-volumetric-uniform'")}const d=await(0,V.EG)({field:l.field,normalizationField:l.normalizationField,valueExpression:l.valueExpression}),u=(0,z.MH)(r,d,"color-continuous-renderer:invalid-parameters");if(u)throw u;return(0,o.A)((0,o.A)({},l),{},{layer:r})}async function B(e){var i,l;if(!e||!e.layer||!e.field&&!e.valueExpression)throw new n.default("color-class-breaks-renderer:missing-parameters","'layer' and 'field' or 'valueExpression' parameters are required");if(e.valueExpression&&!e.view)throw new n.default("color-class-breaks-renderer:missing-parameters","View is required when 'valueExpression' is specified");e.forBinning&&(0,E.p)(e,"color-class-breaks-renderer");const a=(0,o.A)({},e);a.symbolType=a.symbolType||"2d",null!==(i=a.defaultSymbolEnabled)&&void 0!==i||(a.defaultSymbolEnabled=!0),null!==(l=a.classificationMethod)&&void 0!==l||(a.classificationMethod="equal-interval"),a.normalizationType=(0,V.Wy)(a);const r=e.forBinning?S.Mi:S.J4,t=(0,S.Jg)(a.layer,r,e.forBinning);if(!t)throw new n.default("color-class-breaks-renderer:invalid-parameters","'layer' must be one of these types: "+(0,S.Ho)(r).join(", "));if((null==a.minValue||null==a.maxValue)&&(null!=a.minValue||null!=a.maxValue))throw new n.default("color-class-breaks-renderer:missing-parameters","Both 'minValue' and 'maxValue' are required when specifying custom data range");const s=null!=a.signal?{signal:a.signal}:null;await t.load(s);const d=t.geometryType;if(a.outlineOptimizationEnabled="polygon"===d&&a.outlineOptimizationEnabled,"mesh"===d)a.symbolType="3d-volumetric",a.colorMixMode=a.colorMixMode||"replace",a.edgesType=a.edgesType||"none";else{if("3d-volumetric-uniform"===a.symbolType&&"point"!==d)throw new n.default("color-class-breaks-renderer:not-supported","3d-volumetric-uniform symbols are supported for point layers only");if(a.symbolType.includes("3d-volumetric")&&(!a.view||"3d"!==a.view.type))throw new n.default("color-class-breaks-renderer:invalid-parameters","'view' parameter should be an instance of SceneView when 'symbolType' parameter is '3d-volumetric' or '3d-volumetric-uniform'")}const u=await(0,V.EG)({field:a.field,normalizationField:a.normalizationField}),c=(0,z.MH)(t,u,"color-class-breaks-renderer:invalid-parameters");if(c)throw c;return(0,o.A)((0,o.A)({},a),{},{layer:t})}function O(e){const i=(0,o.A)({},e);delete i.basemap,delete i.colorScheme,delete i.legendOptions,delete i.symbolType,delete i.defaultSymbolEnabled,delete i.colorMixMode,delete i.edgesType;const l=i;return l.analyzeData=!(null!=i.minValue&&null!=i.maxValue),l}function q(e){var i;const l=(0,o.A)({},e),a=!(null===(i=l.symbolType)||void 0===i||!i.includes("3d-volumetric"));delete l.symbolType,delete l.defaultSymbolEnabled,delete l.colorMixMode,delete l.edgesType;const n=l;return n.worldScale=a,n}async function P(e){var i;if(!(e&&e.layer&&e.view&&e.startTime&&e.endTime))throw new n.default("color-age-renderer:missing-parameters","'layer', 'view', startTime', 'endTime' parameters are required");const l=(0,o.A)({},e);l.symbolType=l.symbolType||"2d",null!==(i=l.defaultSymbolEnabled)&&void 0!==i||(l.defaultSymbolEnabled=!0);const a=(0,S.Jg)(l.layer,S.J4);if(!a)throw new n.default("color-age-renderer:invalid-parameters","'layer' must be one of these types: "+(0,S.Ho)(S.J4).join(", "));const r=null!=l.signal?{signal:l.signal}:null;await a.load(r);const t=a.geometryType;if(l.outlineOptimizationEnabled="polygon"===t&&l.outlineOptimizationEnabled,l.sizeOptimizationEnabled=("point"===t||"multipoint"===t||"polyline"===t)&&l.sizeOptimizationEnabled,"mesh"===t)l.symbolType="3d-volumetric",l.colorMixMode=l.colorMixMode||"replace",l.edgesType=l.edgesType||"none";else if("3d-volumetric-uniform"===l.symbolType&&"point"!==t)throw new n.default("color-continuous-renderer:not-supported","3d-volumetric-uniform symbols are supported for point layers only");if(l.symbolType.includes("3d-volumetric")&&(!l.view||"3d"!==l.view.type))throw new n.default("color-age-renderer:invalid-parameters","'view' parameter should be an instance of SceneView when 'symbolType' parameter is '3d-volumetric' or '3d-volumetric-uniform'");const s=(0,x.verifyDates)(a,l.startTime,l.endTime,"color-age-renderer:invalid-parameters");if(s)throw s;if(l.unit&&!x.supportedAgeUnits.includes(l.unit))throw new n.default("color-age-renderer:invalid-unit","Supported units are: ".concat(x.supportedAgeUnits.join(", ")));return(0,o.A)((0,o.A)({},l),{},{layer:a})}async function F(e,i){let l=e.colorScheme,o=null,a=null;const{view:n}=e,r=await(0,z.Ib)(e.basemap,n);if(o=null!=r.basemapId?r.basemapId:null,a=null!=r.basemapTheme?r.basemapTheme:null,l)return{scheme:(0,M.cloneScheme)(l),basemapId:o,basemapTheme:a};const t=e.theme||I,s=(0,M.getSchemes)({theme:t,basemapTheme:a,geometryType:e.geometryType,worldScale:e.worldScale,view:n});if(s)if(o=s.basemapId,a=s.basemapTheme,e.schemeId){const i=t+"/"+o+"/"+e.schemeId;l=(0,M.getSchemeById)({id:i,geometryType:e.geometryType})}else l=s.primaryScheme;return{scheme:l,basemapId:o,basemapTheme:a}}function _(e,i,l,o){const a=(0,z.Gc)(e,i,l,!0);return{values:(0,z.TQ)(a,e,i,o),defaultValuesUsed:a.defaultValuesUsed}}async function j(e,i,l,o,a,n,r){var t;const u=await(0,s.ud)("esri/smartMapping/t9n/smartMapping"),{field:c,defaultSymbolEnabled:m}=r,p=(0,M.cloneScheme)(e.colorScheme),f=null===i||void 0===i?void 0:i.opacity,v=[e.visualVariable.clone()];return null!==i&&void 0!==i&&null!==(t=i.visualVariables)&&void 0!==t&&t.length&&v.push(...i.visualVariables.map((e=>e.clone()))),(null===l||void 0===l?void 0:l.minSize)&&v.push(l.minSize),{renderer:new d.default({classBreakInfos:[{minValue:-9007199254740991,maxValue:A,symbol:(0,z.v5)(n,{type:r.symbolType,color:p.noDataColor,size:(0,z.N6)(p,n),outline:(0,z.qc)(p,n,f),meshInfo:{colorMixMode:r.colorMixMode,edgesType:r.edgesType}})}],defaultLabel:m?u.other:null,defaultSymbol:m?(0,z.v5)(n,{type:r.symbolType,color:p.noDataColor,size:(0,z.N6)(p,n),outline:(0,z.qc)(p,n,f),meshInfo:{colorMixMode:r.colorMixMode,edgesType:r.edgesType}}):null,field:c,normalizationType:o,normalizationField:a,valueExpression:r.valueExpression,valueExpressionTitle:r.valueExpressionTitle,visualVariables:v,authoringInfo:e.authoringInfo&&e.authoringInfo.clone()}),visualVariable:e.visualVariable.clone(),statistics:e.statistics,defaultValuesUsed:e.defaultValuesUsed,colorScheme:(0,M.cloneScheme)(e.colorScheme),basemapId:e.basemapId,basemapTheme:e.basemapTheme}}async function U(e){const i=await C(e),{view:l,field:o,valueExpression:r,minValue:s,maxValue:d,layer:u,normalizationField:c,signal:f,filter:b,statistics:w}=i,g=c?"field":void 0,T=await(null!==w&&void 0!==w?w:(0,z.g2)({layer:u,field:o,valueExpression:r,sqlExpression:i.sqlExpression,sqlWhere:i.sqlWhere,normalizationType:g,normalizationField:c,minValue:s,maxValue:d,filter:b,view:l,signal:f})),x=u,E=o&&"function"!=typeof o?x.getField(o):null;return async function(e,i,l,o){const{field:r,theme:s}=e,d=await F({basemap:e.basemap,theme:e.theme,geometryType:l,colorScheme:e.colorScheme,worldScale:e.worldScale,view:e.view}),u=d.scheme;if(!u)throw new n.default("color-visual-variable:insufficient-info","Unable to find color scheme");const c=(0,a.Iy)(u.colors,k);if(c.length<k)throw new n.default("color-visual-variable:insufficient-info","Color scheme does not have enough colors");const f=u.id.includes("seq-"),{values:b,defaultValuesUsed:w}=_(i,s,o,f),g=(0,a.Iy)(c,k),T=new v.default({field:null!==r&&void 0!==r?r:void 0,valueExpression:e.valueExpression,valueExpressionTitle:e.valueExpressionTitle,normalizationField:e.normalizationField,stops:b.map(((e,i)=>new y.default({value:e,color:g[i]}))),legendOptions:(0,t.PZ)(h.A,e.legendOptions)}),z=new p.default({type:"color",minSliderValue:null!=e.minValue?e.minValue:i.min,maxSliderValue:null!=e.maxValue?e.maxValue:i.max,theme:u.theme}),x=new m.default({visualVariables:[z]});return{basemapId:d.basemapId,basemapTheme:d.basemapTheme,visualVariable:T,statistics:i,defaultValuesUsed:w,colorScheme:(0,M.cloneScheme)(u),authoringInfo:x}}(i,T,x.geometryType,(0,V.fs)(E))}async function D(e){var i,l;const{view:a,filter:r,creatorParameters:t,renderer:s,signal:d}=await async function(e){var i;const l="regenerate-color-visual-variable";await(0,T.AC)(e,l);const a=await(0,T.mE)(e);if("class-breaks"!==(null===a||void 0===a?void 0:a.type))throw new n.default("".concat(l,":invalid-parameters"),"Renderer must be a ClassBreaksRenderer to regenerate a color visual variable");const r=a.authoringInfo,t=null===r||void 0===r?void 0:r.visualVariables.find((e=>"color"===e.type)),s=null===(i=a.visualVariables)||void 0===i?void 0:i.find((e=>"color"===e.type));if(!s)throw new n.default("".concat(l,":invalid-parameters"),"Renderer does not have a color visual variable");const{field:d,normalizationField:u,valueExpression:c,valueExpressionTitle:m}=s,p="univariate-color-size"===(null===r||void 0===r?void 0:r.type)?null===r||void 0===r?void 0:r.univariateTheme:null===t||void 0===t?void 0:t.theme,{layer:f,forBinning:v,filter:y,view:h,signal:b}=e,w=await C({layer:f,field:d,valueExpression:c,valueExpressionTitle:m,normalizationField:u,theme:p,forBinning:v,filter:y,view:h,signal:b});return(0,o.A)((0,o.A)({},e),{},{creatorParameters:w,renderer:a})}(e),u=null===(i=s.authoringInfo)||void 0===i?void 0:i.clone(),c=null===u||void 0===u?void 0:u.visualVariables.find((e=>"color"===e.type)),m=null===(l=s.visualVariables)||void 0===l?void 0:l.find((e=>"color"===e.type)),{field:p,normalizationField:f,valueExpression:v,theme:y,layer:h}=t,b=await(0,z.g2)({layer:h,field:p,valueExpression:v,normalizationField:f,filter:r,view:a,signal:d}),w=p&&"function"!=typeof p?h.getField(p):null,{values:g}=_(b,y,(0,V.fs)(w),"high-to-low"===y);if(g.length!==m.stops.length)throw new n.default("regenerate-color-visual-variable:invalid-parameters","Visual variable is invalid");return m.stops.forEach(((e,i)=>e.value=g[i])),c&&(c.minSliderValue=b.min,c.maxSliderValue=b.max),{visualVariable:m,authoringInfo:u,statistics:b}}async function J(e,i){var l,o;const t=await(0,s.ud)("esri/smartMapping/t9n/smartMapping"),u=e.layer,c=e.defaultSymbolEnabled,p=u.geometryType,v=e.classificationMethod,y="standard-deviation"===v,h=await F({basemap:e.basemap,geometryType:p,theme:y?"above-and-below":null,colorScheme:e.colorScheme,worldScale:!(null===(l=e.symbolType)||void 0===l||!l.includes("3d-volumetric")),view:e.view}),b=h.scheme,{result:w,outlineResult:g}=i,T=w.classBreakInfos,x=e.normalizationType;if(!b)throw new n.default("color-class-breaks-renderer:insufficient-info","Unable to find color scheme");const E=function(e,i){const l=e.colorsForClassBreaks;if(null!==l&&void 0!==l&&l.length)for(const o of l)if(o.numClasses===i)return(0,r.clone)(o.colors);return(0,a.Iy)(e.colors,i)}(b,T.length);if(!E||E.length!==T.length)throw new n.default("color-class-breaks-renderer:insufficient-info","Color scheme does not have enough colors");const V=null===g||void 0===g?void 0:g.opacity,S=new d.default({classBreakInfos:T.map(((i,l)=>({minValue:i.minValue,maxValue:i.maxValue,symbol:(0,z.v5)(p,{type:e.symbolType,color:E[l],size:(0,z.N6)(b,p),outline:(0,z.qc)(b,p,V),meshInfo:{colorMixMode:e.colorMixMode,edgesType:e.edgesType}}),label:i.label}))),defaultLabel:c?t.other:null,defaultSymbol:c?(0,z.v5)(p,{type:e.symbolType,color:b.noDataColor,size:(0,z.N6)(b,p),outline:(0,z.qc)(b,p,V),meshInfo:{colorMixMode:e.colorMixMode,edgesType:e.edgesType}}):null,field:e.field,valueExpression:e.valueExpression,valueExpressionTitle:e.valueExpressionTitle,normalizationType:x,normalizationField:e.normalizationField,normalizationTotal:"percent-of-total"===x?w.normalizationTotal:void 0,legendOptions:e.legendOptions,authoringInfo:new m.default({type:"class-breaks-color",classificationMethod:v,standardDeviationInterval:e.standardDeviationInterval})});return y||(0,f.setLabelsForClassBreaks)({classBreakInfos:S.classBreakInfos,classificationMethod:v,normalizationType:x,round:!0}),null!==g&&void 0!==g&&null!==(o=g.visualVariables)&&void 0!==o&&o.length&&(S.visualVariables=g.visualVariables.map((e=>e.clone()))),{renderer:S,colorScheme:(0,M.cloneScheme)(b),classBreaksResult:w,defaultValuesUsed:i.defaultValuesUsed,basemapId:h.basemapId,basemapTheme:h.basemapTheme}}async function Z(e){const i=await R(e),{layer:l,view:o,signal:a,filter:n}=i,[r,t,s]=await Promise.all([U(q(i)),i.outlineOptimizationEnabled?(0,w.A)({layer:l,view:o,signal:a,filter:n}).catch(z.ou):null,i.sizeOptimizationEnabled?(0,g.default)({layer:l,view:o,signal:a,filter:n}).catch(z.ou):null]),d=i.normalizationField;return j(r,t,s,d?"field":void 0,d,l.geometryType,i)}async function N(e){const{renderer:i,view:l,signal:a,filter:r,creatorParameters:t}=await async function(e){const i="regenerate-color-continuous-renderer";await(0,T.AC)(e,i);const l=await(0,T.mE)(e),a=(0,T.UJ)(l);if(!a||!["color-continuous","color-size"].includes(a))throw new n.default("".concat(i,":invalid-renderer"),"Renderer is invalid");const{authoringInfo:r,field:t,normalizationField:s,valueExpression:d,valueExpressionTitle:u}=l,c=null===r||void 0===r?void 0:r.visualVariables.find((e=>"color"===e.type)),m=null===c||void 0===c?void 0:c.theme,{layer:p,forBinning:f,filter:v,view:y,signal:h}=e,b=(0,T.DW)(l),w=(0,T.Rv)(l),g=await R({layer:p,field:t,valueExpression:d,valueExpressionTitle:u,normalizationField:s,theme:m,outlineOptimizationEnabled:b,sizeOptimizationEnabled:w,forBinning:f,filter:v,view:y,signal:h});return(0,o.A)((0,o.A)({},e),{},{creatorParameters:g,renderer:l})}(e),{layer:s,outlineOptimizationEnabled:d,sizeOptimizationEnabled:u}=t,[c,m,p]=await Promise.all([D(e),d?(0,w.A)({layer:s,view:l,signal:a,filter:r}).catch(z.ou):null,u?(0,g.default)({layer:s,view:l,signal:a,filter:r}).catch(z.ou):null]);return(0,T.ke)(i,c.visualVariable,T.fs),(0,T.ke)(i,null===m||void 0===m?void 0:m.visualVariables,T._i),(0,T.ke)(i,null===p||void 0===p?void 0:p.minSize,T.kc),(0,T.Hj)(i,c.authoringInfo,"color"),{renderer:i}}async function H(e){const i=await B(e);return J(i,await(0,z.Pv)(O(i),i.outlineOptimizationEnabled))}async function W(e){const{renderer:i,creatorParameters:l}=await async function(e){const i="regenerate-color-class-breaks-renderer";await(0,T.AC)(e,i);const l=await(0,T.mE)(e);if("color-class-breaks"!==(0,T.UJ)(l))throw new n.default("".concat(i,":invalid-parameters"),"Renderer is invalid");const{authoringInfo:a,field:r,normalizationField:t,normalizationType:s,normalizationTotal:d,valueExpression:u,valueExpressionTitle:c}=l,{classificationMethod:m,standardDeviationInterval:p}=a,f=l.classBreakInfos.length,{layer:v,forBinning:y,filter:h,view:b,signal:w}=e,g=(0,T.DW)(l),z=await B({layer:v,field:r,valueExpression:u,valueExpressionTitle:c,normalizationType:s,normalizationField:t,normalizationTotal:d,classificationMethod:m,standardDeviationInterval:p,numClasses:f,outlineOptimizationEnabled:g,forBinning:y,filter:h,view:b,signal:w});return(0,o.A)((0,o.A)({},e),{},{creatorParameters:z,renderer:l})}(e),{normalizationType:a,outlineOptimizationEnabled:r,classificationMethod:t}=l,{result:s,outlineResult:d}=await(0,z.Pv)(O(l),r),u=s.classBreakInfos;if(l.numClasses!==u.length)throw new n.default("regenerate-color-class-breaks-renderer:insufficient-info","The number of class breaks generated does not match the number of class breaks in the renderer.");return i.classBreakInfos.forEach(((e,i)=>{e.minValue=u[i].minValue,e.maxValue=u[i].maxValue,e.label=u[i].label})),i.normalizationTotal="percent-of-total"===a?s.normalizationTotal:void 0,"standard-deviation"!==t&&(0,f.setLabelsForClassBreaks)({classBreakInfos:i.classBreakInfos,classificationMethod:t,normalizationType:a,round:!0}),(0,T.ke)(i,null===d||void 0===d?void 0:d.visualVariables,T._i),{renderer:i}}function G(e){return async function(e){if(null===e||void 0===e||!e.layer)throw new n.default("color-point-cloud-true-color-renderer:missing-parameters","'layer' parameter is required");const i=(0,o.A)((0,o.A)({},e),{},{layer:e.layer}),l=[S.mb.PointCloudLayer],a=(0,S.Jg)(i.layer,l);if(!a)throw new n.default("color-point-cloud-true-color-renderer:invalid-parameters","'layer' must be one of these types: "+(0,S.Ho)(l).join(", "));if(i.layer=a,i.density=i.density||25,i.size=i.size||"100%",!(0,z.Km)(i.size))throw new n.default("color-point-cloud-true-color-renderer:invalid-parameters","Invalid 'size' parameter. It should be a string of the form '100%'");const r=null!=i.signal?{signal:i.signal}:null;return await a.load(r),i}(e).then((e=>{var i;return{renderer:new u.default({field:"RGB",pointsPerInch:null!==(i=e.density)&&void 0!==i?i:void 0,pointSizeAlgorithm:(0,z.rm)(e.size)})}}))}async function L(e){var i,l;const r=await async function(e){if(null===e||void 0===e||!e.layer||!e.field)throw new n.default("color-point-cloud-continuous-renderer:missing-parameters","'layer' and 'field' parameters are required");const i=e.field.toLowerCase();if("intensity"!==i&&"elevation"!==i)throw new n.default("color-point-cloud-continuous-renderer:invalid-parameters","'field' should be either 'intensity' or 'elevation'");const l=(0,o.A)((0,o.A)({},e),{},{layer:e.layer,field:e.field}),a=[S.mb.PointCloudLayer],r=(0,S.Jg)(l.layer,a);if(!r)throw new n.default("color-point-cloud-continuous-renderer:invalid-parameters","'layer' must be one of these types: "+(0,S.Ho)(a).join(", "));if(l.layer=r,l.density=l.density||25,l.size=l.size||"100%",!(0,z.Km)(l.size))throw new n.default("color-point-cloud-continuous-renderer:invalid-parameters","Invalid 'size' parameter. It should be a string of the form '100%'");const t=null!=l.signal?{signal:l.signal}:null;return await r.load(t),l}(e),t=null!==(i=r.statistics)&&void 0!==i?i:await(0,z.g2)({layer:r.layer,field:r.field,signal:r.signal}),s=await async function(e,i){const l=i.layer,o=await F({basemap:i.basemap,colorScheme:i.colorScheme,geometryType:l.geometryType,schemeId:"elevation"===i.field.toLowerCase()?"point-cloud-elevation-scheme":"point-cloud-intensity-scheme"}),r=o.scheme;if(!r)throw new n.default("color-point-cloud-continuous-renderer:insufficient-info","Unable to find color scheme");const t=(0,a.Iy)(r.colors,k);if(t.length<k)throw new n.default("color-point-cloud-continuous-renderer:insufficient-info","Color scheme does not have enough colors");const s=(0,z.N4)(e,!1,!0),d=s?(0,z.u8)(s[0],s[1],5):(0,z.BD)(e);return{stops:(0,f.createColorStops)({values:d,isDate:!1,colors:t,labelIndexes:[0,2,4]}),basemapId:o.basemapId,basemapTheme:o.basemapTheme,statistics:e,defaultValuesUsed:!!s,colorScheme:(0,M.cloneScheme)(r)}}(t,r);return{renderer:new c.default({field:r.field,pointsPerInch:null!==(l=r.density)&&void 0!==l?l:void 0,pointSizeAlgorithm:(0,z.rm)(r.size),stops:s.stops}),basemapId:s.basemapId,basemapTheme:s.basemapTheme,statistics:s.statistics,defaultValuesUsed:s.defaultValuesUsed,colorScheme:s.colorScheme}}async function K(e){var i;const l=await P(e),{defaultSymbolEnabled:a,view:n,startTime:r,endTime:t,symbolType:s,colorMixMode:d,edgesType:u,minValue:c,maxValue:m,signal:p,filter:f}=l,v=l.layer,[y,h,T]=await Promise.all([l.unit?{unit:l.unit,statistics:null}:(0,b.A)({view:n,layer:v,startTime:r,endTime:t,minValue:c,maxValue:m,signal:p,filter:f}),l.outlineOptimizationEnabled?(0,w.A)({layer:v,view:n,signal:p,filter:f}).catch(z.ou):null,l.sizeOptimizationEnabled?(0,g.default)({layer:v,view:n,signal:p,filter:f}).catch(z.ou):null]),{unit:x,statistics:E}=y,{valueExpression:V,title:S}=await(0,z.l7)(l,x),M=await U(q({layer:v,basemap:l.basemap,valueExpression:V,symbolType:s,statistics:E,legendOptions:{title:S},colorScheme:l.colorScheme,theme:l.theme,view:n,minValue:l.minValue,maxValue:l.maxValue,filter:f,signal:p})),I={layer:v,valueExpression:V,defaultSymbolEnabled:a,symbolType:s,colorMixMode:d,edgesType:u},A=await j(M,h,T,null,null,v.geometryType,I),k=null===(i=A.renderer.authoringInfo)||void 0===i?void 0:i.visualVariables;return null!==k&&void 0!==k&&k.forEach((e=>(0,z.f3)(e,r,t,x))),(0,o.A)((0,o.A)({},A),{},{unit:x})}async function $(e){var i;const{renderer:l,creatorParameters:a}=await async function(e){const i="regenerate-color-age-renderer";await(0,T.AC)(e,i);const l=await(0,T.mE)(e);if("color-age"!==(0,T.UJ)(l))throw new n.default("".concat(i,":invalid-parameters"),"Renderer is invalid");const{authoringInfo:a}=l,r=null===a||void 0===a?void 0:a.visualVariables.find((e=>"color"===e.type)),t=r.startTime,s=r.endTime,d=r.units,u=r.theme,{layer:c,filter:m,view:p,signal:f}=e,v=(0,T.DW)(l),y=(0,T.Rv)(l),h=await P({layer:c,startTime:t,endTime:s,unit:d,theme:u,outlineOptimizationEnabled:v,sizeOptimizationEnabled:y,filter:m,view:p,signal:f});return(0,o.A)((0,o.A)({},e),{},{creatorParameters:h,renderer:l})}(e),{layer:r,outlineOptimizationEnabled:t,sizeOptimizationEnabled:s,startTime:d,endTime:u,theme:c,view:m,signal:p,filter:f}=a,[v,y,h]=await Promise.all([(0,b.A)({view:m,layer:r,startTime:d,endTime:u,signal:p,filter:f}),t?(0,w.A)({layer:r,view:m,signal:p,filter:f}).catch(z.ou):null,s?(0,g.default)({layer:r,view:m,signal:p,filter:f}).catch(z.ou):null]),{unit:x,statistics:E}=v,{valueExpression:V,title:S}=await(0,z.l7)(a,x),M=await U(q({layer:r,valueExpression:V,statistics:E,legendOptions:{title:S},theme:c,view:m,filter:f,signal:p}));(0,T.ke)(l,M.visualVariable,T.fs),(0,T.ke)(l,null===y||void 0===y?void 0:y.visualVariables,T._i),(0,T.ke)(l,null===h||void 0===h?void 0:h.minSize,T.kc),l.authoringInfo=M.authoringInfo.clone();const I=null===(i=l.authoringInfo)||void 0===i?void 0:i.visualVariables;return null!==I&&void 0!==I&&I.forEach((e=>(0,z.f3)(e,d,u,x))),{renderer:l}}},42600:(e,i,l)=>{l.r(i),l.d(i,{default:()=>f});var o,a=l(89379),n=l(35143),r=l(53084),t=l(46053),s=(l(81806),l(76460),l(6409)),d=l(85842),u=l(99224),c=l(84563),m=l(77718);let p=o=class extends u.default{constructor(e){super(e),this.type="point-cloud-stretch",this.field=null,this.legendOptions=null,this.fieldTransformType=null,this.stops=null}clone(){return new o((0,a.A)((0,a.A)({},this.cloneProperties()),{},{field:(0,r.clone)(this.field),fieldTransformType:(0,r.clone)(this.fieldTransformType),stops:(0,r.clone)(this.stops),legendOptions:(0,r.clone)(this.legendOptions)}))}};(0,n._)([(0,s.e)({pointCloudStretchRenderer:"point-cloud-stretch"})],p.prototype,"type",void 0),(0,n._)([(0,t.MZ)({json:{write:{isRequired:!0}},type:String})],p.prototype,"field",void 0),(0,n._)([(0,t.MZ)({type:c.A,json:{write:!0}})],p.prototype,"legendOptions",void 0),(0,n._)([(0,t.MZ)({type:u.default.fieldTransformTypeKebabDict.apiValues,json:{type:u.default.fieldTransformTypeKebabDict.jsonValues,read:u.default.fieldTransformTypeKebabDict.read,write:u.default.fieldTransformTypeKebabDict.write}})],p.prototype,"fieldTransformType",void 0),(0,n._)([(0,t.MZ)({type:[m.default],json:{write:{isRequired:!0}}})],p.prototype,"stops",void 0),p=o=(0,n._)([(0,d.$)("esri.renderers.PointCloudStretchRenderer")],p);const f=p},83542:(e,i,l)=>{l.r(i),l.d(i,{default:()=>m});var o,a=l(89379),n=l(35143),r=l(53084),t=l(46053),s=(l(81806),l(76460),l(6409)),d=l(85842),u=l(99224);let c=o=class extends u.default{constructor(e){super(e),this.type="point-cloud-rgb",this.field=null}clone(){return new o((0,a.A)((0,a.A)({},this.cloneProperties()),{},{field:(0,r.clone)(this.field)}))}};(0,n._)([(0,s.e)({pointCloudRGBRenderer:"point-cloud-rgb"})],c.prototype,"type",void 0),(0,n._)([(0,t.MZ)({type:String,json:{write:{isRequired:!0}}})],c.prototype,"field",void 0),c=o=(0,n._)([(0,d.$)("esri.renderers.PointCloudRGBRenderer")],c);const m=c},99224:(e,i,l)=>{l.r(i),l.d(i,{default:()=>T});var o,a=l(35143),n=l(45802),r=l(42553),t=l(53084),s=l(46053),d=(l(81806),l(76460),l(85842));l(47249);let u=o=class extends r.A{constructor(){super(...arguments),this.field=null,this.minValue=0,this.maxValue=255}clone(){return new o({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};(0,a._)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],u.prototype,"field",void 0),(0,a._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],u.prototype,"minValue",void 0),(0,a._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],u.prototype,"maxValue",void 0),u=o=(0,a._)([(0,d.$)("esri.renderers.support.pointCloud.ColorModulation")],u);const c=u;var m,p=l(18027),f=l(6409);let v=m=class extends p.A{constructor(){super(...arguments),this.type="fixed-size",this.size=0,this.useRealWorldSymbolSizes=null}clone(){return new m({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};(0,a._)([(0,f.e)({pointCloudFixedSizeAlgorithm:"fixed-size"})],v.prototype,"type",void 0),(0,a._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],v.prototype,"size",void 0),(0,a._)([(0,s.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"useRealWorldSymbolSizes",void 0),v=m=(0,a._)([(0,d.$)("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],v);const y=v;var h=l(56125);const b={key:"type",base:p.A,typeMap:{"fixed-size":y,splat:h.A}},w=(0,n.O)()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});let g=class extends r.A{constructor(e){super(e),this.type=void 0,this.pointSizeAlgorithm=null,this.colorModulation=null,this.pointsPerInch=10}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}cloneProperties(){return{pointSizeAlgorithm:(0,t.clone)(this.pointSizeAlgorithm),colorModulation:(0,t.clone)(this.colorModulation),pointsPerInch:(0,t.clone)(this.pointsPerInch)}}};(0,a._)([(0,s.MZ)({type:w.apiValues,readOnly:!0,nonNullable:!0,json:{type:w.jsonValues,read:!1,write:{writer:w.write,isRequired:!0}}})],g.prototype,"type",void 0),(0,a._)([(0,s.MZ)({types:b,json:{write:!0}})],g.prototype,"pointSizeAlgorithm",void 0),(0,a._)([(0,s.MZ)({type:c,json:{write:!0}})],g.prototype,"colorModulation",void 0),(0,a._)([(0,s.MZ)({json:{write:!0},nonNullable:!0,type:Number})],g.prototype,"pointsPerInch",void 0),g=(0,a._)([(0,d.$)("esri.renderers.PointCloudRenderer")],g),(g||(g={})).fieldTransformTypeKebabDict=new n.J({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});const T=g}}]);
//# sourceMappingURL=25356.26057c13.chunk.js.map