{"version":3,"file":"static/js/69637.cef70f07.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js","../node_modules/@arcgis/core/core/maybeUpdating.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=t=>{let p=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,{fieldsIndex:this.i3slayer.fieldsIndex});if(!r.isStandardized)return e.getLogger(this).error(\"definitionExpression is using non standard function\"),null;const i=[],s=r.fieldNames;return n(s,this.i3slayer.fields,{missingFields:i}),i.length>0?(e.getLogger(this).error(`definitionExpression references unknown fields: ${i.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return e.getLogger(this).error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{t as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as e}from\"../../../core/workers/WorkerHandle.js\";class r extends e{constructor(e){super(\"SceneLayerWorker\",\"dracoDecompressPointCloudData\",{dracoDecompressPointCloudData:e=>[e.geometryBuffer]},e,{hasInitialize:!0})}}export{r as I3SPointsWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{findInMap as t,someMap as s}from\"../../../../core/MapUtils.js\";class i extends e{constructor(e,t){super(),this._updateAndCompare=e,this._notifyUpdated=t,this._nodes=new Map,this._graphics=new Map,this._duplicates=new Map}clear(){if(this._graphics.size>0){const e=this.toArray();this._graphics.clear(),this.emit(\"change\",{added:[],removed:e})}this._nodes.clear()}get length(){return this._graphics.size}get(e){return this._graphics.get(e)}getNode(e){return this._nodes.get(e)}hasNode(e){return this._nodes.has(e)}nodes(){return this._nodes.values()}addNode(e,t){this._nodes.set(e,t);const s=t.graphics;if(0===s.length)return;const i=new Set;for(let o=0;o<s.length;o++){const t=s[o],n=t.objectId,h=this._graphics.get(n);if(h){i.add(n),t!==h&&(s[o]=h);const r=this._duplicates.get(n);r?r.push(e):this._duplicates.set(n,[h.nodeIndex,e])}else t.nodeIndex=e,this._graphics.set(n,t)}i.size&&this._updateForeignGraphics(t);const n=i.size>0?s.filter((e=>!i.has(e.objectId))):s;n.length>0&&this.emit(\"change\",{added:n,removed:[]})}removeNode(e){const t=this._nodes.get(e);if(!t)return;this._nodes.delete(e);const s=new Set,i=[];for(const n of t.graphics){const t=n.objectId,o=this._graphics.get(t);if(!o)continue;const h=this._duplicates.get(t);if(h){const i=h.indexOf(e);if(-1===i)continue;if(h.splice(i,1),o.nodeIndex===e){let e=this.getNode(h[0]);for(let t=1;t<h.length;t++){const s=this.getNode(h[t]);(null==e||null!=s&&s.node.level>e.node.level)&&(e=s)}null!=e&&s.add(e)}1===h.length&&this._duplicates.delete(t)}else this._graphics.delete(t),i.push(n)}i.length>0&&this.emit(\"change\",{added:[],removed:i}),s.forEach((e=>this._updateForeignGraphics(e)))}_updateForeignGraphics(e){const t=[],s=e.node.index,i=e.node.level;let n=0;for(;n<e.graphics.length;){const o=e.graphics[n].nodeIndex;if(o===s){n++;continue}let h=1;for(;n+h<e.graphics.length&&e.graphics[n+h].nodeIndex===o;)h++;const r=this.getNode(o);if(null!=r&&r.node.level>i)n+=h;else{for(let i=n;i<n+h;i++){const n=e.graphics[i];n.nodeIndex=s,this._updateAndCompare(n,e,i)&&t.push(n)}n+=h}}t.length>0&&this._notifyUpdated(t)}toArray(){return Array.from(this._graphics.values())}find(e){return t(this._graphics,e)}some(e){return s(this._graphics,e)}forEach(e){this._graphics.forEach((t=>e(t)))}forEachNode(e){this._nodes.forEach(((t,s)=>e(t,s)))}get nodeCount(){return this._nodes.size}_checkInvariants(){const e=new Map;this._nodes.forEach(((t,s)=>{t.graphics.forEach((t=>{e.set(t.objectId,1+(e.get(t.objectId)??0)),this._duplicates.get(t.objectId)}))})),e.forEach(((e,t)=>{const s=this._graphics.get(t);if(!s)return;if(!this._nodes.get(s.nodeIndex))return;const i=this._duplicates.get(t);i&&i.forEach((e=>{this._nodes.get(e)}))}))}}export{i as I3SGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{binaryIndexOf as t}from\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import r from\"../../../core/Logger.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{estimateNumberArrayMemory as s}from\"../../../core/memoryEstimations.js\";import{initial as o,watch as a}from\"../../../core/reactiveUtils.js\";import{generateUID as n}from\"../../../core/uid.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{i as u}from\"../../../chunks/vec32.js\";import{ZEROS as h,create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as c}from\"../../../geometry/projection/projectBuffer.js\";import{projectVectorToVector as m}from\"../../../geometry/projection/projectVectorToVector.js\";import{extentContainsCoords3D as g,extentContainsCoords2D as y}from\"../../../geometry/support/contains.js\";import{newDoubleArray as f,doubleArrayFrom as _}from\"../../../geometry/support/DoubleArray.js\";import{getGeometryZScaler as b}from\"../../../geometry/support/zscale.js\";import{fallbackObjectIDAttribute as v}from\"../../../layers/LayerConstants.js\";import{estimateSize as x}from\"../../../layers/graphics/dehydratedFeatures.js\";import{makeDehydratedPoint as I}from\"../../../layers/graphics/dehydratedPoint.js\";import{hydrateGraphic as E}from\"../../../layers/graphics/hydratedFeatures.js\";import w from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import N from\"../../../layers/support/FeatureFilter.js\";import j from\"../../../rest/support/Query.js\";import{isBasemapLayer as O}from\"../../../support/basemapUtils.js\";import{I3SPointsWorkerHandle as C}from\"./I3SPointsWorkerHandle.js\";import{LayerView3D as D}from\"./LayerView3D.js\";import{Graphics3DFeatureProcessor as F}from\"./graphics/Graphics3DFeatureProcessor.js\";import{QueryEngine as S}from\"./graphics/QueryEngine.js\";import{QueryEngineContext as G}from\"./graphics/QueryEngineContext.js\";import{createInteractiveEditSession as A,normalizeEditResultsEvent as P,processAttributeEdits as L}from\"./i3s/featureEditing.js\";import{I3SGraphicsMap as V}from\"./i3s/I3SGraphicsMap.js\";import{I3SOverrides as R}from\"./i3s/I3SOverrides.js\";import{checkRecyclable as M,checkSpatialReferences as H,containsDraco as Q,whenGraphicAttributes as q,getCachedAttributeValue as T}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as U}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as B}from\"./support/fieldProperties.js\";import{LayerViewPerformanceInfo as k}from\"./support/LayerViewPerformanceInfo.js\";import{PopupSceneLayerView as z}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as W}from\"./support/SceneLayerViewRequiredFields.js\";import{TemporalSceneLayerView as K}from\"./support/TemporalSceneLayerView.js\";import{debugFlags as Z}from\"../support/debugFlags.js\";import{compute as Y}from\"../support/orientedBoundingBox.js\";import{updatingProgress as $}from\"../support/updatingProperties.js\";import{Vertices as J}from\"../webgl-engine/lib/Attribute.js\";import{UpdatePolicy as X}from\"../webgl-engine/lib/UpdatePolicy.js\";import ee from\"../../layers/SceneLayerView.js\";import{hasPopupTemplate as te}from\"../../layers/support/popupUtils.js\";import{defaultHighlightName as re}from\"../../support/HighlightDefaults.js\";import{TaskPriority as ie}from\"../../support/Scheduler.js\";const se=B();class oe{constructor(e,t,r,i){this.graphics=e,this.featureIds=t,this.attributeInfo=r,this.node=i}get cachedMemory(){return this.graphics.reduce(((e,t)=>x(t)+e),s(this.featureIds)+1024)}}let ae=class extends(K(U(z(D(ee))))){constructor(){super(...arguments),this.type=\"scene-layer-graphics-3d\",this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this._pendingEditsQueue=Promise.resolve(),this.loadedGraphics=new V(((e,t,r)=>ue(e,t,r)),(e=>this.processor.graphicsCore.recreateGraphics(e))),this.holeFilling=\"always\",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}tryRecycleWith(e,t){return e.url===this.layer.url&&this._i3sOverrides.isEmpty?e.load(t).then((()=>{M(this.layer,e,this._i3sOverrides),this.layer=e,this._i3sOverrides.destroy();const t=this.view.resourceController?.memoryController;this._i3sOverrides=new R({view:this.view,layer:e,memoryController:t}),i(this._queryEngine),this._setupQueryEngine(),this.processor.resetObjectStates()})):null}initialize(){this.addResolvingPromise(this.layer.indexInfo);const e=this.view.resourceController?.memoryController;this._i3sOverrides=new R({view:this.view,layer:this.layer,memoryController:e}),H(this.layer,this.view.spatialReference,this.view.viewingMode),this._fieldsHelper=new W({layerView:this}),this._updatingHandles.add((()=>this.layer.rangeInfos),(e=>this._rangeInfosChanged(e)),o),this._updatingHandles.add((()=>this.layer.renderer),((e,t)=>this._rendererChange(e,t))),this._updatingHandles.add((()=>[this.parsedDefinitionExpression,this._excludeObjectIdsSorted]),(()=>this._filterChange())),this.addHandles(a((()=>Z.I3S_TREE_SHOW_TILES),(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Z.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||Z.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}),o)),this._set(\"processor\",new F({owner:this,preferredUpdatePolicy:X.ASYNC,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.processor.elevationAlignment?.events.on(\"invalidate-elevation\",(({extent:e,spatialReference:t})=>this._controller.updateElevationChanged(e,t))),this.supportsHeightUnitConversion&&(this._verticalScale=b(\"point\",this.layer.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.processor.when()),this._memCache=this.view.resourceController.memoryController.newCache(`psl-${this.uid}`),this._controller=new w({layerView:this}),Q(this.layer.geometryDefinitions)&&(this._worker=new C((e=>this.view.resourceController.immediate.schedule(e)))),this.addHandles(this.layer.on(\"apply-edits\",(e=>this._updatingHandles.addPromise(e.result)))),this.addHandles(this.layer.on(\"edits\",(e=>{const t=this._pendingEditsQueue.then((()=>this._handleEdits(e))).then();this._pendingEditsQueue=t,this._updatingHandles.addPromise(t)}))),this.when((()=>{this._setupQueryEngine(),this._updatingHandles.add((()=>this.maximumNumberOfFeatures),(e=>this._controller.featureTarget=e),o),this._updatingHandles.add((()=>this.suspended),(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=i(this._treeDebugger),this._i3sOverrides=i(this._i3sOverrides),this._set(\"processor\",i(this.processor)),this._controller=i(this._controller),this._queryEngine=i(this._queryEngine),this._worker=i(this._worker),this._memCache=i(this._memCache),this.loadedGraphics.clear(),this._fieldsHelper=i(this._fieldsHelper)}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??1}get requiredFields(){return this._fieldsHelper?.requiredFields??[]}get maximumNumberOfFeatures(){const e=this.processor?.graphicsCore?.displayFeatureLimit;return e?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){null!=e?(this._override(\"maximumNumberOfFeatures\",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride(\"maximumNumberOfFeatures\"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached)}get _excludeObjectIdsSorted(){const e=this.layer.excludeObjectIds;return e.length?e.toArray().sort(((e,t)=>e-t)):null}get lodFactor(){return\"Labels\"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}get hasM(){return!1}get hasZ(){return!0}get contentVisible(){return!this.suspended&&!!this._controller?.rootNodeVisible}get legendEnabled(){return this.contentVisible&&!0===this.i3slayer?.legendEnabled}async whenGraphicAttributes(e,t){return q(this.layer,e,this._getObjectIdField(),t,(()=>[...this.loadedGraphics.nodes()]))}getHit(e){if(!this.loadedGraphics)return null;const t=E(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t?.attributes?.[r]?(t.layer=this.layer,t.sourceLayer=this.layer,{type:\"graphic\",graphic:t,layer:t.layer}):null}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor.computeAttachmentOrigin(e,t)}isUpdating(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)}highlight(e,t){return this.processor.highlight(e,this.layer.objectIdField,t?.name??re)}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return A(this._attributeEditingContext,e)}async _decompressBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};null==this._worker&&(this._worker=new C((e=>this.view.resourceController.immediate.schedule(e))));const i=await this._worker.invoke(r,t);if(null==i)throw new Error(\"Failed to decompress Draco point data\");return{positionData:i.positions,featureIds:i.featureIds}}async addNode(e,t,i){if(!de(t)&&!le(t))throw new Error;if(this.loadedGraphics.hasNode(e.index))return void r.getLogger(this).error(\"I3S node \"+e.id+\" already added\");const s=null!=this.layer.fullExtent?pe(this.layer.fullExtent.clone(),.5):null,{featureIds:o,pointPositions:a}=de(t)?await this._extractBinaryPointPositions(e,t,i):this._extractLegacyPointPositions(t),n=new Array;this._validatePositions(e,o,a,s,n);const l=this._controller.crsVertex,d=this.view.spatialReference;c(a,l,0,a,d,0,o.length);const u=de(t)?e.level:0,h=this._createGraphics(o,a,e.index,u),p=new oe(h,o,t.attributeDataInfo,e);if(await this._i3sOverrides.applyAttributeOverrides(p.featureIds,t.attributeDataInfo,i),e.numFeatures=p.graphics.length,this._updateNodeMemory(e),he(p),n.length>0&&(this._computeObb(e,n,l),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return void this._cacheNodeData(p);if(null!=this._verticalScale)for(const r of p.graphics)this._verticalScale(r.geometry);const m=this.view._stage.renderView.olidRenderHelper;if(m){const e=O(this.view.map,this.layer.uid);for(let t=0;t<p.featureIds.length;t++){const r=p.featureIds[t];m.setUidToObjectAndLayerId(r,p.graphics[t].uid,this.layer.id,this.layer.uid,this.layer.popupEnabled&&!e&&te(this.layer,this.view.popup?.defaultPopupTemplateEnabled),p.node.resources.attributes,t)}}this.loadedGraphics.addNode(e.index,p),this._controller.updateLoadStatus(e.index,!0),this._filterNode(p),this._treeDebugger&&this._treeDebugger.update()}_computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;c(t,r,0,t,s,0),e.serviceObbInIndexSR=Y(new J(t,3)),i.isGeographic&&(m(e.serviceObbInIndexSR.center,s,me,i),e.serviceObbInIndexSR.center=me)}isNodeLoaded(e){return this.loadedGraphics.hasNode(e)}isNodeReloading(){return!1}updateNodeState(){}async _extractBinaryPointPositions(e,t,r){const i=await this._decompressBinaryPointData(t,r),s=i.positionData,o=3,a=s.length/o,n=f(3*a),l=null!=e.serviceObbInIndexSR?e.serviceObbInIndexSR.center:h,d=Math.abs(l[2])*2**-20;for(let u=0;u<a;u++){const e=u*o;n[e]=s[e]+l[0],n[e+1]=s[e+1]+l[1],n[e+2]=s[e+2]+l[2],Math.abs(n[e+2])<d&&(n[e+2]=0)}return{featureIds:i.featureIds?_(i.featureIds):[],pointPositions:n}}_extractLegacyPointPositions(e){const t=e.pointData.length,r=f(3*t),i=new Array;for(let s=0;s<t;s++){const t=e.pointData[s],o=t.featureDataPosition,a=o.length,n=t.geometries?.[0]??ce[a],l=t.featureIds[0];if(\"Embedded\"!==n.type||\"points\"!==n.params.type||a<2||a>3)continue;const d=n.params.vertexAttributes?.position??[0,0,0],u=3*i.length;r[u]=o[0]+d[0],r[u+1]=o[1]+d[1],r[u+2]=3===a?o[2]+d[2]:NaN,i.push(l)}return{featureIds:i,pointPositions:r}}_validatePositions(e,t,i,s,o){if(null==s&&e.serviceObbInIndexSR)return;const a=t.length,n=3;for(let l=0;l<a;l++){const t=l*n;u(me,i[t],i[t+1],i[t+2]);const a=!Number.isNaN(i[2]);null==s||(a?g(s,me):y(s,me))||(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&r.getLogger(this).error(\"Service Error: Coordinates outside of layer extent\"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&r.getLogger(this).error(\"Maximum number of errors reached. Further errors are ignored.\"),this._coordinatesOutsideExtentErrors++),e.serviceObbInIndexSR||o.push(me[0],me[1],me[2])}}_createGraphics(e,t,r,i){const s=e.length,o=3,a=this._getObjectIdField(),l=this.processor.graphicsCore,d=new Array,u=this.view.spatialReference;for(let h=0;h<s;h++){const s=e[h],p={};null!=s&&(p[a]=s);const c=s??n(),m=h*o,g=isNaN(t[m+2])?void 0:t[m+2],y=I(t[m],t[m+1],g,u),f=this.loadedGraphics.get(c);if(null!=f)(null==f.level||f.level<i)&&(ge.property=\"geometry\",ge.graphic=f,ge.oldValue=f.geometry,ge.newValue=y,f.geometry=y,f.level=i,l.graphicUpdateHandler(ge)),d.push(f);else{const e=n();d.push({objectId:c,uid:e,geometry:y,attributes:p,visible:!0,nodeIndex:r,level:i})}}return d}_updateNodeMemory(e){e.memory=4096+(null!=e.numFeatures?e.numFeatures*this.processor.graphicsCore.usedMemoryPerGraphic:0)}_cacheNodeData(e){this._memCache.put(this._getMemCacheKey(e.node),e)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this.loadedGraphics.forEachNode(((e,t)=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}this._controller.updateLoadStatus(t,!1)})),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this.loadedGraphics.getNode(e);return null==t?null:(this._controller.updateLoadStatus(e,!1),this.loadedGraphics.removeNode(e),this._treeDebugger&&this._treeDebugger.update(),t)}async loadCachedNodeData(e){return this._memCache?.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,t,i,s){this.loadedGraphics.hasNode(e.index)?r.getLogger(this).error(\"I3S node \"+e.id+\" already added\"):(await this._i3sOverrides.applyAttributeOverrides(t.featureIds,i,s),t.attributeInfo=i,this.loadedGraphics.addNode(e.index,t),this._controller.updateLoadStatus(e.index,!0),this._updateNodeMemory(e),he(t),this._filterNode(t),this._treeDebugger&&this._treeDebugger.update())}getLoadedNodeIds(){const e=[];return this.loadedGraphics.forEachNode((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this.loadedGraphics.forEachNode((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this.loadedGraphics.forEachNode(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.attributeData}_setAttributeData(e,t){const r=this.loadedGraphics.getNode(e);null!=r?.attributeInfo&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this.loadedGraphics.getNode(e);null!=i&&(await this._i3sOverrides.applyAttributeOverrides(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){he(e),this._filterNode(e);const{processor:t}=this,{graphicsCore:r}=t;if(r.labelsEnabled){const t=e.node.index,i=new Array;e.graphics.forEach((e=>e.nodeIndex===t&&i.push(e.uid))),r.updateLabelingInfo(i)}t.refreshFilter()}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||v}_getGlobalIdField(){return this.layer.associatedLayer?.globalIdField}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every(((e,t)=>s[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&r.getLogger(this).warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}_filterChange(){this.loadedGraphics.forEachNode((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const r=this.parsedDefinitionExpression,i=this._excludeObjectIdsSorted,s=this._getObjectIdField();for(const o of e.graphics){const e=o.visible,a=!r||this._evaluateClause(r,o),n=null==i||t(i,o.attributes[s])<0;o.visible=a&&n,e!==o.visible&&(ge.graphic=o,ge.property=\"visible\",ge.oldValue=e,ge.newValue=o.visible,this.processor.graphicsCore.graphicUpdateHandler(ge))}}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return null!=this.filter?this.filter.createQuery(e):new j(e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():j.from(e))}_setupQueryEngine(){const{layer:e,view:t,hasM:r,hasZ:i}=this,{spatialReference:s,resourceController:o}=t,a=new G(s,e,o,(()=>this.processor.featureStore),i,r);this._queryEngine=new S({context:a,priority:ie.FEATURE_QUERY_ENGINE})}get usedMemory(){return this.processor?.graphicsCore?.usedMemory??0}get unloadedMemory(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))}get ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}async _handleEdits(e){const t=this._attributeEditingContext,r=await P(t,e);L(t,r)}get _attributeEditingContext(){const e=this._getObjectIdField(),t=this._getGlobalIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,globalIdField:t,forEachNode:e=>this.loadedGraphics.forEachNode((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo??[],i3sOverrides:this._i3sOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this._setAttributeData(t,r);const s=this.loadedGraphics.getNode(t);if(null!=i){const t=this.loadedGraphics.get(i.attributes[e]);null!=t&&this.processor.graphicsCore.recreateGraphics([t])}else null!=s&&this.processor.graphicsCore.recreateGraphics(s.graphics)},clearMemCache:()=>{}}}get performanceInfo(){return new k(this.usedMemory,this.loadedGraphics.length,-1,this.maximumNumberOfFeatures,this.loadedGraphics.nodeCount,this.processor.graphicsCore.performanceInfo)}get test(){}};e([l()],ae.prototype,\"processor\",void 0),e([l({type:N})],ae.prototype,\"filter\",void 0),e([l()],ae.prototype,\"loadedGraphics\",void 0),e([l()],ae.prototype,\"i3slayer\",null),e([l()],ae.prototype,\"_controller\",void 0),e([l()],ae.prototype,\"updating\",void 0),e([l()],ae.prototype,\"suspended\",void 0),e([l()],ae.prototype,\"holeFilling\",void 0),e([l($)],ae.prototype,\"updatingProgress\",void 0),e([l()],ae.prototype,\"updatingProgressValue\",null),e([l(se.requiredFields)],ae.prototype,\"requiredFields\",null),e([l(se.availableFields)],ae.prototype,\"availableFields\",void 0),e([l()],ae.prototype,\"_fieldsHelper\",void 0),e([l({type:Number})],ae.prototype,\"maximumNumberOfFeatures\",null),e([l({readOnly:!0})],ae.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([l()],ae.prototype,\"_excludeObjectIdsSorted\",null),e([l({readOnly:!0})],ae.prototype,\"lodFactor\",null),e([l({readOnly:!0})],ae.prototype,\"hasM\",null),e([l({readOnly:!0})],ae.prototype,\"hasZ\",null),e([l()],ae.prototype,\"contentVisible\",null),e([l({readOnly:!0})],ae.prototype,\"legendEnabled\",null),ae=e([d(\"esri.views.3d.layers.SceneLayerGraphicsView3D\")],ae);const ne=ae;function le(e){return\"pointData\"in e}function de(e){return\"geometryBuffer\"in e&&null!==e.geometryBuffer}function ue(e,t,r){const i=t.attributeInfo;if(null==i?.loadedAttributes||null==i.attributeData)return!1;let s=!1;for(const{name:o}of i.loadedAttributes)if(i.attributeData[o]){const t=T(i.attributeData[o],r);t!==e.attributes[o]&&(e.attributes[o]=t,s=!0)}return s}function he(e){const t=e.attributeInfo,r=e.node.index;if(null!=t?.loadedAttributes&&null!=t.attributeData)for(let i=0;i<e.graphics.length;i++){const s=e.graphics[i];if(s.nodeIndex===r){s.attributes||(s.attributes={});for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(s.attributes[e]=T(t.attributeData[e],i))}}}function pe(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,null!=e.zmin&&null!=e.zmax&&(e.zmin-=t,e.zmax+=t),null!=e.mmin&&null!=e.mmax&&(e.mmin-=t,e.mmax+=t),e}const ce={2:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0]}}},3:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0,0]}}}},me=p(),ge={graphic:null,property:null,oldValue:null,newValue:null};export{ne as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getTimeOperator as i}from\"../../../../layers/graphics/data/timeSupport.js\";import s from\"../../../../layers/support/FeatureFilter.js\";import{combineTimeExtent as n}from\"../../../../layers/support/timeSupport.js\";import{filterInPlace as o,getCachedAttributeValue as l}from\"../i3s/I3SUtil.js\";const u=i=>{let o=class extends i{get timeExtent(){return n(this.i3slayer,this.view?.timeExtent,this._get(\"timeExtent\"))}get mergedFilter(){const{filter:t,timeExtent:e}=this;if(null==e)return t;const r=t?.clone()??new s;return null!=e&&(r.timeExtent=r.timeExtent?.intersection(e)??e),r}getTimeFilterDependencies(){const{timeInfo:t}=this.i3slayer;if(null==t)return[];const{startField:e,endField:r}=t;return[e,r]}addTimeFilter(t,e){if(null==e)return;const{timeInfo:r}=this.i3slayer;if(null==r)return;const{startField:i,endField:s,useTime:n}=r;if(!n||null==i&&null==s)return;const o=r.toJSON(),l=e.toJSON();t.push(((t,e)=>a(t,e,o,l)))}};return t([e({readOnly:!0})],o.prototype,\"timeExtent\",null),t([e()],o.prototype,\"mergedFilter\",null),o=t([r(\"esri.views.3d.layers.support.TemporalSceneLayerView\")],o),o};function a(t,e,r,s){const n=e.attributeInfo?.attributeData;if(null==n)return;const{startTimeField:l,endTimeField:u}=r;if(!!(null!=l&&null==n[l]||null!=u&&null==n[u]))return;const a=i(r,s,new m(n));if(null==a)return;const{featureIds:p}=e;o(t,p,a)}class m{constructor(t){this.attributeData=t}getAttribute(t,e){return l(this.attributeData[e],t)}getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return\"string\"==typeof r?new Date(r).getTime():\"number\"==typeof r||null==r?r:null}}export{u as TemporalSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst n=\"updating\";function t(n){return\"updating\"===n?null:n}function u(n){return\"updating\"===n}export{u as isUpdating,t as unwrapUpdating,n as updating};\n"],"names":["t","p","constructor","super","arguments","this","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","r","e","getLogger","error","parsedDefinitionExpression","_this$i3slayer","i3slayer","definitionExpression","o","create","fieldsIndex","isStandardized","i","s","fieldNames","n","fields","missingFields","length","concat","join","definitionExpressionFields","_evaluateClause","testFeature","_addDefinitionExpressionToQuery","clone","where","readOnly","prototype","dracoDecompressPointCloudData","geometryBuffer","hasInitialize","_updateAndCompare","_notifyUpdated","_nodes","Map","_graphics","_duplicates","clear","size","toArray","emit","added","removed","get","getNode","hasNode","has","nodes","values","addNode","set","graphics","Set","objectId","h","add","push","nodeIndex","_updateForeignGraphics","filter","removeNode","delete","indexOf","splice","node","level","forEach","index","Array","from","find","some","forEachNode","nodeCount","_checkInvariants","_e$get","se","B","oe","featureIds","attributeInfo","cachedMemory","reduce","x","ae","K","U","z","D","ee","type","_queryEngine","_memCache","_interactiveEditingSessions","_pendingEditsQueue","Promise","resolve","loadedGraphics","V","loadedAttributes","attributeData","name","T","attributes","ue","processor","graphicsCore","recreateGraphics","holeFilling","progressiveLoadFactor","supportsHeightUnitConversion","_coordinatesOutsideExtentErrors","_maxCoordinatesOutsideExtentErrors","tryRecycleWith","url","layer","_i3sOverrides","isEmpty","load","then","_this$view$resourceCo","M","destroy","view","resourceController","memoryController","R","_setupQueryEngine","resetObjectStates","initialize","_this$view$resourceCo2","_this$processor$eleva","addResolvingPromise","indexInfo","H","spatialReference","viewingMode","_fieldsHelper","W","layerView","_updatingHandles","rangeInfos","_rangeInfosChanged","renderer","_rendererChange","_excludeObjectIdsSorted","_filterChange","addHandles","a","Z","I3S_TREE_SHOW_TILES","_treeDebugger","_controller","crsIndex","_ref","I3STreeDebugger","lv","nodeSR","_set","F","owner","preferredUpdatePolicy","X","ASYNC","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","setUidToIdOnAdd","dataExtent","fullExtent","updateClippingExtent","_updateClippingExtent","elevationAlignment","events","on","_ref2","extent","updateElevationChanged","_verticalScale","b","when","newCache","uid","w","Q","geometryDefinitions","_worker","C","immediate","schedule","addPromise","result","_handleEdits","maximumNumberOfFeatures","featureTarget","suspended","_removeAllNodeData","updatingProgressValue","_this$_controller$upd","_this$_controller","updatingProgress","requiredFields","_this$_fieldsHelper$r","_this$_fieldsHelper","_this$processor","_e$maximumNumberOfFea","displayFeatureLimit","_override","fixedFeatureTarget","_clearOverride","maximumNumberOfFeaturesExceeded","_this$_controller2","useMaximumNumberOfFeatures","leavesReached","excludeObjectIds","sort","lodFactor","semantic","qualitySettings","sceneService","point","hasM","hasZ","contentVisible","_this$_controller3","rootNodeVisible","legendEnabled","whenGraphicAttributes","q","_getObjectIdField","getHit","_t$attributes","E","sourceLayer","graphic","whenGraphicBounds","computeAttachmentOrigin","isUpdating","_this$_controller4","_this$processor2","_this$_fieldsHelper2","updating","layerFilterUpdating","highlight","_t$name","objectIdField","re","updatePolicy","effectiveUpdatePolicy","createInteractiveEditSession","A","_attributeEditingContext","_decompressBinaryPointData","invoke","Error","positionData","positions","de","le","id","xmin","ymin","xmax","ymax","zmin","zmax","mmin","mmax","pe","pointPositions","_extractBinaryPointPositions","_extractLegacyPointPositions","_validatePositions","l","crsVertex","d","c","u","_createGraphics","attributeDataInfo","applyAttributeOverrides","numFeatures","_updateNodeMemory","he","_computeObb","updateVisibility","isGeometryVisible","_cacheNodeData","geometry","m","_stage","renderView","olidRenderHelper","O","map","_this$view$popup","setUidToObjectAndLayerId","popupEnabled","te","popup","defaultPopupTemplateEnabled","resources","updateLoadStatus","_filterNode","update","isGeographic","renderSpatialReference","serviceObbInIndexSR","Y","J","center","me","isNodeLoaded","isNodeReloading","updateNodeState","f","Math","abs","_","pointData","_t$geometries$","_t$geometries","_n$params$vertexAttri","_n$params$vertexAttri2","featureDataPosition","geometries","ce","params","vertexAttributes","position","NaN","Number","isNaN","g","y","I","ge","property","oldValue","newValue","graphicUpdateHandler","visible","memory","usedMemoryPerGraphic","put","_getMemCacheKey","_removeNodeStageData","loadCachedNodeData","_this$_memCache","pop","addCachedNodeData","getLoadedNodeIds","getVisibleNodes","getLoadedNodeIndices","getLoadedAttributes","getAttributeData","_setAttributeData","_attributeValuesChanged","updateAttributes","labelsEnabled","updateLabelingInfo","refreshFilter","updateClippingArea","v","_getGlobalIdField","_this$layer$associate","associatedLayer","globalIdField","collectRequiredFields","every","_reloadAllNodes","warn","restartNodeLoading","createQuery","outFields","returnGeometry","outSpatialReference","j","queryFeatures","executeQuery","_ensureQuery","signal","queryObjectIds","executeQueryForIds","queryFeatureCount","executeQueryForCount","queryExtent","executeQueryForExtent","G","featureStore","S","context","priority","ie","FEATURE_QUERY_ENGINE","usedMemory","_this$processor$graph","_this$processor3","unloadedMemory","_this$_controller$unl","_this$_controller5","_this$processor$graph2","_this$processor4","unloadedMemoryEstimate","unprocessedMemoryEstimate","ignoresMemoryFactor","P","L","_this$i3slayer$attrib","sessions","attributeStorageInfo","i3sOverrides","setAttributeData","clearMemCache","performanceInfo","k","test","N","$","availableFields","ne","timeExtent","_this$view","_get","mergedFilter","_t$clone","_r$timeExtent$interse","_r$timeExtent","intersection","getTimeFilterDependencies","timeInfo","startField","endField","addTimeFilter","useTime","toJSON","_e$attributeInfo","startTimeField","endTimeField","getAttribute","getAttributeAsTimestamp","Date","getTime"],"sourceRoot":""}