"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[22330,38745,41344,55715,74320,75747,98815],{20639:(e,t,r)=>{r.d(t,{Ng:()=>A,OM:()=>w,Q0:()=>b,T8:()=>T,ZP:()=>M,ZT:()=>S,eX:()=>O,fD:()=>C,fb:()=>h,fl:()=>v,iP:()=>Z,oh:()=>_,rX:()=>k,sH:()=>y,yk:()=>U});var i=r(89379),o=(r(11265),r(81806),r(50076)),s=r(15941),n=r(65256),a=r(96017),l=r(85632),u=r(36693),d=r(24241),p=r(38042);const c=u.n$,m={date:null,time:null,timeZoneOffset:null},v=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]),h="latn",y=new Set(["date-only","time-only","timestamp-offset"]),f=e=>"valueAsDate"in e;function w(e){return{locale:(0,p.JK)(),numberingSystem:h,zone:null!==e&&void 0!==e?e:c}}function g(e,t){return null==e?null:d.c9.fromMillis(e,w(t))}function T(e,t){if(null==e||!(0,l.Kg)(e)||""===e){if(t){const e=d.c9.local({zone:t});return{date:null,time:null,timeZoneOffset:e.isValid?e.offset.toString():null}}return m}const r=d.c9.fromISO(e,{setZone:!0});return{date:r.toFormat(a.mo,w()),time:r.toFormat(a.Uq.HMS_MS,w()),timeZoneOffset:r.offset.toString()}}function b(e,t){if(null==e||!(0,l.Et)(e)||isNaN(e))return m;const r=g(e,t);return r?{date:r.toFormat(a.mo,w(t)),time:r.toFormat(a.Fj,w(t))}:m}function S(e){switch(e.type){case"date":default:return(0,n.J2)("short-date-short-time");case"date-only":return(0,n.J2)("short-date");case"time-only":return(0,n.J2)("short-time");case"timestamp-offset":return(0,i.A)((0,i.A)({},(0,n.J2)("short-date-short-time")),{},{timeZone:void 0,timeZoneName:"short"})}}function M(e,t,r){if(!e||null==t)return null;switch(e.type){case"date":return(0,n.Yq)(t,r);case"date-only":return(0,n.iS)(t,r);case"time-only":return(0,n.F8)(t,r);case"timestamp-offset":return(0,n.Ey)(t,r);default:return null}}function A(e){var t;const{dateComponent:r,defaultTimeZone:i,timeComponent:o,timeZoneComponent:s,oldValue:n}=e;if(null===r||void 0===r||!r.value)return null;const{year:l,month:p,day:c}=d.c9.fromFormat(r.value,a.mo),{hour:m,minute:v,second:h,millisecond:y}=null!==(t=N(o,u.n$))&&void 0!==t?t:d.c9.now(),f=T(n,i),w=null!==s&&void 0!==s&&s.value?parseInt(s.value,10):null!=f.timeZoneOffset?parseInt(f.timeZoneOffset,10):(new Date).getTimezoneOffset(),g=d.mQ.instance(w),b=d.c9.fromObject({year:l,month:p,day:c,hour:m,minute:v,second:h,millisecond:y},{zone:g});return b.isValid?b.toISO({includeOffset:!0}):null}function _(e){const{dateComponent:t,timeComponent:r,timeZone:i,max:o,min:s,oldValue:n}=e,a=N(t,i);let l=!!e.applyRange;if(!a)return null;let u=null;if(null!=(null===r||void 0===r?void 0:r.value)){const e=N(r,i),t=Date.now(),s=null!=o&&o<t?o:t,n=d.c9.fromMillis(s,w(i)),l=a||n,{year:p,month:c,day:m}=l,{hour:v,minute:h,second:y,millisecond:f}=e||n;u=l.set({year:p,month:c,day:m,hour:v,minute:h,second:y,millisecond:f})}else{const e=g(D({value:null!==n&&void 0!==n?n:Date.now(),max:o,min:s}),i),{year:t,month:r,day:d}=a,{hour:p,minute:c,second:m,millisecond:v}=e;l=!0,u=a.set({year:t,month:r,day:d,hour:p,minute:c,second:m,millisecond:v})}if(!u.isValid)return null;const p=u.toMillis();return l?D({value:p,max:o,min:s}):p}function N(e,t){var r;if(null==(null===e||void 0===e?void 0:e.value)||Array.isArray(e.value))return null;let i=null;return i=f(e)?d.c9.fromFormat(e.value,a.mo,w(t)):(0,a.UE)(e.value),null!==(r=i)&&void 0!==r&&r.isValid?i:null}function O(e){const{max:t,min:r,value:i}=e;return!isNaN(i)&&!(null!=t&&i>t)&&!(null!=r&&i<r)}function D(e){const{max:t,min:r,value:i}=e;return null!=t&&null!=r?(0,s.qE)(i,r,t):null!=t&&i>t?t:null!=r&&i<r?r:i}function Z(e){if(!e)return"";const t=e.split(".").at(0);if(!t||t.length<1)throw new o.default("invalid time-only field","Cannot parse valid time-only field value from ".concat(e));const r=t.split(":"),i=new Array(3);for(let o=0;o<3;o++){var s;const e=null!==(s=r.at(o))&&void 0!==s?s:"";i[o]=e.padStart(2,"0")}return i.join(":")}function C(e,t){switch(t){case"date":return e.getTime();case"date-only":return e.toISODate();case"time-only":return Z(e.toISOTime(!0,!1));case"timestamp-offset":return e.toISOString(!1);default:return null}}function k(e){return!!e&&"object"==typeof e&&"getTime"in e&&"toISOString"in e&&"timeZone"in e}function U(e){var t,r;const{type:i,range:o,value:s}=e;if(null==s||!o||s===o.min||s===o.max)return!0;if("date"===i)return O({value:s,min:o.min,max:o.max});const{rawMax:n,rawMin:l}=o;let u=null,d=null,p=null;switch(i){case"date-only":u=(0,a.Xi)(n),d=(0,a.Xi)(l),p=(0,a.Xi)(s);break;case"time-only":u=(0,a.UE)(n),d=(0,a.UE)(l),p=(0,a.UE)(s);break;case"timestamp-offset":u=(0,a.gz)(n),d=(0,a.gz)(l),p=(0,a.gz)(s)}return!p||O({value:p.valueOf(),min:null===(t=d)||void 0===t?void 0:t.valueOf(),max:null===(r=u)||void 0===r?void 0:r.valueOf()})}},22330:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var i=r(35143),o=r(69098),s=r(42553),n=r(46053),a=(r(81806),r(76460),r(47249),r(6409)),l=r(85842),u=r(19902),d=r(31608),p=r(73103);let c=class extends(o.A.ClonableMixin(s.A)){constructor(e){super(e),this.doNotLocateOnRestrictedElements=null,this.geometry=null,this.geometryType=null,this.name=null,this.spatialRelationship=null,this.type="layer",this.where=null}};(0,i._)([(0,n.MZ)({type:Boolean,json:{write:!0}})],c.prototype,"doNotLocateOnRestrictedElements",void 0),(0,i._)([(0,n.MZ)({types:d.yR,json:{read:u.fromJSON,write:!0}})],c.prototype,"geometry",void 0),(0,i._)([(0,a.e)(p.Vj)],c.prototype,"geometryType",void 0),(0,i._)([(0,n.MZ)({type:String,json:{name:"layerName",write:!0}})],c.prototype,"name",void 0),(0,i._)([(0,a.e)(p.vS,{name:"spatialRel"})],c.prototype,"spatialRelationship",void 0),(0,i._)([(0,n.MZ)({type:String,json:{write:!0}})],c.prototype,"type",void 0),(0,i._)([(0,n.MZ)({type:String,json:{write:!0}})],c.prototype,"where",void 0),c=(0,i._)([(0,l.$)("esri.rest.support.DataLayer")],c);const m=c},26662:(e,t,r)=>{r.r(t),r.d(t,{default:()=>M});var i,o=r(35143),s=r(69098),n=r(19276),a=r(42553),l=r(46053),u=r(40565),d=(r(81806),r(47249),r(6409)),p=r(28379),c=r(85842),m=r(17707),v=r(13312),h=r(29067),y=r(22330),f=r(77725),w=r(73103),g=r(55715),T=r(74320),b=r(41344);let S=i=class extends(s.A.ClonableMixin(a.A)){constructor(e){super(e),this.accumulateAttributes=null,this.apiKey=null,this.attributeParameterValues=null,this.checksum=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsOutputType=null,this.directionsStyleName=null,this.directionsTimeAttribute=null,this.findBestSequence=null,this.geometryPrecision=null,this.geometryPrecisionM=null,this.geometryPrecisionZ=null,this.ignoreInvalidLocations=null,this.impedanceAttribute=null,this.outputGeometryPrecision=null,this.outputGeometryPrecisionUnits=null,this.outputLines="true-shape",this.outSpatialReference=null,this.overrides=null,this.pointBarriers=null,this.polygonBarriers=null,this.polylineBarriers=null,this.preserveFirstStop=null,this.preserveLastStop=null,this.preserveObjectID=null,this.restrictionAttributes=null,this.restrictUTurns=null,this.returnBarriers=!1,this.returnDirections=!1,this.returnPolygonBarriers=!1,this.returnPolylineBarriers=!1,this.returnRoutes=!0,this.returnStops=!1,this.returnTraversedEdges=null,this.returnTraversedJunctions=null,this.returnTraversedTurns=null,this.returnZ=!0,this.startTime=null,this.startTimeIsUTC=!0,this.stops=null,this.timeWindowsAreUTC=null,this.travelMode=null,this.useHierarchy=null,this.useTimeWindows=null}static from(e){return(0,u.PZ)(i,e)}readAccumulateAttributes(e){return null==e?null:e.map((e=>w.et.fromJSON(e)))}writeAccumulateAttributes(e,t,r){(null===e||void 0===e?void 0:e.length)&&(t[r]=e.map((e=>w.et.toJSON(e))))}writePointBarriers(e,t,r){A(e,t,r)}writePolygonBarrier(e,t,r){A(e,t,r)}writePolylineBarrier(e,t,r){A(e,t,r)}readRestrictionAttributes(e){return null==e?null:e.map((e=>w.OC.fromJSON(e)))}writeRestrictionAttributes(e,t,r){(null===e||void 0===e?void 0:e.length)&&(t[r]=e.map((e=>w.OC.toJSON(e))))}readStartTime(e,t){const{startTime:r}=t;return null==r?null:"now"===r?"now":new Date(r)}writeStartTime(e,t){null!=e&&(t.startTime="now"===e?"now":e.getTime())}readStops(e,t){return function(e){return function(e){return e&&"type"in e}(e)?y.default.fromJSON(e):function(e){return e&&"url"in e}(e)?T.default.fromJSON(e):function(e){return e&&"features"in e&&"doNotLocateOnRestrictedElements"in e}(e)?g.default.fromJSON(e):function(e){return e&&"features"in e}(e)?f.default.fromJSON(e):null}(t.stops)}writeStops(e,t,r){A(e,t,r)}};(0,o._)([(0,l.MZ)({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],S.prototype,"accumulateAttributes",void 0),(0,o._)([(0,p.w)("accumulateAttributes")],S.prototype,"readAccumulateAttributes",null),(0,o._)([(0,m.K)("accumulateAttributes")],S.prototype,"writeAccumulateAttributes",null),(0,o._)([(0,l.MZ)(h.K)],S.prototype,"apiKey",void 0),(0,o._)([(0,l.MZ)({json:{write:!0}})],S.prototype,"attributeParameterValues",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],S.prototype,"checksum",void 0),(0,o._)([(0,l.MZ)({type:String,json:{write:!0}})],S.prototype,"directionsLanguage",void 0),(0,o._)([(0,d.e)(w.Z7)],S.prototype,"directionsLengthUnits",void 0),(0,o._)([(0,d.e)(w.aJ)],S.prototype,"directionsOutputType",void 0),(0,o._)([(0,d.e)(w.$n)],S.prototype,"directionsStyleName",void 0),(0,o._)([(0,d.e)(w.Mm,{name:"directionsTimeAttributeName",ignoreUnknown:!1})],S.prototype,"directionsTimeAttribute",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"findBestSequence",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{write:!0}})],S.prototype,"geometryPrecision",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{write:!0}})],S.prototype,"geometryPrecisionM",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{write:!0}})],S.prototype,"geometryPrecisionZ",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"ignoreInvalidLocations",void 0),(0,o._)([(0,d.e)(w.et,{name:"impedanceAttributeName",ignoreUnknown:!1})],S.prototype,"impedanceAttribute",void 0),(0,o._)([(0,l.MZ)({type:Number,json:{write:!0}})],S.prototype,"outputGeometryPrecision",void 0),(0,o._)([(0,d.e)(w.hY)],S.prototype,"outputGeometryPrecisionUnits",void 0),(0,o._)([(0,d.e)(w.Sr)],S.prototype,"outputLines",void 0),(0,o._)([(0,l.MZ)({type:v.default,json:{name:"outSR",write:!0}})],S.prototype,"outSpatialReference",void 0),(0,o._)([(0,l.MZ)({json:{write:!0}})],S.prototype,"overrides",void 0),(0,o._)([(0,l.MZ)({json:{name:"barriers",write:!0}})],S.prototype,"pointBarriers",void 0),(0,o._)([(0,m.K)("pointBarriers")],S.prototype,"writePointBarriers",null),(0,o._)([(0,l.MZ)({json:{write:!0}})],S.prototype,"polygonBarriers",void 0),(0,o._)([(0,m.K)("polygonBarriers")],S.prototype,"writePolygonBarrier",null),(0,o._)([(0,l.MZ)({json:{write:!0}})],S.prototype,"polylineBarriers",void 0),(0,o._)([(0,m.K)("polylineBarriers")],S.prototype,"writePolylineBarrier",null),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"preserveFirstStop",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"preserveLastStop",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"preserveObjectID",void 0),(0,o._)([(0,l.MZ)({type:[String],json:{name:"restrictionAttributeNames",write:!0}})],S.prototype,"restrictionAttributes",void 0),(0,o._)([(0,p.w)("restrictionAttributes")],S.prototype,"readRestrictionAttributes",null),(0,o._)([(0,m.K)("restrictionAttributes")],S.prototype,"writeRestrictionAttributes",null),(0,o._)([(0,d.e)(w.hE)],S.prototype,"restrictUTurns",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"returnBarriers",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"returnDirections",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"returnPolygonBarriers",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"returnPolylineBarriers",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"returnRoutes",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"returnStops",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"returnTraversedEdges",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"returnTraversedJunctions",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"returnTraversedTurns",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"returnZ",void 0),(0,o._)([(0,l.MZ)({json:{write:!0}})],S.prototype,"startTime",void 0),(0,o._)([(0,p.w)("startTime")],S.prototype,"readStartTime",null),(0,o._)([(0,m.K)("startTime")],S.prototype,"writeStartTime",null),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"startTimeIsUTC",void 0),(0,o._)([(0,l.MZ)({json:{write:!0}})],S.prototype,"stops",void 0),(0,o._)([(0,p.w)("stops")],S.prototype,"readStops",null),(0,o._)([(0,m.K)("stops")],S.prototype,"writeStops",null),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"timeWindowsAreUTC",void 0),(0,o._)([(0,l.MZ)({type:b.default,json:{write:!0}})],S.prototype,"travelMode",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"useHierarchy",void 0),(0,o._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],S.prototype,"useTimeWindows",void 0),S=i=(0,o._)([(0,c.$)("esri.rest.support.RouteParameters")],S);const M=S;function A(e,t,r){null!=e&&(t[r]=n.default.isCollection(e)?{features:e.toArray().map((e=>e.toJSON()))}:e.toJSON())}},38745:(e,t,r)=>{r.r(t),r.d(t,{default:()=>U});var i,o,s=r(36140),n=r(89379),a=r(35143),l=r(19276),u=r(50076),d=r(54099),p=r(76460),c=r(50346),m=r(68134),v=r(46053),h=(r(81806),r(47249),r(85842)),y=r(65256),f=r(38042),w=r(98815),g=r(26662),T=r(75747),b=r(41344),S=r(96017),M=r(36693),A=r(67478),_=r(77430),N=r(20639),O=r(79535),D=r(24241);function Z(e){return"no"===e||"nb"===e}function C(e,t){return e===t||Z(e)&&Z(t)}(o=i||(i={}))[o.Active=0]="Active",o[o.Complete=1]="Complete",o[o.Failed=2]="Failed",o[o.Idle=3]="Idle",o[o.Suspended=4]="Suspended";let k=class extends((0,O.A)(d.A.EventedAccessor)){constructor(e){super(e),this._debouncedSolveHandler=(0,c.debounce)((async e=>{var t,r;switch(e.type){case"create":if("complete"!==e.state)return;break;case"delete":break;case"update":switch(e.state){case"start":return void(this._networkFeatureUpdated=!1);case"active":return void(this._networkFeatureUpdated=!0);case"complete":if(!this._networkFeatureUpdated)return}}if(!((null!==(t=null===(r=this.layer)||void 0===r?void 0:r.stops.filter((e=>{let{geometry:t}=e;return!!t})).length)&&void 0!==t?t:0)<2)&&this.autoSolve)try{await this.getDirections({zoomToSolvedRoute:!1})}catch(i){p.A.getLogger(this).error(i)}})),this._highlight=null,this._loadController=null,this._loadPromise=null,this._networkFeatureUpdated=!1,this._layerView=null,this._routeController=null,this._serviceDescriptionStatus=i.Idle,this.apiKey=void 0,this.autoSolve=!0,this.defaultTravelMode=null,this.departureIsoDate=void 0,this.departureIsoTime=void 0,this.departureOption=_.jW.NOW,this.departureTime="now",this.lastError=null,this.lastRoute=null,this.layer=null,this.maxStops=50,this.routeParameters=new g.default({directionsLengthUnits:"kilometers",findBestSequence:!1,preserveFirstStop:!0,preserveLastStop:!0,returnZ:!0,useTimeWindows:!1}),this.serviceDescription=null,this.view=null}initialize(){var e,t;this.addHandles([(0,m.watch)((()=>this.layer),(e=>{if(null!=e){for(;e.stops.length<2;)e.stops.add(new T.default);this._set("defaultTravelMode",null),this.addHandles((0,m.when)((()=>{var t;return this.serviceDescription?null===(t=e.routeInfo)||void 0===t||null===(t=t.analysisSettings)||void 0===t?void 0:t.travelMode:null}),(e=>{this.defaultTravelMode=this._resolveDefaultTravelMode(e)}),{once:!0}))}}),m.syncAndInitial),(0,m.watch)((()=>[this.layer,this.view]),(async()=>{this._layerView=await this._getRouteLayerView()}),m.syncAndInitial),(0,m.on)((()=>this._layerView),["create","delete","update"],(e=>{this._debouncedSolveHandler(e).catch((e=>{if(!(0,c.isAbortError)(e))throw e}))}))]);const r=(0,y.wj)(null!==(e=null===(t=this.view)||void 0===t?void 0:t.timeZone)&&void 0!==e?e:M.qU),i=D.c9.fromMillis(Date.now());this.departureIsoDate=i.toFormat(S.mo,(0,N.OM)(r)),this.departureIsoTime=i.toFormat(S.Fj,(0,N.OM)(r))}get _directionsLanguage(){var e,t;const r=null===(e=this.serviceDescription)||void 0===e?void 0:e.directionsSupportedLanguages;if(!r)return;const i=null!==(t=this.routeParameters.directionsLanguage)&&void 0!==t?t:(0,f.JK)(),o=(0,f.ZS)(i),s=null===o||void 0===o?void 0:o.language,n=null===o||void 0===o?void 0:o.region;return s?function(e,t){var r,i,o;return null!==(r=null===(i=e.find((e=>{let{parts:r}=e;return C(r.language,t.language)&&r.region===t.region})))||void 0===i?void 0:i.locale)&&void 0!==r?r:null===(o=e.find((e=>{let{parts:r}=e;return C(r.language,t.language)})))||void 0===o?void 0:o.locale}(function(e){return e.map((e=>({locale:e,parts:(0,f.ZS)(e)}))).filter((e=>{let{parts:t}=e;return!!t}))}(r),{language:s,region:n}):void 0}get formattedEta(){var e,t,r,i,o,s;const a=null===(e=this.layer)||void 0===e||null===(e=e.routeInfo)||void 0===e?void 0:e.endTime,l=null===(t=this.layer)||void 0===t||null===(t=t.routeInfo)||void 0===t?void 0:t.endTimeOffset;if(this.departureOption===_.jW.UNSPECIFIED||!a||!l)return null;const u=D.c9.fromJSDate(a,{zone:D.mQ.instance(l)}),d=D.c9.fromJSDate(a,{zone:D.oh.create((0,y.wj)(null!==(r=null===(i=this.view)||void 0===i?void 0:i.timeZone)&&void 0!==r?r:M.qU))}),p=D.c9.fromJSDate(new Date,{zone:D.oh.create((0,y.wj)(null!==(o=null===(s=this.view)||void 0===s?void 0:s.timeZone)&&void 0!==o?o:M.qU))}),c=p.year===d.year&&p.month===d.month&&p.day===d.day,m=d.offset===l?void 0:A.dS,v=c?void 0:(0,y.J2)("short-date"),h=(0,y.J2)("short-time");return(0,y.Ey)(u.toISO(),(0,n.A)((0,n.A)((0,n.A)({},v),h),{},{timeZoneName:m}))}get impedanceAttribute(){var e,t,r,i,o;const s=null!==(e=null!==(t=null!==(r=null===(i=this.routeParameters.travelMode)||void 0===i?void 0:i.impedanceAttributeName)&&void 0!==r?r:this.routeParameters.impedanceAttribute)&&void 0!==t?t:null===(o=this.serviceDescription)||void 0===o?void 0:o.impedance)&&void 0!==e?e:null;return this.getCostAttribute(s)}get selectedNetworkFeatures(){var e,t;return null!==(e=null===(t=this._layerView)||void 0===t?void 0:t.selectedNetworkFeatures)&&void 0!==e?e:null}get selectedTravelMode(){var e,t,r,i;return this.serviceDescription&&null!==(e=null!==(t=null!==(r=this.defaultTravelMode)&&void 0!==r?r:this.serviceDescription.defaultTravelMode)&&void 0!==t?t:null===(i=this.serviceDescription.supportedTravelModes)||void 0===i?void 0:i[0])&&void 0!==e?e:null}set selectedTravelMode(e){this._override("selectedTravelMode",e)}get state(){if(this._routeController)return"routing";if(this.lastError)return"error";switch(this._serviceDescriptionStatus){case i.Suspended:return"unauthenticated";case i.Idle:return"disabled";case i.Active:return"initializing";case i.Failed:return"error";default:return"ready"}}get timeAttribute(){var e,t,r,i,o;const s=null!==(e=null!==(t=null!==(r=null===(i=this.routeParameters.travelMode)||void 0===i?void 0:i.timeAttributeName)&&void 0!==r?r:this.routeParameters.directionsTimeAttribute)&&void 0!==t?t:null===(o=this.serviceDescription)||void 0===o?void 0:o.directionsTimeAttribute)&&void 0!==e?e:null;return this.getCostAttribute(s)}get travelModes(){var e,t;const r=null!==(e=null===(t=this.serviceDescription)||void 0===t||null===(t=t.supportedTravelModes)||void 0===t?void 0:t.slice())&&void 0!==e?e:[];return null==this.defaultTravelMode||r.includes(this.defaultTravelMode)||r.unshift(this.defaultTravelMode),r}async load(){if(this._loadPromise)return this._loadPromise;this._loadPromise=this._load(),await this._loadPromise,this._loadPromise=null}async highlight(e){if(this.clearHighlights(),!this.view||!this.layer)return;const t=await this.view.whenLayerView(this.layer);this._highlight=t.highlight(e)}clearHighlights(){null!=this._highlight&&(this._highlight.remove(),this._highlight=null)}centerAt(e){if(!this.view)return;const t=function(e){return"esri.rest.support.Stop"===(null===e||void 0===e?void 0:e.declaredClass)}(e)||function(e){return"esri.Graphic"===(null===e||void 0===e?void 0:e.declaredClass)}(e)?e.geometry:e;t&&this.callGoTo({target:t})}clearResults(){var e;this._set("lastRoute",null),null===(e=this.layer)||void 0===e||e.removeResult()}async create(e){var t;await(null===(t=this._layerView)||void 0===t?void 0:t.create(e))}async getDirections(){var e,t;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{zoomToSolvedRoute:!0};const{apiKey:o,layer:s,state:n}=this;if(!s)throw new u.default("directions-view-model:missing-route-layer","A route layer must be associated with the view model.");if("unauthenticated"===n||"initializing"===n||"disabled"===n||this._serviceDescriptionStatus===i.Failed)throw new u.default("directions-view-model:not-loaded","Cannot get directions until view model loads.");null!=this._routeController&&(this._routeController.abort(),this._routeController=null);const{startTime:a,startTimeIsUTC:l}=this._getStartTimeParameters(),d=null!==(e=null===(t=this.view)||void 0===t?void 0:t.spatialReference)&&void 0!==e?e:null,p=this.routeParameters.clone();if(p.set({apiKey:o,directionsLanguage:this._directionsLanguage,outSpatialReference:d,startTime:a,startTimeIsUTC:l}),this.selectedTravelMode&&(p.travelMode=this.selectedTravelMode),s.stops.filter((e=>{let{geometry:t}=e;return null!=t})).length<2){const e=new u.default("directions-view-model:not-enough-stops","Not enough stops for routing");throw this._set("lastError",e),e}this._routeController=new AbortController;const{signal:m}=this._routeController;let v=null;try{v=await s.solve(p,{signal:m})}catch(h){if(!(0,c.isAbortError)(h)){const e=new u.default("directions-view-model:unable-to-route","Unable to route to these addresses",{error:h});throw this._set("lastError",e),this.clearResults(),e}}finally{this._routeController=null}this._set("lastError",null);for(const i of v.stops)null==i.geometry&&(i.name=null);return s.update(v),this._set("lastRoute",v),r.zoomToSolvedRoute&&this.zoomToRoute(),v}getCostAttribute(e){var t,r,i;return null!==(t=(null!==(r=null===(i=this.serviceDescription)||void 0===i||null===(i=i.networkDataset)||void 0===i?void 0:i.networkAttributes)&&void 0!==r?r:[]).find((t=>{let{name:r,usageType:i}=t;return r===e&&"cost"===i})))&&void 0!==t?t:null}remove(e){var t;null===(t=this._layerView)||void 0===t||t.remove(e)}reset(){this.clearHighlights(),this.clearResults(),null!=this.layer&&(this.layer.removeAll(),this.layer.stops=new l.default([new T.default,new T.default]))}save(){if(!this.layer)throw new u.default("directions-view-model:missing-layer","save() requires a layer");return this.layer.save()}saveAs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.layer)throw new u.default("directions-view-model:missing-layer","saveAs() requires a layer");return this.layer.saveAs(e,t)}async startEditing(){this._layerView&&(this._layerView.interactive=!0)}async stopEditing(){this._layerView&&(this._layerView.interactive=!1)}updateDepartureTime(){if(this.departureIsoDate&&this.departureIsoTime)switch(this.departureOption){case _.jW.NOW:this.departureTime="now";break;case _.jW.DEPART_AT:{const e=D.c9.fromISO("".concat(this.departureIsoDate,"T").concat(this.departureIsoTime),{zone:D.mQ.instance(0)});this.departureTime=e.toJSDate();break}case _.jW.UNSPECIFIED:this.departureTime=null}}zoomToRoute(){var e;const{view:t,layer:r}=this,i=null===r||void 0===r||null===(e=r.routeInfo)||void 0===e||null===(e=e.geometry)||void 0===e?void 0:e.extent;if(!t||!i)return;const o=i.width>i.height,s=i.clone().expand(o?2:1);this.callGoTo({target:s})}async _getRouteLayerView(){return this.view&&this.layer?this.view.whenLayerView(this.layer):null}_getStartTimeParameters(){var e,t;return"now"===this.departureTime?{startTime:null!==(e=null===(t=this.serviceDescription)||void 0===t?void 0:t.capabilities.supportsNow)&&void 0!==e&&e?"now":new Date,startTimeIsUTC:!0}:null==this.departureTime?{startTime:void 0,startTimeIsUTC:void 0}:{startTime:this.departureTime,startTimeIsUTC:!1}}async _load(){if(null==this.layer)return;null!=this._loadController&&(this._loadController.abort(),this._loadController=null),this._loadController=new AbortController;const{signal:e}=this._loadController;try{this._serviceDescriptionStatus=i.Active;const t=await(0,w.fetchServiceDescription)(this.layer.url,this.apiKey,{signal:e});this._set("serviceDescription",t),this._serviceDescriptionStatus=i.Complete}catch(t){if((0,c.isAbortError)(t))return void(this._serviceDescriptionStatus=i.Idle);if("identity-manager:user-aborted"===t.name)return void(this._serviceDescriptionStatus=i.Suspended);const e=new u.default("directions-view-model:service-metadata-unavailable","Cannot load route service metadata",{error:t});throw this._serviceDescriptionStatus=i.Failed,this._set("lastError",e),e}finally{this._loadController=null}}_resolveDefaultTravelMode(e){var t;if(null==this.serviceDescription)return null;const{defaultTravelMode:r,supportedTravelModes:i}=this.serviceDescription,o=null===(t=(0,s.A)(/^<(.*)>$/i,{name:1}).exec(e.name))||void 0===t||null===(t=t.groups)||void 0===t?void 0:t.name;if(o){const t=null===i||void 0===i?void 0:i.find((e=>{let{name:t}=e;return t.toLocaleLowerCase()===o.trim().toLocaleLowerCase()})),s=null!==t&&void 0!==t?t:r;return b.default.fromJSON((0,n.A)((0,n.A)({},null===s||void 0===s?void 0:s.toJSON()),e.toJSON()))}const a=null===i||void 0===i?void 0:i.find((t=>{let{name:r}=t;return r.toLocaleLowerCase()===e.name.toLocaleLowerCase()}));return null!==a&&void 0!==a?a:r}};(0,a._)([(0,v.MZ)()],k.prototype,"_directionsLanguage",null),(0,a._)([(0,v.MZ)()],k.prototype,"_layerView",void 0),(0,a._)([(0,v.MZ)()],k.prototype,"_routeController",void 0),(0,a._)([(0,v.MZ)()],k.prototype,"_serviceDescriptionStatus",void 0),(0,a._)([(0,v.MZ)()],k.prototype,"apiKey",void 0),(0,a._)([(0,v.MZ)()],k.prototype,"autoSolve",void 0),(0,a._)([(0,v.MZ)()],k.prototype,"defaultTravelMode",void 0),(0,a._)([(0,v.MZ)()],k.prototype,"departureTime",void 0),(0,a._)([(0,v.MZ)()],k.prototype,"formattedEta",null),(0,a._)([(0,v.MZ)({readOnly:!0})],k.prototype,"impedanceAttribute",null),(0,a._)([(0,v.MZ)()],k.prototype,"lastError",void 0),(0,a._)([(0,v.MZ)({readOnly:!0})],k.prototype,"lastRoute",void 0),(0,a._)([(0,v.MZ)()],k.prototype,"layer",void 0),(0,a._)([(0,v.MZ)({type:Number,range:{min:2,max:50},nonNullable:!0})],k.prototype,"maxStops",void 0),(0,a._)([(0,v.MZ)({type:g.default,nonNullable:!0})],k.prototype,"routeParameters",void 0),(0,a._)([(0,v.MZ)({readOnly:!0})],k.prototype,"selectedNetworkFeatures",null),(0,a._)([(0,v.MZ)({type:b.default})],k.prototype,"selectedTravelMode",null),(0,a._)([(0,v.MZ)({readOnly:!0})],k.prototype,"serviceDescription",void 0),(0,a._)([(0,v.MZ)({readOnly:!0})],k.prototype,"state",null),(0,a._)([(0,v.MZ)({readOnly:!0})],k.prototype,"timeAttribute",null),(0,a._)([(0,v.MZ)()],k.prototype,"travelModes",null),(0,a._)([(0,v.MZ)()],k.prototype,"view",void 0),(0,a._)([(0,v.MZ)()],k.prototype,"zoomToRoute",null),k=(0,a._)([(0,h.$)("esri.widgets.Directions.DirectionsViewModel")],k);const U=k},41344:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var i=r(35143),o=r(69098),s=r(42553),n=r(46053),a=(r(81806),r(76460),r(47249),r(6409)),l=r(28379),u=r(85842),d=r(17707),p=r(73103);let c=class extends(o.A.ClonableMixin(s.A)){constructor(e){super(e),this.attributeParameterValues=null,this.description=null,this.distanceAttributeName=null,this.id=null,this.impedanceAttributeName=null,this.name=null,this.restrictionAttributeNames=null,this.simplificationTolerance=null,this.simplificationToleranceUnits=null,this.timeAttributeName=null,this.type=null,this.useHierarchy=null,this.uturnAtJunctions=null}readId(e,t){var r,i;return null!==(r=null!==(i=t.id)&&void 0!==i?i:t.itemId)&&void 0!==r?r:null}readRestrictionAttributes(e,t){const{restrictionAttributeNames:r}=t;return null==r?null:r.map((e=>p.OC.fromJSON(e)))}writeRestrictionAttributes(e,t,r){null!=e&&(t[r]=e.map((e=>p.OC.toJSON(e))))}};(0,i._)([(0,n.MZ)({type:[Object],json:{write:!0}})],c.prototype,"attributeParameterValues",void 0),(0,i._)([(0,n.MZ)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,i._)([(0,a.e)(p.dd,{ignoreUnknown:!1})],c.prototype,"distanceAttributeName",void 0),(0,i._)([(0,n.MZ)({type:String,json:{write:!0}})],c.prototype,"id",void 0),(0,i._)([(0,l.w)("id",["id","itemId"])],c.prototype,"readId",null),(0,i._)([(0,a.e)(p.et,{ignoreUnknown:!1})],c.prototype,"impedanceAttributeName",void 0),(0,i._)([(0,n.MZ)({type:String,json:{write:!0}})],c.prototype,"name",void 0),(0,i._)([(0,n.MZ)({type:[String],json:{write:!0}})],c.prototype,"restrictionAttributeNames",void 0),(0,i._)([(0,l.w)("restrictionAttributeNames")],c.prototype,"readRestrictionAttributes",null),(0,i._)([(0,d.K)("restrictionAttributeNames")],c.prototype,"writeRestrictionAttributes",null),(0,i._)([(0,n.MZ)({type:Number,json:{write:{allowNull:!0}}})],c.prototype,"simplificationTolerance",void 0),(0,i._)([(0,a.e)(p.hY)],c.prototype,"simplificationToleranceUnits",void 0),(0,i._)([(0,a.e)(p.Mm,{ignoreUnknown:!1})],c.prototype,"timeAttributeName",void 0),(0,i._)([(0,a.e)(p.ow)],c.prototype,"type",void 0),(0,i._)([(0,n.MZ)({type:Boolean,json:{write:!0}})],c.prototype,"useHierarchy",void 0),(0,i._)([(0,a.e)(p.hE)],c.prototype,"uturnAtJunctions",void 0),c=(0,i._)([(0,u.$)("esri.rest.support.TravelMode")],c);const m=c},55715:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var i,o=r(89379),s=r(35143),n=r(46053),a=(r(81806),r(76460),r(47249),r(85842)),l=r(77725);let u=i=class extends l.default{constructor(e){super(e),this.doNotLocateOnRestrictedElements=null}clone(){return new i((0,o.A)({doNotLocateOnRestrictedElements:this.doNotLocateOnRestrictedElements},this.cloneProperties()))}};(0,s._)([(0,n.MZ)({type:Boolean,json:{write:!0}})],u.prototype,"doNotLocateOnRestrictedElements",void 0),u=i=(0,s._)([(0,a.$)("esri.rest.support.NetworkFeatureSet")],u);const d=u},73103:(e,t,r)=>{r.d(t,{$n:()=>N,$r:()=>T,EM:()=>g,Ec:()=>J,JJ:()=>w,Mm:()=>D,OC:()=>C,Sr:()=>c,UO:()=>l,Vj:()=>U,WU:()=>j,Y8:()=>a,Z7:()=>u,_6:()=>A,_H:()=>h,aJ:()=>p,ag:()=>y,cQ:()=>m,dd:()=>O,dn:()=>d,et:()=>Z,fe:()=>M,gD:()=>_,hE:()=>v,hY:()=>n,iM:()=>S,mt:()=>b,ow:()=>f,vS:()=>k});var i=r(89379),o=r(45802);const s={esriCentimeters:"centimeters",esriDecimalDegrees:"decimal-degrees",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriPoints:"points",esriUnknownUnits:"unknown",esriYards:"yards"},n=(0,o.O)()(s),a=(0,o.O)()((0,i.A)((0,i.A)({},s),{},{esriIntFeet:"international-feet",esriIntInches:"international-inches",esriIntMiles:"international-miles",esriIntNauticalMiles:"international-nautical-miles",esriIntYards:"international-yards"})),l=(0,o.O)()({esriAcres:"international-acres",esriAcresUS:"us-acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-international-feet",esriSquareFeetUS:"square-us-feet",esriSquareInches:"square-international-inches",esriSquareInchesUS:"square-us-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-international-miles",esriSquareMilesUS:"square-us-miles",esriSquareMillimeters:"square-millimeters",esriSquareYards:"square-international-yards",esriSquareYardsUS:"square-us-yards",esriUnknownAreaUnits:"unknown"}),u=(0,o.O)()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards"}),d=(0,o.O)()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards",esriNAUDays:"days",esriNAUHours:"hours",esriNAUMinutes:"minutes",esriNAUSeconds:"seconds",esriNAUKilometersPerHour:"kilometers-per-hour",esriNAUMilesPerHour:"miles-per-hour",esriNAUUnknown:"unknown"}),p=(0,o.O)()({esriDOTComplete:"complete",esriDOTCompleteNoEvents:"complete-no-events",esriDOTFeatureSets:"featuresets",esriDOTInstructionsOnly:"instructions-only",esriDOTStandard:"standard",esriDOTSummaryOnly:"summary-only"}),c=(0,o.O)()({esriNAOutputLineNone:"none",esriNAOutputLineStraight:"straight",esriNAOutputLineTrueShape:"true-shape",esriNAOutputLineTrueShapeWithMeasure:"true-shape-with-measure"}),m=(0,o.O)()({esriNAOutputPolygonNone:"none",esriNAOutputPolygonSimplified:"simplified",esriNAOutputPolygonDetailed:"detailed"}),v=(0,o.O)()({esriNFSBAllowBacktrack:"allow-backtrack",esriNFSBAtDeadEndsOnly:"at-dead-ends-only",esriNFSBNoBacktrack:"no-backtrack",esriNFSBAtDeadEndsAndIntersections:"at-dead-ends-and-intersections"}),h=(0,o.O)()({esriNATravelDirectionFromFacility:"from-facility",esriNATravelDirectionToFacility:"to-facility"}),y=(0,o.O)()({esriNATimeOfDayNotUsed:"not-used",esriNATimeOfDayUseAsStartTime:"start",esriNATimeOfDayUseAsEndTime:"end"}),f=(0,o.O)()({AUTOMOBILE:"automobile",TRUCK:"truck",WALK:"walk",OTHER:"other"}),w=(0,o.O)()({0:"either-side-of-vehicle",1:"right-side-of-vehicle",2:"left-side-of-vehicle",3:"no-u-turn"},{useNumericKeys:!0}),g=(0,o.O)()({0:"stop",1:"waypoint",2:"break"},{useNumericKeys:!0}),T=(0,o.O)()({0:"ok",1:"not-located",2:"network-element-not-located",3:"element-not-traversable",4:"invalid-field-values",5:"not-reached",6:"time-window-violation",7:"not-located-on-closest"},{useNumericKeys:!0}),b=(0,o.O)()({1:"right",2:"left"},{useNumericKeys:!0}),S=(0,o.O)()({0:"restriction",1:"scaled-cost",2:"added-cost"},{useNumericKeys:!0}),M=(0,o.O)()({0:"permit",1:"restrict"},{useNumericKeys:!0}),A=(0,o.O)()({1:"header",50:"arrive",51:"depart",52:"straight",100:"on-ferry",101:"off-ferry",102:"central-fork",103:"roundabout",104:"u-turn",150:"door",151:"stairs",152:"elevator",153:"escalator",154:"pedestrian-ramp",200:"left-fork",201:"left-ramp",202:"clockwise-roundabout",203:"left-handed-u-turn",204:"bear-left",205:"left-turn",206:"sharp-left",207:"left-turn-and-immediate-left-turn",208:"left-turn-and-immediate-right-turn",300:"right-fork",301:"right-ramp",302:"counter-clockwise-roundabout",303:"right-handed-u-turn",304:"bear-right",305:"right-turn",306:"sharp-right",307:"right-turn-and-immediate-left-turn",308:"right-turn-and-immediate-right-turn",400:"up-elevator",401:"up-escalator",402:"up-stairs",500:"down-elevator",501:"down-escalator",502:"down-stairs",1e3:"general-event",1001:"landmark",1002:"time-zone-change",1003:"traffic-event",1004:"scaled-cost-barrier-event",1005:"boundary-crossing",1006:"restriction-violation",1007:"lane"},{useNumericKeys:!0}),_=(0,o.O)()({0:"unknown",1:"segment",2:"maneuver-segment",3:"restriction-violation",4:"scaled-cost-barrier",5:"heavy-traffic",6:"slow-traffic",7:"moderate-traffic"},{useNumericKeys:!0}),N=(0,o.O)()({"NA Campus":"campus","NA Desktop":"desktop","NA Navigation":"navigation"}),O=(0,o.O)()({Kilometers:"kilometers",Miles:"miles",Meters:"meters"},{ignoreUnknown:!1}),D=(0,o.O)()({Minutes:"minutes",TimeAt1KPH:"time-at-1-kph",TravelTime:"travel-time",TruckMinutes:"truck-minutes",TruckTravelTime:"truck-travel-time",WalkTime:"walk-time"},{ignoreUnknown:!1}),Z=(0,o.O)()({Kilometers:"kilometers",Miles:"miles",Meters:"meters",Minutes:"minutes",TimeAt1KPH:"time-at-1-kph",TravelTime:"travel-time",TruckMinutes:"truck-minutes",TruckTravelTime:"truck-travel-time",WalkTime:"walk-time"},{ignoreUnknown:!1}),C=(0,o.O)()({"Any Hazmat Prohibited":"any-hazmat-prohibited","Avoid Carpool Roads":"avoid-carpool-roads","Avoid Express Lanes":"avoid-express-lanes","Avoid Ferries":"avoid-ferries","Avoid Gates":"avoid-gates","Avoid Limited Access Roads":"avoid-limited-access-roads","Avoid Private Roads":"avoid-private-roads","Avoid Roads Unsuitable for Pedestrians":"avoid-roads-unsuitable-for-pedestrians","Avoid Stairways":"avoid-stairways","Avoid Toll Roads":"avoid-toll-roads","Avoid Toll Roads for Trucks":"avoid-toll-roads-for-trucks","Avoid Truck Restricted Roads":"avoid-truck-restricted-roads","Avoid Unpaved Roads":"avoid-unpaved-roads","Axle Count Restriction":"axle-count-restriction","Driving a Bus":"driving-a-bus","Driving a Taxi":"driving-a-taxi","Driving a Truck":"driving-a-truck","Driving an Automobile":"driving-an-automobile","Driving an Emergency Vehicle":"driving-an-emergency-vehicle","Height Restriction":"height-restriction","Kingpin to Rear Axle Length Restriction":"kingpin-to-rear-axle-length-restriction","Length Restriction":"length-restriction","Preferred for Pedestrians":"preferred-for-pedestrians","Riding a Motorcycle":"riding-a-motorcycle","Roads Under Construction Prohibited":"roads-under-construction-prohibited","Semi or Tractor with One or More Trailers Prohibited":"semi-or-tractor-with-one-or-more-trailers-prohibited","Single Axle Vehicles Prohibited":"single-axle-vehicles-prohibited","Tandem Axle Vehicles Prohibited":"tandem-axle-vehicles-prohibited","Through Traffic Prohibited":"through-traffic-prohibited","Truck with Trailers Restriction":"truck-with-trailers-restriction","Use Preferred Hazmat Routes":"use-preferred-hazmat-routes","Use Preferred Truck Routes":"use-preferred-truck-routes",Walking:"walking","Weight Restriction":"weight-restriction"},{ignoreUnknown:!1}),k=(0,o.O)()({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),U=(0,o.O)()({esriGeometryPoint:"point",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"envelope",esriGeometryMultipoint:"multipoint"}),j=(0,o.O)()({esriNAUTCost:"cost",esriNAUTDescriptor:"descriptor",esriNAUTRestriction:"restriction",esriNAUTHierarchy:"hierarchy"}),J=(0,o.O)()({esriDSTAltName:"alt-name",esriDSTArrive:"arrive",esriDSTBranch:"branch",esriDSTCrossStreet:"cross-street",esriDSTCumulativeLength:"cumulative-length",esriDSTDepart:"depart",esriDSTEstimatedArrivalTime:"estimated-arrival-time",esriDSTExit:"exit",esriDSTGeneral:"general",esriDSTLength:"length",esriDSTServiceTime:"service-time",esriDSTStreetName:"street-name",esriDSTSummary:"summary",esriDSTTime:"time",esriDSTTimeWindow:"time-window",esriDSTToward:"toward",esriDSTViolationTime:"violation-time",esriDSTWaitTime:"wait-time"})},74320:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var i=r(35143),o=r(69098),s=r(42553),n=r(46053),a=(r(81806),r(76460),r(47249),r(85842));let l=class extends(o.A.ClonableMixin(s.A)){constructor(e){super(e),this.doNotLocateOnRestrictedElements=null,this.url=null}};(0,i._)([(0,n.MZ)({type:Boolean,json:{write:!0}})],l.prototype,"doNotLocateOnRestrictedElements",void 0),(0,i._)([(0,n.MZ)({type:String,json:{write:!0}})],l.prototype,"url",void 0),l=(0,i._)([(0,a.$)("esri.rest.support.NetworkUrl")],l);const u=l},75747:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var i,o=r(35143),s=r(39356),n=r(73204),a=r(69098),l=r(42553),u=r(46053),d=(r(81806),r(76460),r(47249),r(28379)),p=r(85842),c=r(17707),m=r(19247),v=r(86236),h=r(73103),y=r(671);let f=i=class extends(a.A.ClonableMixin(l.A)){constructor(e){super(e),this.arriveCurbApproach=null,this.arriveTime=null,this.arriveTimeOffset=null,this.bearing=null,this.bearingTol=null,this.cumulativeCosts=null,this.cumulativeDistance=null,this.cumulativeDuration=null,this.curbApproach=null,this.departCurbApproach=null,this.departTime=null,this.departTimeOffset=null,this.distanceToNetworkInMeters=null,this.geometry=null,this.lateDuration=null,this.locationType=null,this.name=null,this.navLatency=null,this.objectId=null,this.popupTemplate=null,this.posAlong=null,this.routeName=null,this.serviceCosts=null,this.serviceDistance=null,this.serviceDuration=null,this.sequence=null,this.sideOfEdge=null,this.snapX=null,this.snapY=null,this.snapZ=null,this.sourceId=null,this.sourceOid=null,this.status=null,this.symbol=null,this.timeWindowEnd=null,this.timeWindowEndOffset=null,this.timeWindowStart=null,this.timeWindowStartOffset=null,this.type="stop",this.violations=null,this.waitDuration=null,this.wait=null}readArriveTimeOffset(e,t){return(0,v.Zn)(t.attributes.ArriveTime,t.attributes.ArriveTimeUTC)}readCumulativeCosts(e,t){return(0,v.lh)(t.attributes,"Cumul_")}readDepartTimeOffset(e,t){return(0,v.Zn)(t.attributes.DepartTime,t.attributes.DepartTimeUTC)}readServiceCosts(e,t){return(0,v.lh)(t.attributes,"Attr_")}writeServiceCosts(e,t){(0,v.p3)(e,t,"Attr_")}writeTimeWindowEnd(e,t){null!=e&&(t.attributes||(t.attributes={}),t.attributes.TimeWindowEnd=e.getTime())}writeTimeWindowStart(e,t){null!=e&&(t.attributes||(t.attributes={}),t.attributes.TimeWindowStart=e.getTime())}readViolations(e,t){return(0,v.lh)(t.attributes,"Violation_")}readWait(e,t){return(0,v.lh)(t.attributes,"Wait_")}static fromGraphic(e){var t,r,o,s,n,a,l,u,d,p,c;return new i({arriveCurbApproach:null!=e.attributes.ArrivalCurbApproach?h.JJ.fromJSON(e.attributes.ArrivalCurbApproach):null,arriveTime:null!=e.attributes.ArrivalTime?new Date(e.attributes.ArrivalTime):null,arriveTimeOffset:e.attributes.ArrivalUTCOffset,cumulativeCosts:null!=e.attributes.CumulativeCosts?(0,v.aZ)(JSON.parse(e.attributes.CumulativeCosts)):null,cumulativeDistance:null!==(t=e.attributes.CumulativeMeters)&&void 0!==t?t:null,cumulativeDuration:null!==(r=e.attributes.CumulativeMinutes)&&void 0!==r?r:null,curbApproach:null!=e.attributes.CurbApproach?h.JJ.fromJSON(e.attributes.CurbApproach):null,departCurbApproach:null!=e.attributes.DepartureCurbApproach?h.JJ.fromJSON(e.attributes.DepartureCurbApproach):null,departTime:null!=e.attributes.DepartureTime?new Date(e.attributes.DepartureTime):null,departTimeOffset:null!==(o=e.attributes.DepartureUTCOffset)&&void 0!==o?o:null,geometry:e.geometry,lateDuration:null!==(s=e.attributes.LateMinutes)&&void 0!==s?s:null,locationType:null!=e.attributes.LocationType?h.EM.fromJSON(e.attributes.LocationType):null,name:e.attributes.Name,objectId:null!==(n=e.attributes.ObjectID)&&void 0!==n?n:e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,routeName:e.attributes.RouteName,sequence:null!==(a=e.attributes.Sequence)&&void 0!==a?a:null,serviceCosts:null!=e.attributes.ServiceCosts?(0,v.aZ)(JSON.parse(e.attributes.ServiceCosts)):null,serviceDistance:null!==(l=e.attributes.ServiceMeters)&&void 0!==l?l:null,serviceDuration:null!==(u=e.attributes.ServiceMinutes)&&void 0!==u?u:null,status:null!=e.attributes.Status?h.$r.fromJSON(e.attributes.Status):null,symbol:e.symbol,timeWindowEnd:null!=e.attributes.TimeWindowEnd?new Date(e.attributes.TimeWindowEnd):null,timeWindowEndOffset:null!==(d=e.attributes.TimeWindowEndUTCOffset)&&void 0!==d?d:null,timeWindowStart:null!=e.attributes.TimeWindowStart?new Date(e.attributes.TimeWindowStart):null,timeWindowStartOffset:null!==(p=e.attributes.TimeWindowStartUTCOffset)&&void 0!==p?p:null,waitDuration:null!==(c=e.attributes.WaitMinutes)&&void 0!==c?c:null})}toGraphic(){var e,t;const r={ObjectID:this.objectId,ArrivalCurbApproach:null!=this.arriveCurbApproach?h.JJ.toJSON(this.arriveCurbApproach):null,ArrivalTime:null!=this.arriveTime?this.arriveTime.getTime():null,ArrivalUTCOffset:this.arriveTimeOffset,CumulativeCosts:null!=this.cumulativeCosts?JSON.stringify((0,v.nA)(this.cumulativeCosts)):null,CumulativeMeters:this.cumulativeDistance,CumulativeMinutes:this.cumulativeDuration,CurbApproach:null!=this.curbApproach?h.JJ.toJSON(this.curbApproach):null,DepartureCurbApproach:null!=this.departCurbApproach?h.JJ.toJSON(this.departCurbApproach):null,DepartureTime:null!=this.departTime?this.departTime.getTime():null,DepartureUTCOffset:this.departTimeOffset,LateMinutes:this.lateDuration,LocationType:null!=this.locationType?h.EM.toJSON(this.locationType):null,Name:this.name,RouteName:this.routeName,Sequence:this.sequence,ServiceCosts:null!=this.serviceCosts?JSON.stringify((0,v.nA)(this.serviceCosts)):null,ServiceMeters:this.serviceDistance,ServiceMinutes:this.serviceDuration,Status:null!=this.status?h.$r.toJSON(this.status):null,TimeWindowEnd:null!=this.timeWindowEnd?this.timeWindowEnd.getTime():null,TimeWindowEndUTCOffset:null!==(e=this.timeWindowEndOffset)&&void 0!==e?e:this.arriveTimeOffset,TimeWindowStart:null!=this.timeWindowStart?this.timeWindowStart.getTime():null,TimeWindowStartUTCOffset:null!==(t=this.timeWindowStartOffset)&&void 0!==t?t:this.arriveTimeOffset,WaitMinutes:this.waitDuration};return new s.default({geometry:this.geometry,attributes:r,symbol:this.symbol,popupTemplate:this.popupTemplate})}};f.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"ArrivalCurbApproach",alias:"Arrival Curb Approach",type:"esriFieldTypeInteger"},{name:"ArrivalTime",alias:"Arrival Time",type:"esriFieldTypeDate"},{name:"ArrivalUTCOffset",alias:"Arrival Time",type:"esriFieldTypeInteger"},{name:"CumulativeCosts",alias:"Cumulative Costs",type:"esriFieldTypeString"},{name:"CumulativeMeters",alias:"Cumulative Meters",type:"esriFieldTypeDouble"},{name:"CumulativeMinutes",alias:"Cumulative Minutes",type:"esriFieldTypeDouble"},{name:"CurbApproach",alias:"Curb Approach",type:"esriFieldTypeInteger"},{name:"DepartureCurbApproach",alias:"Departure Curb Approach",type:"esriFieldTypeInteger"},{name:"DepartureTime",alias:"Departure Time",type:"esriFieldTypeDate"},{name:"DepartureUTCOffset",alias:"Departure Time",type:"esriFieldTypeInteger"},{name:"LateMinutes",alias:"Minutes Late",type:"esriFieldTypeDouble"},{name:"LocationType",alias:"Location Type",type:"esriFieldTypeInteger"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"RouteName",alias:"Route Name",type:"esriFieldTypeString"},{name:"Sequence",alias:"Sequence",type:"esriFieldTypeInteger"},{name:"ServiceCosts",alias:"Service Costs",type:"esriFieldTypeString"},{name:"ServiceMeters",alias:"Service Meters",type:"esriFieldTypeDouble"},{name:"ServiceMinutes",alias:"Service Minutes",type:"esriFieldTypeDouble"},{name:"Status",alias:"Status",type:"esriFieldTypeInteger"},{name:"TimeWindowEnd",alias:"Time Window End",type:"esriFieldTypeDate"},{name:"TimeWindowEndUTCOffset",alias:"Time Window End Offset",type:"esriFieldTypeInteger"},{name:"TimeWindowStart",alias:"Time Window Start",type:"esriFieldTypeDate"},{name:"TimeWindowStartUTCOffset",alias:"Time Window Start Offset",type:"esriFieldTypeInteger"},{name:"WaitMinutes",alias:"Minutes Wait",type:"esriFieldTypeDouble"}],(0,o._)([(0,u.MZ)({type:h.JJ.apiValues,json:{read:{source:"attributes.ArrivalCurbApproach",reader:h.JJ.read}}})],f.prototype,"arriveCurbApproach",void 0),(0,o._)([(0,u.MZ)({type:Date,json:{read:{source:"attributes.ArriveTimeUTC"}}})],f.prototype,"arriveTime",void 0),(0,o._)([(0,u.MZ)()],f.prototype,"arriveTimeOffset",void 0),(0,o._)([(0,d.w)("arriveTimeOffset",["attributes.ArriveTime","attributes.ArriveTimeUTC"])],f.prototype,"readArriveTimeOffset",null),(0,o._)([(0,u.MZ)({json:{name:"attributes.Bearing",read:!1,write:!0}})],f.prototype,"bearing",void 0),(0,o._)([(0,u.MZ)({json:{name:"attributes.BearingTol",read:!1,write:!0}})],f.prototype,"bearingTol",void 0),(0,o._)([(0,u.MZ)()],f.prototype,"cumulativeCosts",void 0),(0,o._)([(0,d.w)("cumulativeCosts",["attributes"])],f.prototype,"readCumulativeCosts",null),(0,o._)([(0,u.MZ)()],f.prototype,"cumulativeDistance",void 0),(0,o._)([(0,u.MZ)()],f.prototype,"cumulativeDuration",void 0),(0,o._)([(0,u.MZ)({type:h.JJ.apiValues,json:{name:"attributes.CurbApproach",read:{reader:h.JJ.read},write:{writer:h.JJ.write}}})],f.prototype,"curbApproach",void 0),(0,o._)([(0,u.MZ)({type:h.JJ.apiValues,json:{read:{source:"attributes.DepartCurbApproach",reader:h.JJ.read}}})],f.prototype,"departCurbApproach",void 0),(0,o._)([(0,u.MZ)({type:Date,json:{read:{source:"attributes.DepartTimeUTC"}}})],f.prototype,"departTime",void 0),(0,o._)([(0,u.MZ)()],f.prototype,"departTimeOffset",void 0),(0,o._)([(0,d.w)("departTimeOffset",["attributes.DepartTime","attributes.DepartTimeUTC"])],f.prototype,"readDepartTimeOffset",null),(0,o._)([(0,u.MZ)({json:{read:{source:"attributes.DistanceToNetworkInMeters"}}})],f.prototype,"distanceToNetworkInMeters",void 0),(0,o._)([(0,u.MZ)({type:m.default,json:{write:!0}})],f.prototype,"geometry",void 0),(0,o._)([(0,u.MZ)()],f.prototype,"lateDuration",void 0),(0,o._)([(0,u.MZ)({type:h.EM.apiValues,json:{name:"attributes.LocationType",read:{reader:h.EM.read},write:{writer:h.EM.write}}})],f.prototype,"locationType",void 0),(0,o._)([(0,u.MZ)({json:{name:"attributes.Name"}})],f.prototype,"name",void 0),(0,o._)([(0,u.MZ)({json:{name:"attributes.NavLatency",read:!1,write:!0}})],f.prototype,"navLatency",void 0),(0,o._)([(0,u.MZ)({json:{name:"attributes.ObjectID"}})],f.prototype,"objectId",void 0),(0,o._)([(0,u.MZ)({type:n.default})],f.prototype,"popupTemplate",void 0),(0,o._)([(0,u.MZ)({json:{read:{source:"attributes.PosAlong"}}})],f.prototype,"posAlong",void 0),(0,o._)([(0,u.MZ)({json:{name:"attributes.RouteName"}})],f.prototype,"routeName",void 0),(0,o._)([(0,u.MZ)()],f.prototype,"serviceCosts",void 0),(0,o._)([(0,d.w)("serviceCosts",["attributes"])],f.prototype,"readServiceCosts",null),(0,o._)([(0,c.K)("serviceCosts")],f.prototype,"writeServiceCosts",null),(0,o._)([(0,u.MZ)()],f.prototype,"serviceDistance",void 0),(0,o._)([(0,u.MZ)()],f.prototype,"serviceDuration",void 0),(0,o._)([(0,u.MZ)({json:{name:"attributes.Sequence"}})],f.prototype,"sequence",void 0),(0,o._)([(0,u.MZ)({type:h.mt.apiValues,json:{read:{source:"attributes.SideOfEdge",reader:h.mt.read}}})],f.prototype,"sideOfEdge",void 0),(0,o._)([(0,u.MZ)({json:{read:{source:"attributes.SnapX"}}})],f.prototype,"snapX",void 0),(0,o._)([(0,u.MZ)({json:{read:{source:"attributes.SnapY"}}})],f.prototype,"snapY",void 0),(0,o._)([(0,u.MZ)({json:{read:{source:"attributes.SnapZ"}}})],f.prototype,"snapZ",void 0),(0,o._)([(0,u.MZ)({json:{read:{source:"attributes.SourceID"}}})],f.prototype,"sourceId",void 0),(0,o._)([(0,u.MZ)({json:{read:{source:"attributes.SourceOID"}}})],f.prototype,"sourceOid",void 0),(0,o._)([(0,u.MZ)({type:h.$r.apiValues,json:{read:{source:"attributes.Status",reader:h.$r.read}}})],f.prototype,"status",void 0),(0,o._)([(0,u.MZ)({types:y.Es})],f.prototype,"symbol",void 0),(0,o._)([(0,u.MZ)({type:Date,json:{name:"attributes.TimeWindowEnd"}})],f.prototype,"timeWindowEnd",void 0),(0,o._)([(0,c.K)("timeWindowEnd")],f.prototype,"writeTimeWindowEnd",null),(0,o._)([(0,u.MZ)()],f.prototype,"timeWindowEndOffset",void 0),(0,o._)([(0,u.MZ)({type:Date,json:{name:"attributes.TimeWindowStart"}})],f.prototype,"timeWindowStart",void 0),(0,o._)([(0,c.K)("timeWindowStart")],f.prototype,"writeTimeWindowStart",null),(0,o._)([(0,u.MZ)()],f.prototype,"timeWindowStartOffset",void 0),(0,o._)([(0,u.MZ)({readOnly:!0,json:{read:!1}})],f.prototype,"type",void 0),(0,o._)([(0,u.MZ)()],f.prototype,"violations",void 0),(0,o._)([(0,d.w)("violations",["attributes"])],f.prototype,"readViolations",null),(0,o._)([(0,u.MZ)()],f.prototype,"waitDuration",void 0),(0,o._)([(0,u.MZ)()],f.prototype,"wait",void 0),(0,o._)([(0,d.w)("wait",["attributes"])],f.prototype,"readWait",null),f=i=(0,o._)([(0,p.$)("esri.rest.support.Stop")],f);const w=f},77430:(e,t,r)=>{r.d(t,{BO:()=>d,RU:()=>c,a3:()=>p,jW:()=>a});var i=r(24648),o=r(96820),s=r(50265);const n=new Map([["arrive","route-to"],["bear-left","bear-left"],["bear-right","bear-right"],["boundary-crossing","blank"],["central-fork","fork-middle"],["clockwise-roundabout","round-about-right"],["counter-clockwise-roundabout","round-about"],["depart","route-from"],["door","walk-through-door"],["down-elevator","elevator-down"],["down-escalator","escalator-down"],["down-stairs","stairs-down"],["elevator","elevator"],["escalator","escalator"],["general-event","information"],["header","blank"],["landmark","map-pin"],["lane","blank"],["left-fork","fork-left"],["left-handed-u-turn","u-turn"],["left-ramp","ramp-left"],["left-turn","left"],["left-turn-and-immediate-left-turn","left-left"],["left-turn-and-immediate-right-turn","left-right"],["off-ferry","disembark"],["on-ferry","embark"],["pedestrian-ramp","take-pedestrian-ramp"],["restriction-violation","exclamation-mark-triangle"],["right-fork","fork-right"],["right-handed-u-turn","u-turn-right"],["right-ramp","ramp-right"],["right-turn","right"],["right-turn-and-immediate-left-turn","right-left"],["right-turn-and-immediate-right-turn","right-right"],["roundabout","round-about"],["scaled-cost-barrier-event","blank"],["sharp-left","sharp-left"],["sharp-right","sharp-right"],["stairs","stairs"],["straight","straight"],["time-zone-change","clock"],["traffic-event","exclamation-mark-triangle"],["u-turn","u-turn"],["up-elevator","elevator-up"],["up-escalator","escalator-up"],["up-stairs","stairs-up"]]);var a,l;function u(e,t){return(0,s.ZV)(e,{style:"unit",unit:t,unitDisplay:"short"})}function d(e,t,r){if(0===t)return"";let s,n,a=0;const l=(0,i.d_)(t,"meters");switch(r){case"metric":l.value<.01?({value:s,unit:n}=(0,i.kM)(l,"millimeters")):l.value<1?({value:s,unit:n}=(0,i.kM)(l,"centimeters")):l.value<1e3?({value:s,unit:n}=(0,i.kM)(l,"meters")):l.value<1e5?(({value:s,unit:n}=(0,i.kM)(l,"kilometers")),a=1):({value:s,unit:n}=(0,i.kM)(l,"kilometers"));break;case"imperial":l.value<.254?({value:s,unit:n}=(0,i.kM)(l,"inches")):l.value<160.9344?({value:s,unit:n}=(0,i.kM)(l,"feet")):l.value<160934.4?(({value:s,unit:n}=(0,i.kM)(l,"miles")),a=1):({value:s,unit:n}=(0,i.kM)(l,"miles"));break;default:({value:s,unit:n}=(0,i.kM)(l,r)),a=2}return(0,o.zJ)(e,s,n,a)}function p(e){if(0===e)return"";if(e<1)return u(Math.floor(60*e),"second");if(e<60)return u(Math.floor(e),"minute");const t=Math.floor(e/60);if(e<1440){const r=Math.floor(e%60);return 0===r?"".concat(u(t,"hour")):"".concat(u(t,"hour")," ").concat(u(r,"minute"))}return u(t,"hour")}function c(e){return null!=e&&n.has(e)?n.get(e):"blank"}(l=a||(a={})).NOW="now",l.DEPART_AT="depart-at",l.UNSPECIFIED="unspecified"},86236:(e,t,r)=>{r.d(t,{Zn:()=>l,_s:()=>p,aZ:()=>n,lh:()=>o,nA:()=>a,o9:()=>d,p3:()=>s,r9:()=>u});var i=r(73103);function o(e,t){if(null==e)return null;const r={},o=new RegExp("^".concat(t),"i");for(const s of Object.keys(e))if(o.test(s)){const o=s.slice(t.length);r[i.et.fromJSON(o)]=e[s]}return r}function s(e,t,r){if(null!=e){t.attributes||(t.attributes={});for(const o in e){const s=i.et.toJSON(o);t.attributes["".concat(r).concat(s)]=e[o]}}}function n(e){const t={};for(const r of Object.keys(e)){const o=r;t[i.et.fromJSON(o)]=e[r]}return t}function a(e){const t={};for(const r of Object.keys(e)){const o=r;t[i.et.toJSON(o)]=e[r]}return t}function l(e,t){return null==e||null==t?null:Math.round((e-t)/6e4)}function u(e){var t,r,i;const o=e.toJSON(),s=o;return s.accumulateAttributeNames&&(s.accumulateAttributeNames=null===(t=o.accumulateAttributeNames)||void 0===t?void 0:t.join()),s.attributeParameterValues&&(s.attributeParameterValues=JSON.stringify(o.attributeParameterValues)),s.barriers&&(s.barriers=JSON.stringify(o.barriers)),s.outSR&&(s.outSR=null===(r=o.outSR)||void 0===r?void 0:r.wkid),s.overrides&&(s.overrides=JSON.stringify(o.overrides)),s.polygonBarriers&&(s.polygonBarriers=JSON.stringify(o.polygonBarriers)),s.polylineBarriers&&(s.polylineBarriers=JSON.stringify(o.polylineBarriers)),s.restrictionAttributeNames&&(s.restrictionAttributeNames=null===(i=o.restrictionAttributeNames)||void 0===i?void 0:i.join()),s.stops&&(s.stops=JSON.stringify(o.stops)),s.travelMode&&(s.travelMode=JSON.stringify(o.travelMode)),s}function d(e){var t,r,i;const o=e.toJSON(),s=o;return s.accumulateAttributeNames&&(s.accumulateAttributeNames=null===(t=o.accumulateAttributeNames)||void 0===t?void 0:t.join()),s.attributeParameterValues&&(s.attributeParameterValues=JSON.stringify(o.attributeParameterValues)),s.barriers&&(s.barriers=JSON.stringify(o.barriers)),s.facilities&&(s.facilities=JSON.stringify(o.facilities)),s.incidents&&(s.incidents=JSON.stringify(o.incidents)),s.outSR&&(s.outSR=null===(r=o.outSR)||void 0===r?void 0:r.wkid),s.overrides&&(s.overrides=JSON.stringify(o.overrides)),s.polygonBarriers&&(s.polygonBarriers=JSON.stringify(o.polygonBarriers)),s.polylineBarriers&&(s.polylineBarriers=JSON.stringify(o.polylineBarriers)),s.restrictionAttributeNames&&(s.restrictionAttributeNames=null===(i=o.restrictionAttributeNames)||void 0===i?void 0:i.join()),s.travelMode&&(s.travelMode=JSON.stringify(o.travelMode)),s}function p(e){var t,r,i,o,s;const n=e.toJSON(),a=n;return a.accumulateAttributeNames&&(a.accumulateAttributeNames=null===(t=n.accumulateAttributeNames)||void 0===t?void 0:t.join()),a.attributeParameterValues&&(a.attributeParameterValues=JSON.stringify(n.attributeParameterValues)),a.barriers&&(a.barriers=JSON.stringify(n.barriers)),a.defaultBreaks&&(a.defaultBreaks=null===(r=n.defaultBreaks)||void 0===r?void 0:r.join()),a.excludeSourcesFromPolygons&&(a.excludeSourcesFromPolygons=null===(i=n.excludeSourcesFromPolygons)||void 0===i?void 0:i.join()),a.facilities&&(a.facilities=JSON.stringify(n.facilities)),a.outSR&&(a.outSR=null===(o=n.outSR)||void 0===o?void 0:o.wkid),a.overrides&&(a.overrides=JSON.stringify(n.overrides)),a.polygonBarriers&&(a.polygonBarriers=JSON.stringify(n.polygonBarriers)),a.polylineBarriers&&(a.polylineBarriers=JSON.stringify(n.polylineBarriers)),a.restrictionAttributeNames&&(a.restrictionAttributeNames=null===(s=n.restrictionAttributeNames)||void 0===s?void 0:s.join()),a.travelMode&&(a.travelMode=JSON.stringify(n.travelMode)),a}},98815:(e,t,r)=>{r.r(t),r.d(t,{collectGeometries:()=>_,dropZValuesOffInputGeometry:()=>N,fetchServiceDescription:()=>D,isInputGeometryZAware:()=>O});var i=r(3825),o=r(50076),s=r(76460),n=r(48611),a=r(90534),l=r(54994),u=r(35143),d=r(42553),p=r(46053),c=(r(81806),r(47249),r(6409)),m=r(28379),v=r(85842),h=r(17707),y=r(73103);let f=class extends d.A{constructor(e){super(e),this.dataType=null,this.name=null,this.parameterNames=null,this.restrictionUsageParameterName=null,this.timeNeutralAttributeName=null,this.trafficSupport=null,this.units=null,this.usageType=null}};(0,u._)([(0,p.MZ)({type:String})],f.prototype,"dataType",void 0),(0,u._)([(0,c.e)(y.et,{ignoreUnknown:!1})],f.prototype,"name",void 0),(0,u._)([(0,p.MZ)({type:[String]})],f.prototype,"parameterNames",void 0),(0,u._)([(0,p.MZ)({type:String})],f.prototype,"restrictionUsageParameterName",void 0),(0,u._)([(0,c.e)(y.Mm,{ignoreUnknown:!1})],f.prototype,"timeNeutralAttributeName",void 0),(0,u._)([(0,p.MZ)({type:String})],f.prototype,"trafficSupport",void 0),(0,u._)([(0,c.e)(y.dn)],f.prototype,"units",void 0),(0,u._)([(0,c.e)(y.WU)],f.prototype,"usageType",void 0),f=(0,u._)([(0,v.$)("esri.rest.support.NetworkAttribute")],f);const w=f;let g=class extends d.A{constructor(e){super(e),this.buildTime=null,this.name=null,this.networkAttributes=null,this.networkSources=null,this.state=null}};(0,u._)([(0,p.MZ)({type:Number})],g.prototype,"buildTime",void 0),(0,u._)([(0,p.MZ)({type:String})],g.prototype,"name",void 0),(0,u._)([(0,p.MZ)({type:[w]})],g.prototype,"networkAttributes",void 0),(0,u._)([(0,p.MZ)()],g.prototype,"networkSources",void 0),(0,u._)([(0,p.MZ)({type:String})],g.prototype,"state",void 0),g=(0,u._)([(0,v.$)("esri.rest.support.NetworkDataset")],g);const T=g;var b=r(41344);let S=class extends d.A{constructor(e){super(e),this.accumulateAttributeNames=null,this.attributeParameterValues=null,this.currentVersion=null,this.defaultTravelMode=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsSupportedLanguages=null,this.directionsTimeAttribute=null,this.hasZ=null,this.impedance=null,this.networkDataset=null,this.supportedTravelModes=null}readAccumulateAttributes(e){return null==e?null:e.map((e=>y.et.fromJSON(e)))}writeAccumulateAttributes(e,t,r){(null===e||void 0===e?void 0:e.length)&&(t[r]=e.map((e=>y.et.toJSON(e))))}get capabilities(){var e;return{supportsNow:(null!==(e=this.currentVersion)&&void 0!==e?e:10)>=10.81}}readDefaultTravelMode(e,t){var r,i,o;const s=null!==(r=null===(i=t.supportedTravelModes)||void 0===i?void 0:i.find((e=>{let{id:r}=e;return r===t.defaultTravelMode})))&&void 0!==r?r:null===(o=t.supportedTravelModes)||void 0===o?void 0:o.find((e=>{let{itemId:r}=e;return r===t.defaultTravelMode}));return s?b.default.fromJSON(s):null}};(0,u._)([(0,p.MZ)()],S.prototype,"accumulateAttributeNames",void 0),(0,u._)([(0,m.w)("accumulateAttributeNames")],S.prototype,"readAccumulateAttributes",null),(0,u._)([(0,h.K)("accumulateAttributeNames")],S.prototype,"writeAccumulateAttributes",null),(0,u._)([(0,p.MZ)()],S.prototype,"attributeParameterValues",void 0),(0,u._)([(0,p.MZ)()],S.prototype,"capabilities",null),(0,u._)([(0,p.MZ)()],S.prototype,"currentVersion",void 0),(0,u._)([(0,p.MZ)()],S.prototype,"defaultTravelMode",void 0),(0,u._)([(0,m.w)("defaultTravelMode",["defaultTravelMode","supportedTravelModes"])],S.prototype,"readDefaultTravelMode",null),(0,u._)([(0,p.MZ)()],S.prototype,"directionsLanguage",void 0),(0,u._)([(0,c.e)(y.Z7)],S.prototype,"directionsLengthUnits",void 0),(0,u._)([(0,p.MZ)()],S.prototype,"directionsSupportedLanguages",void 0),(0,u._)([(0,c.e)(y.Mm,{ignoreUnknown:!1})],S.prototype,"directionsTimeAttribute",void 0),(0,u._)([(0,p.MZ)()],S.prototype,"hasZ",void 0),(0,u._)([(0,c.e)(y.et,{ignoreUnknown:!1})],S.prototype,"impedance",void 0),(0,u._)([(0,p.MZ)({type:T})],S.prototype,"networkDataset",void 0),(0,u._)([(0,p.MZ)({type:[b.default]})],S.prototype,"supportedTravelModes",void 0),S=(0,u._)([(0,v.$)("esri.rest.support.NetworkServiceDescription")],S);const M=S,A=()=>s.A.getLogger("esri.rest.networkService");function _(e,t,r,i){i[r]=[t.length,t.length+e.length],e.forEach((e=>{t.push(e.geometry)}))}function N(e,t){for(let r=0;r<t.length;r++){const i=e[t[r]];if(i&&i.length)for(const e of i)e.z=void 0}A().warnOnce("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function O(e,t){for(let r=0;r<t.length;r++){const i=e[t[r]];if(i&&i.length)for(const e of i)if(null!=e&&e.hasZ)return!0}return!1}async function D(e,t,r){if(!e)throw new o.default("network-service:missing-url","Url to Network service is missing");const s=(0,l.jV)({f:"json",token:t},r),{data:u}=await(0,i.default)(e,s),d=u.currentVersion>=10.4?async function(e,t,r){try{const o=(0,l.jV)({f:"json",token:t},r),s=(0,a.removeTrailingSlash)(e)+"/retrieveTravelModes",{data:{supportedTravelModes:n,defaultTravelMode:u}}=await(0,i.default)(s,o);return{supportedTravelModes:n,defaultTravelMode:u}}catch(T){throw new o.default("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:T})}}(e,t,r):async function(e,t){var r;const o=(0,l.jV)({f:"json"},t),{data:s}=await(0,i.default)(e.replace(/\/rest\/.*$/i,"/info"),o);if(null===s||void 0===s||!s.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};const{owningSystemUrl:u}=s,d=(0,a.removeTrailingSlash)(u)+"/sharing/rest/portals/self",{data:p}=await(0,i.default)(d,o),c=(0,n.wc)("helperServices.routingUtilities.url",p);if(!c)return{supportedTravelModes:[],defaultTravelMode:null};const m=(0,l.Dl)(u),v=/\/solve$/i.test(m.path)?"Route":/\/solveclosestfacility$/i.test(m.path)?"ClosestFacility":"ServiceAreas",h=(0,l.jV)({f:"json",serviceName:v},t),y=(0,a.removeTrailingSlash)(c)+"/GetTravelModes/execute",f=await(0,i.default)(y,h),w=[];let g=null;if(null!==f&&void 0!==f&&null!==(r=f.data)&&void 0!==r&&null!==(r=r.results)&&void 0!==r&&r.length){const e=f.data.results;for(const t of e)if("supportedTravelModes"===t.paramName){var T;if(null!==(T=t.value)&&void 0!==T&&T.features)for(const{attributes:e}of t.value.features)if(e){const t=JSON.parse(e.TravelMode);w.push(t)}}else"defaultTravelMode"===t.paramName&&(g=t.value)}return{supportedTravelModes:w,defaultTravelMode:g}}(e,r),{defaultTravelMode:p,supportedTravelModes:c}=await d;return u.defaultTravelMode=p,u.supportedTravelModes=c,M.fromJSON(u)}}}]);
//# sourceMappingURL=38745.a4290924.chunk.js.map