"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[15459],{15459:(t,i,e)=>{e.r(i),e.d(i,{default:()=>d});var r=e(89379),s=e(35143),o=e(91967),l=e(19276),n=e(68134),a=e(46053),p=(e(81806),e(76460),e(47249),e(85842)),c=e(17390);const h={left:0,right:0,top:0,bottom:0};let y=class extends o.default{constructor(t){super(t),this._leadingClips=new Map,this._trailingClips=new Map,this.direction="horizontal",this.leadingLayers=new l.default,this.max=100,this.min=0,this.precision=4,this.step=.5,this.stepMultiplier=10,this.trailingLayers=new l.default,this.view=null}initialize(){this.addHandles([(0,n.watch)((()=>{var t;return[this.view,null===(t=this.view)||void 0===t?void 0:t.ready,this.position,this.direction]}),(()=>this._clipLayers()),n.initial),(0,n.watch)((()=>this.leadingLayers.toArray()),(()=>this._clipLeadingLayers()),n.initial),(0,n.watch)((()=>this.trailingLayers.toArray()),(()=>this._clipTrailingLayers()),n.initial)])}destroy(){this._removeExistingClips()}get position(){return 25}set position(t){const{precision:i,min:e,max:r}=this;this._set("position",function(t,i){const e=10**i;return Math.round(t*e)/e}(Math.max(Math.min(t,r),e),i))}get state(){var t;return null!==(t=this.view)&&void 0!==t&&t.ready?"ready":"disabled"}_clipLayers(){this._clipLeadingLayers(),this._clipTrailingLayers()}_clipLeadingLayers(){this._removeClips("leading");const{leadingLayers:t}=this;t.forEach((t=>this._clipLayer({layer:t,type:"leading"})))}_clipTrailingLayers(){this._removeClips("trailing");const{trailingLayers:t}=this;t.forEach((t=>this._clipLayer({layer:t,type:"trailing"})))}async _getLayerView(t){const{view:i}=this;if(!t||!i)return null;const e=await i.whenLayerView(t);return"clips"in e?e:null}_getVerticalClipRect(t){const{position:i}=this;return"leading"===t?new c.A((0,r.A)((0,r.A)({},h),{},{bottom:100-i+"%"})):"trailing"===t?new c.A((0,r.A)((0,r.A)({},h),{},{top:"".concat(i,"%")})):null}_getHorizontalClipRect(t){const{position:i}=this;return"leading"===t?new c.A((0,r.A)((0,r.A)({},h),{},{right:100-i+"%"})):"trailing"===t?new c.A((0,r.A)((0,r.A)({},h),{},{left:"".concat(i,"%")})):null}_getClipRect(t){const{direction:i}=this;return"vertical"===i?this._getVerticalClipRect(t):"horizontal"===i?this._getHorizontalClipRect(t):null}async _clipLayer(t){const{_leadingClips:i,_trailingClips:e}=this,{layer:r,type:s}=t,o="trailing"===s?e:"leading"===s?i:null,l=await this._getLayerView(r);if(!(l&&"clips"in l&&o&&l.hasOwnProperty("clips")))return;const n=o.get(l);n&&l.clips.remove(n);const a=this._getClipRect(s);a&&(o.set(l,a),l.clips.add(a))}_removeClips(t){const{_leadingClips:i,_trailingClips:e}=this,r="trailing"===t?e:"leading"===t?i:null;r&&(r.forEach(((t,i)=>{i&&i.hasOwnProperty("clips")&&i.clips.remove(t)})),r.clear())}_removeExistingClips(){this._removeClips("leading"),this._removeClips("trailing")}};(0,s._)([(0,a.MZ)()],y.prototype,"direction",void 0),(0,s._)([(0,a.MZ)({type:l.default,nonNullable:!0})],y.prototype,"leadingLayers",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],y.prototype,"max",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],y.prototype,"min",void 0),(0,s._)([(0,a.MZ)()],y.prototype,"position",null),(0,s._)([(0,a.MZ)()],y.prototype,"precision",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],y.prototype,"state",null),(0,s._)([(0,a.MZ)()],y.prototype,"step",void 0),(0,s._)([(0,a.MZ)()],y.prototype,"stepMultiplier",void 0),(0,s._)([(0,a.MZ)({type:l.default,nonNullable:!0})],y.prototype,"trailingLayers",void 0),(0,s._)([(0,a.MZ)()],y.prototype,"view",void 0),y=(0,s._)([(0,p.$)("esri.widgets.Swipe.SwipeViewModel")],y);const d=y},17390:(t,i,e)=>{e.d(i,{A:()=>p});var r,s=e(35143),o=e(46053),l=(e(81806),e(76460),e(47249),e(85842)),n=e(97001);let a=r=class extends n.A{constructor(t){super(t),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new r({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,s._)([(0,o.MZ)({type:[Number,String],json:{write:!0}})],a.prototype,"left",void 0),(0,s._)([(0,o.MZ)({type:[Number,String],json:{write:!0}})],a.prototype,"right",void 0),(0,s._)([(0,o.MZ)({type:[Number,String],json:{write:!0}})],a.prototype,"top",void 0),(0,s._)([(0,o.MZ)({type:[Number,String],json:{write:!0}})],a.prototype,"bottom",void 0),a=r=(0,s._)([(0,l.$)("esri.views.layers.support.ClipRect")],a);const p=a},97001:(t,i,e)=>{e.d(i,{A:()=>a});var r=e(35143),s=e(42553),o=e(46053),l=(e(81806),e(76460),e(47249),e(85842));let n=class extends s.A{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,r._)([(0,o.MZ)({readOnly:!0})],n.prototype,"version",null),n=(0,r._)([(0,l.$)("esri.views.layers.support.ClipArea")],n);const a=n}}]);
//# sourceMappingURL=15459.4ff5ea8e.chunk.js.map