"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[14605,36986],{10286:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(35143),l=n(91967),o=n(46053),a=(n(81806),n(76460),n(47249),n(85842));let s=class extends l.default{constructor(e){super(e),this.colorSelection=!0,this.dynamicScaleToggle=!0,this.gridEnabledToggle=!0,this.numericInputs=!0,this.gridSnapEnabledToggle=!0,this.lineIntervalInput=!0,this.outOfScaleWarning=!0,this.placementButtons=!0,this.rotateWithMapToggle=!0}};(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"colorSelection",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"dynamicScaleToggle",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"gridEnabledToggle",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"numericInputs",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"gridSnapEnabledToggle",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"lineIntervalInput",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"outOfScaleWarning",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"placementButtons",void 0),(0,i._)([(0,o.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"rotateWithMapToggle",void 0),s=(0,i._)([(0,a.$)("esri.widgets.support.GridControls.VisibleElements")],s);const r=s},36986:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var i=n(35143),l=n(69539),o=(n(11265),n(68134)),a=n(96820),s=n(46053),r=(n(81806),n(76460),n(47249),n(85842)),c=n(25329),d=n(94126),u=n(98108),p=n(71981),g=n(76099),h=n(63582),v=n(54761),m=n(26572),b=n(31516),_=n(10286),w=n(39348);const y="esri-grid-controls",M={base:y,borderedSwitch:"".concat(y,"__switch--bordered"),container:"".concat(y,"__container"),numericInputsContainer:"".concat(y,"__numeric-inputs__container"),tilegroup:"".concat(y,"__tilegroup"),tile:"".concat(y,"__tile"),tileDisabled:"".concat(y,"__tile--disabled"),tileContent:"".concat(y,"__tile__content"),suffixedInputContainer:"".concat(y,"__input-with-suffix__container"),inputSuffix:"".concat(y,"__input-with-suffix__suffix-part"),inlineIcon:"".concat(y,"__inline-icon")},f={widgetIcon:"grid-unit",gridTheme:{light:"circle",dark:"circle-area",custom:"palette"},placementState:{interactive:"maximum-territory-distance",place:"move",rotate:"rotate"},warning:"exclamation-mark-triangle"},C=l.default.fromArray([115,115,115]),I=l.default.fromArray([200,200,200]),T=["interactive","place","rotate"];let K=class extends c.default{constructor(e,t){super(e,t),this.customColor=null,this.messages=null,this.messagesUnits=null,this.viewModel=new m.default,this.visibleElements=new _.A}initialize(){this.addHandles([(0,o.watch)((()=>{var e;return null===(e=this.view)||void 0===e||null===(e=e.grid)||void 0===e?void 0:e.majorLineColor}),(e=>{!e||C.equals(e)||I.equals(e)||(this.customColor=e)}),o.initial)])}loadDependencies(){return Promise.all([(0,d.W)({action:()=>Promise.resolve().then(n.bind(n,85375)),"action-bar":()=>Promise.resolve().then(n.bind(n,143)),label:()=>Promise.resolve().then(n.bind(n,11839)),icon:()=>Promise.resolve().then(n.bind(n,16702)),popover:()=>Promise.resolve().then(n.bind(n,51866)),tooltip:()=>n.e(31748).then(n.bind(n,31748)),"color-picker":()=>Promise.all([n.e(46870),n.e(73596),n.e(41763),n.e(79709),n.e(46752)]).then(n.bind(n,46752)),"input-number":()=>Promise.all([n.e(46870),n.e(41763)]).then(n.bind(n,41763))}),(0,p.m)()])}get icon(){return f.widgetIcon}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages.widgetLabel}set label(e){this._overrideIfSome("label",e)}get snappingManager(){return this.viewModel.snappingManager}set snappingManager(e){this.viewModel.snappingManager=e}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(e){this.viewModel.snappingOptions=e}get theme(){var e;const t=null===(e=this.viewModel.grid)||void 0===e?void 0:e.majorLineColor;return t?C.equals(t)?"dark":I.equals(t)?"light":"custom":null}set theme(e){var t;const{viewModel:n,customColor:i,view:l}=this;switch(e){case"light":n.gridColor=I;break;case"dark":n.gridColor=C;break;case"custom":n.gridColor=null!==(t=null!==i&&void 0!==i?i:null===l||void 0===l?void 0:l.effectiveTheme.accentColor)&&void 0!==t?t:C}}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){return(0,v.K)("div",{"aria-label":this.label,class:this.classes(M.base,u.D.widget,u.D.panel)},(0,v.K)("div",{class:M.container},this._renderContent()))}_renderContent(){const{visibleElements:e}=this;return[e.gridEnabledToggle?this._renderEnabledToggle():null,e.placementButtons?this._renderGridPlacementButtons():null,e.numericInputs?this._renderNumericInputs():null,e.lineIntervalInput?this._renderIntervalInput():null,e.gridSnapEnabledToggle&&this.viewModel.snappingOptions?this._renderSnappingToggle():null,e.dynamicScaleToggle?this._renderDynamicScaleToggle():null,e.rotateWithMapToggle?this._renderRotateToggle():null,e.colorSelection?this._renderColorSelection():null]}_renderGridPlacementButtons(){const{interactivePlacementState:e,placementDisabled:t,gridControlsEnabled:n}=this.viewModel,i=t||!n;return(0,v.K)("calcite-label",{key:"grid-placement-buttons",scale:"s"},this.messages.placementOptions,(0,v.K)("calcite-action-bar",{expandDisabled:!0,layout:"horizontal"},T.map((t=>this._renderPlacementModeButton(t,i,e)))))}_renderPlacementModeButton(e,t,n){const i=this.messages.placementState[e],l="__placement-action-".concat(e);return(0,v.K)("div",null,(0,v.K)("calcite-action",{active:n===e,alignment:"center",disabled:t,icon:f.placementState[e],id:l,onclick:()=>this.viewModel.togglePlacementState(e),text:i}),(0,v.K)("calcite-tooltip",{overlayPositioning:"fixed",placement:"top",referenceElement:l},i))}_renderNumericInputs(){const{rotation:e,spacing:t,effectiveSpacingAfterDynamicScaling:n,numericSpacingInputShouldBeVisible:i,unit:l="meters"}=this.viewModel,o=this.messagesUnits.units[l].abbr,s=this.viewModel.gridControlsEnabled,r=null!=n&&n!==this.viewModel.spacing,c="__spacing_input_scaled-".concat(this.id);return(0,v.K)("div",{class:this.classes(M.numericInputsContainer)},[i?(0,v.K)("calcite-label",{key:"spacing-label",scale:"s"},(0,v.K)("span",null,this.messages.inputLabel.spacing,r?(0,v.K)("calcite-icon",{class:this.classes(M.inlineIcon),icon:f.warning,id:c,scale:"s",tabIndex:0}):void 0),(0,v.K)("div",{class:M.suffixedInputContainer},(0,v.K)("calcite-input-number",{disabled:!s,numberButtonType:"none",suffixText:o,value:"".concat(null===t||void 0===t?void 0:t.toFixed(2)),onCalciteInputNumberChange:e=>{let{currentTarget:t}=e;const n=parseFloat(t.value);this.viewModel.spacing=n,n!==this.viewModel.spacing&&(t.value="".concat(this.viewModel.spacing))}}),r?(0,v.K)("calcite-tooltip",{overlayPositioning:"fixed",placement:"leading",referenceElement:c},(0,w.V)(this.messages.warnings.dynamicSpacing,{actualSpacingIncludingUnit:(0,a.zJ)(this.messagesUnits,n,l,2,"plural")})):void 0)):void 0,(0,v.K)("calcite-label",{key:"angle-label",scale:"s"},this.messages.inputLabel.angle,(0,v.K)("calcite-input-number",{disabled:!s,integer:!0,numberButtonType:"none",suffixText:this.messagesUnits.units.degrees.abbr,value:"".concat((0,b.LG)(e)),onCalciteInputNumberChange:e=>{let{currentTarget:t}=e;return this.viewModel.rotation=(0,b.Xt)(t.value)}}))])}_renderIntervalInput(){const{majorLineInterval:e,gridControlsEnabled:t}=this.viewModel;return(0,v.K)("div",{class:this.classes(M.numericInputsContainer)},(0,v.K)("calcite-label",{scale:"s"},this.messages.inputLabel.interval,(0,v.K)("calcite-input-number",{disabled:!t,integer:!0,max:15,min:1,numberButtonType:"vertical",value:"".concat(e),onCalciteInputNumberChange:e=>{let{currentTarget:t}=e;const n=Number.parseInt(t.value,10);this.viewModel.majorLineInterval=n,n!==this.viewModel.majorLineInterval&&(t.value="".concat(this.viewModel.majorLineInterval))}})))}_renderSnappingToggle(){var e;const{snappingOptions:t,gridControlsEnabled:n}=this.viewModel;return(0,v.K)(p.o,{checked:!(null===(e=null===t||void 0===t?void 0:t.gridEnabled)||void 0===e||!e),disabled:!(n&&t),key:"grid-snap-enabled-toggle",label:this.messages.switchLabel.snap,onChange:e=>{var t;return null===(t=this.viewModel.snappingOptions)||void 0===t?void 0:t.set("gridEnabled",e)}})}_renderDynamicScaleToggle(){const{viewModel:e,messages:t}=this,n=this.visibleElements.outOfScaleWarning&&e.gridOutOfScale;return(0,v.K)(p.o,{checked:e.dynamicScaling,disabled:!e.gridControlsEnabled,hint:n?t.warnings.outOfScale:void 0,hintIcon:f.warning,hintKind:"warning",key:"grid-dynamic-scale-toggle-".concat(this.id),label:t.switchLabel.scaling,onChange:t=>e.dynamicScaling=t})}_renderRotateToggle(){const{gridControlsEnabled:e,rotateWithMap:t}=this.viewModel;return(0,v.K)(p.o,{checked:t,disabled:!e,key:"grid-rotate-map-toggle",label:this.messages.switchLabel.rotateWithMap,onChange:e=>this.viewModel.rotateWithMap=e})}_renderEnabledToggle(){return(0,v.K)("div",{class:M.borderedSwitch},(0,v.K)(p.o,{checked:this.viewModel.displayEnabled,disabled:!!this.viewModel.interactivePlacementState,key:"grid-enabled-toggle",label:this.messages.switchLabel.display,onChange:e=>this.viewModel.trySetDisplayEnabled(e)}))}_renderColorSelection(){var e;const{customColor:t}=this,n="".concat(this.id,"--custom-grid-color-button");return(0,v.K)("calcite-label",{scale:"s"},this.messages.inputLabel.theme,(0,v.K)("div",{class:M.tilegroup},[this._renderThemeTile({value:"dark"}),this._renderThemeTile({value:"light"}),this._renderThemeTile({value:"custom",id:n}),(0,v.K)("calcite-popover",{autoClose:!0,label:this.messages.gridLineColorPopoverLabel,overlayPositioning:"fixed",referenceElement:n},(0,v.K)("calcite-color-picker",{alphaChannel:!0,savedDisabled:!0,value:null!==(e=null===t||void 0===t?void 0:t.toHex({digits:8}))&&void 0!==e?e:"#000000ff",onCalciteColorPickerChange:e=>{const t=l.default.fromHex(e.currentTarget.value);t&&(this.customColor=t,this.theme="custom")}}))]))}_renderThemeTile(e){const{theme:t}=this,{value:n}=e,i=this.messages.gridTheme[n],l="".concat(this.id,"--theme_tile_").concat(n),o="".concat(l,"__label"),a=f.gridTheme[n],s=this.viewModel.gridControlsEnabled;return(0,v.K)("div",{class:(0,g.Ly)({[M.tile]:!0,[M.tileDisabled]:!s}),id:e.id,role:"button"},(0,v.K)("input",{"aria-labelledby":o,checked:t===n,disabled:!s,id:l,name:"".concat(this.id,"--theme"),onchange:e=>{var t;this.theme=n,null===(t=e.target)||void 0===t||t.focus()},tabIndex:0,type:"radio"}),(0,v.K)("div",{class:M.tileContent},(0,v.K)("calcite-icon",{icon:a,scale:"l"}),(0,v.K)("calcite-label",{for:l,id:o},i)))}};(0,i._)([(0,s.MZ)({type:l.default})],K.prototype,"customColor",void 0),(0,i._)([(0,s.MZ)()],K.prototype,"icon",null),(0,i._)([(0,s.MZ)()],K.prototype,"label",null),(0,i._)([(0,s.MZ)(),(0,h.G)("esri/widgets/support/GridControls/t9n/GridControls")],K.prototype,"messages",void 0),(0,i._)([(0,s.MZ)(),(0,h.G)("esri/core/t9n/Units")],K.prototype,"messagesUnits",void 0),(0,i._)([(0,s.MZ)()],K.prototype,"snappingManager",null),(0,i._)([(0,s.MZ)()],K.prototype,"snappingOptions",null),(0,i._)([(0,s.MZ)()],K.prototype,"theme",null),(0,i._)([(0,s.MZ)()],K.prototype,"view",null),(0,i._)([(0,s.MZ)({type:m.default})],K.prototype,"viewModel",void 0),(0,i._)([(0,s.MZ)({type:_.A,nonNullable:!0})],K.prototype,"visibleElements",void 0),K=(0,i._)([(0,r.$)("esri.widgets.support.GridControls")],K);const S=K},71981:(e,t,n)=>{n.d(t,{m:()=>o,o:()=>r});var i=n(94126),l=(n(76099),n(54761));const o=()=>(0,i.W)({icon:()=>Promise.resolve().then(n.bind(n,16702)),label:()=>Promise.resolve().then(n.bind(n,11839)),switch:()=>Promise.resolve().then(n.bind(n,8989)),tooltip:()=>n.e(31748).then(n.bind(n,31748))}),a="esri-labeled-switch",s={label:"".concat(a,"__label"),labelContent:"".concat(a,"__label-content"),iconInfo:"".concat(a,"__icon_info"),iconWarning:"".concat(a,"__icon_warning"),tooltip:"".concat(a,"__tooltip")};function r(e){let{checked:t,disabled:n,hint:i,key:o,label:a,onChange:r,hintIcon:c,hintKind:d}=e;return(0,l.K)("calcite-label",{class:s.label,disabled:n,key:o,layout:"inline-space-between",scale:"s"},i?(0,l.K)("div",{class:s.labelContent,key:"label-content"},(0,l.K)("div",null,a),(0,l.K)("calcite-icon",{class:"warning"!==d?s.iconInfo:s.iconWarning,icon:null!==c&&void 0!==c?c:"information",id:o,scale:"s",tabIndex:0}),(0,l.K)("calcite-tooltip",{class:s.tooltip,overlayPositioning:"fixed",referenceElement:o},i)):a,(0,l.K)("calcite-switch",{checked:t,disabled:n,scale:"s",onCalciteSwitchChange:e=>r(e.currentTarget.checked)}))}}}]);
//# sourceMappingURL=36986.ce1e298a.chunk.js.map