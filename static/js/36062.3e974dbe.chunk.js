"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[36062,58905],{36062:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var o=n(35143),r=n(91967),i=n(50076),a=(n(81806),n(46053)),l=(n(76460),n(47249),n(85842)),s=n(58905),u=n(9624),c=n(13312),d=n(80963),f=n(45417),v=n(94982);let p=class extends r.default{constructor(e){super(e),this.conversionInfo=null,this.coordinateSegments=null,this._currentPattern=void 0,this.defaultPattern=null,this.name=null,this.viewModel=null}get currentPattern(){var e;return null!==(e=this._currentPattern||this.defaultPattern)&&void 0!==e?e:""}set currentPattern(e){this._currentPattern=e}get label(){var e;return null!==(e=this.name)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get hasDisplayProperties(){return!(!this.defaultPattern||!this.coordinateSegments)}get spatialReference(){var e,t;return"basemap"===this.name?this._viewSpatialReference:null!==(e=null===(t=this.conversionInfo)||void 0===t?void 0:t.spatialReference)&&void 0!==e?e:c.default.WGS84}set spatialReference(e){this._overrideIfSome("spatialReference",e)}get _viewSpatialReference(){var e,t;return null!==(e=null===(t=this.viewModel)||void 0===t||null===(t=t.view)||void 0===t?void 0:t.spatialReference)&&void 0!==e?e:c.default.WGS84}get _additionalCharactersPattern(){const e=this.coordinateSegments;if(!e)return null;const t=e.map((e=>e.alias)),n=this.currentPattern.replaceAll(new RegExp('["nsew'.concat(t.join(),"]"),"gi"),"").replaceAll(" ","");return new RegExp("[".concat(n,"]"),"g")}get test(){}async convert(e){var t;if(!(0,v.Ny)(e))throw new i.default("format:invalid-point","Could not convert invalid point.",{point:e});const n=null===(t=this.conversionInfo)||void 0===t?void 0:t.convert;if(n)return Promise.resolve().then((()=>n(e)));const o=await this._project(e,this.spatialReference);return{location:o,coordinate:await this._getCoordinate(o)}}getConversionStrategy(){var e,t;const n=this._viewSpatialReference;return null!==(e=this.conversionInfo)&&void 0!==e&&e.convert||null!==(t=this.viewModel)&&void 0!==t&&t.formatterAvailable||"xy"===this.name&&(n.isWebMercator||n.isWGS84)||"basemap"===this.name?"client":"server"}getDisplayCoordinate(e){if(!e)return null;if(!this.coordinateSegments||!this.currentPattern)return e;let t=this.currentPattern;const n=this._getSegmentMatches(e,!1);for(let o=this.coordinateSegments.length-1;o>=0;o--){const e=this.coordinateSegments[o];t=t.replace(e.alias,n[o])}return t}_parseUserInput(e){const{defaultPattern:t,_additionalCharactersPattern:n,coordinateSegments:o}=this;if(!t||!n)return"";let r=t.replace(n,"");e=e.replace(n,"");const i=this._getSegmentMatches(e,!0);if(o)for(let a=o.length-1;a>=0;a--){const e=o[a];r=r.replace(e.alias,i[a])}return r}_getSegmentMatches(e,t){const n=new Array,{coordinateSegments:o}=this;if(!o)return n;for(let r=0;r<o.length;r++){const i=o[r],a=e.match(i.searchPattern);if(!a){n.push("");continue}let l=a[0];if(e=e.replace(l,"").trim(),i.substitution){const e=t?i.substitution.input(l):i.substitution.output(l);e&&(l="".concat(e))}n.push(l)}return n}async reverseConvert(e){var t,n;const o=this._parseUserInput(e),r=null===(t=this.conversionInfo)||void 0===t?void 0:t.reverseConvert;let a;if(r)a=r(o);else if("xy"===this.name||"basemap"===this.name)a=(0,v.Kp)(o,this.spatialReference);else if(null!==(n=this.viewModel)&&void 0!==n&&n.formatterAvailable)switch(this.name){case"dd":case"ddm":case"dms":a=(0,s.fromLatitudeLongitude)(o,this.spatialReference);break;case"mgrs":{const e="automatic";a=(0,s.fromMgrs)(o,this.spatialReference,e);break}case"utm":{const e="latitude-band-indicators";a=(0,s.fromUtm)(o,this.spatialReference,e);break}case"usng":a=(0,s.fromUsng)(o,this.spatialReference);break;default:a=null}if(!a)throw new i.default("format:invalid-input","Could not parse input into point.",{userInput:e});return this._project(a,this._viewSpatialReference)}async _getCoordinate(e){var t,n,o;const r=null!==(t=null===(n=this.viewModel)||void 0===n||null===(n=n.view)||void 0===n?void 0:n.scale)&&void 0!==t?t:0;if(!(0,v.Ny)(e))throw new i.default("format:invalid-point","Could not transform invalid point into coordinate.",{point:e});if(null!==(o=this.viewModel)&&void 0!==o&&o.formatterAvailable||"basemap"===this.name||"xy"===this.name)switch(this.name){case"dd":case"ddm":case"dms":{const t=(0,v.pu)(r);return(0,s.toLatitudeLongitude)(e,this.name,t)}case"mgrs":return(0,s.toMgrs)(e,"automatic",5,!1);case"usng":return(0,s.toUsng)(e,5,!1);case"utm":return(0,s.toUtm)(e,"latitude-band-indicators",!0);default:return(0,v.sO)(e,r)}return(0,v.sO)(e,r)}async _project(e,t){var n,o;if((0,d.aI)(e.spatialReference,t)||!t)return e;if(null!==(n=this.viewModel)&&void 0!==n&&n.formatterAvailable&&(0,u.isLoaded)())return(0,u.project)(e,t);if(null===(o=this.viewModel)||void 0===o||!o.formatterAvailable){const n=(0,f.project)(e,t);if(null!=n)return n}return null}};(0,o._)([(0,a.MZ)()],p.prototype,"conversionInfo",void 0),(0,o._)([(0,a.MZ)()],p.prototype,"coordinateSegments",void 0),(0,o._)([(0,a.MZ)()],p.prototype,"currentPattern",null),(0,o._)([(0,a.MZ)()],p.prototype,"_currentPattern",void 0),(0,o._)([(0,a.MZ)()],p.prototype,"label",null),(0,o._)([(0,a.MZ)()],p.prototype,"defaultPattern",void 0),(0,o._)([(0,a.MZ)({readOnly:!0})],p.prototype,"hasDisplayProperties",null),(0,o._)([(0,a.MZ)()],p.prototype,"name",void 0),(0,o._)([(0,a.MZ)({type:c.default})],p.prototype,"spatialReference",null),(0,o._)([(0,a.MZ)()],p.prototype,"viewModel",void 0),(0,o._)([(0,a.MZ)({readOnly:!0})],p.prototype,"_viewSpatialReference",null),(0,o._)([(0,a.MZ)({readOnly:!0})],p.prototype,"_additionalCharactersPattern",null),p=(0,o._)([(0,l.$)("esri.widgets.CoordinateConversion.support.Format")],p);const h=p},58905:(e,t,n)=>{n.r(t),n.d(t,{fromLatitude:()=>v,fromLatitudeLongitude:()=>d,fromLongitude:()=>f,fromMgrs:()=>p,fromUsng:()=>h,fromUtm:()=>m,isLoaded:()=>s,isSupported:()=>u,load:()=>c,toLatitudeLongitude:()=>g,toMgrs:()=>_,toUsng:()=>w,toUtm:()=>S});var o=n(50076),r=n(7724),i=n(19247),a=n(13312),l=n(50265);function s(){return(0,r.i)()}function u(){return(0,r.b)()}function c(){return(0,r.l)()}function d(e,t){const n=[];e=(e=(e=e.replaceAll(/[\u00B0\u00BA]/g,"^")).replaceAll("\u2032","'")).replaceAll("\u2033",'"');const o=M(t);return r.c.dmsToGeog(o,1,[e],n)?new i.default(n[0][0],n[0][1],t||a.default.WGS84):null}function f(e){var t,n,o,r,i;return e&&s()&&null!==(t=null!==(n=null!==(o=(0,l.$J)(e))&&void 0!==o?o:null===(r=d("0\xb0 0' 0\" N | ".concat(e)))||void 0===r?void 0:r.longitude)&&void 0!==n?n:null===(i=d("0 | ".concat(e)))||void 0===i?void 0:i.longitude)&&void 0!==t?t:null}function v(e){var t,n,o,r,i;return e&&s()&&null!==(t=null!==(n=null!==(o=(0,l.$J)(e))&&void 0!==o?o:null===(r=d("".concat(e," | 0\xb0 0' 0\" E")))||void 0===r?void 0:r.latitude)&&void 0!==n?n:null===(i=d("".concat(e," | 0")))||void 0===i?void 0:i.latitude)&&void 0!==t?t:null}function p(e,t,n){const o=[],l=P(n);if(-1===l)return console.warn("invalid conversionMode: ".concat(n)),null;const s=M(t);return r.d.mgrsToGeogExtended(s,1,[e],l,o)?new i.default(o[0][0],o[0][1],t||a.default.WGS84):null}function h(e,t){const n=[];!t&&/\(.+27/.test(e)&&(t=a.default.GCS_NAD_1927);const o=M(t);return r.e.usngToGeog(o,1,[e],n)?new i.default(n[0][0],n[0][1],t||a.default.WGS84):null}function m(e,t,n){const o=[],l=y(n);if(-1===l)return console.warn("invalid conversionMode: ".concat(n)),null;const s=M(t);return r.f.utmToGeog(s,1,[e],l,o)?new i.default(o[0][0],o[0][1],t||a.default.WGS84):null}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=[[e.x,e.y]],i=[],a=M(e.spatialReference);let l=0;switch(t){case"dd":l=r.c.geogToDd(a,1,o,n,i);break;case"ddm":l=r.c.geogToDdm(a,1,o,n,i);break;case"dms":l=r.c.geogToDms(a,1,o,n,i);break;default:return console.warn("invalid format: ".concat(t)),null}return l?i[0]:null}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=[[e.x,e.y]],a=[],l=M(e.spatialReference);let s=P(t);return-1===s?(console.warn("invalid conversionMode: ".concat(t)),null):(o&&(s|=r.d.PE_MGRS_ADD_SPACES),r.d.geogToMgrsExtended(l,1,i,n,!1,s,a)?a[0]:null)}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=[[e.x,e.y]],i=[],a=M(e.spatialReference);return r.e.geogToUsng(a,1,o,t,!1,n,i)?i[0]:null}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=[[e.x,e.y]],i=[],a=M(e.spatialReference);let l=y(t);return-1===l?(console.warn("invalid conversionMode: ".concat(t)),null):(n&&(l|=r.f.PE_UTM_OPTS_ADD_SPACES),r.f.geogToUtm(a,1,o,l,i)?i[0]:null)}function M(e){let t=null;if(e||(e=a.default.WGS84),e.wkid){if(t=r.P.geogcs(e.wkid),!t)throw new o.default("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!e.wkt2&&!e.wkt)throw new o.default("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(t=r.P.fromString(r.a.PE_TYPE_GEOGCS,e.wkt2||e.wkt),!t)throw new o.default("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return t}function P(e){let t=-1;switch(e){case"automatic":t=r.d.PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":t=r.d.PE_MGRS_STYLE_NEW|r.d.PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":t=r.d.PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":t=r.d.PE_MGRS_STYLE_OLD|r.d.PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":t=r.d.PE_MGRS_STYLE_OLD}return t}function y(e){let t=-1;switch(e){case"latitude-band-indicators":t=r.f.PE_UTM_OPTS_NONE;break;case"north-south-indicators":t=r.f.PE_UTM_OPTS_NS}return t}},94982:(e,t,n)=>{n.d(t,{Kp:()=>l,Ny:()=>u,pu:()=>a,sO:()=>c,z2:()=>f});var o=n(19247),r=n(13312);function i(e,t){const n=a(t);return[e[0].toFixed(n),e[1].toFixed(n)]}function a(e){return e>=500?6:e<500&&e>=50?7:e<50&&e>=5?8:9}function l(e,t){const n=e.includes(",")?",":" ",[i,a,l]=e.split(n).map((e=>{const t=e.trim();return t?Number(t):null}));if(!s(i)||!s(a))return null;const u=new o.default({x:i,y:a,spatialReference:t||r.default.WGS84});return l&&(u.z=l,u.hasZ=!0),u}function s(e){return"number"==typeof e&&isFinite(e)}function u(e){return!!e&&s(e.x)&&s(e.y)}function c(e,t){if(e.spatialReference.isGeographic&&t){const[n,o]=i([e.x,e.y],t);return"".concat(n,", ").concat(o)}return"".concat(e.x.toFixed(3),", ").concat(e.y.toFixed(3))}const d=["dd","dms","ddm","mgrs","usng","utm"];function f(e){return d.includes(e)}}}]);
//# sourceMappingURL=36062.3e974dbe.chunk.js.map