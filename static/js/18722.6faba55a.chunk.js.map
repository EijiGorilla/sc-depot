{"version":3,"file":"static/js/18722.6faba55a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ElevationQuery.js","../node_modules/@arcgis/core/layers/support/ElevationTile.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{result as e}from\"../../core/asyncUtils.js\";import t from\"../../core/Error.js\";import{assertIsSome as i}from\"../../core/maybe.js\";import{whenOrAbort as n,throwIfAbortError as o}from\"../../core/promiseUtils.js\";import{getMetersPerUnitForSR as l}from\"../../core/unitUtils.js\";import s from\"../../geometry/Multipoint.js\";import a from\"../../geometry/Point.js\";import r from\"../../geometry/Polyline.js\";import{initializeProjection as c,project as u}from\"../../geometry/projection.js\";import{fromExtent as h,create as f,contains as p}from\"../../geometry/support/aaBoundingRect.js\";import{MultiTileElevationSampler as m}from\"./ElevationSampler.js\";import{ElevationTile as d}from\"./ElevationTile.js\";import{TileKey as y}from\"./TileKey.js\";class T{async queryAll(e,i,n){if(!(e=n?.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\");const o=w.fromGeometry(i);let l=!1;n?.returnSampleInfo||(l=!0);const s={...R,...n,returnSampleInfo:!0},a=await this.query(e[e.length-1],o,s),r=await this._queryAllContinue(e,a,s);return r.geometry=r.geometry.export(),l&&delete r.sampleInfo,r}async query(e,i,n){if(!e)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\");if(!i||!(i instanceof w)&&\"point\"!==i.type&&\"multipoint\"!==i.type&&\"polyline\"!==i.type)throw new t(\"elevation-query:invalid-geometry\",\"Only point, polyline and multipoint geometries can be used to query elevation\");const o={...R,...n},l=new x(e,i.spatialReference,o),s=o.signal;return await e.load({signal:s}),await q(l,i,s),await this._selectTiles(l,s),await F(l,s),j(l),b(l,s)}async createSampler(e,i,n){if(!e)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require an elevation layer to fetch tiles from\");if(!i||\"extent\"!==i.type)throw new t(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\");const o={...R,...n};return this._createSampler(e,i,o)}async createSamplerAll(e,i,n){if(!(e=n?.ignoreInvisibleLayers?e.filter((e=>e.visible)):e.slice()).length)throw new t(\"elevation-query:invalid-layer\",\"Elevation queries require at least one elevation layer to fetch tiles from\");if(!i||\"extent\"!==i.type)throw new t(\"elevation-query:invalid-extent\",\"Invalid or undefined extent\");const o={...R,...n,returnSampleInfo:!0},l=await this._createSampler(e[e.length-1],i,o);return this._createSamplerAllContinue(e,i,l,o)}async _createSampler(e,t,i,n){const o=i.signal;await e.load({signal:o});const l=t.spatialReference,s=e.tileInfo.spatialReference;l.equals(s)||(await c([{source:l,dest:s}],{signal:o}),t=u(t,s));const a=new _(e,t,i,n);return await this._selectTiles(a,o),await F(a,o),new m(a.elevationTiles,a.layer.tileInfo,a.options.noDataValue)}async _createSamplerAllContinue(e,t,i,n){if(e.pop(),!e.length)return i;const o=i.samplers.filter((e=>!e.tile.hasNoDataValues)).map((e=>h(e.extent))),l=await this._createSampler(e[e.length-1],t,n,o);if(0===l.samplers.length)return i;const s=i.samplers.concat(l.samplers),a=new m(s,n.noDataValue);return this._createSamplerAllContinue(e,t,a,n)}async _queryAllContinue(e,t,n){const o=e.pop(),l=t.geometry.coordinates,s=t.sampleInfo;i(s);const a=[],r=[];for(let i=0;i<l.length;i++){const t=s[i];t.demResolution>=0?t.source||(t.source=o):e.length&&(a.push(l[i]),r.push(i))}if(!e.length||0===a.length)return t;const c=t.geometry.clone(a),u=await this.query(e[e.length-1],c,n),h=u.sampleInfo;if(!h)throw new Error(\"no sampleInfo\");return r.forEach(((e,t)=>{l[e].z=u.geometry.coordinates[t].z,s[e].demResolution=h[t].demResolution})),this._queryAllContinue(e,t,n)}async _selectTiles(e,i){\"geometry\"===e.type&&I(e);const n=e.options.demResolution;if(\"number\"==typeof n)C(e,n);else if(\"finest-contiguous\"===n)await this._selectTilesFinestContiguous(e,i);else{if(\"auto\"!==n)throw new t(\"elevation-query:invalid-dem-resolution\",`Invalid dem resolution value '${n}', expected a number, \"finest-contiguous\" or \"auto\"`);await this._selectTilesAuto(e,i)}}async _selectTilesFinestContiguous(e,t){const{tileInfo:i,tilemapCache:n}=e.layer,o=E(i,n,e.options.minDemResolution);await this._selectTilesFinestContiguousAt(e,o,t)}async _selectTilesFinestContiguousAt(e,i,l){const s=e.layer;if(e.selectTilesAtLOD(i),i<0)return;const a=s.tilemapCache,r=e.getTilesToFetch();try{if(a&&!L(a))await n(Promise.all(r.map((e=>a.fetchAvailability(e.level,e.row,e.col,{signal:l})))),l);else if(await F(e,l),!e.allElevationTilesFetched())throw e.clearElevationTiles(),new t(\"elevation-query:has-unavailable-tiles\")}catch(c){o(c),await this._selectTilesFinestContiguousAt(e,i-1,l)}}async _selectTilesAuto(t,i){M(t),S(t);const l=t.layer.tilemapCache;if(!l||L(l))return this._selectTilesAutoPrefetchUpsample(t,i);const s=t.getTilesToFetch(),a={},r=s.map((async t=>{const n=new y(null,0,0,0,f()),s=await e(l.fetchAvailabilityUpsample(t.level,t.row,t.col,n,{signal:i}));!1!==s.ok?null!=t.id&&(a[t.id]=n):o(s.error)}));await n(Promise.all(r),i),t.remapTiles(a)}async _selectTilesAutoPrefetchUpsample(e,t){const i=e.layer.tileInfo;await F(e,t);let n=!1;e.forEachTileToFetch(((e,t)=>{i.upsampleTile(e)?n=!0:t()})),n&&await this._selectTilesAutoPrefetchUpsample(e,t)}}class w{export(){return this._exporter(this.coordinates,this.spatialReference)}clone(e){const t=new w;return t.geometry=this.geometry,t.spatialReference=this.spatialReference,t.coordinates=e||this.coordinates.map((e=>e.clone())),t._exporter=this._exporter,t}async project(e,t){if(this.spatialReference.equals(e))return this.clone();await c([{source:this.spatialReference,dest:e}],{signal:t});const i=new s({spatialReference:this.spatialReference,points:this.coordinates.map((e=>[e.x,e.y]))}),n=u(i,e);if(!n)return null;const o=this.coordinates.map(((e,t)=>{const i=e.clone(),o=n.points[t];return i.x=o[0],i.y=o[1],i})),l=this.clone(o);return l.spatialReference=e,l}static fromGeometry(e){const t=new w;if(t.geometry=e,t.spatialReference=e.spatialReference,e instanceof w)t.coordinates=e.coordinates.map((e=>e.clone())),t._exporter=(t,i)=>{const n=e.clone(t);return n.spatialReference=i,n};else switch(e.type){case\"point\":{const i=e,{hasZ:n,hasM:o}=i;t.coordinates=n&&o?[new v(i.x,i.y,i.z,i.m)]:n?[new v(i.x,i.y,i.z)]:o?[new v(i.x,i.y,null,i.m)]:[new v(i.x,i.y)],t._exporter=(t,i)=>e.hasM?new a(t[0].x,t[0].y,t[0].z,t[0].m,i):new a(t[0].x,t[0].y,t[0].z,i);break}case\"multipoint\":{const i=e,{hasZ:n,hasM:o}=i;t.coordinates=n&&o?i.points.map((e=>new v(e[0],e[1],e[2],e[3]))):n?i.points.map((e=>new v(e[0],e[1],e[2]))):o?i.points.map((e=>new v(e[0],e[1],null,e[2]))):i.points.map((e=>new v(e[0],e[1]))),t._exporter=(t,i)=>e.hasM?new s({points:t.map((e=>[e.x,e.y,e.z,e.m])),hasZ:!0,hasM:!0,spatialReference:i}):new s(t.map((e=>[e.x,e.y,e.z])),i);break}case\"polyline\":{const i=e,n=[],o=[],{hasZ:l,hasM:s}=e;let a=0;for(const e of i.paths)if(o.push([a,a+e.length]),a+=e.length,l&&s)for(const t of e)n.push(new v(t[0],t[1],t[2],t[3]));else if(l)for(const t of e)n.push(new v(t[0],t[1],t[2]));else if(s)for(const t of e)n.push(new v(t[0],t[1],null,t[2]));else for(const t of e)n.push(new v(t[0],t[1]));t.coordinates=n,t._exporter=(t,i)=>{const n=e.hasM?t.map((e=>[e.x,e.y,e.z??0,e.m??0])):t.map((e=>[e.x,e.y,e.z??0])),l=o.map((e=>n.slice(e[0],e[1])));return new r({paths:l,hasM:e.hasM,hasZ:!0,spatialReference:i})};break}}return t}}class v{constructor(e,t,i=null,n=null,o=null,l=null){this.x=e,this.y=t,this.z=i,this.m=n,this.tile=o,this.elevationTile=l}clone(){return new v(this.x,this.y,this.z,this.m)}}class g{constructor(e,t){this.layer=e,this.options=t}}class x extends g{constructor(e,t,i){super(e,i),this.outSpatialReference=t,this.type=\"geometry\"}selectTilesAtLOD(e){if(e<0)this.geometry.coordinates.forEach((e=>e.tile=null));else{const{tileInfo:t,tilemapCache:i}=this.layer,n=D(t,i)[e].level;this.geometry.coordinates.forEach((e=>e.tile=t.tileAt(n,e.x,e.y)))}}allElevationTilesFetched(){return!this.geometry.coordinates.some((e=>!e.elevationTile))}clearElevationTiles(){for(const e of this.geometry.coordinates)e.elevationTile!==this.outsideExtentTile&&(e.elevationTile=null)}populateElevationTiles(e){for(const t of this.geometry.coordinates)!t.elevationTile&&t.tile?.id&&(t.elevationTile=e[t.tile.id])}remapTiles(e){for(const t of this.geometry.coordinates){const i=t.tile?.id;t.tile=i?e[i]:null}}getTilesToFetch(){const e={},t=[];for(const i of this.geometry.coordinates){const n=i.tile;if(!n)continue;const o=i.tile?.id;i.elevationTile||!o||e[o]||(e[o]=n,t.push(n))}return t}forEachTileToFetch(e){for(const t of this.geometry.coordinates)t.tile&&!t.elevationTile&&e(t.tile,(()=>{t.tile=null}))}}class _ extends g{constructor(e,t,i,n){super(e,i),this.type=\"extent\",this.elevationTiles=[],this._candidateTiles=[],this._fetchedCandidates=new Set,this.extent=t.clone().intersection(e.fullExtent),this.maskExtents=n}selectTilesAtLOD(e,t){const i=this._maximumLodForRequests(t),n=Math.min(i,e);n<0?this._candidateTiles.length=0:this._selectCandidateTilesCoveringExtentAt(n)}_maximumLodForRequests(e){const{tileInfo:t,tilemapCache:i}=this.layer,n=D(t,i);if(!e)return n.length-1;const o=this.extent;if(null==o)return-1;for(let l=n.length-1;l>=0;l--){const i=n[l],s=i.resolution*t.size[0],a=i.resolution*t.size[1];if(Math.ceil(o.width/s)*Math.ceil(o.height/a)<=e)return l}return-1}allElevationTilesFetched(){return this._candidateTiles.length===this.elevationTiles.length}clearElevationTiles(){this.elevationTiles.length=0,this._fetchedCandidates.clear()}populateElevationTiles(e){for(const t of this._candidateTiles){const i=t.id&&e[t.id];i&&(this._fetchedCandidates.add(t),this.elevationTiles.push(i))}}remapTiles(e){this._candidateTiles=z(this._candidateTiles.map((t=>e[t.id])))}getTilesToFetch(){return this._candidateTiles}forEachTileToFetch(e,t){const i=this._candidateTiles;this._candidateTiles=[],i.forEach((i=>{if(this._fetchedCandidates.has(i))return void(t&&t(i));let n=!1;e(i,(()=>n=!0)),n?t&&t(i):this._candidateTiles.push(i)})),this._candidateTiles=z(this._candidateTiles,t)}_selectCandidateTilesCoveringExtentAt(e){this._candidateTiles.length=0;const t=this.extent;if(null==t)return;const{tileInfo:i,tilemapCache:n}=this.layer,o=D(i,n)[e],l=i.tileAt(o.level,t.xmin,t.ymin),s=l.extent;if(null==s)return;const a=o.resolution*i.size[0],r=o.resolution*i.size[1],c=Math.ceil((t.xmax-s[0])/a),u=Math.ceil((t.ymax-s[1])/r);for(let h=0;h<u;h++)for(let e=0;e<c;e++){const t=new y(null,l.level,l.row-h,l.col+e);i.updateTileInfo(t),this._tileIsMasked(t)||this._candidateTiles.push(t)}}_tileIsMasked(e){return!!this.maskExtents&&this.maskExtents.some((t=>e.extent&&p(t,e.extent)))}}function E(e,t,i=0){const n=D(e,t);let o=n.length-1;if(i>0){const t=i/l(e.spatialReference),s=n.findIndex((e=>e.resolution<t));0===s?o=0:s>0&&(o=s-1)}return o}const R={maximumAutoTileRequests:20,noDataValue:0,returnSampleInfo:!1,demResolution:\"auto\",minDemResolution:0};async function q(e,i,n){let o;const l=e.layer.tileInfo.spatialReference;if(i instanceof w?o=await i.project(l,n):(await c([{source:i.spatialReference,dest:l}],{signal:n}),o=u(i,l)),!o)throw new t(\"elevation-query:spatial-reference-mismatch\",`Cannot query elevation in '${i.spatialReference.wkid}' on an elevation service in '${l.wkid}'`);e.geometry=w.fromGeometry(o)}function I(e){if(null==e.layer.fullExtent)return;const t=new d(null);t.sample=()=>e.options.noDataValue,e.outsideExtentTile=t;const i=e.layer.fullExtent;e.geometry.coordinates.forEach((e=>{const n=e.x,o=e.y;(n<i.xmin||n>i.xmax||o<i.ymin||o>i.ymax)&&(e.elevationTile=t)}))}function A(e,t){const{tileInfo:i,tilemapCache:n}=e.layer,o=t/l(i.spatialReference),s=D(i,n);let a=s[0],r=0;for(let l=1;l<s.length;l++){const e=s[l];Math.abs(e.resolution-o)<Math.abs(a.resolution-o)&&(a=e,r=l)}return r}function C(e,t){const i=A(e,t);e.selectTilesAtLOD(i)}function M(e){const{tileInfo:t,tilemapCache:i}=e.layer,n=E(t,i,e.options.minDemResolution);e.selectTilesAtLOD(n,e.options.maximumAutoTileRequests)}function D(e,t){const i=e.lods;if(L(t)){const{effectiveMinLOD:e,effectiveMaxLOD:n}=t;return i.filter((t=>t.level>=e&&t.level<=n))}return i}async function F(e,t){const i=e.getTilesToFetch(),o={},l=e.options.cache,s=e.options.noDataValue,a=i.map((async i=>{if(null==i.id)return;const n=`${e.layer.uid}:${i.id}:${s}`,a=null!=l?l.get(n):null,r=null!=a?a:await e.layer.fetchTile(i.level,i.row,i.col,{noDataValue:s,signal:t});null!=l&&l.put(n,r),o[i.id]=new d(i,r)}));await n(Promise.allSettled(a),t),e.populateElevationTiles(o)}function S(e){const t=e.layer.tileInfo;let i=0;const n={},o=e=>{null!=e.id&&(e.id in n?n[e.id]++:(n[e.id]=1,i++))},l=e=>{if(null==e.id)return;const t=n[e.id];1===t?(delete n[e.id],i--):n[e.id]=t-1};e.forEachTileToFetch(o,l);let s=!0;for(;s&&(s=!1,e.forEachTileToFetch((n=>{i<=e.options.maximumAutoTileRequests||(l(n),t.upsampleTile(n)&&(s=!0),o(n))}),l),s););}function j(e){e.geometry.coordinates.forEach((t=>{const i=t.elevationTile;let n=e.options.noDataValue;if(i){const e=i.sample(t.x,t.y);null!=e?n=e:t.elevationTile=null}t.z=n}))}function z(e,t){const i={},n=[];for(const l of e){const e=l.id;e&&!i[e]?(i[e]=l,n.push(l)):t&&t(l)}const o=n.sort(((e,t)=>e.level-t.level));return o.filter(((e,i)=>{for(let n=0;n<i;n++){const i=o[n].extent;if(i&&e.extent&&p(i,e.extent))return t&&t(e),!1}return!0}))}async function b(e,t){const n=await e.geometry.project(e.outSpatialReference,t);i(n);const o={geometry:n.export(),noDataValue:e.options.noDataValue};return e.options.returnSampleInfo&&(o.sampleInfo=k(e)),e.geometry.coordinates.forEach((e=>{e.tile=null,e.elevationTile=null})),o}function k(e){const t=e.layer.tileInfo,i=l(t.spatialReference);return e.geometry.coordinates.map((n=>{let o=-1;if(n.elevationTile&&n.elevationTile!==e.outsideExtentTile){o=t.lodAt(n.elevationTile.tile.level).resolution*i}return{demResolution:o}}))}function L(e){return null!=e?.tileInfo}export{T as ElevationQuery,w as GeometryDescriptor,E as getFinestLodIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ElevationSamplerData as a}from\"./ElevationSamplerData.js\";class t{constructor(t,l=null){if(this.tile=t,null!=l&&null!=t){const e=t.extent;this._samplerData=new a(l,e)}}get zmin(){return null!=this._samplerData?this._samplerData.data.minValue:0}get zmax(){return null!=this._samplerData?this._samplerData.data.maxValue:0}get hasNoDataValues(){return!!this._samplerData?.data.hasNoDataValues}sample(a,t){if(null==this._samplerData)return;const{safeWidth:e,data:s,dx:r,dy:n,y1:i,x0:u}=this._samplerData,{width:o,values:m,noDataValue:h}=s,p=l(n*(i-t),0,e),D=l(r*(a-u),0,e),d=Math.floor(p),f=Math.floor(D),_=d*o+f,c=_+o,x=m[_],V=m[c],g=m[_+1],v=m[c+1];if(x!==h&&V!==h&&g!==h&&v!==h){const a=D-f,t=x+(g-x)*a;return t+(V+(v-V)*a-t)*(p-d)}}}function l(a,t,l){return a<t?t:a>l?l:a}export{t as ElevationTile};\n"],"names":["T","queryAll","e","i","n","ignoreInvisibleLayers","filter","visible","slice","length","t","o","w","fromGeometry","l","returnSampleInfo","s","_objectSpread","R","a","this","query","r","_queryAllContinue","geometry","export","sampleInfo","type","x","spatialReference","signal","load","async","layer","tileInfo","project","c","source","dest","u","concat","wkid","q","_selectTiles","F","coordinates","forEach","elevationTile","options","noDataValue","sample","y","z","j","outSpatialReference","map","outsideExtentTile","lodAt","tile","level","resolution","demResolution","k","b","createSampler","_createSampler","createSamplerAll","_createSamplerAllContinue","equals","_","m","elevationTiles","pop","samplers","hasNoDataValues","h","extent","push","clone","Error","fullExtent","d","xmin","xmax","ymin","ymax","I","tilemapCache","D","Math","abs","A","selectTilesAtLOD","C","_selectTilesFinestContiguous","_selectTilesAuto","E","minDemResolution","_selectTilesFinestContiguousAt","getTilesToFetch","L","Promise","all","fetchAvailability","row","col","allElevationTilesFetched","clearElevationTiles","maximumAutoTileRequests","M","id","forEachTileToFetch","upsampleTile","S","_selectTilesAutoPrefetchUpsample","f","fetchAvailabilityUpsample","ok","error","remapTiles","_exporter","points","hasZ","hasM","v","paths","_e$z","_e$m","_e$z2","constructor","arguments","undefined","g","super","tileAt","some","populateElevationTiles","_t$tile","_t$tile2","_i$tile","_candidateTiles","_fetchedCandidates","Set","intersection","maskExtents","_maximumLodForRequests","min","_selectCandidateTilesCoveringExtentAt","size","ceil","width","height","clear","add","has","updateTileInfo","_tileIsMasked","p","findIndex","lods","effectiveMinLOD","effectiveMaxLOD","cache","uid","get","fetchTile","put","allSettled","sort","_samplerData","zmin","data","minValue","zmax","maxValue","_this$_samplerData","safeWidth","dx","dy","y1","x0","values","floor","V"],"sourceRoot":""}