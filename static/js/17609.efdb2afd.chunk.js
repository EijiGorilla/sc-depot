"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[17609],{17609:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ue});var i=o(89379),n=o(35143),s=(o(11265),o(81806),o(30726)),l=o(68134),a=o(18288),r=o(46053),c=(o(76460),o(47249),o(85842)),d=o(39348),u=o(22785),h=o(25329);const m="esri-shadow-cast",p={base:m,timeRange:"".concat(m,"__time-range"),timeRangeIndicator:"".concat(m,"__time-range__indicator"),datePickerContainer:"".concat(m,"__date-picker-container"),datePicker:"".concat(m,"__date-picker"),visualization:"".concat(m,"__visualization"),visualizationSelect:"".concat(m,"__visualization__select"),visualizationConfigHidden:"".concat(m,"__visualization__config--hidden")},v="".concat(m,"__label"),f="".concat(m,"__threshold-config"),g={base:f,valueLabel:"".concat(f,"__value-label")},_="".concat(m,"__duration-config"),b={base:_,radioGroup:"".concat(_,"__radio-group")},z={base:"".concat(m,"__discrete-config")},C="".concat(m,"__tooltip"),k={base:C,content:"".concat(C,"__content")};var y=o(47272),w=o(83292),T=o(91967);let O=class extends T.default{constructor(){super(...arguments),this.timeRangeSlider=!0,this.timezone=!0,this.datePicker=!0,this.visualizationOptions=!0,this.colorPicker=!0,this.tooltip=!0}};(0,n._)([(0,r.MZ)()],O.prototype,"timeRangeSlider",void 0),(0,n._)([(0,r.MZ)()],O.prototype,"timezone",void 0),(0,n._)([(0,r.MZ)()],O.prototype,"datePicker",void 0),(0,n._)([(0,r.MZ)()],O.prototype,"visualizationOptions",void 0),(0,n._)([(0,r.MZ)()],O.prototype,"colorPicker",void 0),(0,n._)([(0,r.MZ)()],O.prototype,"tooltip",void 0),O=(0,n._)([(0,c.$)("esri.widgets.ShadowCast.ShadowCastVisibleElements")],O);const S=O;var M=o(50964),P=o(49723),D=o(38042),E=o(24241);function Z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"milliseconds",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={locale:"bs"===(0,D.Z0)()?"hr":(0,D.JK)(),numberingSystem:"latn"};let s;return s=e?E.dw.fromMillis((0,a.t)(e,t,"milliseconds"),n).rescale():E.dw.fromObject({seconds:0},n),s.toHuman((0,i.A)({listStyle:"narrow",unitDisplay:"long"},o))}var K=o(53986),I=o(76099),A=o(54761);const V=["for","label","tabIndex"];function x(e,t){const{for:o,label:n,tabIndex:s}=e,l=(0,K.A)(e,V);return(0,A.K)("div",(0,i.A)({class:(0,I.Ly)(v,null===l||void 0===l?void 0:l.class),key:o},l),(0,A.K)("calcite-label",{for:o,scale:"s",tabIndex:s},n),t)}var L=o(69539),G=o(94126),R=o(63582);const H="esri-color-picker",U={base:H,backgroundPattern:"".concat(H,"__bg-pattern"),toggleButton:"".concat(H,"__toggle-button"),popover:"".concat(H,"__popover")};let W=class extends h.default{constructor(e,t){super(e,t),this.value=new L.default,this.alphaEnabled=!0,this._containerElement=null,this._button=null,this._open=!1,this._onColorInput=e=>{var t;const o=e.currentTarget.value,i="string"==typeof o?new L.default(o):new L.default;this.value=i,null===(t=this.onChange)||void 0===t||t.call(this,i)}}initialize(){this.addHandles((0,l.watch)((()=>({container:this._containerElement,value:this.value})),(e=>{let{container:t,value:o}=e;null===t||void 0===t||t.style.setProperty("--esri-color-picker-value",o.toCss(!0))}),l.syncAndInitial))}loadDependencies(){return(0,G.W)({button:()=>Promise.resolve().then(o.bind(o,43285)),"color-picker":()=>Promise.all([o.e(46870),o.e(73596),o.e(41763),o.e(79709),o.e(46752)]).then(o.bind(o,46752)),popover:()=>Promise.resolve().then(o.bind(o,51866))})}render(){const e=this._messages,t=this._open?e.close:e.open;return(0,A.K)("div",{afterCreate:e=>this._containerElement=e,class:this.classes(U.base,this.class)},(0,A.K)("div",{class:U.backgroundPattern,key:"background-pattern"}),(0,A.K)("calcite-button",{afterCreate:e=>this._button=e,appearance:"transparent",class:U.toggleButton,key:"popover-trigger",kind:"neutral",label:t,scale:"s",tabIndex:-1,title:t}),(0,A.K)("calcite-popover",{autoClose:!0,class:U.popover,key:"popover",label:e.label,overlayPositioning:"fixed",referenceElement:this._button,onCalcitePopoverClose:()=>this._open=!1,onCalcitePopoverOpen:()=>this._open=!0},(0,A.K)("calcite-color-picker",{alphaChannel:this.alphaEnabled,channelsDisabled:!0,key:"color-picker",savedDisabled:!0,value:this.value.toCss(!0),onCalciteColorPickerInput:this._onColorInput})))}};function B(e){return(0,A.K)(x,{for:e.id,label:e.label,tabIndex:-1},(0,A.K)(W,{id:e.id,value:e.value,onChange:e.onChange}))}(0,n._)([(0,r.MZ)()],W.prototype,"class",void 0),(0,n._)([(0,r.MZ)()],W.prototype,"value",void 0),(0,n._)([(0,r.MZ)()],W.prototype,"alphaEnabled",void 0),(0,n._)([(0,r.MZ)()],W.prototype,"onChange",void 0),(0,n._)([(0,r.MZ)()],W.prototype,"_containerElement",void 0),(0,n._)([(0,r.MZ)()],W.prototype,"_button",void 0),(0,n._)([(0,r.MZ)()],W.prototype,"_open",void 0),(0,n._)([(0,r.MZ)(),(0,R.G)("esri/widgets/support/t9n/ColorPicker")],W.prototype,"_messages",void 0),W=(0,n._)([(0,c.$)("esri.widgets.support.ColorPicker")],W);let J=class extends h.default{constructor(e){super(e),this.colorPickerVisible=!0,this._selectId="select-".concat((0,P.lk)()),this._colorPickerId="color-picker-".concat((0,P.lk)()),this._onColorChange=e=>{this.options.color=e}}loadDependencies(){return(0,G.W)({label:()=>Promise.resolve().then(o.bind(o,11839)),option:()=>o.e(46422).then(o.bind(o,46422)),select:()=>o.e(2253).then(o.bind(o,2253))})}render(){const e=this._messages.discrete,t=e.intervalLabel,{color:o,interval:i,intervalOptions:n}=this.options;return(0,A.K)("div",{class:z.base},(0,A.K)(x,{for:this._selectId,label:t},(0,A.K)("calcite-select",{bind:this,id:this._selectId,label:t,onCalciteSelectChange:this._onIntervalChange},n.toArray().map((e=>(0,A.K)("calcite-option",{key:e,selected:e===i,value:String(e)},Z(e)))))),this.colorPickerVisible?(0,A.K)(B,{id:this._colorPickerId,label:e.colorLabel,value:o,onChange:this._onColorChange}):null)}_onIntervalChange(e){var t;const o=parseInt(null===(t=e.currentTarget.selectedOption)||void 0===t?void 0:t.value,10);Number.isFinite(o)&&(this.options.interval=o)}};(0,n._)([(0,r.MZ)()],J.prototype,"options",void 0),(0,n._)([(0,r.MZ)()],J.prototype,"colorPickerVisible",void 0),(0,n._)([(0,r.MZ)(),(0,R.G)("esri/widgets/ShadowCast/t9n/ShadowCast")],J.prototype,"_messages",void 0),J=(0,n._)([(0,c.$)("esri.widgets.ShadowCast.components.DiscreteConfigurator")],J);var N=o(35969);const F=["active","label"];let $=class extends h.default{constructor(e){super(e),this.colorPickerVisible=!0,this._modeSelectorId="mode-selector-".concat((0,P.lk)()),this._colorPickerId="color-picker-".concat((0,P.lk)()),this._onColorChange=e=>{this.options.color=e},this._setContinuous=()=>{this.options.mode=N.k.Continuous},this._setHourly=()=>{this.options.mode=N.k.Hourly}}loadDependencies(){return(0,G.W)({button:()=>Promise.resolve().then(o.bind(o,43285)),label:()=>Promise.resolve().then(o.bind(o,11839))})}render(){const e=this._messages.duration,{color:t,mode:o}=this.options;return(0,A.K)("div",{class:b.base},(0,A.K)(x,{for:this._modeSelectorId,label:e.modeLabel},(0,A.K)("div",{class:b.radioGroup},(0,A.K)(j,{active:o===N.k.Continuous,label:e.continuousLabel,onclick:this._setContinuous}),(0,A.K)(j,{active:o===N.k.Hourly,label:e.hourlyLabel,onclick:this._setHourly}))),this.colorPickerVisible?(0,A.K)(B,{id:this._colorPickerId,label:e.colorLabel,value:t,onChange:this._onColorChange}):null)}};function j(e){let{active:t,label:o}=e,n=(0,K.A)(e,F);return(0,A.K)("calcite-button",(0,i.A)({alignment:"center",appearance:t?"solid":"outline",scale:"s",width:"full"},n),o)}(0,n._)([(0,r.MZ)()],$.prototype,"options",void 0),(0,n._)([(0,r.MZ)()],$.prototype,"colorPickerVisible",void 0),(0,n._)([(0,r.MZ)(),(0,R.G)("esri/widgets/ShadowCast/t9n/ShadowCast")],$.prototype,"_messages",void 0),$=(0,n._)([(0,c.$)("esri.widgets.ShadowCast.components.DurationConfigurator")],$);var Y=o(15941);const q=(0,a.t)(1,"minutes","milliseconds"),Q=(0,a.t)(15,"minutes","milliseconds");let X=class extends h.default{constructor(e,t){super(e,t),this.accumulatedShadowTime=null,this._messages=null}render(){const e=this._formattedContent;return(0,A.K)("div",{class:k.base},e?(0,A.K)("div",{class:k.content},e):null)}get _formattedContent(){const e=this._messages,t=this.accumulatedShadowTime;if(null==e||null==t)return null;const o=(0,Y.wx)(t,t<Q?q:Q);return(0,d.V)(e.timeInShadow,{duration:Z(o)})}};(0,n._)([(0,r.MZ)()],X.prototype,"accumulatedShadowTime",void 0),(0,n._)([(0,r.MZ)()],X.prototype,"view",void 0),(0,n._)([(0,r.MZ)(),(0,R.G)("esri/widgets/ShadowCast/t9n/ShadowCast")],X.prototype,"_messages",void 0),(0,n._)([(0,r.MZ)({readOnly:!0})],X.prototype,"_formattedContent",null),X=(0,n._)([(0,c.$)("esri.widgets.ShadowCast.components.ShadowTooltipContent")],X);let ee=class extends T.default{constructor(e){super(e),this._updateHandle=null,this._contentContainer=this._createContainer()}initialize(){this.container.appendChild(this._contentContainer),this._contentWidget=new X({},this._contentContainer),this._updateHandle=(0,l.watch)((()=>{const e=this._contentContainer,{screenPoint:t,accumulatedShadowTime:o}=this.viewModel.tooltip;return{contentContainer:e,screenPoint:t,accumulatedShadowTime:o}}),(e=>this._update(e)),l.syncAndInitial)}destroy(){this._updateHandle=(0,s.xt)(this._updateHandle),this._contentWidget=(0,s.pR)(this._contentWidget),this.container.contains(this._contentContainer)&&this.container.removeChild(this._contentContainer)}get testData(){}_update(e){let{contentContainer:t,screenPoint:o,accumulatedShadowTime:i}=e;const{style:n}=t;null!=o?(n.display="block",n.transform="translate(".concat(o.x,"px, ").concat(o.y,"px)"),this._contentWidget.accumulatedShadowTime=i):n.display="none"}_createContainer(){const e=document.createElement("div"),{style:t}=e;return t.position="absolute",t.top="0",t.left="0",e}};(0,n._)([(0,r.MZ)()],ee.prototype,"viewModel",void 0),(0,n._)([(0,r.MZ)()],ee.prototype,"container",void 0),(0,n._)([(0,r.MZ)()],ee.prototype,"_contentContainer",void 0),(0,n._)([(0,r.MZ)()],ee.prototype,"_contentWidget",void 0),ee=(0,n._)([(0,c.$)("esri.widgets.ShadowCast.components.ShadowTooltip")],ee);var te=o(50265);let oe=class extends h.default{constructor(e){super(e),this.colorPickerVisible=!0,this._valueSliderId="value-slider-".concat((0,P.lk)()),this._colorPickerId="color-picker-".concat((0,P.lk)()),this._valueSlider=new u.default({visibleElements:{labels:!1,rangeLabels:!1},steps:(0,a.t)(30,"minutes","milliseconds"),labelFormatFunction:(e,t)=>{const o=(0,a.t)(e,"milliseconds","hours");return"tick"===t?(0,te.ZV)(o,{maximumFractionDigits:0}):""}}),this._onColorChange=e=>{this.options.color=e}}initialize(){const e=e=>{let{value:t}=e;this.options.value=t};this.addHandles([(0,l.watch)((()=>{const{value:e,minValue:t,maxValue:o}=this.options;return{value:e,minValue:t,maxValue:o}}),(e=>{let{value:t,minValue:o,maxValue:i}=e;const n=this._valueSlider;n.min=o,n.max=i,n.values=[t];const s=i-o,l=Math.floor((0,a.t)(s,"milliseconds","hours"));n.tickConfigs=[{mode:"count",values:2*l+1,labelsVisible:!1},{mode:"count",values:l+1,labelsVisible:!0}]}),l.syncAndInitial),this._valueSlider.on("thumb-change",e),this._valueSlider.on("thumb-drag",e)])}loadDependencies(){return(0,G.W)({label:()=>Promise.resolve().then(o.bind(o,11839))})}destroy(){this._valueSlider=(0,s.pR)(this._valueSlider)}render(){const e=this._messages.threshold,{color:t}=this.options;return(0,A.K)("div",{class:g.base},(0,A.K)(x,{class:g.valueLabel,for:this._valueSliderId,label:e.valueLabel},this._valueSlider.render()),this.colorPickerVisible?(0,A.K)(B,{id:this._colorPickerId,label:e.colorLabel,value:t,onChange:this._onColorChange}):null)}get testData(){}};(0,n._)([(0,r.MZ)()],oe.prototype,"options",void 0),(0,n._)([(0,r.MZ)()],oe.prototype,"colorPickerVisible",void 0),(0,n._)([(0,r.MZ)()],oe.prototype,"testData",null),(0,n._)([(0,r.MZ)()],oe.prototype,"_valueSlider",void 0),(0,n._)([(0,r.MZ)(),(0,R.G)("esri/widgets/ShadowCast/t9n/ShadowCast")],oe.prototype,"_messages",void 0),oe=(0,n._)([(0,c.$)("esri.widgets.ShadowCast.components.ThresholdConfigurator")],oe);var ie,ne=o(98108),se=o(87540),le=o(24992),ae=o(35529),re=o(65256);!function(e){e.Slider="slider"}(ie||(ie={}));const ce={labelFormatFunction:le.fG,min:0,max:1439,steps:15,rangeLabelInputsEnabled:!1,visibleElements:{labels:!1,rangeLabels:!1},tickConfigs:[{mode:"position",values:[0,360,720,1080,1439],labelsVisible:!0,tickCreatedFunction:(e,t,o)=>(0,le.T3)({tickElement:t,labelElement:o})},{mode:"position",values:[120,240,480,600,840,960,1200,1320],tickCreatedFunction:(e,t)=>(0,le.ty)({tickElement:t})}]};let de=class extends h.default{constructor(e,t){super(e,t),this.viewModel=null,this.headingLevel=4,this.visibleElements=new S,this._defaultViewModel=null,this._timeSlider=new u.default((0,i.A)((0,i.A)({},ce),{},{container:document.createElement("div")})),this._tooltip=null,this._onTimezoneChange=e=>{this.viewModel.utcOffset=e},this._onDateChange=e=>{const t=e.currentTarget.valueAsDate;this.viewModel.date=Array.isArray(t)?t[0]:t},(null===e||void 0===e?void 0:e.viewModel)||(this._defaultViewModel=new w.default({view:null===e||void 0===e?void 0:e.view}),this.viewModel=this._defaultViewModel)}initialize(){this.addHandles([(0,l.watch)((()=>({viewModel:this.viewModel,slider:this._timeSlider})),(e=>this._connectTimeSlider(e)),l.syncAndInitial),(0,l.watch)((()=>{var e;return{container:null===(e=this.view)||void 0===e?void 0:e.surface,viewModel:this.viewModel,tooltipVisible:this.visibleElements.tooltip}}),(e=>{let{container:t,viewModel:o,tooltipVisible:i}=e;this._tooltip=(0,s.pR)(this._tooltip),null!=t&&i&&(this._tooltip=new ee({viewModel:o,container:t}))}),l.syncAndInitial),(0,l.watch)((()=>({viewModel:this.viewModel,visible:this.visible})),(e=>{let{viewModel:t,visible:o}=e;return t.setRunning(o)}),l.syncAndInitial)])}destroy(){this._timeSlider=(0,s.pR)(this._timeSlider),this._tooltip=(0,s.pR)(this._tooltip),null!=this._defaultViewModel&&this.viewModel!==this._defaultViewModel&&this._defaultViewModel.destroy()}loadDependencies(){return(0,G.W)({"input-date-picker":()=>Promise.all([o.e(46870),o.e(79709),o.e(53433)]).then(o.bind(o,40240)),option:()=>o.e(46422).then(o.bind(o,46422)),select:()=>o.e(2253).then(o.bind(o,2253))})}render(){const{visibleElements:e,viewModel:t}=this,o=t.state===y.H.Disabled;return(0,A.K)("div",{class:this.classes(p.base,ne.D.widget,ne.D.panel,{[ne.D.widgetDisabled]:o}),key:this},this._renderTimeRangeSection(),e.visualizationOptions?this._renderVisualizationOptionsSection():null)}get view(){var e;return null===(e=this.viewModel)||void 0===e?void 0:e.view}set view(e){this.viewModel&&(this.viewModel.view=e)}get icon(){return"measure-building-height-shadow"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.widgetLabel)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get testData(){}_connectTimeSlider(e){let{viewModel:t,slider:o}=e;if(this.removeHandles(ie.Slider),null==o)return;const i=e=>(0,a.t)(e,"milliseconds","minutes"),n=e=>(0,a.t)(e,"minutes","milliseconds"),s=e=>{let{index:o,value:i}=e;0===o?t.startTimeOfDay=n(i):t.endTimeOfDay=n(i)};this.addHandles([(0,l.watch)((()=>[t.startTimeOfDay,t.endTimeOfDay]),(e=>{o.values=e.map(i)}),l.syncAndInitial),o.on("thumb-change",s),o.on("thumb-drag",s),o.on("segment-drag",(()=>{[t.startTimeOfDay,t.endTimeOfDay]=o.values.map(n)}))],ie.Slider)}_renderTimeRangeSection(){const{visibleElements:e}=this;return e.timeRangeSlider||e.datePicker?(0,A.K)("section",{class:p.timeRange,key:"time-range"},(0,A.K)(se.D,{level:this.headingLevel},this.messages.timeLabel),e.timeRangeSlider?this._renderTimeRange():null,e.datePicker?this._renderDatePicker():null):null}_renderTimeRange(){var e;const{messages:t,viewModel:o,visibleElements:i}=this,{startTimeOfDay:n,endTimeOfDay:s}=o,[l,a]=[n,s].map((e=>(0,re.Yq)(new Date(e),le.Gi)));return[(0,A.K)("div",{class:p.timeRangeIndicator,key:"time-range-indicator"},(0,d.V)(t.timeRange,{start:l,end:a}),i.timezone?(0,A.K)(ae.G,{disabled:null===(e=this._timeSlider)||void 0===e?void 0:e.disabled,value:o.utcOffset,onChange:this._onTimezoneChange}):null),(0,A.K)("div",{afterCreate:this._timeSliderContainerAfterCreate,afterRemoved:this._timeSliderContainerAfterRemoved,bind:this,key:"time-slider-container"})]}_timeSliderContainerAfterCreate(e){var t;const o=null===(t=this._timeSlider)||void 0===t?void 0:t.container;o&&e.appendChild(o)}_timeSliderContainerAfterRemoved(e){var t;const o=null===(t=this._timeSlider)||void 0===t?void 0:t.container;o&&e.removeChild(o)}_renderDatePicker(){return(0,A.K)("div",{class:p.datePickerContainer,key:p.datePickerContainer},(0,A.K)("calcite-input-date-picker",{class:p.datePicker,"data-testid":"date-picker",key:p.datePicker,overlayPositioning:"fixed",placement:"bottom",valueAsDate:this.viewModel.date,onCalciteInputDatePickerChange:this._onDateChange}))}_renderVisualizationOptionsSection(){const{headingLevel:e,messages:t,viewModel:o,visibleElements:i}=this,n=i.colorPicker,s=e=>this.classes(o.visualizationType===e?null:p.visualizationConfigHidden);return(0,A.K)("section",{class:p.visualization,key:"visualization"},(0,A.K)(se.D,{level:e},t.visualizationLabel),this._renderVisualizationSelect(),(0,A.K)("div",{class:s(M.J.Threshold),key:"threshold-configurator"},(0,A.K)(oe,{colorPickerVisible:n,options:o.thresholdOptions})),(0,A.K)("div",{class:s(M.J.Duration),key:"duration-configurator"},(0,A.K)($,{colorPickerVisible:n,options:o.durationOptions})),(0,A.K)("div",{class:s(M.J.Discrete),key:"discrete-configurator"},(0,A.K)(J,{colorPickerVisible:n,options:o.discreteOptions})))}_renderVisualizationSelect(){const e=this.messages,t=this.viewModel.visualizationType;return(0,A.K)("calcite-select",{bind:this,class:p.visualizationSelect,key:"visualization-select",label:e.visualizationLabel,onCalciteSelectChange:this._onVisualizationTypeChange},[{type:M.J.Threshold,label:e.threshold.label},{type:M.J.Duration,label:e.duration.label},{type:M.J.Discrete,label:e.discrete.label}].map((e=>{let{type:o,label:i}=e;return(0,A.K)("calcite-option",{selected:o===t,value:o},i)})))}_onVisualizationTypeChange(e){var t;const o=null===(t=e.currentTarget.selectedOption)||void 0===t?void 0:t.value;this.viewModel.visualizationType=null!==o&&void 0!==o?o:M.J.Threshold}};(0,n._)([(0,r.MZ)()],de.prototype,"viewModel",void 0),(0,n._)([(0,r.MZ)()],de.prototype,"view",null),(0,n._)([(0,r.MZ)()],de.prototype,"headingLevel",void 0),(0,n._)([(0,r.MZ)()],de.prototype,"icon",null),(0,n._)([(0,r.MZ)()],de.prototype,"label",null),(0,n._)([(0,r.MZ)({type:S,nonNullable:!0})],de.prototype,"visibleElements",void 0),(0,n._)([(0,r.MZ)(),(0,R.G)("esri/widgets/ShadowCast/t9n/ShadowCast")],de.prototype,"messages",void 0),(0,n._)([(0,r.MZ)()],de.prototype,"_defaultViewModel",void 0),(0,n._)([(0,r.MZ)()],de.prototype,"_timeSlider",void 0),(0,n._)([(0,r.MZ)()],de.prototype,"_tooltip",void 0),de=(0,n._)([(0,c.$)("esri.widgets.ShadowCast")],de);const ue=de},24992:(e,t,o)=>{o.d(t,{Gi:()=>a,J_:()=>h,T3:()=>d,ZS:()=>p,fG:()=>c,jP:()=>v,ty:()=>u});var i=o(18288),n=o(65256),s=o(42664),l=o(98108);const a={hour:"numeric",minute:"numeric",timeZone:"UTC"},r={hour:"numeric",timeZone:"UTC"};function c(e,t){const o=m(e,t);let i=(0,n.Yq)(o,a);return 0!==e&&"00:00"===i&&(i="24:00"),"tick"===t&&i.includes(" ")&&(i=(0,n.Yq)(o,r),i=i.replace(":00","")),i}function d(e){let{tickElement:t,labelElement:o,tickClasses:i=[],onClick:n}=e;t&&o&&(t.classList.add(...i,l.D.primaryTick),o.classList.add(...i,l.D.primaryTickLabel),n&&(o.onclick=t.onclick=()=>n()))}function u(e){let{tickElement:t,tickClasses:o=[],onClick:i}=e;t&&(t.classList.add(...o,l.D.secondaryTick),i&&(t.onclick=()=>i()))}function h(){return(0,n.kN)(r).formatToParts(m(0,"value")).some((e=>{let{type:t}=e;return"dayPeriod"===t}))}function m(e,t){if("tick"===t){const t=Math.round((0,i.t)(e,"minutes","hours"));return new Date((0,i.t)(t,"hours","milliseconds"))}return new Date(6e4*e)}function p(e,t,o,n){if(null==t||null==o)return null;const l=s.S.getTimes(e,t,o),a=l.sunrise,r=l.sunset,c=(0,i.S1)(e,n,"hours"),d=(0,i.S1)(a,n,"hours"),u=(0,i.S1)(r,n,"hours");if(c.getUTCDate()!==d.getUTCDate()||c.getUTCDate()!==u.getUTCDate()){const e=c.getTime()-d.getTime()>0?1:-1;a.setUTCDate(a.getUTCDate()+e),r.setUTCDate(r.getUTCDate()+e)}return{sunrise:a,sunset:r}}function v(e){return[{utcOffset:-12,short:"UTC-12",long:e.timezoneDateline},{utcOffset:-11,short:"UTC-11",long:e.timezoneSamoa},{utcOffset:-10,short:e.timezoneHAST,long:e.timezoneHawaii},{utcOffset:-9,short:e.timezoneAKST,long:e.timezoneAlaska},{utcOffset:-8,short:e.timezonePST,long:e.timezoneBaja},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneMountain},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneLaPaz},{utcOffset:-7,short:e.timezoneMST,long:e.timezoneArizona},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneSaskatchewan},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneCentralAmerica},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneCentralTime},{utcOffset:-6,short:e.timezoneCST,long:e.timezoneMexico},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneEasternUS},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneLima},{utcOffset:-5,short:e.timezoneEST,long:e.timezoneIndiana},{utcOffset:-4,short:null,long:e.timezoneAtlantic},{utcOffset:-4,short:null,long:e.timezoneCuiaba},{utcOffset:-4,short:null,long:e.timezoneSantiago},{utcOffset:-4,short:null,long:e.timezoneManaus},{utcOffset:-4,short:null,long:e.timezoneAsuncion},{utcOffset:-3,short:null,long:e.timezoneBrasilia},{utcOffset:-3,short:null,long:e.timezoneGreenland},{utcOffset:-3,short:null,long:e.timezoneMontevideo},{utcOffset:-3,short:null,long:e.timezoneCayenne},{utcOffset:-3,short:null,long:e.timezoneBuenosAires},{utcOffset:-2,short:null,long:e.timezoneMidAtlantic},{utcOffset:-1,short:null,long:e.timezoneAzores},{utcOffset:-1,short:null,long:e.timezoneCaboVerde},{utcOffset:0,short:null,long:e.timezoneDublin},{utcOffset:0,short:null,long:e.timezoneReykjavik},{utcOffset:0,short:null,long:e.timezoneCasablanca},{utcOffset:1,short:e.timezoneCET,long:e.timezoneBelgrade},{utcOffset:1,short:e.timezoneCET,long:e.timezoneSarajevo},{utcOffset:1,short:e.timezoneCET,long:e.timezoneBrussels},{utcOffset:1,short:e.timezoneCET,long:e.timezoneWCAfrica},{utcOffset:1,short:e.timezoneCET,long:e.timezoneAmsterdam},{utcOffset:1,short:e.timezoneCET,long:e.timezoneWindhoek},{utcOffset:2,short:e.timezoneEET,long:e.timezoneMinsk},{utcOffset:2,short:e.timezoneEET,long:e.timezoneCairo},{utcOffset:2,short:e.timezoneEET,long:e.timezoneHelsinki},{utcOffset:2,short:e.timezoneEET,long:e.timezoneAthens},{utcOffset:2,short:e.timezoneEET,long:e.timezoneJerusalem},{utcOffset:2,short:e.timezoneEET,long:e.timezoneAmman},{utcOffset:2,short:e.timezoneEET,long:e.timezoneBeirut},{utcOffset:2,short:e.timezoneEET,long:e.timezoneHarare},{utcOffset:2,short:e.timezoneEET,long:e.timezoneDamascus},{utcOffset:2,short:e.timezoneEET,long:e.timezoneIstanbul},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneKuwait},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneBaghdad},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneNairobi},{utcOffset:3,short:e.timezoneMSK,long:e.timezoneKaliningrad},{utcOffset:4,short:e.timezoneGST,long:e.timezoneMoscow},{utcOffset:4,short:e.timezoneGST,long:e.timezoneMuscat},{utcOffset:4,short:e.timezoneGST,long:e.timezoneBaku},{utcOffset:4,short:e.timezoneGST,long:e.timezoneYerevan},{utcOffset:4,short:e.timezoneGST,long:e.timezoneTbilisi},{utcOffset:4,short:e.timezoneGST,long:e.timezonePortLouis},{utcOffset:5,short:null,long:e.timezoneTashkent},{utcOffset:5,short:null,long:e.timezoneIslamabad},{utcOffset:6,short:null,long:e.timezoneEkaterinburg},{utcOffset:6,short:null,long:e.timezoneAstana},{utcOffset:6,short:null,long:e.timezoneDhaka},{utcOffset:7,short:e.timezoneICT,long:e.timezoneNovosibirsk},{utcOffset:7,short:e.timezoneICT,long:e.timezoneBangkok},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneKrasnoyarsk},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneBeijing},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneSingapore},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneTaipei},{utcOffset:8,short:e.timezoneCCT,long:e.timezonePerth},{utcOffset:8,short:e.timezoneCCT,long:e.timezoneUlaanbaatar},{utcOffset:9,short:e.timezoneJST,long:e.timezoneIrkutsk},{utcOffset:9,short:e.timezoneJST,long:e.timezoneSeoul},{utcOffset:9,short:e.timezoneJST,long:e.timezoneOsaka},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneYakutsk},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneCanberra},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneBrisbane},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneHobart},{utcOffset:10,short:e.timezoneAEST,long:e.timezoneGuam},{utcOffset:11,short:null,long:e.timezoneVladivostok},{utcOffset:11,short:null,long:e.timezoneSolomon},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneMagadan},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneFiji},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneAuckland},{utcOffset:12,short:e.timezoneNZST,long:e.timezoneNukualofa}].map((e=>{let{utcOffset:t,short:o,long:i}=e;const n=t>0?"UTC+".concat(t):t<0?"UTC".concat(t):"GMT";return o?{utcOffset:t,short:o,shortWithUTC:"".concat(n," (").concat(o,")"),long:i}:{utcOffset:t,short:n,shortWithUTC:n,long:i}}))}},35529:(e,t,o)=>{o.d(t,{G:()=>m});var i=o(35143),n=o(46053),s=(o(81806),o(76460),o(47249),o(85842)),l=o(25329),a=o(94126),r=o(24992),c=(o(76099),o(63582)),d=o(54761);const u="esri-timezone-picker",h={base:u,trigger:"".concat(u,"__trigger"),itemTitle:"".concat(u,"__item-title"),itemDescription:"".concat(u,"__item_description")};let m=class extends l.default{constructor(e,t){super(e,t),this.disabled=!1,this.value=null,this.onChange=null,this.open=!1,this.onOpen=null,this.onClose=null,this._selectedId=null,this._onOpen=()=>{var e;this.open=!0,null===(e=this.onOpen)||void 0===e||e.call(this)},this._onClose=()=>{var e;this.open=!1,null===(e=this.onClose)||void 0===e||e.call(this)},this._killEvent=e=>(e.stopPropagation(),!0),this._onChange=e=>{var t,o,i;const n=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0].getAttribute("data-id"),s=null===(o=p(this._gmtOffsets,n))||void 0===o?void 0:o.utcOffset;null!=s&&(this._selectedId=n,null===(i=this.onChange)||void 0===i||i.call(this,s))}}loadDependencies(){return(0,a.W)({button:()=>Promise.resolve().then(o.bind(o,43285)),dropdown:()=>Promise.resolve().then(o.bind(o,24482)),"dropdown-group":()=>Promise.resolve().then(o.bind(o,5368)),"dropdown-item":()=>Promise.resolve().then(o.bind(o,84660))})}render(){var e;const t=this._messages;if(!t)return(0,d.K)("div",{class:h.base,key:"empty"});const o=this._selectedItem,i=v(o);return(0,d.K)("div",{class:h.base,key:"container",onpointerdown:this._killEvent},(0,d.K)("calcite-dropdown",{disabled:this.disabled,open:this.open,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",onCalciteDropdownClose:this._onClose,onCalciteDropdownOpen:this._onOpen,onCalciteDropdownSelect:this._onChange},(0,d.K)("calcite-button",{appearance:"transparent",class:h.trigger,"data-testid":"timezone-picker-button",disabled:this.disabled,key:"trigger",kind:"neutral",scale:"s",slot:"trigger",tabIndex:0,title:t.chooseTimezone},null!==(e=null===o||void 0===o?void 0:o.short)&&void 0!==e?e:""),(0,d.K)("calcite-dropdown-group",{selectionMode:"single"},this._gmtOffsets.map((e=>{const t=v(e);return(0,d.K)("calcite-dropdown-item",{"data-id":t,"data-testid":t,key:t,selected:i===t},(0,d.K)("div",{class:h.itemTitle,key:"title"},e.shortWithUTC),(0,d.K)("div",{class:h.itemDescription,key:"description"},e.long))})))))}get _gmtOffsets(){const e=this._messages;return e?(0,r.jP)(e):[]}get _selectedItem(){const e=this._gmtOffsets,t=this.value,o=p(e,this._selectedId);return(null===o||void 0===o?void 0:o.utcOffset)===t?o:function(e,t){return e.find((e=>e.utcOffset===t))}(e,t)}};function p(e,t){return e.find((e=>v(e)===t))}function v(e){return e?"".concat(e.utcOffset,"-").concat(e.long):void 0}(0,i._)([(0,n.MZ)()],m.prototype,"disabled",void 0),(0,i._)([(0,n.MZ)()],m.prototype,"value",void 0),(0,i._)([(0,n.MZ)()],m.prototype,"onChange",void 0),(0,i._)([(0,n.MZ)()],m.prototype,"open",void 0),(0,i._)([(0,n.MZ)()],m.prototype,"onOpen",void 0),(0,i._)([(0,n.MZ)()],m.prototype,"onClose",void 0),(0,i._)([(0,n.MZ)(),(0,c.G)("esri/widgets/support/t9n/timezone")],m.prototype,"_messages",void 0),(0,i._)([(0,n.MZ)()],m.prototype,"_gmtOffsets",null),(0,i._)([(0,n.MZ)()],m.prototype,"_selectedItem",null),(0,i._)([(0,n.MZ)()],m.prototype,"_selectedId",void 0),m=(0,i._)([(0,s.$)("esri.widgets.support.TimezonePicker")],m)}}]);
//# sourceMappingURL=17609.efdb2afd.chunk.js.map