"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[14843],{14843:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(89379),i=n(35143),o=n(91967),s=n(76460),l=n(68134),a=n(46053),u=n(85842),h=n(81835),d=n(23695),p=n(20728),y=n(92521),w=n(68814),c=n(53203),v=n(60403);let _=class extends o.default{constructor(e){super(e),this.view=null,this._weatherByType={sunny:new w.default,cloudy:new h.default,rainy:new p.default,snowy:new y.default,foggy:new d.default},this._settingWeather=!1}initialize(){this.addHandles([(0,l.watch)((()=>this.current),(e=>{this._settingWeather||null==e||(this._weatherByType=(0,r.A)((0,r.A)({},this._weatherByType),{},{[e.type]:e}))}),l.syncAndInitial)])}get state(){const e=this.view;return null!=e&&e.ready?null!=this.error?this.error===v.F.NotVisible?v.u.Ready:v.u.Error:v.u.Ready:v.u.Disabled}get weatherByType(){return this._weatherByType}get error(){const e=this.view;return null!=e&&e.ready?"3d"!==e.type?v.F.UnsupportedView:"local"===e.viewingMode?v.F.LocalScene:e.environment.atmosphereEnabled?e.environment.weatherAvailable?null:v.F.NotVisible:v.F.NoAtmosphere:null}get current(){var e,t;return null!==(e=null===(t=this._environment)||void 0===t?void 0:t.weather)&&void 0!==e?e:this._weatherByType.sunny}set current(e){const t=this._environment;t&&(t.weather=e)}get _environment(){const e=this.view;return null!=e&&"3d"===e.type?e.environment:null}setWeatherByType(e){if(!(0,c.TJ)(e,s.A.getLogger(this)))return;const t=this._environment;null!=t&&(this._settingWeather=!0,t.weather=this._weatherByType[e],this._settingWeather=!1)}setSnowCoverEnabled(e){const t=this.current;"snowCover"in t&&(t.snowCover=e?"enabled":"disabled")}};(0,i._)([(0,a.MZ)()],_.prototype,"view",void 0),(0,i._)([(0,a.MZ)()],_.prototype,"state",null),(0,i._)([(0,a.MZ)()],_.prototype,"_weatherByType",void 0),(0,i._)([(0,a.MZ)()],_.prototype,"weatherByType",null),(0,i._)([(0,a.MZ)()],_.prototype,"error",null),(0,i._)([(0,a.MZ)()],_.prototype,"current",null),(0,i._)([(0,a.MZ)()],_.prototype,"_environment",null),_=(0,i._)([(0,u.$)("esri.widgets.Weather.WeatherViewModel")],_);const g=_},60403:(e,t,n)=>{var r,i;n.d(t,{F:()=>i,u:()=>r}),function(e){e.Disabled="disabled",e.Ready="ready",e.Error="error"}(r||(r={})),function(e){e.NotVisible="not-visible",e.LocalScene="local-scene",e.NoAtmosphere="no-atmosphere",e.UnsupportedView="unsupported-view"}(i||(i={}))}}]);
//# sourceMappingURL=14843.a765fbd4.chunk.js.map