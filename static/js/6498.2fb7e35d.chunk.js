"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[6498,31299,53680,75166,85685],{770:(e,n,i)=>{i.d(n,{bG:()=>s,Ty:()=>o,YJ:()=>u,Fq:()=>c,vt:()=>r});var a=i(53084),t=i(42633);class l{constructor(e){const{name:n,label:i,description:a,schemes:l}=e;this.name=n,this.label=i,this.description=a,this.schemes=l;const s=e.basemapGroups||t.Np;let r=[];Object.keys(s).forEach((e=>{r=r.concat(s[e])})),this.supportedBasemaps=r,this.basemapGroups=s}isBasemapSupported(e){const n=(0,t.T1)(e,this.supportedBasemaps);return!(!n||!this.supportedBasemaps.includes(n))}getRawSchemes(e){const{basemapId:n,basemapTheme:i}=function(e,n,i){let a=null,l=null;if(n&&(a=(0,t.T1)(n,e,!1),a)){const e=(0,t.BV)(a);null!=e&&(l=e)}return!a&&i&&(a="dark"===i?"dark-gray":"gray",l=i),a||l||(a="gray",l="light"),{basemapId:a,basemapTheme:l}}(this.supportedBasemaps,e.basemap,e.basemapTheme);let l=i;if(n){const e=(0,t.BV)(n,this.basemapGroups);null!=e&&(l=e)}let s=e.geometryType;"multipoint"===s?s="point":"mesh"===s&&(s="polygon");const r=this.schemes[s]||this.schemes.default;return{schemesInfo:(0,a.clone)(r[l]),basemapId:n,basemapTheme:i}}}function s(e){const n=e.themeDictionary,i=new Map;for(const a in n){const e=n[a];i.set(a,new l(e))}return i}function r(e,n){const i=[];return e.forEach((e=>{e.isBasemapSupported(n)&&i.push({name:e.name,label:e.label,description:e.description,basemaps:[...e.supportedBasemaps]})})),i}function o(e,n){if(!e)return;if(!n)return;let i=null;const a=[n.primaryScheme,...n.secondarySchemes];for(const l of a){var t;if((null===(t=l.name)||void 0===t?void 0:t.toLowerCase())===e.toLowerCase()){i=l;break}}return i}function u(e,n,i){if(!e&&!n)return[];if(!i)return[];const a=!(null!==e&&void 0!==e&&e.length),t=!(null!==n&&void 0!==n&&n.length),l=[i.primaryScheme,...i.secondarySchemes],s=[];for(const r of l){const i=!!a||e.some((e=>r.tags.includes(e))),l=!t&&n.some((e=>r.tags.includes(e)));i&&!l&&s.push(r)}return s}function c(e){const n=e.theme;if(n)return n.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}},29857:(e,n,i)=>{i.r(n),i.d(n,{default:()=>z});var a=i(89379),t=i(53986),l=i(50076),s=i(68002),r=i(16525),o=i(90494),u=i(11563);const c=["layer"],d=500,f=1e8,p=1280,v=12,m=30,h=15;async function g(e){const{view:n,sampleSize:i}=e;if(!e||!e.layer)throw new l.default("scale-range:missing-parameters","'layer' parameter is required");if(e.snapToLOD&&!n)throw new l.default("scale-range:missing-parameters","'view' parameter is required when 'snapToLOD' is true");e.forBinning&&(0,o.p)(e,"scale-range");const{layer:s}=e,r=(0,t.A)(e,c),f=e.forBinning?u.Mi:u.J4,p=(0,u.Jg)(s,f,e.forBinning);if(!p)throw new l.default("scale-range:invalid-parameters","'layer' must be one of these types: "+(0,u.Ho)(f).join(", "));const v=(0,a.A)({layerAdapter:p},r);v.sampleSize=i||d,await(null===n||void 0===n?void 0:n.when());const m=null!=v.signal?{signal:v.signal}:null;return await p.load(m),v}function y(e,n,i){var a,t;const l=function(e,n){const i=v,a=p/4,t=m,l=p/4,s=h,r=p/2;let o=0,u=0,c=0,d=0;switch(e){case"point":case"multipoint":{var f,g;const e=n;o=null!==(f=e.avgMinDistance)&&void 0!==f?f:0,u=i,c=null!==(g=e.minDistance)&&void 0!==g?g:0,d=a;break}case"polyline":{var y,w;const e=n;o=null!==(y=e.avgLength)&&void 0!==y?y:0,u=t,c=null!==(w=e.minLength)&&void 0!==w?w:0,d=l;break}case"polygon":{var S,z;const e=n;o=null!==(S=e.avgSize)&&void 0!==S?S:0,u=s,c=null!==(z=e.minSize)&&void 0!==z?z:0,d=r;break}}return{resolutionForMinScale:o>0?o/u:null,resolutionForMaxScale:c>0?c/d:null}}(e.geometryType,n),r=(null===i||void 0===i?void 0:i.spatialReference)||e.layer.spatialReference;return{minScale:(0,s.gB)(null!==(a=l.resolutionForMinScale)&&void 0!==a?a:0,r),maxScale:(0,s.gB)(null!==(t=l.resolutionForMaxScale)&&void 0!==t?t:0,r)}}function w(e,n){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e.constraints&&"effectiveLODs"in e.constraints){const a=e.constraints.effectiveLODs,t=i?a:a.slice().reverse();let l=null;for(const e of t)if(!(i?e.scale>n:e.scale<n)){l=e;break}return l}}function S(e,n,i,a){const{view:t,snapToLOD:s,layerAdapter:r}=e;if(s&&t){const e=w(t,n),a=w(t,i,!1);n=e?e.scale:n,i=a?a.scale:i}if(n<i)throw new l.default("scale-range:invalid","calculated minScale is less than maxScale.");return i>n/2&&(i=Math.floor(i/2)),n>f&&(n=0),"polygon"!==r.geometryType&&(i=0),{minScale:Math.ceil(n),maxScale:Math.floor(i),spatialStatistics:a}}async function z(e){const n=await g(e),{view:i,sampleSize:a,layerAdapter:t,signal:s,filter:o}=n,u=await t.getSampleFeatures({view:i,sampleSize:a,returnGeometry:!0,filter:o,signal:s},"json");if(null===u||void 0===u||!u.length)throw new l.default("scale-range:insufficient-info","No features are available to calculate statistics");const c=await(0,r.A)({features:u,geometryType:t.geometryType}),{minScale:d,maxScale:f}=y(t,c,i);return S(n,d,f,c)}},31650:(e,n,i)=>{i.r(n),i.d(n,{default:()=>A});var a=i(89379),t=i(53986),l=(i(81806),i(50076)),s=i(76931),r=i(68002),o=i(43996),u=i(63040),c=i(29857),d=i(90494),f=i(11563);const p=["layer"],v=1e8,m=1128.497176,h=591657527.591555,g=[10,8,4,2],y=[100,100,60,30],w=[2,1,.75,.5],S=[32,18,12,6],z=[{level:0,resolution:156543.03392800014,scale:591657527.591555},{level:1,resolution:78271.51696399994,scale:295828763.795777},{level:2,resolution:39135.75848200009,scale:147914381.897889},{level:3,resolution:19567.87924099992,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.992452562495,scale:4622324.434309},{level:8,resolution:611.4962262813797,scale:2311162.217155},{level:9,resolution:305.74811314055756,scale:1155581.108577},{level:10,resolution:152.87405657041106,scale:577790.554289},{level:11,resolution:76.43702828507324,scale:288895.277144},{level:12,resolution:38.21851414253662,scale:144447.638572},{level:13,resolution:19.10925707126831,scale:72223.819286},{level:14,resolution:9.554628535634155,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.388657133974685,scale:9027.977411},{level:17,resolution:1.1943285668550503,scale:4513.988705},{level:18,resolution:.5971642835598172,scale:2256.994353},{level:19,resolution:.29858214164761665,scale:1128.497176}];function b(e,n){const{view:i}=e;if(!i)throw new l.default("scale-range:invalid-parameters","'view' is required");const a=n.minScale||v,t=i.constraints&&"effectiveLODs"in i.constraints&&i.constraints.effectiveLODs||z,s=[];for(let l=0;l<t.length;l++){if(t[l].scale>a)continue;const e=Number(l),n=[e-3,e,e+3,e+6];for(const i of n)i>-1&&i<t.length&&s.push(t[i].scale);break}return s.sort(((e,n)=>e-n))}function x(e,n){const{view:i,layerAdapter:a}=e;if(!i)throw new l.default("scale-range:invalid-parameters","'view' is required");const t=a.fullExtent,s=a.minScale||m,o=a.maxScale||h,u=n.minScale||0,c=n.maxScale||0;let d=null!=t?(0,r.X_)(i,t):0;return d=d<s&&d>o?d:0,{scales:[s,o,u,c,d].map(Math.round).sort(((e,n)=>e-n)).filter(((e,n,i)=>!!e&&i.indexOf(e)===n)).filter(((e,n,i)=>!n||Math.abs(e-i[n-1])>5)),fullExtentScale:d}}function k(e,n){const{spatialStatistics:i,minScale:a,maxScale:t}=n;if(!("avgSize"in i)||!i.avgSize)throw new l.default("size-range:insufficient-info","average polygon size is invalid");const r=i.avgSize,{view:c}=e;if(!c)throw new l.default("scale-range:invalid-parameters","'view' is required");const{resolution:d,scale:f}=c,p=d/f,{scales:v,fullExtentScale:m}=x(e,{minScale:a,maxScale:t}),h=[],g=[];return v.forEach(((e,n)=>{const{min:i,max:a}=function(e,n){const i=Math.ceil(e/n);let a=Math.ceil(i/4);a<4?a=4:a>16&&(a=16);const t=5*a;return{min:a,max:t<50?50:t}}(r,p*e),t=v.indexOf(m),l=t>-1&&n>t?2:1;h.push(new u.default({value:e,size:(0,s.PN)(i/l)})),g.push(new u.default({value:e,size:(0,s.PN)(a/l)}))})),{minSize:new o.default({valueExpression:"$view.scale",stops:h}),maxSize:new o.default({valueExpression:"$view.scale",stops:g})}}async function A(e){const n=await async function(e){const{view:n}=e;if(!(e&&n&&e.layer))throw new l.default("size-range:missing-parameters","'view' and 'layer' parameters are required");e.forBinning&&(0,d.p)(e,"size-range");const{layer:i}=e,s=(0,t.A)(e,p),r=e.forBinning?f.Mi:f.J4,o=(0,f.Jg)(i,r,e.forBinning);if(!o)throw new l.default("size-range:invalid-parameters","'layer' must be one of these types: "+(0,f.Ho)(r).join(", "));const u=(0,a.A)((0,a.A)({layerAdapter:o},s),{},{view:n});await n.when();const c=null!=u.signal?{signal:u.signal}:null;await o.load(c);const v=o.geometryType;if("point"!==v&&"multipoint"!==v&&"polyline"!==v&&"polygon"!==v)throw new l.default("size-range:not-supported","sizeRange is not supported for geometryType: ".concat(v));return u}(e),{view:i,layerAdapter:r,signal:v,filter:m}=n,h=await(0,c.default)({layer:r,view:i,signal:v,filter:m});switch(r.geometryType){case"point":case"multipoint":return function(e,n){const{minScale:i,maxScale:a}=n,t=b(e,{minScale:i,maxScale:a});if(!t.length)throw new l.default("scale-range:insufficient-info","not enough scale values");return{minSize:new o.default({valueExpression:"$view.scale",stops:t.map(((e,n)=>new u.default({value:e,size:(0,s.PN)(g[n])})))}),maxSize:new o.default({valueExpression:"$view.scale",stops:t.map(((e,n)=>new u.default({value:e,size:(0,s.PN)(y[n])})))})}}(n,h);case"polyline":return function(e,n){const{minScale:i,maxScale:a}=n,t=b(e,{minScale:i,maxScale:a});if(!t.length)throw new l.default("scale-range:insufficient-info","not enough scale values");return{minSize:new o.default({valueExpression:"$view.scale",stops:t.map(((e,n)=>new u.default({value:e,size:(0,s.PN)(w[n])})))}),maxSize:new o.default({valueExpression:"$view.scale",stops:t.map(((e,n)=>new u.default({value:e,size:(0,s.PN)(S[n])})))})}}(n,h);case"polygon":return k(n,h);case"mesh":case"multipatch":return null}return null}},53680:(e,n,i)=>{i.d(n,{AC:()=>t,DW:()=>o,Hj:()=>z,Ih:()=>m,Jy:()=>d,OW:()=>g,Rv:()=>u,UJ:()=>r,_i:()=>c,d8:()=>p,fs:()=>f,kc:()=>v,ke:()=>S,mE:()=>l,wx:()=>s});var a=i(50076);async function t(e,n){const{layer:i,view:t,forBinning:l,filter:s}=e;if(!i||!t)throw new a.default("".concat(n,":missing-parameters"),"'layer' and 'view' parameters are required");await i.load();const r="featureReduction"in i?i.featureReduction:null;if(l){if("binning"!==(null===r||void 0===r?void 0:r.type))throw new a.default("".concat(n,":invalid-parameters"),"'layer' must have 'featureReduction' property defined with 'binning' type when 'forBinning' parameter is true");if(s)throw new a.default("".concat(n,":invalid-parameters"),"'filter' parameter is not supported when 'forBinning' parameter is true")}return e}async function l(e){var n,i,t;const{layer:l,forBinning:s,renderer:r}=e;await l.load();const o="featureReduction"in l?l.featureReduction:null,u=null!==(n=null===r||void 0===r?void 0:r.clone())&&void 0!==n?n:s&&"binning"===(null===o||void 0===o?void 0:o.type)?null===o||void 0===o||null===(i=o.renderer)||void 0===i?void 0:i.clone():"renderer"in l?null===(t=l.renderer)||void 0===t?void 0:t.clone():null;if(!u)throw new a.default("get-renderer-to-update:invalid-parameters","renderer not available");return u}function s(e,n,i){var a;const t=null===e||void 0===e||null===(a=e.authoringInfo)||void 0===a?void 0:a.visualVariables;return null===t||void 0===t?void 0:t.find((e=>"reference-size"===i?e.type===n&&"reference-size"===e.theme:e.type===n))}function r(e){if(!e)return null;const n=e.type,i="visualVariables"in e?e.visualVariables:null,a=null===i||void 0===i?void 0:i.find(m),t=null===i||void 0===i?void 0:i.find(g),l=e.authoringInfo,r=s(e,"color"),o=s(e,"size"),u=s(e,"size","reference-size");if("class-breaks"===n){if("univariate-color-size"===(null===l||void 0===l?void 0:l.type))return"univariate-color-size";if(a)return t?null!==o&&void 0!==o&&o.units?"color-size-age":null!==r&&void 0!==r&&r.units?"color-age-size":"color-size":null!==r&&void 0!==r&&r.units?"color-age":u?"color-size":"color-continuous";if(t)return null!==o&&void 0!==o&&o.units?"size-age":"size-continuous";if(e.classBreakInfos.length>1)return"class-breaks-color"===(null===l||void 0===l?void 0:l.type)?"color-class-breaks":"class-breaks-size"===(null===l||void 0===l?void 0:l.type)?"size-class-breaks":null;if(u)return"size-continuous"}return"unique-value"===n?e.valueExpression?"predominance"===(null===l||void 0===l?void 0:l.type)?"predominance":"relationship"===(null===l||void 0===l?void 0:l.type)?t||u?"relationship-size":"relationship":t||u?"type-size":"type":t?null!==o&&void 0!==o&&o.units?"type-size-age":"type-size":u?"type-size":"type":"pie-chart"===n?"pie-chart":"dot-density"===n?"dot-density":null}function o(e){var n;return!(null===(n=e.visualVariables)||void 0===n||!n.some(y))}function u(e){var n;return!(null===(n=e.visualVariables)||void 0===n||!n.some(w))}function c(e){var n;return null!==(n=null===e||void 0===e?void 0:e.findIndex(y))&&void 0!==n?n:-1}function d(e){var n;return null!==(n=null===e||void 0===e?void 0:e.findIndex(g))&&void 0!==n?n:-1}function f(e){var n;return null!==(n=null===e||void 0===e?void 0:e.findIndex(m))&&void 0!==n?n:-1}function p(e){var n;return null!==(n=null===e||void 0===e?void 0:e.findIndex(h))&&void 0!==n?n:-1}function v(e){var n;return null!==(n=null===e||void 0===e?void 0:e.findIndex(w))&&void 0!==n?n:-1}function m(e){return"color"===e.type}function h(e){return"opacity"===e.type}function g(e){return"size"===e.type&&"outline"!==e.target&&"$view.scale"!==e.valueExpression}function y(e){return"size"===e.type&&"outline"===e.target}function w(e){return"size"===e.type&&"$view.scale"===e.valueExpression&&"outline"!==e.target&&Array.isArray(e.stops)}function S(e,n,i){const a=e.visualVariables,t=i(a);if(!n||Array.isArray(n)&&!n.length)return;Array.isArray(n)||(n=[n]);const l=n.map((e=>e.clone()));a?t>-1?a.splice(t,1,...l):a.push(...l):e.visualVariables=l}function z(e,n,i){var a;const t=null===n||void 0===n?void 0:n.visualVariables.find((e=>e.type===i)),l=s(e,i);l&&t&&(l.minSliderValue=t.minSliderValue,l.maxSliderValue=t.maxSliderValue,"size"===i&&"reference-size"===l.theme&&(l.sizeStops=null===(a=t.sizeStops)||void 0===a?void 0:a.map((e=>e.clone())),l.referenceSizeScale=t.referenceSizeScale))}},80791:(e,n,i)=>{i.d(n,{_J:()=>u,_t:()=>o});var a=i(76931),t=i(42633);const l=t.Np.light,s=t.Np.dark;function r(e,n){return e.r===n.r&&e.g===n.g&&e.b===n.b}function o(e,n){let i=0;if(e.length===n.length){let a=e.every(((e,i)=>r(e,n[i])));a?i=1:(a=e.slice().reverse().every(((e,i)=>r(e,n[i]))),a&&(i=-1))}return i}function u(e,n){return Math.ceil(function(e){const n=e.width,i=e.height;let t=e.pixelSizeAt(e.toMap((0,a.tc)(.5*n,.5*i),{exclude:[]}));if(t<=0&&(t=e.pixelSizeAt(e.toMap((0,a.tc)(.5*n,.95*i),{exclude:[]})),t<=0&&"camera"in e)){const n=e.camera.position.clone();n.z=0,t=2*e.pixelSizeAt(n)}return t}(n)*(0,a.Lz)((0,a.cr)(e)))}}}]);
//# sourceMappingURL=6498.2fb7e35d.chunk.js.map