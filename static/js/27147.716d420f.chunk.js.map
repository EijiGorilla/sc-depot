{"version":3,"file":"static/js/27147.716d420f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/meshUtils/elevation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{getMetersPerUnitForSR as t}from\"../../../core/unitUtils.js\";import o from\"../../Mesh.js\";import n from\"../../Point.js\";import{project as r}from\"../../projection.js\";import i from\"../MeshComponent.js\";import{MeshVertexAttributes as s}from\"../MeshVertexAttributes.js\";import{isGround as a}from\"../../../support/groundInstanceUtils.js\";const l=()=>e.getLogger(\"esri.geometry.support.meshUtils.elevation\");async function m(e,t,n){let r;if(p(e)||a(e)){const o=await c(e);return r=await o.createElevationSampler(t,{demResolution:n?.demResolution??\"finest-contiguous\"}),u(r,t,{material:n?.material})}return\"string\"==typeof n?.demResolution?(l().error(\"create()\",\"demResolution must be a number when used directly with a sampler\"),new o):u(e,t,{material:n?.material,demResolution:n?.demResolution})}function u(e,n,a){if(e.demResolution.min<=0&&!a?.demResolution)return l().error(\"create()\",\"demResolution must be specified when used with groundView.elevationSampler\"),new o;const m=t(n.spatialReference),u=(a?.demResolution??e.demResolution.min)/m,c=Math.round(n.width/u),p=Math.round(n.height/u),d=c+1,w=p+1,R=new Float64Array(d*w*3),h=new Float32Array(d*w*2);let y=0,g=0;const j=new Uint32Array(c*p*2*3);let v=0,A=0;const b=!e.spatialReference.equals(n.spatialReference);f.spatialReference=n.spatialReference;const{xmin:x,ymin:M,height:U,width:S}=n;for(let t=0;t<w;t++){const o=M+U*(t/p);for(let n=0;n<d;n++){const i=x+S*(n/c);if(R[y++]=i,R[y++]=o,b){f.x=i,f.y=o;const t=r(f,e.spatialReference);R[y++]=e.elevationAt(t.x,t.y)??0}else R[y++]=e.elevationAt(i,o)??0;const s=n/c,a=t/p;h[g++]=s,h[g++]=a,t!==p&&n!==c&&(j[A++]=v+1,j[A++]=v+d+1,j[A++]=v+d,j[A++]=v,j[A++]=v+1,j[A++]=v+d),v++}}return new o({vertexAttributes:new s({position:R,uv:h}),components:[new i({faces:j,shading:\"smooth\",material:a?.material??null})],spatialReference:n.spatialReference})}async function c(e){return p(e)?e.load():(await e.load(),await Promise.allSettled(e.layers.items.map((e=>e.load()))),e)}function p(e){return\"type\"in e&&(\"elevation\"===e.type||\"base-elevation\"===e.type)}const f=new n;export{m as create};\n"],"names":["l","e","getLogger","async","m","t","n","r","p","a","_n$demResolution","o","load","Promise","allSettled","layers","items","map","c","createElevationSampler","demResolution","u","material","error","_a$demResolution","_a$material","min","spatialReference","Math","round","width","height","d","w","R","Float64Array","h","Float32Array","y","g","j","Uint32Array","v","A","b","equals","f","xmin","x","ymin","M","U","S","_e$elevationAt2","i","_e$elevationAt","elevationAt","s","vertexAttributes","position","uv","components","faces","shading","type"],"sourceRoot":""}