"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[81835],{4216:(e,n,t)=>{t.r(n),t.d(n,{classBreaks:()=>s,heatmapStatistics:()=>u,histogram:()=>r,summaryStatistics:()=>o,uniqueValues:()=>l});var i=t(28383),a=t(72003);async function o(e){const{attribute:n,features:t}=e,{normalizationType:o,normalizationField:l,minValue:s,maxValue:r,fieldType:u,outStatisticTypes:c}=n,f=await(0,i.Jc)({field:n.field,valueExpression:n.valueExpression,normalizationType:o,normalizationField:l,normalizationTotal:n.normalizationTotal,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},t),d=(0,a.Vb)({normalizationType:o,normalizationField:l,minValue:s,maxValue:r}),m={value:.5,fieldType:u},p="esriFieldTypeString"===u?(0,a.z9)({values:f,supportsNullCount:d,percentileParams:m,outStatisticTypes:c}):(0,a.G_)({values:f,minValue:s,maxValue:r,useSampleStdDev:!o,supportsNullCount:d,percentileParams:m,outStatisticTypes:c});return(0,a.oZ)(p,c,"esriFieldTypeDate"===u)}async function l(e){const{attribute:n,features:t}=e,o=await(0,i.Jc)({field:n.field,field2:n.field2,field3:n.field3,fieldDelimiter:n.fieldDelimiter,valueExpression:n.valueExpression,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},t,!1),l=(0,a.b3)(o);return(0,a.lv)(l,n.domains,n.returnAllCodedValues,n.fieldDelimiter)}async function s(e){const{attribute:n,features:t}=e,{field:o,normalizationType:l,normalizationField:s,normalizationTotal:r,classificationMethod:u}=n,c=await(0,i.Jc)({field:o,valueExpression:n.valueExpression,normalizationType:l,normalizationField:s,normalizationTotal:r,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},t),f=(0,a.Rw)(c,{field:o,normalizationType:l,normalizationField:s,normalizationTotal:r,classificationMethod:u,standardDeviationInterval:n.standardDeviationInterval,numClasses:n.numClasses,minValue:n.minValue,maxValue:n.maxValue});return(0,a.jM)(f,u)}async function r(e){const{attribute:n,features:t}=e,{field:o,normalizationType:l,normalizationField:s,normalizationTotal:r,classificationMethod:u}=n,c=await(0,i.Jc)({field:o,valueExpression:n.valueExpression,normalizationType:l,normalizationField:s,normalizationTotal:r,viewInfoParams:n.viewInfoParams,timeZone:n.timeZone,fieldInfos:n.fieldInfos},t);return(0,a.$y)(c,{field:o,normalizationType:l,normalizationField:s,normalizationTotal:r,classificationMethod:u,standardDeviationInterval:n.standardDeviationInterval,numBins:n.numBins,minValue:n.minValue,maxValue:n.maxValue})}async function u(e){var n;const{attribute:t,features:a}=e,{field:o,radius:l,transform:s,spatialReference:r}=t,u=null!==(n=t.size)&&void 0!==n?n:[0,0],c=(0,i.$r)(null!==a&&void 0!==a?a:[],s,r,u);return(0,i.gV)(c,null!==l&&void 0!==l?l:void 0,o,u[0],u[1])}},28383:(e,n,t)=>{t.d(n,{$r:()=>w,D9:()=>D,Jc:()=>T,Lc:()=>g,MH:()=>M,Wk:()=>N,a:()=>b,gV:()=>x,hw:()=>V,lX:()=>F,rb:()=>z,sf:()=>E});var i=t(89379),a=t(36140),o=t(50076),l=t(76931),s=t(18288),r=t(19247),u=t(13312),c=t(76279),f=t(80963),d=t(53430),m=t(4414),p=t(42633),v=t(72003),h=t(98976);let y=null;const I=(0,a.A)(/^(([0-1][0-9])|([2][0-3])):([0-5][0-9])(:([0-5][0-9]))?([.](\d+))?$/,{hh:1,mm:4,ss:6,ms:8});function w(e,n,t,i){const a=(0,f.d9)(t)?(0,f.Vp)(t):null,o=a?Math.round((a.valid[1]-a.valid[0])/n.scale[0]):null;return e.map((e=>{const t=new r.default(e.geometry);return(0,c.Gy)(n,t,t),e.geometry=a?function(e,n,t){return e.x<0?e.x+=n:e.x>t&&(e.x-=n),e}(t,null!==o&&void 0!==o?o:0,i[0]):t,e}))}function x(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const o=new Float64Array(i*a);n=Math.round((0,l.Lz)(n));let s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;const u=(0,m.YW)(t);for(const{geometry:l,attributes:c}of e){const{x:e,y:t}=l,f=Math.max(0,e-n),d=Math.max(0,t-n),p=Math.min(a,t+n),v=Math.min(i,e+n),h=+u(c);for(let a=d;a<p;a++)for(let l=f;l<v;l++){const u=a*i+l,c=(0,m.hv)(l-e,a-t,n)*h,f=o[u]+=c;s=Math.min(s,f),r=Math.max(r,f)}}return{min:s,max:r}}function z(e){const n=I.exec(e);if(!n)return null;const{hh:t,mm:i,ss:a,ms:o}=n.groups;return Number(t)*s.vf.hours+Number(i)*s.vf.minutes+Number(a)*s.vf.seconds+Number(o||0)}async function T(e,n){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!n)return[];const{field:a,field2:o,field3:l,fieldDelimiter:s,fieldInfos:r,timeZone:c}=e,f=a&&(null===r||void 0===r?void 0:r.find((e=>e.name.toLowerCase()===a.toLowerCase()))),m=!!f&&(0,d.isTimeOnlyField)(f),I=!!f&&(0,p.fs)(f),w=e.valueExpression,x=e.normalizationType,T=e.normalizationField,g=e.normalizationTotal,F=[],b=e.viewInfoParams;let V=null,E=null;if(w){if(!y){const{arcadeUtils:e}=await(0,h.lw)();y=e}y.hasGeometryOperations(w)&&await y.enableGeometryOperations(),V=y.createFunction(w),E=b?y.getViewInfo({viewingMode:b.viewingMode,scale:b.scale,spatialReference:new u.default(b.spatialReference)}):null}const N=e.fieldInfos,M=n[0]&&"declaredClass"in n[0]&&"esri.Graphic"===n[0].declaredClass||!N?null:{fields:N};return n.forEach((e=>{const n=e.attributes;let r;if(w){const n=M?(0,i.A)((0,i.A)({},e),{},{layer:M}):e,t=y.createExecContext(n,E,c);r=y.executeFunction(V,t)}else n&&(r=n[a],o?(r="".concat((0,v.gJ)(r)).concat(s).concat((0,v.gJ)(n[o])),l&&(r="".concat(r).concat(s).concat((0,v.gJ)(n[l])))):"string"==typeof r&&t&&(I?r=r?new Date(r).getTime():null:m&&(r=r?z(r):null)));if(x&&"number"==typeof r&&isFinite(r)){const e=n&&parseFloat(n[T]);r=(0,v.zS)(r,x,e,g)}F.push(r)})),F}function g(e){const n=e.field,t=e.normalizationType,i=e.normalizationField;let a;return"field"===t?a="(NOT "+i+" = 0)":"log"!==t&&"natural-log"!==t&&"square-root"!==t||(a="(".concat(n," > 0)")),a}function F(e,n,t){const i=null!=n?e+" >= "+n:"",a=null!=t?e+" <= "+t:"";let o="";return o=i&&a?E(i,a):i||a,o?"("+o+")":""}function b(e,n,t,i){let a;return n?n.name!==e.objectIdField&&i.includes(n.type)||(a=new o.default(t,"'field' should be one of these types: "+i.join(","))):a=new o.default(t,"'field' is not defined in the layer schema"),a}function V(e,n,t){let i;return n?n.name!==e.objectIdField&&(0,d.isNumericField)(n)||(i=new o.default(t,"'field' should be one of these numeric types: "+d.numericTypes.join(","))):i=new o.default(t,"'field' is not defined in the layer schema"),i}function E(e,n){let t=null!=e?e:"";return null!=n&&n&&(t=t?"("+t+") AND ("+n+")":n),t}function N(e,n){if(e&&"intersects"!==e.spatialRelationship)return new o.default(n,"Only 'intersects' spatialRelationship is supported for featureFilter")}function M(e,n,t){const i=function(e){const n=e.layer;return e.fields.filter((e=>!n.getField(e)))}({layer:e,fields:n});if(i.length)return new o.default(t,"Unknown fields: "+i.join(", ")+". You can only use fields defined in the layer schema");const a=function(e){const n=e.layer;return e.fields.filter((e=>{const t=n.getFieldUsageInfo(e);return!t||!t.supportsStatistics}))}({layer:e,fields:n});return a.length?new o.default(t,"Unsupported fields: "+a.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true"):void 0}function D(e,n,t){const i=[],a=[],o=[],l=[],s=[];e.forEach(((e,n)=>{const r=e.field?"field":"expression",u=e.field||e.valueExpression;e.field?(s.push(u),a.push("var ".concat(r).concat(n,' = Number($feature["').concat(u,'"]);'))):(i.push("function getValueForExpr".concat(n,"() {\n  ").concat(u," \n}")),a.push("var ".concat(r).concat(n," = Number(getValueForExpr").concat(n,"());"))),t||o.push("".concat(r).concat(n," = IIf(").concat(r).concat(n," < 0, 0, ").concat(r).concat(n,");")),l.push("".concat(r).concat(n))}));const r=i.length?null:s.reduce(((e,n)=>"".concat(e," + ").concat(n)));let u=null;return n||t?n?t||r&&(u="(( ".concat(r," ) >= 0)")):r&&(u="(( ".concat(r," ) <> 0)")):r&&(u="(( ".concat(r," ) > 0)")),{valueExpression:[i.length?i.join("\n"):"",a.join("\n"),o.join("\n"),"var total = ".concat(l.join(" + "),";"),"return total;"].filter(Boolean).join("\n\n"),sqlExpression:r,sqlWhere:u}}}}]);
//# sourceMappingURL=81835.8cc63bed.chunk.js.map