{"version":3,"file":"static/js/47609.f8761459.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/ElevationProfile/ElevationProfileLineInput.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Color.js\";import{handlesGroup as o}from\"../../core/handleUtils.js\";import{memoize as r}from\"../../core/memoize.js\";import{watch as i,on as n}from\"../../core/reactiveUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{GeometryDescriptor as l}from\"../../layers/support/ElevationQuery.js\";import{getGraphicEffectiveElevationInfo as p}from\"../../support/elevationInfoUtils.js\";import c from\"./ElevationProfileLine.js\";let u=class extends c{constructor(e){super(e),this.type=\"input\",this.color=new t(\"#00c8c8\"),this.viewVisualizationEnabled=!1,this.numSamplesForPreview=50,this.numSamplesPerChunk=500,this.chartFillEnabled=!1,this.chartStrokeOffsetY=-1,this._getQueryElevationDependencies=r(((e,t,o,r,i)=>e?{elevationInfo:e,visibleLayers:t,view:o,stationary:r,spatialReference:i}:null))}get queryElevationDependencies(){const e=this._viewModel?.view;return null==e?null:this._getQueryElevationDependencies(this._elevationInfo,this._visibleLayers,e,e.stationary,e.spatialReference)}get available(){return!this._viewModel?.inputIsSketched}get _elevationInfo(){const e=this._viewModel?.input;return e?p(e):null}get _visibleLayers(){return this._viewModel?.view?.map?.allLayers?.filter((e=>e.visible)).toArray()??[]}async queryElevation(e,{noDataValue:t,signal:o}){const r=this.queryElevationDependencies;if(null==r)throw new Error(\"ElevationProfileLineInput: no dependencies\");const{view:i,elevationInfo:n,spatialReference:s}=r;if(\"on-the-ground\"===n.mode&&\"3d\"===i.type&&s){const r=await l.fromGeometry(e).project(s,o);if(!r)return{geometry:e,noDataValue:t};const n=i.elevationProvider;return r.coordinates.forEach((e=>{e.z=n.getElevation(e.x,e.y,0,s,\"ground\")??0})),{geometry:r.export(),noDataValue:t}}return{geometry:e,noDataValue:t}}attach(e){const t=()=>this._onChange();return o([super.attach(e),i((()=>this.queryElevationDependencies),t),n((()=>e.elevationProvider),\"elevation-change\",t,{onListenerAdd:t,onListenerRemove:t})])}};e([s({type:t,nonNullable:!0})],u.prototype,\"color\",void 0),e([s()],u.prototype,\"viewVisualizationEnabled\",void 0),e([s()],u.prototype,\"queryElevationDependencies\",null),e([s()],u.prototype,\"available\",null),e([s()],u.prototype,\"_elevationInfo\",null),e([s()],u.prototype,\"_visibleLayers\",null),u=e([a(\"esri.widgets.ElevationProfile.ElevationProfileLineInput\")],u);const v=u;export{v as default};\n"],"names":["u","c","constructor","e","super","this","type","color","t","viewVisualizationEnabled","numSamplesForPreview","numSamplesPerChunk","chartFillEnabled","chartStrokeOffsetY","_getQueryElevationDependencies","r","o","i","elevationInfo","visibleLayers","view","stationary","spatialReference","queryElevationDependencies","_this$_viewModel","_viewModel","_elevationInfo","_visibleLayers","available","_this$_viewModel2","inputIsSketched","_this$_viewModel3","input","p","_this$_viewModel$view","_this$_viewModel4","map","allLayers","filter","visible","toArray","queryElevation","_ref","noDataValue","signal","Error","n","s","mode","l","fromGeometry","project","geometry","elevationProvider","coordinates","forEach","_n$getElevation","z","getElevation","x","y","export","attach","_onChange","onListenerAdd","onListenerRemove","nonNullable","prototype","a","v"],"sourceRoot":""}