"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[5718],{5718:(e,i,a)=>{a.r(i),a.d(i,{createVisualVariable:()=>m});var l=a(89379),n=a(50076),s=a(40565),r=a(9922),t=a(45430),o=a(48548),u=a(14776),d=a(84332),p=a(51006),f=a(90494),v=a(42633),c=a(11563);async function m(e){const i=await async function(e){if(null===e||void 0===e||!e.layer||!(e.field||e.valueExpression||e.sqlExpression))throw new n.default("opacity-visual-variable:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.view)throw new n.default("opacity-visual-variable:missing-parameters","View is required when 'valueExpression' is specified");e.forBinning&&(0,f.p)(e,"opacity-visual-variable");const i=(0,l.A)((0,l.A)({},e),{},{layer:e.layer}),a=e.forBinning?c.Mi:c.J4,s=(0,c.Jg)(i.layer,a,e.forBinning);if(!s)throw new n.default("opacity-visual-variable:invalid-parameters","'layer' must be one of these types: "+(0,c.Ho)(a).join(", "));i.layer=s;const r=null!=i.signal?{signal:i.signal}:null;await s.load(r);const t=await(0,v.EG)({field:i.field,normalizationField:i.normalizationField,valueExpression:i.valueExpression}),o=(0,p.MH)(s,t,"opacity-visual-variable:invalid-parameters");if(o)throw o;return i}(e);let a=null;return a=i.statistics?i.statistics:await(0,p.g2)({layer:i.layer,field:i.field,valueExpression:i.valueExpression,sqlExpression:i.sqlExpression,sqlWhere:i.sqlWhere,normalizationType:i.normalizationField?"field":void 0,normalizationField:i.normalizationField,minValue:i.minValue,maxValue:i.maxValue,filter:i.filter,view:i.view,signal:i.signal}),function(e,i){const a=i.layer,l=i.field,n=l&&"function"!=typeof l?a.getField(l):null,f=(0,v.fs)(n),c=(0,p.BD)(e),m=(0,p.N4)(e,f,!0),y=m||[c[0],c[4]],w=new o.default({field:null!==l&&void 0!==l?l:void 0,valueExpression:i.valueExpression,valueExpressionTitle:i.valueExpressionTitle,normalizationField:i.normalizationField,stops:[new u.default({value:y[0],opacity:.3}),new u.default({value:y[1],opacity:1})],legendOptions:(0,s.PZ)(d.A,i.legendOptions)}),x=new t.default({type:"opacity",minSliderValue:null!=i.minValue?i.minValue:e.min,maxSliderValue:null!=i.maxValue?i.maxValue:e.max}),E=new r.default({visualVariables:[x]});return Promise.resolve({visualVariable:w,statistics:e,defaultValuesUsed:!!m,authoringInfo:E})}(a,i)}}}]);
//# sourceMappingURL=5718.2f72db41.chunk.js.map