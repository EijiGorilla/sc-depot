{"version":3,"file":"static/js/95811.8f6bb942.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/versionManagement/utils.js","../node_modules/@arcgis/core/versionManagement/VersioningState.js","../node_modules/@arcgis/core/rest/featureService/utils.js","../node_modules/@arcgis/core/widgets/VersionManagement/VersionManagementViewModel.js","../node_modules/@arcgis/core/portal/support/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../core/Collection.js\";import{makeHandle as r}from\"../core/handleUtils.js\";import t from\"../core/Logger.js\";import{getOrCreateMapValue as o}from\"../core/MapUtils.js\";import n from\"../rest/featureService/FeatureService.js\";import s from\"./VersioningState.js\";import i from\"./VersionManagementService.js\";import{createVersionAdapters as a}from\"./versionAdapters/utils.js\";async function c(r,t){let o;if(\"layers\"in r){const e=a(r.allTables.concat(r.allLayers).filter((e=>\"group\"!==e.type)).toArray());r.utilityNetworks&&r.utilityNetworks.forEach((r=>{const t=a([r]);e.push(...t)})),o=e}else o=new e(r);const c=new Map;for(const n of o){const r=c.get(n.featureServiceUrl);r?r.push(n):c.set(n.featureServiceUrl,new e([n]))}const l=new e;for(const[e,a]of c){const r=new n({url:e});if(await r.load(),!r.versionManagementServiceUrl)continue;const o=new i({url:r.versionManagementServiceUrl});l.push(new s({versionManagementService:o,versionableItems:a,usePersistentReadSessions:t}))}return l}const l=new Map;async function f(e,n=!1){const s=await c(e.map,n);return o(l,e,(()=>(e.addHandles(r((()=>{l.delete(e),s.forEach((e=>e.destroy()))}))),s.forEach((e=>e.load().catch((e=>{t.getLogger(\"esri.versionManagement.VersioningState\").error(\"Failed to load Versioning State\",e)})))),s)))}export{c as createVersioningStates,f as getVersioningStates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Collection.js\";import r from\"../core/Error.js\";import s from\"../core/JSONSupport.js\";import i from\"../core/Loadable.js\";import n from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";let c=class extends(s.JSONSupportMixin(i)){constructor(e){super(e),this.versionManagementService=null,this.featureServiceUrl=null,this.url=null,this.currentVersion=null,this.currentVersionInfo=null,this.versionInfos=[],this.versionableItems=new t,this.usePersistentReadSessions=!1,this.state=\"lock-none\"}initialize(){this.url=this.versionManagementService.url,this.featureServiceUrl=this.url.replace(/\\/VersionManagementServer/i,\"/FeatureServer\"),this.addHandles([this.versionableItems.on(\"before-add\",(e=>{if(e.item.featureServiceUrl.toLowerCase()!==this.featureServiceUrl.toLowerCase())return e.preventDefault(),void n.getLogger(this).error(\"#add()\",\"Cannot add versionAdapter, feature service urls do not match.\")})),this.versionableItems.on(\"before-remove\",(e=>{if(0===this.versionableItems.items.length&&this.currentVersion&&\"name\"in this.currentVersion&&\"none\"!==this.versionManagementService.getLockType(this.currentVersion))return e.preventDefault(),void n.getLogger(this).error(\"#remove()\",\"Cannot remove last versionAdapter.\")}))])}load(e){return this.addResolvingPromise(this._setUpState(e)),Promise.resolve(this)}get defaultVersionIdentifier(){return this.versionManagementService.defaultVersionIdentifier}get isDefault(){return!this.currentVersion||!!this.currentVersion&&\"name\"in this.currentVersion&&this.currentVersion.name===this.defaultVersionIdentifier.name}async getVersionInfos(e=!1){return e&&(this.versionInfos=await this.versionManagementService.getVersionInfos()),this.versionInfos}async alterVersion(e,t){if(this.currentVersion&&\"guid\"in this.currentVersion&&e.guid===this.currentVersion.guid)return!1;const r=await this.versionManagementService.alterVersion(e,t);return r&&await this.getVersionInfos(!0),r}async deleteVersion(e){if(this.currentVersion&&\"guid\"in this.currentVersion&&e.guid===this.currentVersion.guid)return!1;const t=await this.versionManagementService.deleteVersion(e);return t&&await this.getVersionInfos(!0),t}async getVersionInfoExtended(){return this.currentVersion&&\"name\"in this.currentVersion?this.versionManagementService.getVersionInfoExtended(this.currentVersion):this.versionManagementService.getVersionInfoExtended(this.defaultVersionIdentifier)}async startEditing(){if(this._isDefaultOrHistoricVersion())return{success:!1};if(!this.usePersistentReadSessions){const e=await this.versionManagementService.startReadingWithResult(this.currentVersion);if(!e.success)return e;this.state=\"lock-read\"}const e=await this.versionManagementService.startEditingWithResult(this.currentVersion);return e.success&&(this.state=\"lock-write\"),e}async stopEditing(e){if(this._isDefaultOrHistoricVersion())return{success:!1};const t=await this.versionManagementService.stopEditingWithResult(this.currentVersion,e);if(!t.success)return t;if(this.state=\"lock-read\",!this.usePersistentReadSessions){const e=await this.versionManagementService.stopReadingWithResult(this.currentVersion);return e.success&&(this.state=\"lock-none\"),e}return t}async changeVersion(e){let t=null;if(this.usePersistentReadSessions){if(this._isDefaultOrHistoricVersion(e))e&&\"name\"in e?(t=await this.versionManagementService.getVersionInfoExtended(e),this.state=\"public\"===t?.access?\"lock-none\":\"lock-read\"):this.state=\"lock-read\";else if(!await this.versionManagementService.startReading(e))throw new r(\"Failed to acquire read lock for version: \"+e);this._isDefaultOrHistoricVersion(this.currentVersion)||await this.versionManagementService.stopReading(this.currentVersion)}const s=await this.versionManagementService.changeVersionWithResult(this.versionableItems,this.currentVersion,e);let i=!1;return s.forEach(((e,t)=>{i=i||e.success})),i&&(this.currentVersion=e,this.currentVersionInfo=t||await this.getVersionInfoExtended(),this._isDefaultOrHistoricVersion()?this.currentVersion&&\"name\"in this.currentVersion?this.state=\"public\"===this.currentVersionInfo?.access?\"lock-none\":\"lock-read\":this.state=\"lock-read\":this.state=\"read\"!==this.versionManagementService.getLockType(this.currentVersion)?\"lock-none\":\"lock-read\"),s}async undo(){return this._isDefaultOrHistoricVersion()?{success:!1}:(this.versionManagementService.undo(this.currentVersion),{success:!0})}async redo(){return this._isDefaultOrHistoricVersion()?{success:!1}:(this.versionManagementService.redo(this.currentVersion),{success:!0})}async _setUpState(e){await this.versionManagementService.load(e),this.state=\"lock-none\",this.currentVersionInfo=await this.getVersionInfoExtended(),this.versionableItems.forEach((e=>{this.currentVersion?\"name\"in this.currentVersion?(e.gdbVersion=this.currentVersion.name,e.historicMoment=null):(e.historicMoment=this.currentVersion,e.gdbVersion=null):(e.gdbVersion=null,e.historicMoment=null)})),this.usePersistentReadSessions&&(this._isDefaultOrHistoricVersion()?this.currentVersion&&\"name\"in this.currentVersion?this.state=\"public\"===this.currentVersionInfo?.access?\"lock-none\":\"lock-read\":this.state=\"lock-read\":await this.versionManagementService.startReading(this.currentVersion)&&(this.state=\"lock-read\"))}_isDefaultOrHistoricVersion(e=this.currentVersion){return!(e&&\"name\"in e)||e.name===this.versionManagementService.defaultVersionIdentifier.name}};e([o()],c.prototype,\"versionManagementService\",void 0),e([o()],c.prototype,\"featureServiceUrl\",void 0),e([o()],c.prototype,\"url\",void 0),e([o()],c.prototype,\"currentVersion\",void 0),e([o()],c.prototype,\"currentVersionInfo\",void 0),e([o()],c.prototype,\"versionInfos\",void 0),e([o()],c.prototype,\"versionableItems\",void 0),e([o()],c.prototype,\"usePersistentReadSessions\",void 0),e([o()],c.prototype,\"state\",void 0),e([o({readOnly:!0})],c.prototype,\"defaultVersionIdentifier\",null),e([o({readOnly:!0})],c.prototype,\"isDefault\",null),c=e([a(\"esri.versionManagement.VersioningState\")],c);const u=c;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{parse as e}from\"../../layers/support/arcgisLayerUrl.js\";import r from\"./FeatureService.js\";const t=(p,o)=>{for(const s of p)if(\"feature\"===s.type||\"subtype-group\"===s.type){if(!s.url)continue;const t=e(s.url).url.path,p=o.get(t);if(p)p.layers.push(s);else{const e=new r({url:t}),p=[s];o.set(t,{featureService:e,layers:p})}}else\"group\"===s.type&&t(s.layers.filter((e=>\"feature\"===e.type||\"subtype-group\"===e.type||\"group\"===e.type)),o)};function p(e){const r=new Map;return t(e,r),r}export{p as createFeatureServices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import o from\"../../core/Collection.js\";import t from\"../../core/Error.js\";import i from\"../../core/Logger.js\";import{watch as n,on as s}from\"../../core/reactiveUtils.js\";import{removeTrailingSlash as a}from\"../../core/urlUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as v}from\"../../core/support/UpdatingHandles.js\";import{getOwningPortalUrl as p}from\"../../layers/support/layerUtils.js\";import l from\"../../portal/Portal.js\";import{hasUserTypeExtension as h,hasPrivilege as m}from\"../../portal/support/utils.js\";import c from\"../../rest/featureService/FeatureService.js\";import{createFeatureServices as g}from\"../../rest/featureService/utils.js\";import{getVersioningStates as w}from\"../../versionManagement/utils.js\";import f from\"../../versionManagement/VersioningState.js\";import E from\"../../versionManagement/VersionManagementService.js\";import{createVersionAdapters as L}from\"../../versionManagement/versionAdapters/utils.js\";let _=class extends r{constructor(e){super(e),this._portalLookup=new Map,this._updatingHandlesLoad=new v,this._updatingHandlesExecute=new v,this.advancedEditingUserTypeExtensionLookup=new Map,this.executionError=void 0,this.featureServiceLookup=new Map,this.loadError=void 0,this.serverVersionLookup=new Map,this.serviceNameLookup=new Map,this.userLookup=new Map,this.versionIdentifierLookup=new Map,this.versionInfoLookup=new Map,this.versionAdministratorLookup=new Map,this.versionManagementServiceLookup=new Map,this.versioningStateLookup=new Map,this.view=null,this.versioningStates=null}initialize(){this._viewChangeHandle(),this.addHandles([n((()=>this.view),(()=>{this._resetAllLookupProperties(),this._viewChangeHandle()})),n((()=>this.versioningStates),(()=>{this._resetVersioningLookupProperties(),this._setVersioningStatesLookups()}))])}destroy(){this._updatingHandlesLoad.destroy(),this._updatingHandlesExecute.destroy()}get state(){return this._updatingHandlesLoad.updating?\"loading\":this.loadError?\"disabled\":this._updatingHandlesExecute.updating?\"executing\":this.executionError?\"failed\":\"ready\"}async alterVersion(e){return this._updatingHandlesExecute.addPromise(this._alterVersionInternal(e))}async changeVersion(e,r,o){return this._updatingHandlesExecute.addPromise(this._changeVersionInternal(e,r,o))}async createVersion(e){return this._updatingHandlesExecute.addPromise(this._createVersionInternal(e))}async deleteVersion(e,r,o){return this._updatingHandlesExecute.addPromise(this._deleteVersionInternal(e,r,o))}async getVersionInfos(e){return this._updatingHandlesExecute.addPromise(this._getVersionInfosInternal(e))}async _alterVersionInternal(e){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const r=this.versioningStateLookup.get(e.featureServerUrl);if(!r)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!this.serverVersionLookup.has(e.featureServerUrl)||this.serverVersionLookup.get(e.featureServerUrl)<=11.1)throw this._logError(\"version-management-view-model:execution-error\",\"no-valid-enterprise-version\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!this.advancedEditingUserTypeExtensionLookup.get(e.featureServerUrl))throw this._logError(\"version-management-view-model:execution-error\",\"no-advanced-editing-user-type-extension\"),new t(\"version-management-view-model:execution-error\",this.executionError);const{featureServerUrl:o,versionIdentifier:i,...n}=e,s=await r.alterVersion(i,n).catch((e=>{throw this._logExecutionError(e),e}));return await this.getVersionInfos(o),s}async _changeVersionInternal(e,r,o){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const i=this.versioningStateLookup.get(e);if(!i)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);const n={name:r,guid:o};return await i.changeVersion(n).catch((e=>{throw this._logExecutionError(e),e}))}_updateVersionableItems(e){this._updatingHandlesLoad.addPromise((async()=>{L(e.added).forEach((e=>{const r=e.featureServiceUrl,o=this.versioningStateLookup.get(r);o&&(o.versionableItems.find((r=>r.versionableItem===e.versionableItem))||o.versionableItems.add(e))}));L(e.removed).forEach((e=>{const{allLayers:r,allTables:o}=this.view.map,t=e.featureServiceUrl,i=this.versioningStateLookup.get(t);if(!i)return void this._logError(\"version-management-view-model:execution-error\",\"no-version-management-service-found\");const n=e=>(\"feature\"===e.type||\"subtype-group\"===e.type)&&(e.url?.includes(t)??!1);[...r.filter(n),...o.filter(n)].length||(this.featureServiceLookup.delete(t),this.serviceNameLookup.delete(t),this.versioningStateLookup.delete(t),this.versioningStates.remove(i));const s=i.versionableItems.find((r=>r.versionableItem===e.versionableItem));s&&i.versionableItems.remove(s)}))})())}async _createVersionInternal(e){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const r=e.featureServerUrl,o=this.versioningStateLookup.get(r);if(!o)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);const i=this.advancedEditingUserTypeExtensionLookup.get(e.featureServerUrl),n=this.userLookup.get(r).toUpperCase(),s=this._isEmptyString(e.ownerName)?n:e.ownerName?.trim().toUpperCase();if(s!==n){if(this.serverVersionLookup.get(r)<=11.1)throw this._logError(\"version-management-view-model:execution-error\",\"versioning-api-error\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!i)throw this._logError(\"version-management-view-model:execution-error\",\"no-advanced-editing-user-type-extension\"),new t(\"version-management-view-model:execution-error\",this.executionError)}let a=await(this.versioningStateLookup.get(r)?.getVersionInfos());if(\"SDE\"===s?.toUpperCase()&&\"DEFAULT\"===e.versionName.toUpperCase()||a?.find((r=>r.versionIdentifier.name.toUpperCase()===(s+\".\"+e.versionName).toUpperCase()||r.versionIdentifier.name.toUpperCase()===(n+\".\"+e.versionName).toUpperCase())))throw this._logError(\"version-management-view-model:execution-error\",\"no-valid-version-name\"),new t(\"version-management-view-model:execution-error\",this.executionError);const d=await o.versionManagementService.createVersion({versionName:e.versionName,access:s!==n?\"public\":e.access,description:e.description}).catch((e=>{throw this._logExecutionError(e),e}));if(s!==n){const{guid:o,name:t}=d.versionIdentifier,i={featureServerUrl:r,versionIdentifier:{guid:o,name:t},access:e.access,ownerName:s};await this.alterVersion(i)||this.deleteVersion(r,n+\".\"+e.versionName,d.versionIdentifier.guid)}return await this.getVersionInfos(r),a=await(this.versioningStateLookup.get(r)?.getVersionInfos()),a?.find((e=>e.versionIdentifier.guid===d.versionIdentifier.guid))}async _deleteVersionInternal(e,r,o){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const i=this.versioningStateLookup.get(e);if(!i)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(this.serverVersionLookup.get(e)<=11.1)throw this._logError(\"version-management-view-model:execution-error\",\"versioning-api-error\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!this.advancedEditingUserTypeExtensionLookup.get(e))throw this._logError(\"version-management-view-model:execution-error\",\"no-advanced-editing-user-type-extension\"),new t(\"version-management-view-model:execution-error\",this.executionError);const n={name:r,guid:o};return await i.deleteVersion(n).catch((e=>{throw this._logExecutionError(e),new t(\"version-management-view-model:execution-error\",this.executionError)}))}async _getVersionInfosInternal(e){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const r=this.featureServiceLookup.get(e)?.featureService;if(!r)throw this._logError(\"version-management-view-model:execution-error\",\"no-feature-service-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);r.loaded||await r.load().catch((e=>{throw this._logExecutionError(e),e}));const o=r.url;this.serverVersionLookup.set(o,r.sourceJSON?.currentVersion??0),this.serverVersionLookup.get(o)<=11.1&&this.advancedEditingUserTypeExtensionLookup.set(o,!1);const i=this.userLookup.get(e);this._portalLookup.get(e)&&i?(this.advancedEditingUserTypeExtensionLookup.set(o,await h(this._portalLookup.get(e),i,\"advediting\")),this.versionAdministratorLookup.set(o,await m(this._portalLookup.get(e),i,\"features:user:manageVersions\"))):(this.advancedEditingUserTypeExtensionLookup.set(o,!1),this.versionAdministratorLookup.set(o,!1));const n=this.versioningStateLookup.get(e);if(!n)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);n.loaded||await n.load().catch((e=>{throw this._logExecutionError(e),e}));return await n.getVersionInfos(!0).catch((e=>{throw this._logExecutionError(e),e}))}_isEmptyString(e){return!e||0===e.trim().length}_logError(e,r){switch(i.getLogger(this).error(new t(e,r)),e){case\"version-management-view-model:load-error\":this._setLoadError(r);break;case\"version-management-view-model:execution-error\":this._setExecutionError(r)}}_logExecutionError(e){this._logError(\"version-management-view-model:execution-error\",e.message)}async _viewChangeHandle(){this._updatingHandlesLoad.addPromise((async()=>{if(this._setLoadError(),!this.view)return void this._setLoadError(\"no-view-property\");if(this.view&&\"2d\"!==this.view.type)return void this._logError(\"version-management-view-model:load-error\",\"sceneView-not-supported\");this.removeHandles(\"map-change-handle\"),this.addHandles([n((()=>this.view?.map),(()=>{this._resetAllLookupProperties(),this._mapChangeHandle(this.versioningStates)}))],\"map-change-handle\");const e=await this._getVersioningStates();await this._mapChangeHandle(e)})())}async _mapChangeHandle(e){this._updatingHandlesLoad.addPromise((async()=>{this._setLoadError(),this.removeHandles(\"map-layers-tables-change-handle\"),this.addHandles([s((()=>this.view?.map.allLayers),\"change\",(e=>{(e.added.some((({type:e})=>\"feature\"===e))||e.removed.some((({type:e})=>\"feature\"===e))||e.added.some((({type:e})=>\"subtype-group\"===e))||e.removed.some((({type:e})=>\"subtype-group\"===e)))&&(this._resetServiceRelatedLookupProperties(),this._propertiesChangeInternal(this.versioningStates),this._updateVersionableItems(e))})),s((()=>this.view?.map.allTables),\"change\",(e=>{(e.added.some((({type:e})=>\"feature\"===e))||e.removed.some((({type:e})=>\"feature\"===e))||e.added.some((({type:e})=>\"subtype-group\"===e))||e.removed.some((({type:e})=>\"subtype-group\"===e)))&&(this._resetServiceRelatedLookupProperties(),this._propertiesChangeInternal(this.versioningStates),this._updateVersionableItems(e))}))],\"map-layers-tables-change-handle\"),await this._propertiesChangeInternal(e)})())}async _propertiesChangeInternal(e){this._updatingHandlesLoad.addPromise((async()=>{const r=e=>\"feature\"===e.type||\"subtype-group\"===e.type,{allLayers:o,allTables:t}=this.view.map;if(this._setLoadError(),this.featureServiceLookup=g([...o.filter(r),...t.filter(r)]),this.featureServiceLookup.size){this._updateFeatureServiceLookup(e),this.serviceNameLookup=new Map;for(const e of this.featureServiceLookup.values()){const{featureService:r,featureService:{url:o}}=e;if(!this.serviceNameLookup.has(o)){if(r.loaded||await r.load().catch((e=>{i.getLogger(this).error(e)})),!r.versionManagementServiceUrl){this.featureServiceLookup.delete(o);continue}const e=await p(o),t=new l({authMode:\"immediate\",url:e});await t.load().catch((e=>{i.getLogger(this).error(e)}));const n=t.user?.username;if(!r.loaded||!t.loaded||!n)continue;this.serviceNameLookup.set(a(o),o.split(\"/\").at(-2)),this.userLookup.set(o,n),this._portalLookup.set(o,t)}}this.removeHandles(\"versioning-states-change-handle\"),e.forEach((e=>this._handleVersioningStateLookupUpdate(e))),await this._updateVersioningStates(e),this.versioningStates=e}else this._logError(\"version-management-view-model:load-error\",\"no-feature-services\")})())}_updateFeatureServiceLookup(e){for(const r of e){const e=r.featureServiceUrl;if(!this.featureServiceLookup.has(e)){const o=new c({url:e}),t=r.versionableItems.toArray().flatMap((e=>\"network\"===e.type?null:e.versionableItem)).filter((e=>!!e));this.featureServiceLookup.set(e,{featureService:o,layers:t})}}}async _updateVersioningStates(e){for(const r of this.featureServiceLookup.values()){const t=r.featureService;if(!t.versionManagementServiceUrl)continue;if(!e.find((e=>e.featureServiceUrl===t.url))&&t.versionManagementServiceUrl){const i=new o(L(r.layers)),n=new f({versionManagementService:new E({url:t.versionManagementServiceUrl}),versionableItems:i});e.add(n),this._handleVersioningStateLookupUpdate(n)}await this.getVersionInfos(t.url)}}async _getVersioningStates(){return this.versioningStates&&this.versioningStates.length?this.versioningStates:this.view?await w(this.view,!1):(this._logError(\"version-management-view-model:load-error\",\"no-view-property\"),new o)}_handleVersioningStateLookupUpdate(e){this.versioningStateLookup.set(e.featureServiceUrl,e),this._addHandlesToVersioningState(e),this.versionIdentifierLookup.set(e.featureServiceUrl,e.currentVersionInfo?.versionIdentifier),this.versionManagementServiceLookup.set(e.featureServiceUrl,e.versionManagementService)}async _setVersioningStatesLookups(){this._updatingHandlesLoad.addPromise((async()=>{this.versioningStates&&(this.removeHandles(\"versioning-states-change-handle\"),this._updateFeatureServiceLookup(this.versioningStates),this.versioningStates.forEach((e=>this._handleVersioningStateLookupUpdate(e))),await this._updateVersioningStates(this.versioningStates))})())}_addHandlesToVersioningState(e){this.addHandles([n((()=>e.versionInfos),(()=>{this.versionInfoLookup.set(e.featureServiceUrl,e.versionInfos)})),n((()=>e.currentVersionInfo?.versionIdentifier),(()=>{this.versionIdentifierLookup.set(e.featureServiceUrl,e.currentVersionInfo?.versionIdentifier)}))],\"versioning-states-change-handle\")}_resetVersioningLookupProperties(){this.versionIdentifierLookup=new Map,this.versionInfoLookup=new Map,this.versionManagementServiceLookup=new Map,this.versioningStateLookup=new Map}_resetAllLookupProperties(){this._portalLookup=new Map,this.advancedEditingUserTypeExtensionLookup=new Map,this.serverVersionLookup=new Map,this.userLookup=new Map,this.versioningStates=new o,this._resetVersioningLookupProperties(),this._resetServiceRelatedLookupProperties()}_resetServiceRelatedLookupProperties(){this.featureServiceLookup=new Map,this.serviceNameLookup=new Map}_setExecutionError(e){this._set(\"executionError\",e)}_setLoadError(e){this._set(\"loadError\",e)}};e([d()],_.prototype,\"_portalLookup\",void 0),e([d()],_.prototype,\"advancedEditingUserTypeExtensionLookup\",void 0),e([d({readOnly:!0})],_.prototype,\"executionError\",void 0),e([d()],_.prototype,\"featureServiceLookup\",void 0),e([d({readOnly:!0})],_.prototype,\"loadError\",void 0),e([d()],_.prototype,\"serverVersionLookup\",void 0),e([d()],_.prototype,\"serviceNameLookup\",void 0),e([d({readOnly:!0})],_.prototype,\"state\",null),e([d()],_.prototype,\"userLookup\",void 0),e([d()],_.prototype,\"versionIdentifierLookup\",void 0),e([d()],_.prototype,\"versionInfoLookup\",void 0),e([d()],_.prototype,\"versionAdministratorLookup\",void 0),e([d()],_.prototype,\"versionManagementServiceLookup\",void 0),e([d()],_.prototype,\"versioningStateLookup\",void 0),e([d()],_.prototype,\"view\",void 0),e([d()],_.prototype,\"versioningStates\",void 0),_=e([u(\"esri.widgets.VersionManagement.VersionManagementViewModel\")],_);const S=_;export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{id as e}from\"../../kernel.js\";import n from\"../../request.js\";async function r(r,t,s){const u=e?.findCredential(r.restUrl);if(!u)return null;if(\"loaded\"===r.loadStatus&&\"\"===t&&r.user?.sourceJSON&&!1===s)return r.user.sourceJSON;const o={responseType:\"json\",query:{f:\"json\"}};if(s&&(o.query.returnUserLicenseTypeExtensions=!0),\"\"===t){const e=await n(r.restUrl+\"/community/self\",o);if(e.data){const n=e.data;if(n?.username)return n}return null}const i=await n(r.restUrl+\"/community/users/\"+t,o);if(i.data){const e=i.data;return e.error?null:e}return null}async function t(e,n,t){const s=await r(e,n,!0);return s?.privileges?.includes(t)??!1}async function s(e,n,t){const s=await r(e,n,!0);return s?.userLicenseTypeExtensions?.includes(t)??!1}export{t as hasPrivilege,s as hasUserTypeExtension,r as lookupUser};\n"],"names":["async","c","r","t","o","e","a","allTables","concat","allLayers","filter","type","toArray","utilityNetworks","forEach","push","Map","n","get","featureServiceUrl","set","l","url","load","versionManagementServiceUrl","i","s","versionManagementService","versionableItems","usePersistentReadSessions","f","arguments","length","undefined","map","addHandles","delete","destroy","catch","getLogger","error","JSONSupportMixin","constructor","super","this","currentVersion","currentVersionInfo","versionInfos","state","initialize","replace","on","item","toLowerCase","preventDefault","items","getLockType","addResolvingPromise","_setUpState","Promise","resolve","defaultVersionIdentifier","isDefault","name","getVersionInfos","alterVersion","guid","deleteVersion","getVersionInfoExtended","startEditing","_isDefaultOrHistoricVersion","success","startReadingWithResult","startEditingWithResult","stopEditing","stopEditingWithResult","stopReadingWithResult","changeVersion","_this$currentVersionI","_t","access","startReading","stopReading","changeVersionWithResult","undo","redo","_this$currentVersionI2","gdbVersion","historicMoment","prototype","readOnly","u","p","path","layers","featureService","_","_portalLookup","_updatingHandlesLoad","v","_updatingHandlesExecute","advancedEditingUserTypeExtensionLookup","executionError","featureServiceLookup","loadError","serverVersionLookup","serviceNameLookup","userLookup","versionIdentifierLookup","versionInfoLookup","versionAdministratorLookup","versionManagementServiceLookup","versioningStateLookup","view","versioningStates","_viewChangeHandle","_resetAllLookupProperties","_resetVersioningLookupProperties","_setVersioningStatesLookups","updating","addPromise","_alterVersionInternal","_changeVersionInternal","createVersion","_createVersionInternal","_deleteVersionInternal","_getVersionInfosInternal","_logError","_setExecutionError","featureServerUrl","has","versionIdentifier","_objectWithoutProperties","_excluded","_logExecutionError","_updateVersionableItems","L","added","find","versionableItem","add","removed","_e$url$includes","_e$url","includes","remove","_e$ownerName","_this$versioningState","_a","_this$versioningState2","_a2","toUpperCase","_isEmptyString","ownerName","trim","versionName","d","description","_this$featureServiceL","_r$sourceJSON$current","_r$sourceJSON","loaded","sourceJSON","h","m","_setLoadError","message","removeHandles","_this$view","_mapChangeHandle","_getVersioningStates","_this$view2","some","_ref","_ref2","_ref3","_ref4","_resetServiceRelatedLookupProperties","_propertiesChangeInternal","_this$view3","_ref5","_ref6","_ref7","_ref8","g","size","_updateFeatureServiceLookup","values","_t$user","authMode","user","username","split","at","_handleVersioningStateLookupUpdate","_updateVersioningStates","flatMap","E","w","_e$currentVersionInfo","_addHandlesToVersioningState","_e$currentVersionInfo2","_e$currentVersionInfo3","_set","S","_r$user","findCredential","restUrl","loadStatus","responseType","query","returnUserLicenseTypeExtensions","data","_s$privileges$include","_s$privileges","privileges","_s$userLicenseTypeExt","_s$userLicenseTypeExt2","userLicenseTypeExtensions"],"sourceRoot":""}