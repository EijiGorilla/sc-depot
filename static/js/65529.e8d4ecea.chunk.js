"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[65529],{48397:(e,t,i)=>{i.d(t,{A:()=>d});var l=i(35143),n=i(46053),o=(i(81806),i(76460),i(47249),i(85842)),u=i(31933),r=i(84668),s=i(23301);let a=class extends r.A{constructor(e){super(e),this.arcadeEditType="NA",this.editableExpressionExecutor=null}get editable(){var e;return!!this.layerAllowsEdits&&(null===(e=this.evaluatedEditableExpression)||void 0===e||e)}get evaluatedEditableExpression(){const{editableExpressionExecutor:e}=this;return null!=e?!!e.lastEvaluatedValue:null}get layerAllowsEdits(){const{layer:e}=this;if(!e)return!1;const t=(0,u.BR)(e),i=null===t||void 0===t?void 0:t.operations.supportsEditing,l=(0,s.of)(t,this.arcadeEditType);return!(!i||!l)}};(0,l._)([(0,n.MZ)()],a.prototype,"arcadeEditType",void 0),(0,l._)([(0,n.MZ)()],a.prototype,"editable",null),(0,l._)([(0,n.MZ)()],a.prototype,"editableExpressionExecutor",void 0),(0,l._)([(0,n.MZ)()],a.prototype,"evaluatedEditableExpression",null),(0,l._)([(0,n.MZ)()],a.prototype,"layerAllowsEdits",null),a=(0,l._)([(0,o.$)("esri.widgets.FeatureForm.EditableInput")],a);const d=a},65529:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var l=i(35143),n=i(50076),o=i(68134),u=i(46053),r=(i(81806),i(76460),i(47249),i(85842)),s=i(15142),a=i(53430),d=i(42633),p=i(85632),v=i(9912),y=i(48397),h=i(3320),m=i(20639),c=i(23301);let f=class extends y.A{constructor(e){super(e),this._storedValue=null,this.error=null,this.preservesValueWhenHidden=!0,this.field=null,this.group=null,this.requiredExpressionExecutor=null,this.type="field",this._fieldInputWasVisibleDuringLifetime=!1,this.valueExpressionExecutor=null}initialize(){this.addHandles((0,o.watch)((()=>this.feature),(()=>this._fieldInputWasVisibleDuringLifetime=!1),o.sync))}get _dateFormRange(){var e,t,i,l;const{element:n,field:o}=this;if("date"!==this.dataType)return{};const u=null!==n&&void 0!==n&&n.domain?(0,s.A5)(o,n.domain):null;if(null===n||void 0===n||!n.input)return null!==u&&void 0!==u?u:{};const r=n.input,{type:a}=r;let d={};if("date-picker"!==a&&"time-picker"!==a&&"datetimeoffset-picker"!==a||(d=(0,s.nm)(o,r.max,r.min)),"datetime-picker"===a){const{max:e,min:t}=r;d={max:null!=e&&(0,c.$$)(e)?e.getTime():null,min:null!=t&&(0,c.$$)(t)?t.getTime():null}}const{max:v,min:y}=d;if(u){var h,m,f,g;const{max:e,min:t}=u,i=(0,p.Et)(e)&&(null==v||null!=v&&e<v),l=(0,p.Et)(t)&&(null==y||null!=y&&t>y);return{max:i?e:null!==v&&void 0!==v?v:null,min:l?t:null!==y&&void 0!==y?y:null,rawMax:i?u.rawMax:null!==(h=null===(m=d)||void 0===m?void 0:m.rawMax)&&void 0!==h?h:null,rawMin:l?u.rawMin:null!==(f=null===(g=d)||void 0===g?void 0:g.rawMin)&&void 0!==f?f:null}}return{min:y,max:v,rawMax:null!==(e=null===(t=d)||void 0===t?void 0:t.rawMax)&&void 0!==e?e:null,rawMin:null!==(i=null===(l=d)||void 0===l?void 0:l.rawMin)&&void 0!==i?i:null}}get _dateRange(){const{_dateFormRange:e,field:t}=this;if("date"!==this.dataType)return{};const i=(0,s.A5)(t);if(!i)return e;const{max:l,min:n,rawMax:o,rawMin:u}=e;if("date"===t.type){const{max:e,min:t}=i;return{max:(0,p.Et)(l)&&(null===e||null!=e&&l<e)?l:null!==e&&void 0!==e?e:null,min:(0,p.Et)(n)&&(null===t||null!=t&&n>t)?n:null!==t&&void 0!==t?t:null}}if("date-only"===t.type||"time-only"===t.type||"timestamp-offset"===t.type){const{max:e,min:t,rawMax:r,rawMin:s}=i,a=(0,p.Et)(l)&&o&&(null==e||l<e),d=(0,p.Et)(n)&&u&&(null==t||n>t);return{max:a?l:e,min:d?n:t,rawMax:a?o:r,rawMin:d?u:s}}return{max:null,min:null}}get _configAllowsEdits(){var e,t;const{element:i,layer:l,name:n}=this;if(null!=i)return i.editableExpression?!!this.evaluatedEditableExpression:!1!==i.editable;if(null!==l&&void 0!==l&&l.userHasUpdateItemPrivileges)return!0;const o=l&&"popupTemplate"in l?null===l||void 0===l||null===(e=l.popupTemplate)||void 0===e||null===(e=e.fieldInfos)||void 0===e?void 0:e.find((e=>{let{fieldName:t}=e;return t===n})):null;return null===(t=null===o||void 0===o?void 0:o.isEditable)||void 0===t||t}get _layerAndFieldAllowEdits(){var e;return this.layerAllowsEdits&&(null===(e=this.field)||void 0===e?void 0:e.editable)}get _isVisibleByDefault(){const{field:e,layer:t}=this;return!(null===e||void 0===e||!e.visible)&&(0,a.isFieldVisibleByDefault)(e,t)}get _isEditTrackingField(){var e;return(0,a.getLowerCaseEditTrackingFields)(this.layer).includes(null===(e=this.name)||void 0===e?void 0:e.toLowerCase())}get _shouldUseValueExpression(){return this._layerAndFieldAllowEdits&&!this._configAllowsEdits&&null!=this.valueExpressionExecutor&&this.valueExpressionExecutor.initialExecutionComplete}get isSubtypeField(){const{layer:e}=this;if(e&&"subtypeField"in e){var t,i;const{subtypeField:l,fieldsIndex:n}=e;return(null!==(t=null===(i=n.get(l))||void 0===i?void 0:i.name)&&void 0!==t?t:l)===this.name}return!1}get valueIsOutOfDomain(){const{domain:e,value:t,field:i}=this;return!(!e||null==t)&&null!==(0,s.wb)(i,t,e)}get dataType(){const{field:e}=this;return(0,a.isNumericField)(e)?c.Kx.Number:(0,a.isStringField)(e)?c.Kx.Text:(0,d.fs)(e)||(0,a.isTimeOnlyField)(e)?c.Kx.Date:c.Kx.Unsupported}get dateDataType(){if(this.dataType===c.Kx.Date)return"date"!==this.field.type?"string":"number"}get domain(){const{layer:e,feature:t,name:i,element:l}=this,n=null===l||void 0===l?void 0:l.domain;return null!=n&&this._isDomainCompatible(n)?n:e.getFieldDomain(i,{feature:t})}get editable(){var e;return!!this._layerAndFieldAllowEdits&&(null!==(e=this.evaluatedEditableExpression)&&void 0!==e?e:this._configAllowsEdits)}get evaluatedRequiredExpression(){const{requiredExpressionExecutor:e}=this;return null!=e?!!e.lastEvaluatedValue:null}get evaluatedValueExpression(){const{valueExpressionExecutor:e}=this;return null!=e?e.lastEvaluatedValue:null}get hint(){var e;return null===(e=this.element)||void 0===e?void 0:e.hint}get includeDate(){return!(this.dataType!==c.Kx.Date||"time-only"===this.field.type)}get includeTime(){var e;const{element:t,field:i}=this;if(this.dataType!==c.Kx.Date)return!1;if("time-only"===i.type)return!0;if("date-only"===i.type)return!1;const l="datetime-picker"===(null===t||void 0===t||null===(e=t.input)||void 0===e?void 0:e.type)?t.input.includeTime:void 0;return void 0===l||l}get includeTimeOffset(){var e;if("timestamp-offset"!==this.field.type)return!1;const t=null===(e=this.element)||void 0===e?void 0:e.input;return!t||"datetimeoffset-picker"===t.type&&t.includeTimeOffset}set initialFeature(e){this._set("initialFeature",e),this.notifyChange("valid")}get inputType(){var e;return null===(e=this.element)||void 0===e||null===(e=e.input)||void 0===e?void 0:e.type}get hasInvalidSwitchValue(){const{element:e}=this,t=(0,h.HG)(e,"switch")?e.input:null;return!t||(0,h.Kn)(this.value,t)}get isRelationshipKeyField(){var e;const{field:t,layer:i}=this;return(0,v.isRelatableFeatureSupportedLayer)(i)&&!(null===(e=i.relationships)||void 0===e||!e.some((e=>e.keyField===t.name)))}get label(){var e,t,i;const{field:l}=this;return null!==(e=null!==(t=this.getFormattedLabel(null===(i=this.element)||void 0===i?void 0:i.label))&&void 0!==t?t:l.alias)&&void 0!==e?e:l.name}get maxLength(){var e;return(0,c.zU)({dataType:this.dataType,field:this.field,input:null===(e=this.element)||void 0===e?void 0:e.input})}get minLength(){var e;return(0,c.jl)({dataType:this.dataType,field:this.field,input:null===(e=this.element)||void 0===e?void 0:e.input})}get name(){var e;return null===(e=this.field)||void 0===e?void 0:e.name}get range(){var e,t;const{domain:i,element:l,field:n}=this;if("date"===this.dataType)return this._dateRange;const o=(0,s.A5)(n,i)||(0,a.getFieldRange)(n,i),u=(null===o||void 0===o?void 0:o.max)===Number.MAX_VALUE?null:null!==(e=null===o||void 0===o?void 0:o.max)&&void 0!==e?e:null,r=(null===o||void 0===o?void 0:o.min)===-Number.MAX_VALUE?null:null!==(t=null===o||void 0===o?void 0:o.min)&&void 0!==t?t:null;if(null===l||void 0===l||!l.domain||"range"!==l.domain.type)return{max:u,min:r};const{max:d,min:p}=(0,s.A5)(n)||{};return{max:null!=d&&(null===u||null!=u&&d<u)?d:u,min:null!=p&&(null===r||null!=r&&p>r)?p:r}}get required(){var e;const{editable:t,evaluatedRequiredExpression:i,field:l,visible:n,isSubtypeField:o}=this;return!!t&&(!1===(null===l||void 0===l?void 0:l.nullable)||(!!o||!(!n||!1===(null===(e=this.group)||void 0===e?void 0:e.visible)||null==i)&&i))}set required(e){this._overrideIfSome("required",e)}get showNoValueOptionEnabled(){const{element:e}=this;return!this.required&&(!(0,h.XI)(e)||e.input.showNoValueOption)}get showNoValueLabel(){const{element:e}=this;return(0,h.XI)(e)?e.input.noValueOptionLabel:null}get submittable(){const{field:e,required:t,valid:i,value:l}=this;return(!t||null!=l)&&(!!i||this.initialFeature.getAttribute(e.name)===l)}get timeResolution(){var e,t;const i=null===(e=this.element)||void 0===e?void 0:e.input;if(i&&("datetimeoffset-picker"===i.type||"time-picker"===i.type))return null!==(t=i.timeResolution)&&void 0!==t?t:"minutes"}get timeStep(){return null!=this.timeResolution?m.fl.get(this.timeResolution):void 0}get updating(){const{editableExpressionExecutor:e,valueExpressionExecutor:t,visibilityExpressionExecutor:i,preservesValueWhenHidden:l}=this;return null!=t&&t.updating||null!=e&&e.updating||!1===l&&null!=i&&i.updating}get valid(){const e=this.editable?this._validate():null;return this._set("error",e),null===e}get value(){var e,t,i;if(this._fieldInputWasVisibleDuringLifetime=this._fieldInputWasVisibleDuringLifetime||this.visible&&!1!==(null===(e=this.group)||void 0===e?void 0:e.visible),!1===this.preservesValueWhenHidden&&this._fieldInputWasVisibleDuringLifetime&&(!1===(null===(t=this.visibilityExpressionExecutor)||void 0===t?void 0:t.lastEvaluatedValue)||!1===(null===(i=this.group)||void 0===i||null===(i=i.visibilityExpressionExecutor)||void 0===i?void 0:i.lastEvaluatedValue)))return null!==this._storedValue&&this.set("_storedValue",null),null;if(this._shouldUseValueExpression){const e=this.evaluatedValueExpression;return this.dataType===c.Kx.Date?this._arcadeOutputToDateFieldValue(e):null!=e&&"object"==typeof e?"".concat(e):e}return this._storedValue}set value(e){this.notifyChange("evaluatedVisibilityExpression"),this.set("_storedValue",e),this.notifyChange("value"),this.notifyChange("valid")}get visible(){var e;return!this._isEditTrackingField&&(null!=this.evaluatedVisibilityExpression?this.evaluatedVisibilityExpression:null!=this.element&&!1!==(null===(e=this.field)||void 0===e?void 0:e.visible)||this._isVisibleByDefault)}_arcadeOutputToDateFieldValue(e){const t=this.field.type;try{if("object"==typeof e){if(null===e)return null;if((0,m.rX)(e))return(0,m.fD)(e,t);if("getTime"in e&&"function"==typeof e.getTime&&"date"===t)return parseInt(e.getTime(),10);if("date-only"===t||"time-only"===t||"timestamp-offset"===t)return e.toString()}else{if("string"==typeof e)return"date"===t?parseInt(e,10):e;if("number"==typeof e&&"date"===t)return e}throw new n.default("feature-form:invalid-date-value")}catch(i){return"date"===t?NaN:""}}_isDomainCompatible(e){const{field:t}=this;if("coded-value"===(null===e||void 0===e?void 0:e.type)){const i=typeof e.codedValues[0].code;if("string"===i&&(0,a.isStringField)(t)||"number"===i&&(0,a.isNumericField)(t))return!0}return!!("range"===(null===e||void 0===e?void 0:e.type)&&(0,a.isNumericField)(t)||(0,d.fs)(t)||(0,a.isTimeOnlyField)(t))}_validate(){const{dataType:e,domain:t,field:i,minLength:l,range:n,required:o,value:u,maxLength:r}=this;return(0,c.Gd)(u,{dataType:e,domain:t,field:i,maxLength:r,minLength:l,range:n,required:o})}};(0,l._)([(0,u.MZ)()],f.prototype,"_dateFormRange",null),(0,l._)([(0,u.MZ)()],f.prototype,"_dateRange",null),(0,l._)([(0,u.MZ)()],f.prototype,"_storedValue",void 0),(0,l._)([(0,u.MZ)()],f.prototype,"_configAllowsEdits",null),(0,l._)([(0,u.MZ)()],f.prototype,"_layerAndFieldAllowEdits",null),(0,l._)([(0,u.MZ)()],f.prototype,"_isVisibleByDefault",null),(0,l._)([(0,u.MZ)()],f.prototype,"_isEditTrackingField",null),(0,l._)([(0,u.MZ)()],f.prototype,"_shouldUseValueExpression",null),(0,l._)([(0,u.MZ)()],f.prototype,"isSubtypeField",null),(0,l._)([(0,u.MZ)()],f.prototype,"valueIsOutOfDomain",null),(0,l._)([(0,u.MZ)()],f.prototype,"dataType",null),(0,l._)([(0,u.MZ)()],f.prototype,"dateDataType",null),(0,l._)([(0,u.MZ)()],f.prototype,"domain",null),(0,l._)([(0,u.MZ)()],f.prototype,"editable",null),(0,l._)([(0,u.MZ)({readOnly:!0})],f.prototype,"error",void 0),(0,l._)([(0,u.MZ)({constructOnly:!0})],f.prototype,"preservesValueWhenHidden",void 0),(0,l._)([(0,u.MZ)()],f.prototype,"evaluatedRequiredExpression",null),(0,l._)([(0,u.MZ)()],f.prototype,"evaluatedValueExpression",null),(0,l._)([(0,u.MZ)()],f.prototype,"field",void 0),(0,l._)([(0,u.MZ)()],f.prototype,"group",void 0),(0,l._)([(0,u.MZ)({readOnly:!0})],f.prototype,"hint",null),(0,l._)([(0,u.MZ)()],f.prototype,"includeDate",null),(0,l._)([(0,u.MZ)()],f.prototype,"includeTime",null),(0,l._)([(0,u.MZ)()],f.prototype,"includeTimeOffset",null),(0,l._)([(0,u.MZ)()],f.prototype,"initialFeature",null),(0,l._)([(0,u.MZ)({readOnly:!0})],f.prototype,"inputType",null),(0,l._)([(0,u.MZ)()],f.prototype,"hasInvalidSwitchValue",null),(0,l._)([(0,u.MZ)()],f.prototype,"isRelationshipKeyField",null),(0,l._)([(0,u.MZ)()],f.prototype,"label",null),(0,l._)([(0,u.MZ)()],f.prototype,"maxLength",null),(0,l._)([(0,u.MZ)()],f.prototype,"minLength",null),(0,l._)([(0,u.MZ)({readOnly:!0})],f.prototype,"name",null),(0,l._)([(0,u.MZ)()],f.prototype,"range",null),(0,l._)([(0,u.MZ)()],f.prototype,"required",null),(0,l._)([(0,u.MZ)()],f.prototype,"requiredExpressionExecutor",void 0),(0,l._)([(0,u.MZ)()],f.prototype,"showNoValueOptionEnabled",null),(0,l._)([(0,u.MZ)()],f.prototype,"submittable",null),(0,l._)([(0,u.MZ)()],f.prototype,"timeResolution",null),(0,l._)([(0,u.MZ)()],f.prototype,"timeStep",null),(0,l._)([(0,u.MZ)({readOnly:!0})],f.prototype,"type",void 0),(0,l._)([(0,u.MZ)()],f.prototype,"updating",null),(0,l._)([(0,u.MZ)()],f.prototype,"valid",null),(0,l._)([(0,u.MZ)({value:null})],f.prototype,"value",null),(0,l._)([(0,u.MZ)()],f.prototype,"valueExpressionExecutor",void 0),(0,l._)([(0,u.MZ)()],f.prototype,"visible",null),f=(0,l._)([(0,r.$)("esri.widgets.FeatureForm.FieldInput")],f);const g=f},84668:(e,t,i)=>{i.d(t,{A:()=>a});var l=i(35143),n=i(91967),o=i(46053),u=(i(81806),i(76460),i(47249),i(85842)),r=i(3320);let s=class extends n.default{constructor(e){super(e),this.element=null,this.feature=null,this.layer=null,this.timeZone=null,this.type=null,this.visibilityExpressionExecutor=null}get description(){var e;return this.getFormattedLabel(null===(e=this.element)||void 0===e?void 0:e.description)}get evaluatedVisibilityExpression(){const{visibilityExpressionExecutor:e}=this;return null!=e?!!e.lastEvaluatedValue:null}get label(){var e;return this.getFormattedLabel(null===(e=this.element)||void 0===e?void 0:e.label)}get updating(){return!1}get visible(){return null!=this.evaluatedVisibilityExpression?this.evaluatedVisibilityExpression:null!=this.element}getFormattedLabel(e){const{feature:t,layer:i,timeZone:l}=this;return null==i||null==e?e:(0,r.LZ)({label:e,attributes:t.attributes,fieldsIndex:i.fieldsIndex,timeZone:l})}};(0,l._)([(0,o.MZ)({readOnly:!0})],s.prototype,"description",null),(0,l._)([(0,o.MZ)({constructOnly:!0})],s.prototype,"element",void 0),(0,l._)([(0,o.MZ)()],s.prototype,"evaluatedVisibilityExpression",null),(0,l._)([(0,o.MZ)()],s.prototype,"feature",void 0),(0,l._)([(0,o.MZ)()],s.prototype,"label",null),(0,l._)([(0,o.MZ)()],s.prototype,"layer",void 0),(0,l._)([(0,o.MZ)()],s.prototype,"timeZone",void 0),(0,l._)([(0,o.MZ)()],s.prototype,"type",void 0),(0,l._)([(0,o.MZ)()],s.prototype,"updating",null),(0,l._)([(0,o.MZ)()],s.prototype,"visible",null),(0,l._)([(0,o.MZ)()],s.prototype,"visibilityExpressionExecutor",void 0),s=(0,l._)([(0,u.$)("esri.widgets.FeatureForm.InputBase")],s);const a=s}}]);
//# sourceMappingURL=65529.e8d4ecea.chunk.js.map