"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[31299,53680,80775],{53680:(e,r,n)=>{n.d(r,{AC:()=>a,DW:()=>s,Hj:()=>b,Ih:()=>w,Jy:()=>c,OW:()=>h,Rv:()=>u,UJ:()=>l,_i:()=>d,d8:()=>f,fs:()=>v,kc:()=>p,ke:()=>m,mE:()=>t,wx:()=>o});var i=n(50076);async function a(e,r){const{layer:n,view:a,forBinning:t,filter:o}=e;if(!n||!a)throw new i.default("".concat(r,":missing-parameters"),"'layer' and 'view' parameters are required");await n.load();const l="featureReduction"in n?n.featureReduction:null;if(t){if("binning"!==(null===l||void 0===l?void 0:l.type))throw new i.default("".concat(r,":invalid-parameters"),"'layer' must have 'featureReduction' property defined with 'binning' type when 'forBinning' parameter is true");if(o)throw new i.default("".concat(r,":invalid-parameters"),"'filter' parameter is not supported when 'forBinning' parameter is true")}return e}async function t(e){var r,n,a;const{layer:t,forBinning:o,renderer:l}=e;await t.load();const s="featureReduction"in t?t.featureReduction:null,u=null!==(r=null===l||void 0===l?void 0:l.clone())&&void 0!==r?r:o&&"binning"===(null===s||void 0===s?void 0:s.type)?null===s||void 0===s||null===(n=s.renderer)||void 0===n?void 0:n.clone():"renderer"in t?null===(a=t.renderer)||void 0===a?void 0:a.clone():null;if(!u)throw new i.default("get-renderer-to-update:invalid-parameters","renderer not available");return u}function o(e,r,n){var i;const a=null===e||void 0===e||null===(i=e.authoringInfo)||void 0===i?void 0:i.visualVariables;return null===a||void 0===a?void 0:a.find((e=>"reference-size"===n?e.type===r&&"reference-size"===e.theme:e.type===r))}function l(e){if(!e)return null;const r=e.type,n="visualVariables"in e?e.visualVariables:null,i=null===n||void 0===n?void 0:n.find(w),a=null===n||void 0===n?void 0:n.find(h),t=e.authoringInfo,l=o(e,"color"),s=o(e,"size"),u=o(e,"size","reference-size");if("class-breaks"===r){if("univariate-color-size"===(null===t||void 0===t?void 0:t.type))return"univariate-color-size";if(i)return a?null!==s&&void 0!==s&&s.units?"color-size-age":null!==l&&void 0!==l&&l.units?"color-age-size":"color-size":null!==l&&void 0!==l&&l.units?"color-age":u?"color-size":"color-continuous";if(a)return null!==s&&void 0!==s&&s.units?"size-age":"size-continuous";if(e.classBreakInfos.length>1)return"class-breaks-color"===(null===t||void 0===t?void 0:t.type)?"color-class-breaks":"class-breaks-size"===(null===t||void 0===t?void 0:t.type)?"size-class-breaks":null;if(u)return"size-continuous"}return"unique-value"===r?e.valueExpression?"predominance"===(null===t||void 0===t?void 0:t.type)?"predominance":"relationship"===(null===t||void 0===t?void 0:t.type)?a||u?"relationship-size":"relationship":a||u?"type-size":"type":a?null!==s&&void 0!==s&&s.units?"type-size-age":"type-size":u?"type-size":"type":"pie-chart"===r?"pie-chart":"dot-density"===r?"dot-density":null}function s(e){var r;return!(null===(r=e.visualVariables)||void 0===r||!r.some(g))}function u(e){var r;return!(null===(r=e.visualVariables)||void 0===r||!r.some(z))}function d(e){var r;return null!==(r=null===e||void 0===e?void 0:e.findIndex(g))&&void 0!==r?r:-1}function c(e){var r;return null!==(r=null===e||void 0===e?void 0:e.findIndex(h))&&void 0!==r?r:-1}function v(e){var r;return null!==(r=null===e||void 0===e?void 0:e.findIndex(w))&&void 0!==r?r:-1}function f(e){var r;return null!==(r=null===e||void 0===e?void 0:e.findIndex(y))&&void 0!==r?r:-1}function p(e){var r;return null!==(r=null===e||void 0===e?void 0:e.findIndex(z))&&void 0!==r?r:-1}function w(e){return"color"===e.type}function y(e){return"opacity"===e.type}function h(e){return"size"===e.type&&"outline"!==e.target&&"$view.scale"!==e.valueExpression}function g(e){return"size"===e.type&&"outline"===e.target}function z(e){return"size"===e.type&&"$view.scale"===e.valueExpression&&"outline"!==e.target&&Array.isArray(e.stops)}function m(e,r,n){const i=e.visualVariables,a=n(i);if(!r||Array.isArray(r)&&!r.length)return;Array.isArray(r)||(r=[r]);const t=r.map((e=>e.clone()));i?a>-1?i.splice(a,1,...t):i.push(...t):e.visualVariables=t}function b(e,r,n){var i;const a=null===r||void 0===r?void 0:r.visualVariables.find((e=>e.type===n)),t=o(e,n);t&&a&&(t.minSliderValue=a.minSliderValue,t.maxSliderValue=a.maxSliderValue,"size"===n&&"reference-size"===t.theme&&(t.sizeStops=null===(i=a.sizeStops)||void 0===i?void 0:i.map((e=>e.clone())),t.referenceSizeScale=a.referenceSizeScale))}},80775:(e,r,n)=>{n.r(r),n.d(r,{regenerateRenderer:()=>o});var i=n(89379),a=n(50076),t=n(53680);async function o(e){const r=await(0,t.mE)(e);switch((0,t.UJ)(r)){case"color-continuous":{const{regenerateContinuousRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(84689),n.e(39289),n.e(25356)]).then(n.bind(n,25356));return(await r(e)).renderer}case"color-class-breaks":{const{regenerateClassBreaksRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(84689),n.e(39289),n.e(25356)]).then(n.bind(n,25356));return(await r(e)).renderer}case"color-age":{const{regenerateAgeRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(84689),n.e(39289),n.e(25356)]).then(n.bind(n,25356));return(await r(e)).renderer}case"size-continuous":{const{regenerateContinuousRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(51006),n.e(84689),n.e(87990)]).then(n.bind(n,87990));return(await r(e)).renderer}case"size-class-breaks":{const{regenerateClassBreaksRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(51006),n.e(84689),n.e(87990)]).then(n.bind(n,87990));return(await r(e)).renderer}case"size-age":{const{regenerateAgeRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(51006),n.e(84689),n.e(87990)]).then(n.bind(n,87990));return(await r(e)).renderer}case"color-size":{const{regenerateContinuousRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(84689),n.e(39289),n.e(25356)]).then(n.bind(n,25356)),i=(await r(e)).renderer.clone();return await l(e,i)}case"type":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(53151),n.e(85685)]).then(n.bind(n,53151));return(await r(e)).renderer}case"type-size":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(53151),n.e(85685)]).then(n.bind(n,53151)),i=(await r(e)).renderer.clone();return await l(e,i)}case"predominance":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(84689),n.e(87990),n.e(53151),n.e(16079)]).then(n.bind(n,38460));return(await r(e)).renderer}case"relationship":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(53151),n.e(35382)]).then(n.bind(n,13001));return(await r(e)).renderer}case"relationship-size":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(53151),n.e(35382)]).then(n.bind(n,13001)),i=(await r(e)).renderer.clone();return await l(e,i)}case"pie-chart":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(84689),n.e(87990),n.e(5185)]).then(n.bind(n,5185));return(await r(e)).renderer}case"dot-density":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(95401)]).then(n.bind(n,17782));return(await r(e)).renderer}case"univariate-color-size":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(84689),n.e(87990),n.e(39289),n.e(25356),n.e(74145)]).then(n.bind(n,96526));return(await r(e)).renderer}default:throw new a.default("regenerate-renderer:invalid-parameters","renderer type not supported")}}async function l(e,r){const{regenerateVisualVariables:a,updateRendererWithReferenceSize:o}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(51006),n.e(84689),n.e(87990)]).then(n.bind(n,87990)),{visualVariables:l,authoringInfo:s,isGrid:u}=await a((0,i.A)((0,i.A)({},e),{},{renderer:r}));(0,t.ke)(r,l,t.Jy),(0,t.Hj)(r,s,"size");const d=(0,t.wx)(r,"size","reference-size");return d?await o({layer:e.layer,renderer:r,sizeStops:d.sizeStops,view:e.view,forBinning:e.forBinning,sizeOptimizationEnabled:(0,t.Rv)(r),isGrid:u}):r}}}]);
//# sourceMappingURL=80775.364d1c7a.chunk.js.map