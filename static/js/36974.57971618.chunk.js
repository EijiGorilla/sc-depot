"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[36974],{23758:(e,n,t)=>{t.d(n,{W:()=>u,e:()=>i});var r=t(18690),l=t(31633),o=t(97153);function i(e){var n;if(null==e)return null;if((0,o.Q)(e))return u(e);const t=e.tileInfo;if(null==t)return null;const r=null===(n=t.lods)||void 0===n?void 0:n.at(-1);return null==r?null:r.resolution*(0,l.GA)(t.spatialReference)}function u(e){var n;if(null==e)return null;const t=e.layers.items.map(a).filter(r.Ru);return null!==(n=(0,r.jk)(t))&&void 0!==n?n:null}function a(e){return e&&"tileInfo"in e?i(e):null}},36974:(e,n,t)=>{t.r(n),t.d(n,{default:()=>f});var r=t(35143),l=t(69539),o=t(54901),i=t(56002),u=t(68134),a=t(31633),s=t(46053),d=(t(81806),t(76460),t(47249),t(85842)),p=t(84174),v=t(23758);let c=class extends p.default{constructor(e){super(e),this.type="ground",this.color=new l.default("#ff7f00"),this.viewVisualizationEnabled=!0,this.numSamplesForPreview=50,this.numSamplesPerChunk=1e3,this._getQueryElevationDependencies=(0,i.B)(((e,n)=>({ground:e,groundLayers:n})))}get available(){const e=this._ground;return null!=e&&e.layers.some((e=>e.visible))}get minDemResolution(){return(0,v.W)(this._ground)}get _queryElevationDependencies(){return this._getQueryElevationDependencies(this._ground,this._groundLayers)}get _ground(){var e;return null===(e=this._viewModel)||void 0===e||null===(e=e.view)||void 0===e||null===(e=e.map)||void 0===e?void 0:e.ground}get _groundLayers(){var e,n;return null!==(e=null===(n=this._ground)||void 0===n||null===(n=n.layers)||void 0===n?void 0:n.toArray())&&void 0!==e?e:[]}async queryElevation(e,n){const t=this._queryElevationDependencies;if(null==t)throw new Error("ElevationProfileLineGround: no dependencies");const{ground:r}=t;if(null==r)throw new Error("No ground configured in the view");const l=await r.queryElevation(e,n),o=(0,a.G9)(e.spatialReference),i=(0,a.G9)(r.layers.at(0).spatialReference);if(o!==i){const e=l.geometry;e.points=e.points.map((e=>{let[t,r,l]=e;return[t,r,l===n.noDataValue?l:l*i/o]}))}return l}attach(e){return(0,o.vE)([super.attach(e),(0,u.watch)((()=>this._queryElevationDependencies),(()=>this._onChange()))])}};(0,r._)([(0,s.MZ)({type:l.default,nonNullable:!0})],c.prototype,"color",void 0),(0,r._)([(0,s.MZ)()],c.prototype,"viewVisualizationEnabled",void 0),(0,r._)([(0,s.MZ)()],c.prototype,"available",null),(0,r._)([(0,s.MZ)({readOnly:!0})],c.prototype,"minDemResolution",null),(0,r._)([(0,s.MZ)()],c.prototype,"_queryElevationDependencies",null),(0,r._)([(0,s.MZ)()],c.prototype,"_ground",null),(0,r._)([(0,s.MZ)()],c.prototype,"_groundLayers",null),c=(0,r._)([(0,d.$)("esri.widgets.ElevationProfile.ElevationProfileLineGround")],c);const f=c}}]);
//# sourceMappingURL=36974.57971618.chunk.js.map