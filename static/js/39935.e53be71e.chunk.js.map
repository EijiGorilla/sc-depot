{"version":3,"file":"static/js/39935.e53be71e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/BasemapToggle/BasemapToggleViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import a from\"../../core/Accessor.js\";import{watch as t,initial as s,whenOnce as i}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as p}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{isLoaded as n,canProjectWithoutEngine as c,load as l}from\"../../geometry/projection.js\";import{equals as m}from\"../../geometry/support/spatialReferenceUtils.js\";import{basemapEnsureType as h,destroyCache as f}from\"../../support/basemapEnsureType.js\";import{findSpatialReference as d,getBasemapThumbnailUrl as u}from\"../../support/basemapUtils.js\";let g=class extends a{constructor(e){super(e),this._basemapCache={},this._loadingProjectionEngine=!1,this.nextBasemap=h(\"hybrid\",this._basemapCache),this.view=null}initialize(){t((()=>this.nextBasemap),(e=>{e&&!e.loaded&&e.load().catch((()=>{}))}),s)}destroy(){this.view=null,f(this._basemapCache),this._basemapCache=null}get _nextBasemapSpatialReferenceTask(){return d(this.view,this.nextBasemap)}get _viewSpatialReferenceLocked(){const{view:e}=this;return!e||!(\"spatialReferenceLocked\"in e)||e.spatialReferenceLocked}get activeBasemap(){return h(this.view?.map?.basemap??\"topo-vector\",this._basemapCache)}castNextBasemap(e){return h(e,this._basemapCache)}get state(){const{view:e}=this;if(!e?.ready)return\"disabled\";if(this._nextBasemapSpatialReferenceTask.updating)return\"disabled\";const{spatialReference:a}=this._nextBasemapSpatialReferenceTask;return this._viewSpatialReferenceLocked&&null!=a&&!e.spatialReference.equals(a)?\"incompatible-next-basemap\":this._loadingProjectionEngine?\"loading\":\"ready\"}async toggle(){const{activeBasemap:e,nextBasemap:a,state:t,view:s}=this;if(!s||\"disabled\"===t||\"incompatible-next-basemap\"===t)return;const r=this._viewSpatialReferenceLocked;if(!r){if(await i((()=>!this._nextBasemapSpatialReferenceTask.updating)),a!==this.nextBasemap||e!==this.activeBasemap)return;const{spatialReference:t}=this._nextBasemapSpatialReferenceTask;if(null==t||m(s.spatialReference,t)||n()||c(s.spatialReference,t)||(this._loadingProjectionEngine=!0,await l(),this._loadingProjectionEngine=!1),a!==this.nextBasemap||e!==this.activeBasemap)return}s.map.basemap=a,r||null==this._nextBasemapSpatialReferenceTask.spatialReference||m(s.spatialReference,this._nextBasemapSpatialReferenceTask.spatialReference)||(s.spatialReference=this._nextBasemapSpatialReferenceTask.spatialReference),this.nextBasemap=e}static getThumbnailUrl(e){return u(e)}};e([r()],g.prototype,\"_loadingProjectionEngine\",void 0),e([r({readOnly:!0})],g.prototype,\"_nextBasemapSpatialReferenceTask\",null),e([r({readOnly:!0})],g.prototype,\"_viewSpatialReferenceLocked\",null),e([r({readOnly:!0})],g.prototype,\"activeBasemap\",null),e([r()],g.prototype,\"nextBasemap\",void 0),e([p(\"nextBasemap\")],g.prototype,\"castNextBasemap\",null),e([r({readOnly:!0})],g.prototype,\"state\",null),e([r()],g.prototype,\"view\",void 0),e([r()],g.prototype,\"toggle\",null),g=e([o(\"esri.widgets.BasemapToggle.BasemapToggleViewModel\")],g);const B=g;export{B as default};\n"],"names":["g","a","constructor","e","super","this","_basemapCache","_loadingProjectionEngine","nextBasemap","h","view","initialize","t","loaded","load","catch","s","destroy","f","_nextBasemapSpatialReferenceTask","d","_viewSpatialReferenceLocked","spatialReferenceLocked","activeBasemap","_this$view$map$basema","_this$view","map","basemap","castNextBasemap","state","ready","updating","spatialReference","equals","toggle","r","i","m","n","c","l","getThumbnailUrl","u","prototype","readOnly","p","o","B"],"sourceRoot":""}