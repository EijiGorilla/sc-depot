{"version":3,"file":"static/js/62735.19e15665.chunk.js","mappings":"8RAI2mB,MAAMA,EAAEC,EAAAA,QAAEC,OAAOC,EAAAA,SAAGC,EAAE,CAACC,MAAM,IAAIC,OAAO,IAAIC,OAAO,OAAOC,EAAE,CAACC,gBAAe,EAAGC,kBAAiB,EAAGC,iBAAgB,EAAGC,cAAa,EAAGC,mBAAkB,GAAIC,EAAE,CAACC,MAAK,GAAI,IAAIC,EAAE,eAAcC,EAAAA,EAAAA,GAAEC,EAAAA,EAAEC,kBAAkBC,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAKC,cAAYC,EAAAA,EAAAA,GAAA,GAAKX,GAAGS,KAAKG,eAAe,KAAKH,KAAKI,KAAK,IAAI,CAACC,OAAAA,GAAUL,KAAKI,KAAK,KAAKJ,KAAKM,KAAK,iBAAiB,KAAK,CAACC,gBAAAA,CAAiBT,GAAG,OAAAI,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUX,GAAKO,EAAE,CAAC,aAAIU,GAAW,IAAAC,EAAAC,EAAC,OAAgC,QAAhCD,EAAgB,QAAhBC,EAAOV,KAAKI,YAAI,IAAAM,GAAK,QAALA,EAATA,EAAWC,WAAG,IAAAD,OAAA,EAAdA,EAAgBF,iBAAS,IAAAC,EAAAA,EAAE,IAAIhC,CAAC,CAAC,aAAI+B,CAAUV,GAAGE,KAAKY,gBAAgB,YAAYd,EAAE,CAAC,wBAAIe,CAAqBf,GAAGE,KAAKM,KAAK,wBAAsBJ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAKjB,GAAKa,GAAG,CAAC,wBAAIe,GAAuB,OAAO5B,CAAC,CAAC,sBAAI6B,CAAmBhB,GAAGE,KAAKM,KAAK,sBAAoBJ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAKjB,GAAKa,GAAG,CAAC,sBAAIgB,GAAqB,OAAO7B,CAAC,CAAC,SAAI8B,GAAQ,MAAMX,KAAKN,GAAGE,KAAK,OAAOF,IAAIA,EAAEkB,MAAM,UAAU,OAAO,CAAC,oBAAMC,CAAenB,GAAG,MAAMM,KAAKc,EAAEL,qBAAqBnC,EAAEuB,aAAaN,GAAGK,KAAK,IAAIkB,EAAE,MAAM,IAAIC,EAAAA,QAAE,+BAA+B,4CAA4C,MAAMjC,eAAekC,EAAEC,mBAAmBC,EAAEnC,iBAAiBoC,EAAEnC,gBAAgBoC,EAAEnC,aAAaK,EAAEJ,kBAAkBb,IAAEyB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAKxB,GAAKoB,GAAGjB,EAAEuC,QAAQpB,KAAKyB,iBAAiBH,QAAG,EAAOrC,EAAEU,EAAEH,MAAMf,GAAG,MAAMyC,EAAEQ,WAAWR,EAAEQ,WAAWC,aAAQ,EAAO,OAAO,IAAI/C,EAAAA,SAACsB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGrB,GAAG,CAAC+C,UAAU/C,IAAMJ,GAAG,CAACiD,WAAWzC,IAAMsC,GAAG,CAACM,UAAU7B,KAAK8B,iBAAiB,CAAC1B,KAAKc,EAAE7B,aAAaK,EAAEN,gBAAgBoC,MAAM,CAAC,kBAAMO,CAAajC,EAAEoB,GAAG,IAAIpB,EAAE,OAAOA,EAAE,MAAMM,KAAK1B,EAAEoC,mBAAmBnB,GAAGK,KAAK,IAAItB,EAAE,MAAM,IAAIyC,EAAAA,QAAE,6BAA6B,0CAA0C,MAAMjC,eAAekC,EAAEC,mBAAmBC,EAAEnC,iBAAiBoC,EAAEnC,gBAAgBoC,EAAEnC,aAAaT,EAAEU,kBAAkBI,IAAEQ,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAKP,GAAKuB,GAAGzC,EAAE2C,QAAQpB,KAAKyB,iBAAiBH,QAAG,EAAO,OAAO7C,IAAIqB,EAAE8B,UAAUnD,GAAG8C,IAAIzB,EAAE+B,UAAU7B,KAAK8B,iBAAiB,CAAC1B,KAAK1B,EAAEW,aAAaT,EAAEQ,gBAAgBoC,KAAK9B,GAAG,MAAMhB,EAAEgD,aAAa5B,EAAE4B,WAAWhD,EAAEgD,WAAWC,SAAS3B,KAAKgC,KAAK,gBAAgB,CAACC,SAASnC,IAAIA,CAAC,CAACoC,IAAAA,CAAKpC,GAAG,MAAMG,aAAaiB,EAAEd,KAAK1B,GAAGsB,KAAK,IAAItB,EAAE,MAAM,IAAIyC,EAAAA,QAAE,qBAAqB,0CAA0C,MAAMxB,EAAG,OAADG,QAAC,IAADA,OAAC,EAADA,EAAG+B,UAAU,IAAIlC,EAAE,MAAM,IAAIwB,EAAAA,QAAE,yBAAyB,+DAA+D,CAACc,SAASnC,IAAIE,KAAKM,KAAK,iBAAiBR,GAAG,MAAMsB,EAAEpB,KAAKmC,SAAS,CAACC,OAAOzC,IAAI2B,EAAG,OAADxB,QAAC,IAADA,OAAC,EAADA,EAAG4B,WAAW,OAAOR,EAAE1B,MAAM8B,IAAI5C,EAAEgD,WAAWJ,GAAGtB,KAAKgC,KAAK,kBAAkB,CAACC,SAASnC,IAAIsB,EAAEiB,OAAO,SAASC,MAAM,IAAItC,KAAKM,KAAK,iBAAiB,QAAQc,CAAC,CAAC,sBAAMK,CAAiB3B,GAAG,MAAMM,KAAKc,GAAGlB,KAAK,IAAIkB,EAAE,MAAM,IAAIC,EAAAA,QAAE,wBAAwB,gDAAgD,MAAMzC,QAAQwC,EAAEhC,gBAAcgB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGrB,GAAKiB,IAAI,OAAO,IAAI0B,EAAAA,EAAE,CAACe,IAAI7D,EAAE8D,SAAS,CAACV,gBAAAA,CAAgBW,GAA2C,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAAzCzC,KAAKN,EAAEV,gBAAgBV,EAAEW,aAAa8B,GAAEsB,EAAE,MAAM9C,EAAa,QAAZ+C,EAAC5C,EAAE+B,iBAAS,IAAAa,OAAA,EAAXA,EAAaf,QAAQ,OAAO,IAAIT,EAAAA,QAAE,CAAC4B,eAAuB,QAATH,EAAC7C,EAAEiD,cAAM,IAAAJ,OAAA,EAARA,EAAUhB,QAAQqB,SAA4B,QAApBJ,EAAElE,EAAG,OAADiB,QAAC,IAADA,OAAC,EAADA,EAAGqD,SAAS,YAAI,IAAAJ,EAAAA,EAAG,EAAEK,MAAsB,QAAjBJ,EAAE1B,EAAG,OAADxB,QAAC,IAADA,OAAC,EAADA,EAAGsD,MAAM,YAAI,IAAAJ,EAAAA,EAAG,GAAG,IAAG/C,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,OAAK3B,EAAEyD,UAAU,oBAAe,IAAQpD,EAAAA,EAAAA,GAAE,EAACwB,EAAAA,EAAAA,GAAE,iBAAiB7B,EAAEyD,UAAU,mBAAmB,OAAMpD,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,IAAE,CAAC+B,UAAS,KAAM1D,EAAEyD,UAAU,sBAAiB,IAAQpD,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,IAAE,CAACgC,KAAK3E,KAAKgB,EAAEyD,UAAU,YAAY,OAAMpD,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,OAAK3B,EAAEyD,UAAU,uBAAuB,OAAMpD,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,OAAK3B,EAAEyD,UAAU,qBAAqB,OAAMpD,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,IAAE,CAAC+B,UAAS,KAAM1D,EAAEyD,UAAU,QAAQ,OAAMpD,EAAAA,EAAAA,GAAE,EAACsB,EAAAA,EAAAA,OAAK3B,EAAEyD,UAAU,YAAO,GAAQzD,GAAEK,EAAAA,EAAAA,GAAE,EAACyB,EAAAA,EAAAA,GAAE,8CAA8C9B,GAAG,MAAM4D,EAAE5D,C","sources":["../node_modules/@arcgis/core/widgets/Bookmarks/BookmarksViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../Viewpoint.js\";import o from\"../../core/Collection.js\";import i from\"../../core/Error.js\";import a from\"../../core/Evented.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{SlideThumbnail as c}from\"../../webdoc/support/SlideThumbnail.js\";import p from\"../../webmap/Bookmark.js\";import l from\"../support/GoTo.js\";const m=o.ofType(p),u={width:128,height:128,format:\"png\"},k={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0,captureTimeExtent:!0},w={time:!0};let d=class extends(l(a.EventedAccessor)){constructor(t){super(t),this.capabilities={...w},this.activeBookmark=null,this.view=null}destroy(){this.view=null,this._set(\"activeBookmark\",null)}castCapabilities(t){return{...w,...t}}get bookmarks(){return this.view?.map?.bookmarks??new m}set bookmarks(t){this._overrideIfSome(\"bookmarks\",t)}set defaultCreateOptions(t){this._set(\"defaultCreateOptions\",{...k,...t})}get defaultCreateOptions(){return k}set defaultEditOptions(t){this._set(\"defaultEditOptions\",{...k,...t})}get defaultEditOptions(){return k}get state(){const{view:t}=this;return t&&!t.ready?\"loading\":\"ready\"}async createBookmark(t){const{view:e,defaultCreateOptions:o,capabilities:a}=this;if(!e)throw new i(\"create-bookmark:invalid-view\",\"Cannot create a bookmark without a view.\");const{takeScreenshot:r,screenshotSettings:n,captureViewpoint:s,captureRotation:c,captureScale:l,captureTimeExtent:m}={...o,...t},u=r?await this._createThumbnail(n):void 0,k=a.time&&m&&null!=e.timeExtent?e.timeExtent.clone():void 0;return new p({...u&&{thumbnail:u},...m&&{timeExtent:k},...s&&{viewpoint:this._createViewpoint({view:e,captureScale:l,captureRotation:c})}})}async editBookmark(t,e){if(!t)return t;const{view:o,defaultEditOptions:a}=this;if(!o)throw new i(\"edit-bookmark:invalid-view\",\"Cannot edit a bookmark without a view.\");const{takeScreenshot:r,screenshotSettings:n,captureViewpoint:s,captureRotation:c,captureScale:p,captureTimeExtent:l}={...a,...e},m=r?await this._createThumbnail(n):void 0;return m&&(t.thumbnail=m),s&&(t.viewpoint=this._createViewpoint({view:o,captureScale:p,captureRotation:c})),l&&null!=o.timeExtent&&(t.timeExtent=o.timeExtent.clone()),this.emit(\"bookmark-edit\",{bookmark:t}),t}goTo(t){const{capabilities:e,view:o}=this;if(!o)throw new i(\"go-to:invalid-view\",\"Cannot go to a bookmark without a view\");const a=t?.viewpoint;if(!a)throw new i(\"go-to:invalid-bookmark\",\"Cannot go to a bookmark that does not contain a 'viewpoint'.\",{bookmark:t});this._set(\"activeBookmark\",t);const r=this.callGoTo({target:a}),n=t?.timeExtent;return e.time&&n&&(o.timeExtent=n),this.emit(\"bookmark-select\",{bookmark:t}),r.catch((()=>{})).then((()=>this._set(\"activeBookmark\",null))),r}async _createThumbnail(t){const{view:e}=this;if(!e)throw new i(\"bookmark:invalid-view\",\"Cannot create slide thumbnail without a view\");const o=await e.takeScreenshot({...u,...t});return new c({url:o.dataUrl})}_createViewpoint({view:t,captureRotation:o,captureScale:i}){const a=t.viewpoint?.clone();return new e({targetGeometry:t.extent?.clone(),rotation:(o?a?.rotation:null)??0,scale:(i?a?.scale:null)??0})}};t([r()],d.prototype,\"capabilities\",void 0),t([n(\"capabilities\")],d.prototype,\"castCapabilities\",null),t([r({readOnly:!0})],d.prototype,\"activeBookmark\",void 0),t([r({type:m})],d.prototype,\"bookmarks\",null),t([r()],d.prototype,\"defaultCreateOptions\",null),t([r()],d.prototype,\"defaultEditOptions\",null),t([r({readOnly:!0})],d.prototype,\"state\",null),t([r()],d.prototype,\"view\",void 0),d=t([s(\"esri.widgets.Bookmarks.BookmarksViewModel\")],d);const h=d;export{h as default};\n"],"names":["m","o","ofType","p","u","width","height","format","k","takeScreenshot","captureViewpoint","captureRotation","captureScale","captureTimeExtent","w","time","d","l","a","EventedAccessor","constructor","t","super","this","capabilities","_objectSpread","activeBookmark","view","destroy","_set","castCapabilities","bookmarks","_this$view$map$bookma","_this$view","map","_overrideIfSome","defaultCreateOptions","defaultEditOptions","state","ready","createBookmark","e","i","r","screenshotSettings","n","s","c","_createThumbnail","timeExtent","clone","thumbnail","viewpoint","_createViewpoint","editBookmark","emit","bookmark","goTo","callGoTo","target","catch","then","url","dataUrl","_ref","_t$viewpoint","_t$extent","_ref2","_ref3","targetGeometry","extent","rotation","scale","prototype","readOnly","type","h"],"sourceRoot":""}