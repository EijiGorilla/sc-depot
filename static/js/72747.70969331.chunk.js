"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[72747],{42785:(e,o,t)=>{t.d(o,{A:()=>r});var n=t(35143),i=t(91967),l=t(46053),a=(t(81806),t(76460),t(47249),t(85842));let s=class extends i.default{constructor(e){super(e),this.area=!0,this.coordinates=!0,this.direction=!0,this.distance=!0,this.elevation=!0,this.header=!0,this.helpMessage=!1,this.orientation=!0,this.radius=!0,this.rotation=!0,this.scale=!0,this.size=!0,this.totalLength=!0}};(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"area",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"coordinates",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"direction",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"distance",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"elevation",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"header",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"helpMessage",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"orientation",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"radius",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"rotation",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"scale",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"size",void 0),(0,n._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"totalLength",void 0),s=(0,n._)([(0,a.$)("esri.views.interactive.sketch.SketchTooltipVisibleElements")],s);const r=s},72747:(e,o,t)=>{t.r(o),t.d(o,{hideAllVisibleElements:()=>h,showTooltipAndFocusField:()=>c});var n=t(98773),i=t(79053),l=t(54901),a=t(50346),s=t(68134),r=t(52394),d=t(76931),p=t(42785);async function c(e,o){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const p=u.get(e);p&&(p.abort(),await p.promise);const c=(0,n.UT)((async function(n){var p;const c=function(e){const{activeComponent:o}=e;return o&&"tooltip"in o&&"activeTooltipInfo"in o&&"destroyed"in o?o:null}(e),{tooltipOptions:u}=e;if("coordinates"===o?(o="x",u.xyMode="coordinates"):"direction"!==o&&"distance"!==o||(u.xyMode="direction-distance"),await(0,r.waitAnimationFrame)(),(0,a.isAborted)(t)||(0,a.isAborted)(n))return;const v=null===c||void 0===c?void 0:c.tooltip;if(!v||null===(p=c.activeTooltipInfo)||void 0===p||null===(p=p.editableFields)||void 0===p||!p.find((e=>e.name===o)))return;const{handle:h,promise:y}=function(e,o){let{hideOnBlur:t=!0}=o;const n=(0,a.createResolver)();if(!t)return{promise:n.promise,handle:(0,l.hA)()};const{outerContainer:s}=e,r=(0,i.on)(s,"focusout",(e=>{let{relatedTarget:o}=e;o instanceof HTMLElement&&s.contains(o)||n.resolve()}));return{promise:n.promise,handle:r}}(v,t),b=(0,a.createResolver)(),f=(0,a.onAbort)(t.signal,b.resolve),m=(0,a.onAbort)(n,b.resolve),M=u.offset,w=v.position;try{var _;if(u.forceEnabled=!0,await(0,a.waitTick)(),t.position&&(u.offset=0,v.position=(0,d.tc)(t.position[0],t.position[1])),await v.enterInputMode(o),(0,a.isAborted)(t)||(0,a.isAborted)(n))return;null!==(_=t.onOpen)&&void 0!==_&&_.call(t),await Promise.race([(0,s.whenOnce)((()=>{var e;return c.destroyed||"feedback"===(null===(e=v.content)||void 0===e?void 0:e.mode)}),t),y,b.promise])}finally{var B,A;null!==f&&void 0!==f&&f.remove(),null!==m&&void 0!==m&&m.remove(),h.remove();const o=v.outerContainer.contains(document.activeElement);u.enabled?await v.exitInputMode({focusOnView:o}):o&&(null===(B=e.view)||void 0===B||B.focus()),null!==(A=t.onClose)&&void 0!==A&&A.call(t),v.position=w,u.offset=M,u.forceEnabled=!1}}));return u.set(e,c),c.promise.catch(a.ignoreAbortErrors).finally((()=>{u.get(e)===c&&u.delete(e)}))}const u=new Map,v={area:!1,distance:!1,direction:!1,elevation:!1,orientation:!1,radius:!1,rotation:!1,scale:!1,size:!1,totalLength:!1,coordinates:!1,helpMessage:!1,header:!1};function h(e){e.tooltipOptions.visibleElements=new p.A(v)}}}]);
//# sourceMappingURL=72747.70969331.chunk.js.map