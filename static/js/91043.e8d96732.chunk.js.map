{"version":3,"file":"static/js/91043.e8d96732.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementController.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurementAnalysisView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{VertexAttribute as i}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{ShaderBuilder as n}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as s}from\"../webscene/support/AlphaCutoff.js\";function d(d){const a=new n,{vertex:l,fragment:c}=a;e(l,d),l.uniforms.add(new o(\"width\",(e=>e.width))),a.attributes.add(i.POSITION,\"vec3\"),a.attributes.add(i.NORMAL,\"vec3\"),a.attributes.add(i.UV0,\"vec2\"),a.attributes.add(i.LENGTH,\"float\"),a.varyings.add(\"vtc\",\"vec2\"),a.varyings.add(\"vlength\",\"float\"),a.varyings.add(\"vradius\",\"float\"),l.main.add(r`vec3 bitangent = normal;\nvtc = uv0;\nvlength = length;\nvradius = 0.5 * width;\nvec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\ngl_Position = proj * pos;`),c.uniforms.add(new o(\"outlineSize\",(e=>e.outlineSize)),new t(\"outlineColor\",(e=>e.outlineColor)),new o(\"stripeLength\",(e=>e.stripeLength)),new t(\"stripeEvenColor\",(e=>e.stripeEvenColor)),new t(\"stripeOddColor\",(e=>e.stripeOddColor)));const v=1/Math.sqrt(2);return c.code.add(r`\n    const float INV_SQRT2 = ${r.float(v)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      }\n      if (d < outlineSize) {\n        return outlineColor;\n      }\n      return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n    }`),c.main.add(r`\n    vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n    vec4 color = arrowColor(ntc, vlength / vradius);\n    if (color.a < ${r.float(s)}) {\n      discard;\n    }\n    fragColor = color;`),a}const a=Object.freeze(Object.defineProperty({__proto__:null,build:d},Symbol.toStringTag,{value:\"Module\"}));export{a as M,d as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{toUnit as o}from\"../../../../core/quantityUtils.js\";import{watch as r,syncAndInitial as s}from\"../../../../core/reactiveUtils.js\";import{adaptiveLengthUnit as n,adaptiveVerticalLengthUnit as a}from\"../../../../core/unitUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{MeasurementMode as u}from\"../interfaces.js\";import{applyProjectionAndElevationAlignment as p,logFailedGeometryProjectionError as m}from\"../support/projectionUtils.js\";import{euclideanDistanceBetweenPoints as d}from\"../../../support/euclideanLengthMeasurementUtils.js\";import{geodesicDistanceBetweenPoints as v}from\"../../../support/geodesicLengthMeasurementUtils.js\";let h=class extends e{constructor(t){super(t)}initialize(){this.addHandles([r((()=>({viewData:this.viewData,startPoint:this.analysis.startPoint})),(({viewData:t,startPoint:e})=>{t.elevationAlignedStartPoint=this._applyProjectionAndElevationAlignment(e)}),s),r((()=>({viewData:this.viewData,endPoint:this.analysis.endPoint})),(({viewData:t,endPoint:e})=>{t.elevationAlignedEndPoint=this._applyProjectionAndElevationAlignment(e)}),s),r((()=>({result:this._computedResult,viewData:this.viewData})),(({result:t,viewData:e})=>{e.result=t}),s)])}_applyProjectionAndElevationAlignment(t){if(null==t)return t;const{spatialReference:e,elevationProvider:o}=this.view,r=p(t,e,o);return r??(m(this.analysis,t.spatialReference,i.getLogger(this)),null)}get _computedResult(){const{elevationAlignedStartPoint:t,elevationAlignedEndPoint:e,measurementMode:i,unit:r}=this.viewData;if(null==t||null==e)return null;const s=d(t,e),l=v(t,e);if(null==s)return null;let c,p;switch(i){case u.Auto:p=null!=l?\"geodesic\":\"euclidean\",c=l??s.horizontal;break;case u.Geodesic:if(null==l)return null;p=\"geodesic\",c=l;break;case u.Euclidean:p=\"euclidean\",c=s.horizontal}let m=s.direct,h=s.vertical;const f=n(m.value,m.unit,r),g=n(c.value,c.unit,r),j=a(h.value,h.unit,r);return m=o(m,f),c=o(c,g),h=o(h,j),{mode:p,directDistance:m,horizontalDistance:c,verticalDistance:h}}};t([l()],h.prototype,\"view\",void 0),t([l()],h.prototype,\"analysis\",void 0),t([l()],h.prototype,\"viewData\",void 0),t([l()],h.prototype,\"_computedResult\",null),h=t([c(\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementController\")],h);export{h as DirectLineMeasurementController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{blending as t}from\"../lib/OrderIndependentTransparency.js\";import{VertexAttribute as o}from\"../lib/VertexAttribute.js\";import{M as n}from\"../../../../chunks/MeasurementArrow.glsl.js\";import{PrimitiveType as s,CompareFunction as i}from\"../../../webgl/enums.js\";import{makePipelineState as l,defaultDepthWrite as p,defaultColorWrite as a}from\"../../../webgl/renderState.js\";class m extends r{constructor(r,t){super(r,t,new e(n,(()=>import(\"./MeasurementArrow.glsl.js\"))),u),this.primitiveType=s.TRIANGLE_STRIP}initializePipeline(e){return l({blending:e.transparent?t(e.oitPass):null,polygonOffset:e.polygonOffsetEnabled?{factor:0,units:-4}:null,depthTest:{func:i.LESS},depthWrite:p,colorWrite:a})}}const u=new Map([[o.POSITION,0],[o.NORMAL,1],[o.UV0,2],[o.LENGTH,3]]);export{m as MeasurementArrowTechnique,u as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as t}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends t{constructor(){super(...arguments),this.polygonOffsetEnabled=!1,this.transparent=!1}}e([o()],r.prototype,\"polygonOffsetEnabled\",void 0),e([o()],r.prototype,\"transparent\",void 0);export{r as MeasurementArrowTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{i as t,n as e,d as r,e as s,j as o,t as i}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as c}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as l}from\"../core/shaderLibrary/ShaderOutput.js\";import u from\"../lib/GLMaterial.js\";import{Material as f,MaterialParameters as p}from\"../lib/Material.js\";import{RenderSlot as h}from\"../lib/RenderSlot.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{vertexAttributeLocations as d,MeasurementArrowTechnique as g}from\"../shaders/MeasurementArrowTechnique.js\";import{MeasurementArrowTechniqueConfiguration as O}from\"../shaders/MeasurementArrowTechniqueConfiguration.js\";import{alphaCutoff as A}from\"../../../../webscene/support/AlphaCutoff.js\";class b extends f{constructor(t){super(t,T),this._configuration=new O,this.vertexAttributeLocations=d,this.produces=new Map([[h.OPAQUE_MATERIAL,t=>!this._transparent&&l(t)],[h.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,t=>this._transparent&&l(t)]])}getConfiguration(t,e){return this._configuration.polygonOffsetEnabled=this.parameters.polygonOffset,this._configuration.transparent=this._transparent,this._configuration.oitPass=e.oitPass,this._configuration}get visible(){const{outlineColor:t,stripeEvenColor:e,stripeOddColor:r}=this.parameters;return t[3]>=A||e[3]>=A||r[3]>=A}intersect(){}createGLMaterial(t){return new v(t)}createBufferWriter(){return new E}get _transparent(){const{parameters:t}=this;return t.outlineColor[3]<1||t.stripeEvenColor[3]<1||t.stripeOddColor[3]<1}}class v extends u{beginSlot(t){return this.getTechnique(g,t)}}class T extends p{constructor(){super(...arguments),this.width=32,this.outlineSize=.2,this.outlineColor=a(1,.5,0,1),this.stripeEvenColor=a(1,1,1,1),this.stripeOddColor=a(1,.5,0,1),this.stripeLength=1,this.polygonOffset=!1}}const j=c().vec3f(m.POSITION).vec3f(m.NORMAL).vec2f(m.UV0).f32(m.LENGTH),C=n(),_=n(),L=n(),M=n(),w=n();class E{constructor(){this.vertexBufferLayout=j}elementCount(t){return 2*(t.get(m.POSITION).indices.length/2+1)}write(n,a,c,l,u,f){const{data:p,indices:h}=c.get(m.POSITION),d=c.get(m.NORMAL).data,g=p.length/3;h&&h.length!==2*(g-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const O=C,A=_,b=L,v=M,T=w,j=u.position,E=u.normal,I=u.uv0;let x=0;for(let m=0;m<g;++m){const c=3*m;if(t(O,p[c],p[c+1],p[c+2]),m<g-1){const o=3*(m+1);t(A,p[o],p[o+1],p[o+2]),t(T,d[o],d[o+1],d[o+2]),e(T,T),r(b,A,O),e(b,b),s(v,T,b),e(v,v)}const l=o(O,A);n&&a&&(i(O,O,n),i(A,A,n),i(v,v,a));const u=f+2*m,h=u+1;j.setVec(u,O),j.setVec(h,O),E.setVec(u,v),E.setVec(h,v),I.set(u,0,x),I.set(u,1,-1),I.set(h,0,x),I.set(h,1,1),m<g-1&&(x+=l)}const N=u.length;for(let t=0;t<2*g;++t)N.set(f+t,x)}}export{b as MeasurementArrowMaterial,T as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{colorVectorEquals as e}from\"../../../../core/colorUtils.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as s}from\"../../../../core/reactiveUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{c as i,a,e as n,H as l,d as h}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as d}from\"../../../../chunks/vec42.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as _}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{headingTiltToDirectionUp as g}from\"../../support/cameraUtils.js\";import{createDirectionUp as u}from\"../../support/cameraUtilsInternal.js\";import{createPolylineGeometry as w}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as f}from\"../../webgl-engine/lib/Material.js\";import{MeasurementArrowMaterial as C}from\"../../webgl-engine/materials/MeasurementArrowMaterial.js\";class y extends p{constructor(e){super(e),this._arrowWidth=16,this._arrowSubdivisions=128,this._origin=c(),this._originTransform=o(),this._arrowCenter=c(),this._renderOccluded=f.OccludeAndTransparent,this._geometry=null,this._stripeLength=1,this._stripesEnabled=!0,this._color=m(),this._contrastColor=m(),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial?.setParameters({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this._geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameters({stripeLength:this._stripeLength})}get stripesEnabled(){return this._stripesEnabled}set stripesEnabled(e){if(this._stripesEnabled=e,this.attached){const e=this._stripesEnabled?this._contrastColor:this._color;this._arrowMaterial.setParameters({stripeEvenColor:e})}}get color(){return this._color}set color(t){e(t,this._color)||(d(this._color,t),this._updateArrowColor())}get contrastColor(){return this._contrastColor}set contrastColor(t){e(t,this._color)||(d(this._contrastColor,t),this._updateArrowColor())}createExternalResources(){const e=this._color,r=this._contrastColor,o=this._stripesEnabled?r:e;this._arrowMaterial=new C({outlineColor:e,stripeEvenColor:o,stripeOddColor:e,renderOccluded:this.renderOccluded,polygonOffset:!0,isDecoration:this.isDecoration}),this._handles=new t,this._handles.add(s((()=>this.view.state.camera),(()=>{this._viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles=r(this._handles)}forEachExternalMaterial(e){e(this._arrowMaterial)}createGeometries(e){if(null==this._geometry?.startRenderSpace||null==this._geometry.endRenderSpace)return;const t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);t.transformation=this._originTransform,e.addGeometry(t),this._viewChanged()}_createArrowGeometry(e,t,r,s){const o=this.view,a=o.renderCoordsHelper,n=[],l=[],c=(e,t)=>{const s=_.get();h(s,e,r),n.push(s),l.push(t)};if(\"euclidean\"===s.type){s.eval(.5,this._arrowCenter);const r=_.get();if(a.worldUpAtPosition(this._arrowCenter,r),v(e,t,r)){const{heading:t,tilt:s}=o.camera,{direction:a}=g(o,e,t,s,j);i(r,a)}c(e,r),c(t,r)}else{s.eval(.5,this._arrowCenter);const e=this._arrowSubdivisions+1&-2;for(let t=0;t<e;++t){const r=t/(e-1),o=_.get(),i=_.get();s.eval(r,o),a.worldUpAtPosition(o,i),c(o,i)}}return w(this._arrowMaterial,n,l)}_geometryChanged(){this.recreateGeometry()}_viewChanged(){if(this.view.ready&&this.attached&&null!=this._geometry){const e=this.view.state.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameters({width:this._arrowWidth*e})}}_updateArrowColor(){if(!this.attached)return;const e=this._color,t=this._contrastColor,r=this._stripesEnabled?t:e,s=e,o=e;this._arrowMaterial.setParameters({stripeEvenColor:r,outlineColor:s,stripeOddColor:o})}}function v(e,t,r){const s=a(b,t,e),o=n(b,s,r);return 0===l(o)}const b=c(),j=u();export{y as MeasurementArrowVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../intl.js\";import t from\"../../../../core/Accessor.js\";import{unitRGBAFromColor as i,multiplyOpacityToUnitRGBA as s,getContrast as n,BrightnessThreshold as o,multiplyOpacity as r}from\"../../../../core/colorUtils.js\";import\"../../../../core/has.js\";import{nextHighestPowerOfTen as l,deg2rad as a}from\"../../../../core/mathUtils.js\";import{destroyMaybe as c}from\"../../../../core/maybe.js\";import{formatDecimal as d,formatImperialLength as h,formatImperialVerticalLength as u,formatMetricLength as m,formatMetricVerticalLength as g}from\"../../../../core/quantityFormatUtils.js\";import{toUnit as p}from\"../../../../core/quantityUtils.js\";import{watch as _,syncAndInitial as v,initial as b}from\"../../../../core/reactiveUtils.js\";import{createRenderScreenPointArray3 as L,createRenderScreenPointArray as w}from\"../../../../core/screenUtils.js\";import{adaptiveImperialLengthUnit as S,convertUnit as f}from\"../../../../core/unitUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as A}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{dot as E}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{h as V,g as P}from\"../../../../chunks/vec32.js\";import{create as z}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{MeasurementMode as j}from\"../interfaces.js\";import{ViewMode as M,VisualElementOrientation as C}from\"./interfaces.js\";import{renderScreenSpaceTangent as O}from\"../../interactive/support/viewUtils.js\";import{LabelVisualElement as D,mirrorPosition as x}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as G}from\"../../interactive/visualElements/LineVisualElement.js\";import{MeasurementArrowVisualElement as H}from\"../../interactive/visualElements/MeasurementArrowVisualElement.js\";import{RightAngleQuadVisualElement as T}from\"../../interactive/visualElements/RightAngleQuadVisualElement.js\";import{GeodesicSegment as k,EuclideanSegment as U}from\"../../interactive/visualElements/support/Segment.js\";import{RenderOccludedFlag as R}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as F}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{geodesicDistanceThreshold as Q}from\"../../../support/geodesicMeasurementUtils.js\";import{onLocaleChange as q}from\"../../../../intl/locale.js\";import{fetchMessageBundle as B}from\"../../../../intl/messages.js\";let W=class extends t{get _parameters(){const e=this.view.effectiveTheme,{accentColor:t,textColor:l}=e,a=i(t),c=s(t,.75),d=i(n(t)),h=n(l,o.Low);return{accentColor:a,contrastColor:d,translucentAccentColor:c,triangleLineWidth:3,geodesicProjectionLineWidth:2,guideLineWidth:2,guideStippleLengthPixels:3,directLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12,textColor:l,textBackgroundColor:r(h,.6),textCalloutColor:r(h,.5)}}get visible(){return this.analysisView.visible}get viewMode(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView;if(null==e||null==t||e.equals(t))return M.None;const i=this.analysisView.result;if(null==i)return M.Direct;if(\"geodesic\"===this.actualVisualizedMeasurement)return this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition)?M.ProjectedGeodesic:M.Direct;const{verticalDistance:s,horizontalDistance:n}=i,o=p(s,\"meters\").value,r=p(n,\"meters\").value;return Math.min(o/r,r/o)<this.triangleCollapseRatioThreshold?M.Direct:M.Triangle}get actualVisualizedMeasurement(){const{measurementMode:e,result:t}=this.analysisView;switch(e){case j.Auto:return null!=t&&p(t.horizontalDistance,\"meters\").value>Q?\"geodesic\":\"euclidean\";case j.Euclidean:return\"euclidean\";case j.Geodesic:return\"geodesic\"}}get allowVisualElementsOrientationChange(){return null==this._triangleOrientationOverride}set allowVisualElementsOrientationChange(e){null==this._triangleOrientationOverride!==e&&(null==this._triangleOrientationOverride?this._triangleOrientationOverride=this._actualVisualElementsOrientation:this._triangleOrientationOverride=null)}get labels(){return\"geodesic\"===this.actualVisualizedMeasurement?{direct:null,horizontal:this._segmentLabel,vertical:this._verticalLabel}:{direct:this._segmentLabel,horizontal:this._horizontalLabel,vertical:this._verticalLabel}}constructor(e){super(e),this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._startPosition=z(),this._endPosition=z(),this._cornerPosition=z(),this._startPositionAtSeaLevel=z(),this._endPositionAtSeaLevel=z(),this._triangleOrientationOverride=null,this.messages=null,this.loadingMessages=!0,this.visualElementOrientation=C.Auto,this.triangleCollapseRatioThreshold=.03}initialize(){const e=this._parameters,t={attached:!0,view:this.view,isDecoration:!0},{guideLineWidth:i,guideStippleLengthPixels:s,triangleLineWidth:n,geodesicProjectionLineWidth:o,directLabelFontSize:r,verticalLabelFontSize:l,horizontalLabelFontSize:a}=e;this._segmentVisualElement=new H({...t,geometry:null,renderOccluded:R.OccludeAndTransparent}),this._triangleVisualElement=new G({...t,width:n,renderOccluded:R.OccludeAndTransparent}),this._rightAngleQuad=new T({...t,renderOccluded:R.OccludeAndTransparent});const c={...t,polygonOffset:!0,renderOccluded:R.OccludeAndTransparent};this._projectedGeodesicLine=new G({...c,width:o,stipplePattern:F(s)}),this._geodesicStartHint=new G({...c,width:i,stipplePattern:F(s)}),this._geodesicEndHint=new G({...c,width:i,stipplePattern:F(s)}),this._segmentLabel=new D({...t,fontSize:r}),this._verticalLabel=new D({...t,fontSize:l}),this._horizontalLabel=new D({...t,fontSize:a}),this.addHandles([_((()=>{const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView,i=this.view;return{view:i,camera:i.state.camera,viewMode:this.viewMode,elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,orientation:this._actualVisualElementsOrientation,visualizedMeasurement:this.actualVisualizedMeasurement,stripeLength:this._measurementArrowStripeLength}}),(e=>this._updateGeometryAndViewMode(e)),v),_((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateVisualElementVisibility(e)),v),_((()=>({text:this._labelsText,visualizedMeasurement:this.actualVisualizedMeasurement})),(e=>this._updateLabelText(e)),v),_((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateLabelVisibility(e)),v),_((()=>this._measurementArrowStripeLength),(e=>this._updateSegmentStripeLength(e)),v),q((async()=>this._updateMessageBundle())),_((()=>this._parameters),(({textBackgroundColor:e,textCalloutColor:t,textColor:i,translucentAccentColor:s,accentColor:n,contrastColor:o})=>{const{_segmentLabel:r,_verticalLabel:l,_horizontalLabel:a,_triangleVisualElement:c,_rightAngleQuad:d,_projectedGeodesicLine:h,_geodesicStartHint:u,_geodesicEndHint:m,_segmentVisualElement:g}=this;r.backgroundColor=e,r.calloutColor=t,r.textColor=i,l.backgroundColor=e,l.calloutColor=t,l.textColor=i,a.backgroundColor=e,a.calloutColor=t,a.textColor=i,c.color=s,d.color=s,h.color=s,u.color=s,m.color=s,g.color=n,g.contrastColor=o}),b)]),this._updateMessageBundle()}destroy(){this._segmentVisualElement=c(this._segmentVisualElement),this._triangleVisualElement=c(this._triangleVisualElement),this._rightAngleQuad=c(this._rightAngleQuad),this._projectedGeodesicLine=c(this._projectedGeodesicLine),this._geodesicStartHint=c(this._geodesicStartHint),this._geodesicEndHint=c(this._geodesicEndHint),this._segmentLabel=c(this._segmentLabel),this._verticalLabel=c(this._verticalLabel),this._horizontalLabel=c(this._horizontalLabel),this.set(\"view\",null)}_updateVisualElementVisibility({visible:e,viewMode:t}){if(this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,e)switch(t){case M.None:break;case M.Direct:this._segmentVisualElement.visible=!0;break;case M.Triangle:this._segmentVisualElement.visible=!0,this._triangleVisualElement.visible=!0,this._rightAngleQuad.visible=!0;break;case M.ProjectedGeodesic:this._segmentVisualElement.visible=!0,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}}_updateGeometryAndViewMode({view:e,camera:t,viewMode:i,elevationAlignedStartPoint:s,elevationAlignedEndPoint:n,orientation:o,visualizedMeasurement:r,stripeLength:l}){const a=e.renderCoordsHelper;if(null==a||null==s||null==n||s.equals(n))return;let c=this._startPosition,d=this._endPosition;a.toRenderCoords(s,c),a.toRenderCoords(n,d);const h=o===C.AboveSegment?1:-1,u=h*(a.getAltitude(d)-a.getAltitude(c));u<0&&(c=this._endPosition,d=this._startPosition);const m=\"geodesic\"===r?new k(this._startPosition,this._endPosition,a.spatialReference):new U(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=m,this._updateSegmentStripeLength(l),i){case M.Direct:this._updateSegment(m,o);break;case M.Triangle:this._updateSegmentAndTriangle({view:e,camera:t,segment:m,orientation:o,startPosition:c,endPosition:d,deltaSign:h,altitudeDelta:u});break;case M.ProjectedGeodesic:this._updateSegmentAndProjection({view:e,orientation:o,startPosition:c,endPosition:d})}}_updateSegment(e,t){this._segmentLabel.anchor=t===C.AboveSegment?\"top\":\"bottom\",this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"}}_updateSegmentAndTriangle({view:{renderCoordsHelper:e},camera:t,segment:i,orientation:s,startPosition:n,endPosition:o,deltaSign:r,altitudeDelta:l}){const a=this._cornerPosition;e.worldUpAtPosition(n,a),V(a,a,r*Math.abs(l)),P(a,a,n),this._triangleVisualElement.geometry=[[[n[0],n[1],n[2]],[a[0],a[1],a[2]],[o[0],o[1],o[2]]]],this._rightAngleQuad.geometry={previous:n,center:a,next:o};const c=new U(n,a),d=new U(a,o),h=N(n,o,a,s,t);this._segmentLabel.anchor=h.segment,this._segmentLabel.geometry={type:\"segment\",segment:i,sampleLocation:\"center\"},this._verticalLabel.geometry={type:\"segment\",segment:c,sampleLocation:\"center\"},this._verticalLabel.anchor=h.vertical,this._horizontalLabel.geometry={type:\"segment\",segment:d,sampleLocation:\"center\"},this._horizontalLabel.anchor=h.horizontal}_updateSegmentAndProjection({view:{renderCoordsHelper:e},orientation:t,startPosition:i,endPosition:s}){e.setAltitude(this._startPositionAtSeaLevel,0,i),e.setAltitude(this._endPositionAtSeaLevel,0,s);const n=new k(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,e.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(n),this._geodesicStartHint.setGeometryFromSegment(new U(this._startPositionAtSeaLevel,i)),this._geodesicEndHint.setGeometryFromSegment(new U(this._endPositionAtSeaLevel,s)),this._segmentLabel.geometry={type:\"segment\",segment:n,sampleLocation:\"center\"},this._segmentLabel.anchor=t===C.AboveSegment?\"top\":\"bottom\"}_updateLabelText({text:e,visualizedMeasurement:t}){null!=e?(this._segmentLabel.text=\"euclidean\"===t?e.directDistance:e.horizontalDistance,this._horizontalLabel.text=e.horizontalDistance,this._verticalLabel.text=e.verticalDistance):(this._segmentLabel.text=null,this._horizontalLabel.text=null,this._verticalLabel.text=null),this.notifyChange(\"labels\")}_updateLabelVisibility({visible:e,viewMode:t}){const i=this._segmentLabel,s=this._horizontalLabel,n=this._verticalLabel;if(i.visible=!1,s.visible=!1,n.visible=!1,e)switch(t){case M.Direct:i.visible=!0;break;case M.Triangle:i.visible=!0,s.visible=!0,n.visible=!0;break;case M.ProjectedGeodesic:i.visible=!0;case M.None:}}get _labelsText(){if(this.destroyed)return null;const e=this.messages,t=this.analysisView.result;if(null==t||null==e)return null;const{directDistance:i,horizontalDistance:s,verticalDistance:n}=t,o=this.analysisView.unit,r=e=>({directDistance:\"\",horizontalDistance:\"\",verticalDistance:\"\",...e});switch(o){case\"metric\":return r({directDistance:i&&m(e,i),horizontalDistance:s&&m(e,s),verticalDistance:n&&g(e,n)});case\"imperial\":return r({directDistance:i&&h(e,i),horizontalDistance:s&&h(e,s),verticalDistance:n&&u(e,n)});default:return r({directDistance:i&&d(e,i,o),horizontalDistance:s&&d(e,s,o),verticalDistance:n&&d(e,n,o)})}}_updateSegmentStripeLength(e){const t=this._segmentVisualElement;null!=e?(t.stripeLength=e,t.stripesEnabled=!0):t.stripesEnabled=!1}get _actualVisualElementsOrientation(){if(null!=this._triangleOrientationOverride)return this._triangleOrientationOverride;const e=this.visualElementOrientation;return e===C.Auto?this.view.state.camera.aboveGround?C.AboveSegment:C.BelowSegment:e}_requiresGeodesicGuideAt(e){const t=this.view;if(!t?.state)return!1;const i=t.state.camera,s=t.renderCoordsHelper;if(!s)return!1;const n=i.computeScreenPixelSizeAt(e);return s.getAltitude(e)/n>=10}get _measurementArrowStripeLength(){const{result:e,unit:t}=this.analysisView;if(null==e)return null;let i=null;const s=e.directDistance;switch(t){case\"metric\":i=s&&p(s,\"meters\");break;case\"imperial\":i=s&&p(s,S(s.value,s.unit));break;default:i=s&&p(s,t)}if(null==i)return null;return l(i.value/30)*f(1,i.unit,\"meters\")}_updateMessageBundle(){this.loadingMessages=!0,B(\"esri/core/t9n/Units\").then((e=>{this.messages=e})).finally((()=>{this.loadingMessages=!1}))}get testData(){}};function N(e,t,i,s,n){const o=J,r=K;n.projectToRenderScreen(i,o),n.projectToRenderScreen(t,r);const l={segment:\"bottom\",horizontal:\"top\",vertical:o[0]<r[0]?\"left\":\"right\"};{const s=X,o=Y;if(O(e,i,n,s),O(e,t,n,o),E(s,o)>=I){const e=Math.sign(s[1])===Math.sign(o[1]);l.segment=e?x(l.vertical):l.vertical}else{const e=Z;O(i,t,n,e),E(e,o)>=I&&(l.segment=Math.sign(e[0])===Math.sign(o[0])?x(l.horizontal):l.horizontal)}}if(s===C.BelowSegment){const e=e=>\"top\"===e?\"bottom\":\"top\";l.segment=e(l.segment),l.horizontal=e(l.horizontal),l.vertical=e(l.vertical)}return l}e([y()],W.prototype,\"_parameters\",null),e([y()],W.prototype,\"_triangleOrientationOverride\",void 0),e([y()],W.prototype,\"messages\",void 0),e([y()],W.prototype,\"view\",void 0),e([y()],W.prototype,\"analysis\",void 0),e([y()],W.prototype,\"analysisView\",void 0),e([y()],W.prototype,\"loadingMessages\",void 0),e([y()],W.prototype,\"visible\",null),e([y()],W.prototype,\"viewMode\",null),e([y()],W.prototype,\"actualVisualizedMeasurement\",null),e([y()],W.prototype,\"visualElementOrientation\",void 0),e([y()],W.prototype,\"triangleCollapseRatioThreshold\",void 0),e([y()],W.prototype,\"allowVisualElementsOrientationChange\",null),e([y()],W.prototype,\"labels\",null),e([y()],W.prototype,\"_labelsText\",null),e([y()],W.prototype,\"_actualVisualElementsOrientation\",null),e([y()],W.prototype,\"_measurementArrowStripeLength\",null),W=e([A(\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementVisualization\")],W);const I=Math.cos(a(12)),J=L(),K=L(),X=w(),Y=w(),Z=w();export{W as DirectLineMeasurementVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as l}from\"../../../properties/defaultUnit.js\";import{AnalysisView3D as n}from\"./AnalysisView3D.js\";import{MeasurementMode as o}from\"./interfaces.js\";import{DirectLineMeasurementController as r}from\"./DirectLineMeasurement/DirectLineMeasurementController.js\";import{DirectLineMeasurementVisualization as u}from\"./DirectLineMeasurement/DirectLineMeasurementVisualization.js\";let p=class extends(n(e)){constructor(t){super(t),this.type=\"direct-line-measurement-view-3d\",this.analysis=null,this.result=null,this.measurementMode=o.Auto,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}initialize(){const t=this.view,e=this.analysis;this._analysisVisualization=new u({view:t,analysis:e,analysisView:this}),this._analysisController=new r({view:t,analysis:e,viewData:this})}destroy(){this._analysisController=i(this._analysisController),this._analysisVisualization=i(this._analysisVisualization)}get updating(){return!!this._analysisVisualization?.loadingMessages}get viewMode(){return this._analysisVisualization.viewMode}get actualVisualizedMeasurement(){return this._analysisVisualization.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisVisualization.visualElementOrientation}set visualElementOrientation(t){this._analysisVisualization.visualElementOrientation=t}get allowVisualElementsOrientationChange(){return this._analysisVisualization.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(t){this._analysisVisualization.allowVisualElementsOrientationChange=t}get triangleCollapseRatioThreshold(){return this._analysisVisualization.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(t){this._analysisVisualization.triangleCollapseRatioThreshold=t}get directLabelText(){return this._analysisVisualization.labels.direct?.text??\"\"}get horizontalLabelText(){return this._analysisVisualization.labels.horizontal?.text??\"\"}get verticalLabelText(){return this._analysisVisualization.labels.vertical?.text??\"\"}get unit(){return this.analysis.unit??this._defaultUnit}get testData(){}};t([a()],p.prototype,\"updating\",null),t([a({readOnly:!0})],p.prototype,\"type\",void 0),t([a({constructOnly:!0,nonNullable:!0})],p.prototype,\"analysis\",void 0),t([a()],p.prototype,\"result\",void 0),t([a()],p.prototype,\"measurementMode\",void 0),t([a()],p.prototype,\"elevationAlignedStartPoint\",void 0),t([a()],p.prototype,\"elevationAlignedEndPoint\",void 0),t([a({readOnly:!0})],p.prototype,\"viewMode\",null),t([a({readOnly:!0})],p.prototype,\"actualVisualizedMeasurement\",null),t([a()],p.prototype,\"visualElementOrientation\",null),t([a()],p.prototype,\"allowVisualElementsOrientationChange\",null),t([a()],p.prototype,\"triangleCollapseRatioThreshold\",null),t([a({readOnly:!0})],p.prototype,\"directLabelText\",null),t([a({readOnly:!0})],p.prototype,\"horizontalLabelText\",null),t([a({readOnly:!0})],p.prototype,\"verticalLabelText\",null),t([a()],p.prototype,\"_analysisVisualization\",void 0),t([a()],p.prototype,\"_analysisController\",void 0),t([a()],p.prototype,\"unit\",null),t([a(l)],p.prototype,\"_defaultUnit\",void 0),p=t([s(\"esri.views.3d.analysis.DirectLineMeasurementAnalysisView3D\")],p);const y=p;export{y as default};\n"],"names":["d","a","n","vertex","l","fragment","c","e","uniforms","add","o","width","attributes","i","POSITION","NORMAL","UV0","LENGTH","varyings","main","r","_templateObject","_taggedTemplateLiteral","outlineSize","t","outlineColor","stripeLength","stripeEvenColor","stripeOddColor","v","Math","sqrt","code","_templateObject2","float","_templateObject3","s","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","h","constructor","super","initialize","this","addHandles","viewData","startPoint","analysis","_ref","elevationAlignedStartPoint","_applyProjectionAndElevationAlignment","endPoint","_ref2","elevationAlignedEndPoint","result","_computedResult","_ref3","spatialReference","elevationProvider","view","p","m","getLogger","measurementMode","unit","u","Auto","horizontal","Geodesic","Euclidean","direct","vertical","f","g","j","mode","directDistance","horizontalDistance","verticalDistance","prototype","primitiveType","TRIANGLE_STRIP","initializePipeline","blending","transparent","oitPass","polygonOffset","polygonOffsetEnabled","factor","units","depthTest","func","LESS","depthWrite","colorWrite","Map","arguments","b","T","_configuration","O","vertexAttributeLocations","produces","OPAQUE_MATERIAL","_transparent","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","getConfiguration","parameters","visible","A","intersect","createGLMaterial","createBufferWriter","E","beginSlot","getTechnique","vec3f","vec2f","f32","C","_","L","M","w","vertexBufferLayout","elementCount","get","indices","length","write","data","console","warn","position","normal","I","uv0","x","setVec","set","N","y","_arrowWidth","_arrowSubdivisions","_origin","_originTransform","_arrowCenter","_renderOccluded","OccludeAndTransparent","_geometry","_stripeLength","_stripesEnabled","_color","_contrastColor","applyProperties","renderOccluded","_this$_arrowMaterial","_arrowMaterial","setParameters","geometry","_geometryChanged","attached","stripesEnabled","color","_updateArrowColor","contrastColor","createExternalResources","isDecoration","_handles","state","camera","_viewChanged","destroyExternalResources","forEachExternalMaterial","createGeometries","_this$_geometry","startRenderSpace","endRenderSpace","_createArrowGeometry","transformation","addGeometry","renderCoordsHelper","push","type","eval","worldUpAtPosition","heading","tilt","direction","recreateGeometry","ready","computeScreenPixelSizeAt","W","_parameters","effectiveTheme","accentColor","textColor","Low","translucentAccentColor","triangleLineWidth","geodesicProjectionLineWidth","guideLineWidth","guideStippleLengthPixels","directLabelFontSize","horizontalLabelFontSize","verticalLabelFontSize","textBackgroundColor","textCalloutColor","analysisView","viewMode","equals","None","Direct","actualVisualizedMeasurement","_requiresGeodesicGuideAt","_startPosition","_endPosition","ProjectedGeodesic","min","triangleCollapseRatioThreshold","Triangle","Q","allowVisualElementsOrientationChange","_triangleOrientationOverride","_actualVisualElementsOrientation","labels","_segmentLabel","_verticalLabel","_horizontalLabel","_segmentVisualElement","_triangleVisualElement","_rightAngleQuad","_projectedGeodesicLine","_geodesicStartHint","_geodesicEndHint","z","_cornerPosition","_startPositionAtSeaLevel","_endPositionAtSeaLevel","messages","loadingMessages","visualElementOrientation","H","_objectSpread","R","G","stipplePattern","F","D","fontSize","orientation","visualizedMeasurement","_measurementArrowStripeLength","_updateGeometryAndViewMode","_updateVisualElementVisibility","text","_labelsText","_updateLabelText","_updateLabelVisibility","_updateSegmentStripeLength","q","async","_updateMessageBundle","backgroundColor","calloutColor","destroy","toRenderCoords","AboveSegment","getAltitude","k","U","_updateSegment","_updateSegmentAndTriangle","segment","startPosition","endPosition","deltaSign","altitudeDelta","_updateSegmentAndProjection","anchor","sampleLocation","_ref4","V","abs","P","previous","center","next","J","K","projectToRenderScreen","X","Y","sign","Z","BelowSegment","_ref5","setAltitude","setGeometryFromSegment","_ref6","notifyChange","_ref7","destroyed","aboveGround","S","B","then","finally","testData","cos","_analysisVisualization","_analysisController","updating","_this$_analysisVisual","directLabelText","_this$_analysisVisual2","_this$_analysisVisual3","horizontalLabelText","_this$_analysisVisual4","_this$_analysisVisual5","verticalLabelText","_this$_analysisVisual6","_this$_analysisVisual7","_this$analysis$unit","_defaultUnit","readOnly","constructOnly","nonNullable"],"sourceRoot":""}