"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[37040,53519],{420:(e,t,n)=>{n.d(t,{x:()=>u});var o=n(78393),r=n(38496),l=n(93345);function u(e,t){switch(t){case l.WR.TRIANGLES:return"number"==typeof(n=e)?(0,r.tM)(n):(0,o.mg)(n)?new Uint16Array(n):n;case l.WR.TRIANGLE_STRIP:return function(e){const t="number"==typeof e?e:e.length;if(t<3)return[];const n=t-2,o=(0,r.my)(3*n);if("number"==typeof e){let e=0;for(let t=0;t<n;t+=1)t%2==0?(o[e++]=t,o[e++]=t+1,o[e++]=t+2):(o[e++]=t+1,o[e++]=t,o[e++]=t+2)}else{let t=0;for(let r=0;r<n;r+=1)r%2==0?(o[t++]=e[r],o[t++]=e[r+1],o[t++]=e[r+2]):(o[t++]=e[r+1],o[t++]=e[r],o[t++]=e[r+2])}return o}(e);case l.WR.TRIANGLE_FAN:return function(e){const t="number"==typeof e?e:e.length;if(t<3)return new Uint16Array(0);const n=t-2,o=n<=65536?new Uint16Array(3*n):new Uint32Array(3*n);if("number"==typeof e){let e=0;for(let t=0;t<n;++t)o[e++]=0,o[e++]=t+1,o[e++]=t+2;return o}const r=e[0];let l=e[1],u=0;for(let i=0;i<n;++i){const t=e[i+2];o[u++]=r,o[u++]=l,o[u++]=t,l=t}return o}(e)}var n}},37040:(e,t,n)=>{n.d(t,{KB:()=>i,Xi:()=>l,pn:()=>a,x3:()=>u});var o=n(81806),r=n(83490);class l{constructor(e){this.data=e,this.type="encoded-mesh-texture",this.encoding=r.JS.KTX2_ENCODING}}function u(e){return"encoded-mesh-texture"===(null===e||void 0===e?void 0:e.type)}async function i(e){const t=new Blob([e]),n=await t.text();return JSON.parse(n)}async function a(e,t){if(t===r.JS.KTX2_ENCODING)return new l(e);const n=new Blob([e],{type:t});let u=URL.createObjectURL(n);switch(t){case"image/jpeg":u+="#.jpg";break;case"image/png":u+="#.png"}const i=new Image;if((0,o.A)("esri-iPhone"))return new Promise(((e,t)=>{const n=()=>{r(),e(i)},o=e=>{r(),t(e)},r=()=>{URL.revokeObjectURL(u),i.removeEventListener("load",n),i.removeEventListener("error",o)};i.addEventListener("load",n),i.addEventListener("error",o),i.src=u}));try{i.src=u,await i.decode()}catch(a){console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(u),i}},52007:(e,t,n)=>{n.d(t,{a:()=>l,f:()=>u,n:()=>r});var o=n(78393);function r(e,t){l(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;const l=t.length/2;let u=0,i=0;if(!(0,o.iu)(t)||(0,o.dk)(t)){for(let o=0;o<l;++o)e[u]=t[i],e[u+1]=t[i+1],u+=n,i+=r;return}const a=(0,o.a3)(t);if((0,o.JI)(t))for(let o=0;o<l;++o)e[u]=Math.max(t[i]/a,-1),e[u+1]=Math.max(t[i+1]/a,-1),u+=n,i+=r;else for(let o=0;o<l;++o)e[u]=t[i]/a,e[u+1]=t[i+1]/a,u+=n,i+=r}function u(e,t,n,o){var r,l;const u=e.typedBuffer,i=e.typedBufferStride,a=null!==(r=null===o||void 0===o?void 0:o.count)&&void 0!==r?r:e.count;let c=(null!==(l=null===o||void 0===o?void 0:o.dstIndex)&&void 0!==l?l:0)*i;for(let s=0;s<a;++s)u[c]=t,u[c+1]=n,c+=i}Object.freeze(Object.defineProperty({__proto__:null,fill:u,normalizeIntegerBuffer:l,normalizeIntegerBufferView:r},Symbol.toStringTag,{value:"Module"}))},53519:(e,t,n)=>{n.r(t),n.d(t,{loadGLTFMesh:()=>U});var o=n(89379),r=n(69539),l=n(99746),u=n(3825),i=n(50076),a=n(87663),c=n(15941),s=n(63919),f=n(44680),d=n(9392),p=n(55855),m=n(79629),v=n(44032),y=n(75257),g=n(63713),x=n(56623),T=n(99773),h=n(88105),w=n(45136),b=n(33328),B=n(6381);Object.freeze(Object.defineProperty({__proto__:null,copy:function(e,t,n){var o,r;const l=e.typedBuffer,u=e.typedBufferStride,i=t.typedBuffer,a=t.typedBufferStride,c=n?n.count:t.count;let s=(null!==(o=null===n||void 0===n?void 0:n.dstIndex)&&void 0!==o?o:0)*u,f=(null!==(r=null===n||void 0===n?void 0:n.srcIndex)&&void 0!==r?r:0)*a;for(let d=0;d<c;++d){for(let e=0;e<9;++e)l[s+e]=i[f+e];s+=u,f+=a}}},Symbol.toStringTag,{value:"Module"}));Object.freeze(Object.defineProperty({__proto__:null,copy:function(e,t,n){var o,r;const l=e.typedBuffer,u=e.typedBufferStride,i=t.typedBuffer,a=t.typedBufferStride,c=n?n.count:t.count;let s=(null!==(o=null===n||void 0===n?void 0:n.dstIndex)&&void 0!==o?o:0)*u,f=(null!==(r=null===n||void 0===n?void 0:n.srcIndex)&&void 0!==r?r:0)*a;for(let d=0;d<c;++d){for(let e=0;e<16;++e)l[s+e]=i[f+e];s+=u,f+=a}}},Symbol.toStringTag,{value:"Module"}));n(39539);var S=n(52007),R=n(64591);function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;const o=t.typedBuffer,r=t.typedBufferStride,l=t.count;let u=0,i=0;for(let a=0;a<l;++a)e[u]=o[i],e[u+1]=o[i+1],e[u+2]=o[i+2],e[u+3]=o[i+3],u+=n,i+=r}function A(e,t,n,o,r,l){var u,i;const a=e.typedBuffer,c=e.typedBufferStride,s=null!==(u=null===l||void 0===l?void 0:l.count)&&void 0!==u?u:e.count;let f=(null!==(i=null===l||void 0===l?void 0:l.dstIndex)&&void 0!==i?i:0)*c;for(let d=0;d<s;++d)a[f]=t,a[f+1]=n,a[f+2]=o,a[f+3]=r,f+=c}Object.freeze(Object.defineProperty({__proto__:null,copy:E,copyView:function(e,t){E(e.typedBuffer,t,e.typedBufferStride)},fill:A},Symbol.toStringTag,{value:"Module"}));function _(e,t){return new e(new ArrayBuffer(t*e.ElementCount*(0,B.GJ)(e.ElementType)))}var I=n(53848),C=n(11109),L=n(56516),M=n(420),O=n(37040),j=n(93345);async function U(e,t,n){const l=new C.R(function(e){const t=null===e||void 0===e?void 0:e.resolveFile;return t?{busy:!1,request:async(e,n,o)=>{var r;const l=null!==(r=null===t||void 0===t?void 0:t(e))&&void 0!==r?r:e,i="image"===n?"image":"binary"===n||"image+type"===n?"array-buffer":"json";return(await(0,u.default)(l,{responseType:i,signal:null===o||void 0===o?void 0:o.signal,timeout:0})).data}}:null}(n)),s=(await(0,L.loadGLTF)(l,t,n,!0)).model,f=s.lods.shift(),m=new Map,w=new Map;s.textures.forEach(((e,t)=>m.set(t,function(e){return new y.default({data:((0,O.x3)(e.data),e.data),wrap:z(e.parameters.wrap)})}(e)))),s.materials.forEach(((e,t)=>w.set(t,function(e,t){const n=new r.default(function(e,t){return(0,p.fA)(D(e[0]),D(e[1]),D(e[2]),t)}(e.color,e.opacity)),o=e.emissiveFactor?new r.default(function(e){return(0,d.fA)(D(e[0]),D(e[1]),D(e[2]))}(e.emissiveFactor)):null,l=e=>{var t;return e?new g.default({scale:e.scale?[e.scale[0],e.scale[1]]:[1,1],rotation:(0,c.KJ)(null!==(t=e.rotation)&&void 0!==t?t:0),offset:e.offset?[e.offset[0],e.offset[1]]:[0,0]}):null};return new v.default({color:n,colorTexture:t.get(e.colorTexture),normalTexture:t.get(e.normalTexture),emissiveColor:o,emissiveTexture:t.get(e.emissiveTexture),occlusionTexture:t.get(e.occlusionTexture),alphaMode:N(e.alphaMode),alphaCutoff:e.alphaCutoff,doubleSided:e.doubleSided,metallic:e.metallicFactor,roughness:e.roughnessFactor,metallicRoughnessTexture:t.get(e.metallicRoughnessTexture),colorTextureTransform:l(e.colorTextureTransform),normalTextureTransform:l(e.normalTextureTransform),occlusionTextureTransform:l(e.occlusionTextureTransform),emissiveTextureTransform:l(e.emissiveTextureTransform),metallicRoughnessTextureTransform:l(e.metallicRoughnessTextureTransform)})}(e,m))));const b=function(e){let t=0;const n={color:!1,tangent:!1,normal:!1,texCoord0:!1},o=new Map,r=new Map,l=[];for(const u of e.parts){const{position:e,normal:i,color:c,tangent:s,texCoord0:f}=u.attributes,d="\n      ".concat(F(e,o),"/\n      ").concat(F(i,o),"/\n      ").concat(F(c,o),"/\n      ").concat(F(s,o),"/\n      ").concat(F(f,o),"/\n      ").concat(P(u.transform),"\n    ");let p=!1;const m=(0,a.tE)(r,d,(()=>(p=!0,{start:t,length:e.count})));p&&(t+=e.count),i&&(n.normal=!0),c&&(n.color=!0),s&&(n.tangent=!0),f&&(n.texCoord0=!0),l.push({gltf:u,writeVertices:p,region:m})}return{vertexAttributes:{position:_(h.Xm,t),normal:n.normal?_(h.xs,t):null,tangent:n.tangent?_(h.Eq,t):null,color:n.color?_(h.XP,t):null,texCoord0:n.texCoord0?_(h.gH,t):null},parts:l,components:[]}}(f);for(const o of b.parts)G(b,o,w);const{position:B,normal:S,tangent:R,color:E,texCoord0:A}=b.vertexAttributes,M=(0,T.TE)(e,n),j=e.spatialReference.isGeographic?(0,T.TE)(e):M,U=(0,I.UR)({vertexAttributes:{position:B.typedBuffer,normal:null===S||void 0===S?void 0:S.typedBuffer,tangent:null===R||void 0===R?void 0:R.typedBuffer},vertexSpace:j,spatialReference:e.spatialReference},M,{allowBufferReuse:!0,sourceUnit:null!==n&&void 0!==n&&n.unitConversionDisabled?void 0:"meters"});if(!U)throw new i.default("load-gltf-mesh:vertex-space-projection","Failed to load mesh from glTF because we could not convert the vertex space from ".concat(j.type," to ").concat(M.type));return{transform:null,vertexSpace:M,components:b.components,spatialReference:e.spatialReference,vertexAttributes:new x.H((0,o.A)((0,o.A)({},U),{},{color:null===E||void 0===E?void 0:E.typedBuffer,uv:null===A||void 0===A?void 0:A.typedBuffer}))}}function F(e,t){if(null==e)return"-";const n=e.typedBuffer;return"".concat((0,a.tE)(t,n.buffer,(()=>t.size)),"/").concat(n.byteOffset,"/").concat(n.byteLength)}function P(e){return null!=e?e.toString():"-"}function G(e,t,n){t.writeVertices&&function(e,t){const{position:n,normal:o,tangent:r,color:l,texCoord0:u}=e.vertexAttributes,i=t.region.start,{attributes:a,transform:d}=t.gltf,p=a.position.count;if((0,w.d)(n.slice(i,p),a.position,d),null!=a.normal&&null!=o){const e=(0,s.Ge)((0,f.vt)(),d),t=o.slice(i,p);(0,w.c)(t,a.normal,e),(0,c.or)(e)&&(0,w.e)(t,t)}else null!=o&&(0,R.f)(o,0,0,1,{dstIndex:i,count:p});if(null!=a.tangent&&null!=r){const e=(0,s.z0)((0,f.vt)(),d),t=r.slice(i,p);(0,b.a)(t,a.tangent,e),(0,c.or)(e)&&(0,b.n)(t,t)}else null!=r&&A(r,0,0,1,1,{dstIndex:i,count:p});if(null!=a.texCoord0&&null!=u?(0,S.n)(u.slice(i,p),a.texCoord0):null!=u&&(0,S.f)(u,0,0,{dstIndex:i,count:p}),null!=a.color&&null!=l){const e=a.color,t=l.slice(i,p);if(4===e.elementCount)e instanceof h.Eq?(0,b.l)(t,e,1,255):(e instanceof h.XP||e instanceof h.Uz)&&(0,b.l)(t,e,1/255,255);else{A(t,255,255,255,255);const n=h.eI.fromTypedArray(t.typedBuffer,t.typedBufferStride);e instanceof h.xs?(0,w.l)(n,e,1,255):(e instanceof h.eI||e instanceof h.nS)&&(0,w.l)(n,e,1/255,255)}}else null!=l&&A(l.slice(i,p),255,255,255,255)}(e,t);const{indices:o,attributes:r,primitiveType:l,material:u}=t.gltf;let i=(0,M.x)(o||r.position.count,l);const a=t.region.start;if(a){const e=new Uint32Array(i);for(let t=0;t<i.length;t++)e[t]+=a;i=e}e.components.push(new m.default({name:t.gltf.name,faces:i,material:n.get(u),shading:r.normal?"source":"flat",trustSourceNormals:!0}))}function N(e){switch(e){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function z(e){return{horizontal:k(e.s),vertical:k(e.t)}}function k(e){switch(e){case j.pF.CLAMP_TO_EDGE:return"clamp";case j.pF.MIRRORED_REPEAT:return"mirror";case j.pF.REPEAT:return"repeat"}}function D(e){return e**(1/l.Tf)*255}}}]);
//# sourceMappingURL=53519.e08450eb.chunk.js.map