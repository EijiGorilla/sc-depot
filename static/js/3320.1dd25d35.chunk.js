"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[3320],{3320:(e,t,n)=>{n.d(t,{Au:()=>N,CU:()=>q,Et:()=>O,Gq:()=>S,H1:()=>R,HG:()=>w,Iy:()=>F,Kl:()=>X,Kn:()=>Q,LZ:()=>I,TN:()=>A,U3:()=>J,Ve:()=>P,XI:()=>_,bx:()=>x,cU:()=>V,k_:()=>b,lB:()=>z,l_:()=>H,n4:()=>K,nT:()=>T,oc:()=>U,qG:()=>k,rf:()=>g,s9:()=>j,t6:()=>D,tM:()=>G,vp:()=>Z,wr:()=>E});var l=n(89379),i=(n(11265),n(18690)),o=n(4212),r=n(53084),u=n(76460),a=n(88685),s=n(71764),d=n(15142),m=n(53430),c=n(31933),f=n(42633),p=n(20639),v=n(23301),y=n(26547),h=n(39348);const g=e=>"field"===(null===e||void 0===e?void 0:e.type),O=e=>"group"===(null===e||void 0===e?void 0:e.type),T=e=>"relationship"===(null===e||void 0===e?void 0:e.type),b=e=>"text"===e.type,N=e=>"utilityNetworkAssociations"===e.type,x=e=>!O(e)&&null!=e.group,E=e=>e.reduce(((e,t)=>O(t)?[...e,...t.inputs]:[...e,t]),[]),F=e=>E(e).filter(g),V=e=>E(e).filter(T),A=e=>E(e).filter(N),_=e=>null!=e&&(w(e,"combo-box")||w(e,"radio-buttons")),w=(e,t)=>{var n;return null!=e&&(null===(n=e.input)||void 0===n?void 0:n.type)===t},S=e=>{let{domain:t,inputType:n="text-box",dataType:l}=e;return"number"===l&&"text-box"===n&&(!t||"coded-value"!==t.type)};function Z(e,t){const{title:n,feature:l}=null!==e&&void 0!==e?e:{};return n||(l?(0,y.R)(l):null)||t||""}function I(e){const{attributes:t,fieldsIndex:n,label:l,timeZone:o}=e;if(!t||"object"!=typeof t)return l;const r=Object.keys(t).filter((e=>(0,a.mk)(l,e))),u=r.map((e=>t[e])),s=r.map((e=>n.get(e))).filter(i.Ru);return function(e,t){return(0,a.HC)((0,a.HC)(e,(e=>"{".concat(e.toLowerCase(),"}"))),Object.fromEntries(Object.entries(t).map((e=>{let[t,n]=e;return[t.toLowerCase(),n]}))))}(l,P({values:u,fields:s,timeZone:o}))}const C="expression/",L="expr/",M="field/";function U(e){const[t,n]=e.split(C);return""===t&&n?n:(u.A.getLogger("esri.widgets.FeatureForm/featureFormUtils").error("extractExpressionNameFromString:invalid-input","The string ".concat(e," is not a valid expression reference of the form '").concat(C,"/expressionName'")),"")}function D(e){return"".concat(C).concat(e)}function R(e){return"".concat(M).concat(e)}function j(e){return e.startsWith(C)}function k(e){return e.startsWith(L)}function P(e){var t;const{fields:n,values:i}=e,o=null!==(t=e.timeZone)&&void 0!==t?t:void 0,r=n.map(((e,t)=>{let n=i[t];if(e.domain&&"coded-value"===e.domain.type){const t=e.domain.codedValues.find((e=>e.code===n));(null===t||void 0===t?void 0:t.name)&&(n=t.name)}return((0,f.fs)(e)||(0,m.isTimeOnlyField)(e))&&(n=(0,p.ZP)(e,n,(0,l.A)({timeZone:o},(0,p.ZT)(e)))),[e.name,n]}));return Object.fromEntries(r)}const q=e=>{var t,n,l,i,o,r,u;const a={typeFieldName:null,types:[]};return e?((0,c.Sv)(e)?(a.typeFieldName=null===(t=e.parent)||void 0===t?void 0:t.subtypeField,a.types=null!==(n=null===(l=e.parent)||void 0===l?void 0:l.subtypes)&&void 0!==n?n:[]):"subtype-group"===e.type||"feature"===e.type&&null!==(i=e.subtypes)&&void 0!==i&&i.length?(a.typeFieldName=e.subtypeField,a.types=null!==(o=e.subtypes)&&void 0!==o?o:[]):"types"in e&&e.types&&(a.typeFieldName=e.typeIdField,a.types=e.types.map((e=>{let{id:t,name:n,domains:l}=e;return{code:t,name:n,domains:l}}))),null!=a.typeFieldName&&(a.typeFieldName=null!==(r=null===(u=e.getField(a.typeFieldName))||void 0===u?void 0:u.name)&&void 0!==r?r:a.typeFieldName),a):a},G=(e,t,n)=>{const{dataType:i,error:o,minLength:r}=e,u=null===t||void 0===t?void 0:t.validationErrors;if(!u||!o)return null;if(o===v.gK.CANNOT_BE_EMPTY)return u.cannotBeNull;if(o===d.Mh.VALUE_OUT_OF_RANGE||o===m.NumericRangeValidationError.OUT_OF_RANGE){const{field:t,range:o}=e,r={type:"date",intlOptions:(0,l.A)({timeZone:"date"===t.type&&n?n:void 0},(0,p.ZT)(t))},a=(0,v.hQ)(o,u);return(0,h.V)(a,o,{format:{max:"date"===i?r:null!=o.max&&(0,v.qn)(o.max)?v.Qv:v.PA,min:"date"===i?r:null!=o.min&&(0,v.qn)(o.min)?v.Qv:v.PA}})}return o===d.Mh.INVALID_CODED_VALUE?u.invalidCodedValue:o===m.TypeValidationError.INVALID_TYPE?u.invalidType:o===v.gK.TOO_SHORT?(0,h.V)(u.tooShort,{min:r}):(v.gK.TOO_LONG,null)},H=e=>{var t;if(!e)return;const n=e.layer,l=n&&"geometryType"in n?n.geometryType:void 0,i=null===(t=e.geometry)||void 0===t?void 0:t.type;return"polyline"===i||"polyline"===l?"line":"mesh"===i||"mesh"===l||"multipatch"===l?"cube":"multipoint"===i||"multipoint"===l?"point":i||l||"table"},K=e=>{const t=[];if(e.formTemplate){var n;const{description:l,title:i}=e.formTemplate;null===(n=e.fields)||void 0===n||n.forEach((e=>{const n=i&&(0,a.mk)(i,e.name),o=l&&(0,a.mk)(l,e.name);(n||o)&&t.push(e.name)}))}return t};function z(e,t){const n=null!==t&&void 0!==t?t:"formTemplate"in e&&e.formTemplate;var l,i;return!!n&&(null!==(l=null===(i=n.elements)||void 0===i?void 0:i.filter(s.jt))&&void 0!==l?l:[]).some((t=>{let{fieldName:n}=t;return!e.fieldsIndex.get(n)}))}function Q(e,t){return null==e||t.onValue!==e&&t.offValue!==e}function X(e,t){var n;switch(t.objectType){case"any":return!0;case"null":return null==e;case"code":return e===(null===(n=t.codedValue)||void 0===n?void 0:n.code);case"range":return null!=e&&null!=t.minValue&&null!=t.maxValue&&+e>=t.minValue&&+e<=t.maxValue;default:return(0,o.Xb)(t.objectType),!1}}function J(e,t,n){const l=(0,c.fV)(e),i=null===l||void 0===l?void 0:l.find((e=>e.code===n));if(!i)return!1;const o=null===l||void 0===l?void 0:l.find((e=>e.code===t));return!(0,r.equalsShallow)(i.defaultValues,null===o||void 0===o?void 0:o.defaultValues)&&Object.values(i.defaultValues).some((e=>null!=e))}},20639:(e,t,n)=>{n.d(t,{Ng:()=>E,OM:()=>g,Q0:()=>b,T8:()=>T,ZP:()=>x,ZT:()=>N,eX:()=>A,fD:()=>S,fb:()=>v,fl:()=>p,iP:()=>w,oh:()=>F,rX:()=>Z,sH:()=>y,yk:()=>I});var l=n(89379),i=(n(11265),n(81806),n(50076)),o=n(15941),r=n(65256),u=n(96017),a=n(85632),s=n(36693),d=n(24241),m=n(38042);const c=s.n$,f={date:null,time:null,timeZoneOffset:null},p=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]),v="latn",y=new Set(["date-only","time-only","timestamp-offset"]),h=e=>"valueAsDate"in e;function g(e){return{locale:(0,m.JK)(),numberingSystem:v,zone:null!==e&&void 0!==e?e:c}}function O(e,t){return null==e?null:d.c9.fromMillis(e,g(t))}function T(e,t){if(null==e||!(0,a.Kg)(e)||""===e){if(t){const e=d.c9.local({zone:t});return{date:null,time:null,timeZoneOffset:e.isValid?e.offset.toString():null}}return f}const n=d.c9.fromISO(e,{setZone:!0});return{date:n.toFormat(u.mo,g()),time:n.toFormat(u.Uq.HMS_MS,g()),timeZoneOffset:n.offset.toString()}}function b(e,t){if(null==e||!(0,a.Et)(e)||isNaN(e))return f;const n=O(e,t);return n?{date:n.toFormat(u.mo,g(t)),time:n.toFormat(u.Fj,g(t))}:f}function N(e){switch(e.type){case"date":default:return(0,r.J2)("short-date-short-time");case"date-only":return(0,r.J2)("short-date");case"time-only":return(0,r.J2)("short-time");case"timestamp-offset":return(0,l.A)((0,l.A)({},(0,r.J2)("short-date-short-time")),{},{timeZone:void 0,timeZoneName:"short"})}}function x(e,t,n){if(!e||null==t)return null;switch(e.type){case"date":return(0,r.Yq)(t,n);case"date-only":return(0,r.iS)(t,n);case"time-only":return(0,r.F8)(t,n);case"timestamp-offset":return(0,r.Ey)(t,n);default:return null}}function E(e){var t;const{dateComponent:n,defaultTimeZone:l,timeComponent:i,timeZoneComponent:o,oldValue:r}=e;if(null===n||void 0===n||!n.value)return null;const{year:a,month:m,day:c}=d.c9.fromFormat(n.value,u.mo),{hour:f,minute:p,second:v,millisecond:y}=null!==(t=V(i,s.n$))&&void 0!==t?t:d.c9.now(),h=T(r,l),g=null!==o&&void 0!==o&&o.value?parseInt(o.value,10):null!=h.timeZoneOffset?parseInt(h.timeZoneOffset,10):(new Date).getTimezoneOffset(),O=d.mQ.instance(g),b=d.c9.fromObject({year:a,month:m,day:c,hour:f,minute:p,second:v,millisecond:y},{zone:O});return b.isValid?b.toISO({includeOffset:!0}):null}function F(e){const{dateComponent:t,timeComponent:n,timeZone:l,max:i,min:o,oldValue:r}=e,u=V(t,l);let a=!!e.applyRange;if(!u)return null;let s=null;if(null!=(null===n||void 0===n?void 0:n.value)){const e=V(n,l),t=Date.now(),o=null!=i&&i<t?i:t,r=d.c9.fromMillis(o,g(l)),a=u||r,{year:m,month:c,day:f}=a,{hour:p,minute:v,second:y,millisecond:h}=e||r;s=a.set({year:m,month:c,day:f,hour:p,minute:v,second:y,millisecond:h})}else{const e=O(_({value:null!==r&&void 0!==r?r:Date.now(),max:i,min:o}),l),{year:t,month:n,day:d}=u,{hour:m,minute:c,second:f,millisecond:p}=e;a=!0,s=u.set({year:t,month:n,day:d,hour:m,minute:c,second:f,millisecond:p})}if(!s.isValid)return null;const m=s.toMillis();return a?_({value:m,max:i,min:o}):m}function V(e,t){var n;if(null==(null===e||void 0===e?void 0:e.value)||Array.isArray(e.value))return null;let l=null;return l=h(e)?d.c9.fromFormat(e.value,u.mo,g(t)):(0,u.UE)(e.value),null!==(n=l)&&void 0!==n&&n.isValid?l:null}function A(e){const{max:t,min:n,value:l}=e;return!isNaN(l)&&!(null!=t&&l>t)&&!(null!=n&&l<n)}function _(e){const{max:t,min:n,value:l}=e;return null!=t&&null!=n?(0,o.qE)(l,n,t):null!=t&&l>t?t:null!=n&&l<n?n:l}function w(e){if(!e)return"";const t=e.split(".").at(0);if(!t||t.length<1)throw new i.default("invalid time-only field","Cannot parse valid time-only field value from ".concat(e));const n=t.split(":"),l=new Array(3);for(let i=0;i<3;i++){var o;const e=null!==(o=n.at(i))&&void 0!==o?o:"";l[i]=e.padStart(2,"0")}return l.join(":")}function S(e,t){switch(t){case"date":return e.getTime();case"date-only":return e.toISODate();case"time-only":return w(e.toISOTime(!0,!1));case"timestamp-offset":return e.toISOString(!1);default:return null}}function Z(e){return!!e&&"object"==typeof e&&"getTime"in e&&"toISOString"in e&&"timeZone"in e}function I(e){var t,n;const{type:l,range:i,value:o}=e;if(null==o||!i||o===i.min||o===i.max)return!0;if("date"===l)return A({value:o,min:i.min,max:i.max});const{rawMax:r,rawMin:a}=i;let s=null,d=null,m=null;switch(l){case"date-only":s=(0,u.Xi)(r),d=(0,u.Xi)(a),m=(0,u.Xi)(o);break;case"time-only":s=(0,u.UE)(r),d=(0,u.UE)(a),m=(0,u.UE)(o);break;case"timestamp-offset":s=(0,u.gz)(r),d=(0,u.gz)(a),m=(0,u.gz)(o)}return!m||A({value:m.valueOf(),min:null===(t=d)||void 0===t?void 0:t.valueOf(),max:null===(n=s)||void 0===n?void 0:n.valueOf()})}},23301:(e,t,n)=>{n.d(t,{$$:()=>b,D_:()=>c,Gd:()=>m,Kx:()=>l,PA:()=>h,Po:()=>f,Qv:()=>g,gK:()=>i,hQ:()=>T,jl:()=>v,of:()=>d,qn:()=>O,zU:()=>p});var l,i,o,r=n(71764),u=n(15142),a=n(53430),s=n(20639);(o=l||(l={})).Text="text",o.Number="number",o.Date="date",o.Unsupported="unsupported",function(e){e.CANNOT_BE_EMPTY="input-validation-error::cannot-be-empty",e.TOO_SHORT="length-validation-error::too-short",e.TOO_LONG="length-validation-error::too-long"}(i||(i={}));const d=(e,t)=>{if(!e)return!0;const{operations:n}=e;switch(t){case"INSERT":return n.supportsAdd;case"UPDATE":case"DELETE":return n.supportsUpdate;default:return!0}};function m(e,t){var n;const{dataType:l,domain:o,field:r,maxLength:d,minLength:m,range:c,required:f}=t;if(null==e)return f?i.CANNOT_BE_EMPTY:null;if("text"===l&&"string"==typeof e){if(m>-1&&e.length<m)return i.TOO_SHORT;if(d>-1&&e.length>d)return i.TOO_LONG}return"date"!==l||(0,s.yk)({type:r.type,range:c,value:e})?o?(0,u.wb)(r,e,o):null!==(n=(0,a.validateFieldValue)(r,e))&&void 0!==n?n:(0,u.wb)(r,e):a.NumericRangeValidationError.OUT_OF_RANGE}function c(e,t){return!(!f(e)||!f(t))||e===t}function f(e){return null==e||""===e}function p(e){let{dataType:t,field:n,input:i}=e;if(t===l.Date)return-1;const o=y(n.length);if(!i||!(0,r.AI)(i))return o;const u=y(i.maxLength);return-1===u?o:-1===o?u:Math.min(o,u)}function v(e){let{dataType:t,field:n,input:i}=e;if(t===l.Date)return-1;if(!i||!(0,r.AI)(i))return-1;const o=y(i.minLength);if(o<0)return-1;const u=y(n.length);return u>-1&&u<o?-1:o}function y(e){return"number"==typeof e&&e>-1?e:-1}const h={type:"number"},g={type:"number",intlOptions:{notation:"scientific"}};function O(e){return e>=1e7||e<=-1e7}function T(e,t){return null!=e.max&&null!=e.min?t.outsideRange:null!=e.max?t.outsideRangeMax:t.outsideRangeMin}const b=e=>e&&!Number.isNaN(e.valueOf())},26547:(e,t,n)=>{function l(e){var t;const{attributes:n,sourceLayer:l}=null!==e&&void 0!==e?e:{},i=l&&"displayField"in l?l.displayField:null,o=i?null===n||void 0===n?void 0:n[i]:null,r=null!=o?JSON.stringify(o):null,u=null===e||void 0===e||null===(t=e.getObjectId())||void 0===t?void 0:t.toString();return r||u||""}n.d(t,{R:()=>l})}}]);
//# sourceMappingURL=3320.1dd25d35.chunk.js.map