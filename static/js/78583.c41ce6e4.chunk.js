"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[964,9912,78583,87531,88084],{9912:(e,t,n)=>{n.r(t),n.d(t,{applyTextFormattingHTML:()=>K,createFieldInfoMap:()=>Y,findRelatedLayer:()=>se,findUtilityNetwork:()=>de,fixTokens:()=>O,formatAttributes:()=>X,formatEditInfo:()=>Q,formatValueToFieldInfo:()=>H,getAllFieldInfos:()=>$,getFieldInfo:()=>B,getFieldInfoLabel:()=>M,getFixedFieldName:()=>x,getFixedFieldNames:()=>N,getHighlightKeyForFeature:()=>fe,getSourceLayer:()=>T,graphicCallback:()=>q,htmlEntities:()=>J,isAssociatedFeatureSupportedLayer:()=>G,isExpressionField:()=>Z,isFeatureSupportedLayer:()=>z,isGraphicForRelatableFeatureSupportedLayer:()=>P,isRelatableFeatureSupportedLayer:()=>D,isRelatableLayer:()=>S,isRelatedField:()=>ne,preLayerQueryCallback:()=>oe,preRequestCallback:()=>le,querySourceLayer:()=>ee,queryUpdatedFeature:()=>te,shouldOpenInNewTab:()=>L,substituteAttributes:()=>k,substituteFieldsInLinksAndAttributes:()=>R});var i=n(89379),r=n(81806),a=n(76460),o=n(88685),l=n(65256),s=n(50265),d=n(53430),u=n(31933),c=n(42633),f=n(98976),p=n(67478);const y=()=>a.A.getLogger("esri.widgets.Feature.support.featureUtils"),h=/href=(""|'')/gi,m=/(\{([^{\r\n]+)\})/g,v=/'/g,g=/^\s*expression\//i,b=/(\n)/gi,I=/[\u00A0-\u9999<>&]/gim,A=/href\s*=\s*(?:"([^"]+)"|'([^']+)')/gi,w=/^(?:mailto:|tel:)/,F="relationships/",_=(0,l.J2)("short-date-short-time");function T(e){var t;if(null!=e)return null!==(t=e.sourceLayer||e.layer)&&void 0!==t?t:void 0}async function q(e){let{type:t,value:n,event:i}=e;try{return"function"==typeof n?n(i):await n}catch(r){return void y().error("error",'An error occurred when calling the "'.concat(t,'" function'),{error:r,graphic:i.graphic,value:n})}}function L(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e)return!w.test(e.trim().toLowerCase())}function Z(e){return!!e&&g.test(e)}function M(e,t){const n=function(e,t){if(!t||!Z(t)||!e)return;const n=t.replace(g,"").toLowerCase();return e.find((e=>{let{name:t}=e;return t.toLowerCase()===n}))}(t,null===e||void 0===e?void 0:e.fieldName);return n?n.title||null:e?e.label||e.fieldName:null}function x(e,t){const n=j(t,e);return n?n.name:e}function N(e,t){return e&&e.map((e=>x(e,t)))}function j(e,t){var n;return e&&"function"==typeof e.getField&&t&&null!==(n=e.getField(t))&&void 0!==n?n:null}function C(e){return"".concat(e).trim()}function R(e){let{attributes:t,globalAttributes:n,layer:r,text:a,expressionAttributes:o,fieldInfoMap:l}=e;return a?k({formattedAttributes:n,template:U(a,(0,i.A)((0,i.A)((0,i.A)({},n),o),t),r),fieldInfoMap:l}):""}function k(e){let{formattedAttributes:t,template:n,fieldInfoMap:i}=e;return C(function(e){return e.replaceAll(h,"")}((0,o.HC)((0,o.HC)(n,(e=>function(e,t){const n=t.get(e.toLowerCase());return"{".concat((null===n||void 0===n?void 0:n.fieldName)||e,"}")}(e,i))),t)))}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.A)({},e);return Object.keys(n).forEach((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=t[e];if("string"==typeof i){const r="%27",a=(n?encodeURIComponent(i):i).replaceAll(v,r);t[e]=a}}(e,n,t))),n}function O(e,t){return e.replaceAll(m,((e,n,i)=>{const r=j(t,i);return r?"{".concat(r.name,"}"):n}))}function U(e,t,n){const i=O(e,n);return i?i.replaceAll(A,((e,n,i)=>function(e,t,n){const i=(t=C(t))&&"{"!==t[0];return(0,o.HC)(e,E(n,i||!1))}(e,n||i,t))):i}function z(e){return null!=e&&"object"==typeof e&&"fieldsIndex"in e&&"geometryType"in e&&"getField"in e&&"load"in e&&"loaded"in e&&"objectIdField"in e&&"spatialReference"in e&&"type"in e&&("feature"===e.type||"scene"===e.type||"subtype-group"===e.type||"subtype-sublayer"===e.type||"sublayer"===e.type)&&"when"in e}function S(e){return null!=e&&"object"==typeof e&&"createQuery"in e&&"queryFeatureCount"in e&&"queryObjectIds"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e&&"relationships"in e}function D(e){return z(e)&&S(e)}function G(e){return!(!(e&&"object"==typeof e&&"createQuery"in e&&"getField"in e&&"queryFeatureCount"in e&&"queryFeatures"in e&&"queryObjectIds"in e&&"capabilities"in e&&"fields"in e&&"fieldsIndex"in e&&"type"in e)||"feature"!==e.type&&"subtype-group"!==e.type&&"subtype-sublayer"!==e.type&&"sublayer"!==e.type||!("when"in e))&&("subtype-sublayer"===e.type&&"parent"in e&&e.parent&&"object"==typeof e.parent?"globalIdField"in e.parent:"globalIdField"in e)}function P(e){return!!e&&"object"==typeof e&&"sourceLayer"in e&&D(e.sourceLayer)}function H(e,t){const{fieldInfos:n,fieldName:r,preventPlacesFormatting:a,layer:o,timeZone:l}=t,u=B(n,r),f=j(o,r);if(u&&!(0,d.isRasterPixelValueField)(r)){var p;const t=null===f||void 0===f?void 0:f.type,n=null===(p=u.format)||void 0===p?void 0:p.dateFormat;if("date"===t||"date-only"===t||"time-only"===t||"timestamp-offset"===t||n)return(0,c.i0)(e,{format:n,fieldType:t,timeZoneOptions:{layerTimeZone:o&&"preferredTimeZone"in o?o.preferredTimeZone:null,viewTimeZone:l,datesInUnknownTimezone:!(!o||!("datesInUnknownTimezone"in o))&&!!o.datesInUnknownTimezone}})}const y=null===u||void 0===u?void 0:u.format;return"string"==typeof e&&(0,d.isRasterPixelValueField)(r)&&y?function(e,t){return e=e.trim(),/\d{2}-\d{2}/.test(e)?e:e.includes(",")?V(e,",",", ",t):e.includes(";")?V(e,";","; ",t):e.includes(" ")?V(e," "," ",t):(0,s.ZV)(Number(e),(0,s.yx)(t))}(e,y):"string"==typeof(e=function(e,t){if("string"==typeof e&&t&&null==t.dateFormat&&(null!=t.places||null!=t.digitSeparator)){const t=Number(e);if(!isNaN(t))return t}return e}(e,y))||null==e||null==y?K(e):(0,s.ZV)(e,a?(0,i.A)((0,i.A)({},(0,s.yx)(y)),{},{minimumFractionDigits:0,maximumFractionDigits:20}):(0,s.yx)(y))}function V(e,t,n,i){return e.trim().split(t).map((e=>(0,s.ZV)(Number(e),(0,s.yx)(i)))).join(n)}function B(e,t){if(null!==e&&void 0!==e&&e.length&&t)return e.find((e=>{var n;return(null===(n=e.fieldName)||void 0===n?void 0:n.toLowerCase())===t.toLowerCase()}))}function Q(e,t,n,r){const{creatorField:a,creationDateField:o,editorField:s,editDateField:d}=e;if(!t)return;const u=(0,p.hv)(r&&"preferredTimeZone"in r?r.preferredTimeZone:null,!(!r||!("datesInUnknownTimezone"in r))&&!!r.datesInUnknownTimezone,n,_,"date"),c=(0,i.A)((0,i.A)({},_),u),f=t[d];if("number"==typeof f){const e=t[s];return{type:"edit",date:(0,l.Yq)(f,c),user:e}}const y=t[o];if("number"==typeof y){const e=t[a];return{type:"create",date:(0,l.Yq)(y,c),user:e}}return null}function Y(e,t){const n=new Map;if(!e)return n;for(const i of e){if(!i.fieldName)continue;const e=x(i.fieldName,t);i.fieldName=e,n.set(e.toLowerCase(),i)}return n}function $(e){const t=[];if(!e)return t;const{fieldInfos:n,content:i}=e;return n&&t.push(...n),i&&Array.isArray(i)?(i.forEach((e=>{if("fields"===e.type){const n=null===e||void 0===e?void 0:e.fieldInfos;n&&t.push(...n)}})),t):t}function J(e){return e.replaceAll(I,(e=>"&#".concat(e.charCodeAt(0),";")))}function K(e){return"string"==typeof e?e.replaceAll(b,'<br class="esri-text-new-line" />'):e}function W(e){var t;const{value:n,fieldName:i,fieldInfos:a,fieldInfoMap:o,layer:l,graphic:s,timeZone:u}=e;if(null==n)return"";const f=function(e){let{fieldName:t,value:n,graphic:i,layer:a}=e;if(ne(t))return null;if(!a||"function"!=typeof a.getFieldDomain)return null;const o=i&&a.getFieldDomain(t,{feature:i,excludeImpliedDomains:(0,r.A)("esri-widget-legacy-field-domain-calculation")});return o&&"coded-value"===o.type?o.getName(n):null}({fieldName:i,value:n,graphic:s,layer:l});if(f)return f;const p=function(e){let{fieldName:t,graphic:n,layer:i}=e;if(ne(t))return null;if(!i||"function"!=typeof i.getFeatureType)return null;const{typeIdField:r}=i;if(!r||t!==r)return null;const a=i.getFeatureType(n);return a?a.name:null}({fieldName:i,graphic:s,layer:l});if(p)return p;if(o.get(i.toLowerCase()))return H(n,{fieldInfos:a||Array.from(o.values()),fieldName:i,layer:l,timeZone:u});const y=null===l||void 0===l||null===(t=l.fieldsIndex)||void 0===t?void 0:t.get(i);return y&&((0,c.fs)(y)||(0,d.isTimeOnlyField)(y))?(0,c.i0)(n,{fieldType:y.type,timeZoneOptions:{layerTimeZone:l&&"preferredTimeZone"in l?l.preferredTimeZone:null,viewTimeZone:u,datesInUnknownTimezone:!(!l||!("datesInUnknownTimezone"in l))&&!!l.datesInUnknownTimezone}}):K(n)}function X(e){let{fieldInfos:t,attributes:n,layer:i,graphic:r,fieldInfoMap:a,relatedInfos:o,timeZone:l}=e;const s={};return null!==o&&void 0!==o&&o.forEach((e=>function(e){var t,n;let{attributes:i,relatedInfo:r,fieldInfoMap:a,fieldInfos:o,layer:l,timeZone:s}=e;i&&r&&(null!==(t=r.relatedFeatures)&&void 0!==t&&t.forEach((e=>ie({attributes:i,graphic:e,relatedInfo:r,fieldInfoMap:a,fieldInfos:o,layer:l,timeZone:s}))),null===(n=r.relatedStatsFeatures)||void 0===n||n.forEach((e=>ie({attributes:i,graphic:e,relatedInfo:r,fieldInfoMap:a,fieldInfos:o,layer:l,timeZone:s}))))}({attributes:s,relatedInfo:e,fieldInfoMap:a,fieldInfos:t,layer:i,timeZone:l}))),n&&Object.keys(n).forEach((e=>{const o=n[e];s[e]=W({fieldName:e,fieldInfos:t,fieldInfoMap:a,layer:i,value:o,graphic:r,timeZone:l})})),s}async function ee(e,t){var n;const{layer:i,graphic:r,outFields:a,objectIds:o,returnGeometry:l,spatialReference:s}=e,d=o[0];if("number"!=typeof d&&"string"!=typeof d){const e="Could not query required fields for the specified feature. The feature's ID is invalid.",t={layer:i,graphic:r,objectId:d,requiredFields:a};return y().warn(e,t),null}if(null===(n=(0,u.BR)(i))||void 0===n||null===(n=n.operations)||void 0===n||!n.supportsQuery){const e="The specified layer cannot be queried. The following fields will not be available.",t={layer:i,graphic:r,requiredFields:a,returnGeometry:l};return y().warn(e,t),null}const c=i.createQuery();return c.objectIds=o,c.outFields=null!==a&&void 0!==a&&a.length?a:[i.objectIdField],c.returnGeometry=!!l,c.returnZ=!!l,c.returnM=!!l,c.outSpatialReference=s,(await i.queryFeatures(c,t)).features[0]}async function te(e,t){let{graphic:n,popupTemplate:r,layer:a,spatialReference:o}=e;if(!a||!r)return;if("function"==typeof a.load&&await a.load(t),!n.attributes)return;const l=a.objectIdField,s=n.attributes[l];if(null==s)return;const u=[s],c=await r.getRequiredFields(a.fieldsIndex),p=(0,d.featureHasFields)(c,n),y=p?[]:c.includes(l)?c:[...c,l],h=r.returnGeometry||await async function(e){var t;if(null===(t=e.expressionInfos)||void 0===t||!t.length)return!1;const n=await(0,f.lw)(),{arcadeUtils:{hasGeometryFunctions:i}}=n;return i(e)}(r);if(p&&!h)return;const m=await ee({layer:a,graphic:n,outFields:y,objectIds:u,returnGeometry:h,spatialReference:o},t);m&&(m.geometry&&(n.geometry=m.geometry),m.attributes&&(n.attributes=(0,i.A)((0,i.A)({},n.attributes),m.attributes)))}function ne(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!e&&e.includes(F)}function ie(e){let{attributes:t,graphic:n,relatedInfo:i,fieldInfos:r,fieldInfoMap:a,layer:o,timeZone:l}=e;t&&n&&i&&Object.keys(n.attributes).forEach((e=>{const s=function(e){return"".concat(F).concat(e.layerId,"/").concat(e.fieldName)}({layerId:i.relation.id.toString(),fieldName:e}),d=n.attributes[e];t[s]=W({fieldName:s,fieldInfos:r,fieldInfoMap:a,layer:o,value:d,graphic:n,timeZone:l})}))}const re=e=>{if(!e)return!1;const t=e.toUpperCase();return t.includes("CURRENT_TIMESTAMP")||t.includes("CURRENT_DATE")||t.includes("CURRENT_TIME")},ae=e=>{var t;let{layer:n,method:i,query:r,definitionExpression:a}=e;if(null===(t=n.capabilities)||void 0===t||null===(t=t.query)||void 0===t||!t.supportsCacheHint||"attachments"===i)return;const o=null!=r.where?r.where:null,l=null!=r.geometry?r.geometry:null;re(a)||re(o)||"extent"===(null===l||void 0===l?void 0:l.type)||"tile"===r.resultType||(r.cacheHint=!0)},oe=e=>{var t;let{query:n,layer:i,method:r}=e;ae({layer:i,method:r,query:n,definitionExpression:"".concat(i.definitionExpression," ").concat(null!==(t=i.serviceDefinitionExpression)&&void 0!==t?t:"")})},le=e=>{var t;let{queryPayload:n,layer:i,method:r}=e;ae({layer:i,method:r,query:n,definitionExpression:"".concat(i.definitionExpression," ").concat(null!==(t=i.serviceDefinitionExpression)&&void 0!==t?t:"")})};function se(e,t,n){var i,r;return e&&t&&n?"sublayer"===t.type?ce({layers:null===(i=t.layer)||void 0===i?void 0:i.sublayers,map:e,relatedLayer:t,relationship:n})||ce({layers:null===(r=t.layer)||void 0===r?void 0:r.subtables,map:e,relatedLayer:t,relationship:n}):ce({layers:e.allLayers,map:e,relatedLayer:t,relationship:n})||ce({layers:e.allTables,map:e,relatedLayer:t,relationship:n}):null}function de(e,t){var n;return e&&"utilityNetworks"in e&&t?null===(n=e.utilityNetworks)||void 0===n?void 0:n.find((e=>e.isUtilityLayer(t))):null}function ue(e,t){return null===e||void 0===e?void 0:e.allTables.find((e=>{var n;return"feature"===e.type&&e.layerId===t.id&&e.url===(null===(n=t.layer)||void 0===n?void 0:n.url)}))}function ce(e){let{map:t,relationship:n,relationship:{relatedTableId:i},relatedLayer:r,layers:a}=e;if(!a)return null;for(const l of a){var o;if("map-image"===l.type){const e=ce({layers:l.sublayers,map:t,relatedLayer:r,relationship:n})||ce({layers:l.subtables,map:t,relatedLayer:r,relationship:n});if(e)return e;continue}if(!D(l))continue;if("sublayer"===r.type){if(l!==r&&l.id===i)return l.isTable?ue(t,l):l;continue}const e="scene"===r.type&&r.associatedLayer?r.associatedLayer.url:r.url;if(!e)return null;if("sublayer"!==l.type){if(l!==r&&l.url===e&&l.layerId===i)return l}else if(l!==r&&(null===(o=l.layer)||void 0===o?void 0:o.url)===e&&l.id===i)return l.isTable?ue(t,l):l}return null}function fe(e){const t=e.getObjectId();return null!=t?"oid:".concat(t):"uid:".concat(e.uid)}},78583:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var i=n(89379),r=n(35143),a=n(39356),o=n(91967),l=n(19276),s=n(50076),d=n(68134),u=n(46053),c=n(21403),f=(n(81806),n(47249),n(85842)),p=n(6362),y=n(88084),h=n(9708),m=n(9912);const v={editing:!1,operations:{add:!0,update:!0,delete:!0}},g=l.default.ofType(y.default);let b=class extends o.default{constructor(e){super(e),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.capabilities=(0,i.A)({},v),this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new g,this.fileInfos=new l.default,this.graphic=null,this.mode="view",this.orderByFields=null,this.filesEnabled=!1,this.addHandles((0,d.watch)((()=>this.graphic),(()=>this._graphicChanged()),d.initial))}destroy(){this._attachmentLayer=null,this.graphic=null}castCapabilities(e){return(0,i.A)((0,i.A)({},v),e)}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:e}=this;if(!e)return!1;const t=e.layer||e.sourceLayer;return(null===t||void 0===t?void 0:t.loaded)&&"capabilities"in t&&t.capabilities&&"attachment"in t.capabilities&&t.capabilities.attachment&&"supportsResize"in t.capabilities.attachment&&t.capabilities.attachment.supportsResize||!1}async getAttachments(){const{_attachmentLayer:e,attachmentInfos:t,orderByFields:n}=this;if(!e||"function"!=typeof e.queryAttachments)throw new s.default("invalid-layer","getAttachments(): A valid layer is required.");const i=this._getObjectId();if("number"!=typeof i)throw new s.default("invalid-object-id","getAttachments(): Numeric object id is required");const r=null===n||void 0===n?void 0:n.map((e=>"".concat(e.field," ").concat("descending"===e.order?"DESC":"ASC"))),a=new h.default({objectIds:[i],returnMetadata:!0,orderByFields:r}),o=[],l=e.queryAttachments(a).then((e=>e[i]||o)).catch((()=>o));this._getAttachmentsPromise=l,this.notifyChange("state");const d=await l;return t.destroyAll(),d.length&&t.addMany(d),this._getAttachmentsPromise=null,this.notifyChange("state"),d}async addAttachment(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.graphic;const{_attachmentLayer:i,attachmentInfos:r,capabilities:a}=this;if(!n)throw new s.default("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:n});if(!e)throw new s.default("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e});if(null===(t=a.operations)||void 0===t||!t.add)throw new s.default("invalid-capabilities","addAttachment(): add capabilities are required.");if(!i||"function"!=typeof i.addAttachment)throw new s.default("invalid-layer","addAttachment(): A valid layer is required.");const o=i.addAttachment(n,e).then((e=>this._queryAttachment(e.objectId,n))),l=await o;return r.add(l),l}async deleteAttachment(e){var t;const{_attachmentLayer:n,attachmentInfos:i,graphic:r,capabilities:a}=this;if(!e)throw new s.default("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(null===(t=a.operations)||void 0===t||!t.delete)throw new s.default("invalid-capabilities","deleteAttachment(): delete capabilities are required.");if(!n||"function"!=typeof n.deleteAttachments)throw new s.default("invalid-layer","deleteAttachment(): A valid layer is required.");if(!r)throw new s.default("invalid-graphic","deleteAttachment(): A graphic is required.");const o=n.deleteAttachments(r,[e.id]).then((()=>e)),l=await o;return i.remove(l),l.destroy(),l}async updateAttachment(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeAttachmentInfo;const{_attachmentLayer:i,attachmentInfos:r,graphic:a,capabilities:o}=this;if(!e)throw new s.default("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e});if(!n)throw new s.default("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:n});if(null===(t=o.operations)||void 0===t||!t.update)throw new s.default("invalid-capabilities","updateAttachment(): Update capabilities are required.");const l=r.indexOf(n);if(!i||"function"!=typeof i.updateAttachment)throw new s.default("invalid-layer","updateAttachment(): A valid layer is required.");if(!a)throw new s.default("invalid-graphic","updateAttachment(): A graphic is required.");const d=i.updateAttachment(a,n.id,e).then((e=>this._queryAttachment(e.objectId))),u=await d;return r.splice(l,1,u),u}async commitFiles(){return await Promise.all(this.fileInfos.items.map((e=>this.addAttachment(e.form)))),this.fileInfos.removeAll(),this.getAttachments()}addFile(e,t){if(!e||!t)return null;const n={file:e,form:t};return this.fileInfos.add(n),n}updateFile(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.activeFileInfo;if(!e||!t||!n)return null;const i=this.fileInfos.indexOf(n);return i>-1&&this.fileInfos.splice(i,1,{file:e,form:t}),this.fileInfos.items[i]}deleteFile(e){const t=this.fileInfos.find((t=>t.file===e));return t?(this.fileInfos.remove(t),t):null}async _queryAttachment(e,t){const{_attachmentLayer:n}=this;if(!e||null===n||void 0===n||!n.queryAttachments)throw new s.default("invalid-attachment-id","Could not query attachment.");const i=this._getObjectId(t);if("number"!=typeof i)throw new s.default("invalid-object-id","getAttachments(): Numeric object id is required");const r=new h.default({objectIds:[i],attachmentsWhere:"AttachmentId=".concat(e),returnMetadata:!0});return n.queryAttachments(r).then((e=>e[i][0]))}_getObjectId(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.graphic;return null!==(e=null===t||void 0===t?void 0:t.getObjectId())&&void 0!==e?e:null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch((()=>this.attachmentInfos.destroyAll())))}_setAttachmentLayer(){const{graphic:e}=this,t=(0,m.getSourceLayer)(e);this._attachmentLayer=t?"scene"===t.type&&null!=t.associatedLayer?t.associatedLayer:t:null}};(0,r._)([(0,u.MZ)()],b.prototype,"capabilities",void 0),(0,r._)([(0,c.w)("capabilities")],b.prototype,"castCapabilities",null),(0,r._)([(0,u.MZ)()],b.prototype,"activeAttachmentInfo",void 0),(0,r._)([(0,u.MZ)()],b.prototype,"activeFileInfo",void 0),(0,r._)([(0,u.MZ)({readOnly:!0,type:g})],b.prototype,"attachmentInfos",void 0),(0,r._)([(0,u.MZ)()],b.prototype,"fileInfos",void 0),(0,r._)([(0,u.MZ)({type:a.default})],b.prototype,"graphic",void 0),(0,r._)([(0,u.MZ)()],b.prototype,"mode",void 0),(0,r._)([(0,u.MZ)({type:[p.default]})],b.prototype,"orderByFields",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],b.prototype,"state",null),(0,r._)([(0,u.MZ)()],b.prototype,"filesEnabled",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],b.prototype,"supportsResizeAttachments",null),b=(0,r._)([(0,f.$)("esri.widgets.Attachments.AttachmentsViewModel")],b);const I=b},88084:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var i,r=n(35143),a=n(42553),o=n(46053),l=n(40565),s=(n(81806),n(47249),n(85842));function d(e){const{exifInfo:t,exifName:n,tagName:i}=e;if(!t||!n||!i)return null;const r=t.find((e=>e.name===n));return r?function(e){const{tagName:t,tags:n}=e;if(!n||!t)return null;const i=n.find((e=>e.name===t));return(null===i||void 0===i?void 0:i.value)||null}({tagName:i,tags:r.tags}):null}const u={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let c=i=class extends a.A{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=d({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return u[t]||null}clone(){return new i({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,r._)([(0,o.MZ)({type:String})],c.prototype,"contentType",void 0),(0,r._)([(0,o.MZ)()],c.prototype,"exifInfo",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],c.prototype,"orientationInfo",null),(0,r._)([(0,o.MZ)({type:l.jz})],c.prototype,"id",void 0),(0,r._)([(0,o.MZ)({type:String})],c.prototype,"globalId",void 0),(0,r._)([(0,o.MZ)({type:String})],c.prototype,"keywords",void 0),(0,r._)([(0,o.MZ)({type:String})],c.prototype,"name",void 0),(0,r._)([(0,o.MZ)({json:{read:!1}})],c.prototype,"parentGlobalId",void 0),(0,r._)([(0,o.MZ)({json:{read:!1}})],c.prototype,"parentObjectId",void 0),(0,r._)([(0,o.MZ)({type:l.jz})],c.prototype,"size",void 0),(0,r._)([(0,o.MZ)({json:{read:!1}})],c.prototype,"url",void 0),c=i=(0,r._)([(0,s.$)("esri.rest.query.support.AttachmentInfo")],c);const f=c}}]);
//# sourceMappingURL=78583.c41ce6e4.chunk.js.map