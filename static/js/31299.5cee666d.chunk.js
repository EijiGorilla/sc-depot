"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[31299,53680],{53680:(e,i,n)=>{n.d(i,{AC:()=>l,DW:()=>a,Hj:()=>b,Ih:()=>y,Jy:()=>v,OW:()=>h,Rv:()=>s,UJ:()=>u,_i:()=>d,d8:()=>f,fs:()=>c,kc:()=>p,ke:()=>w,mE:()=>o,wx:()=>t});var r=n(50076);async function l(e,i){const{layer:n,view:l,forBinning:o,filter:t}=e;if(!n||!l)throw new r.default("".concat(i,":missing-parameters"),"'layer' and 'view' parameters are required");await n.load();const u="featureReduction"in n?n.featureReduction:null;if(o){if("binning"!==(null===u||void 0===u?void 0:u.type))throw new r.default("".concat(i,":invalid-parameters"),"'layer' must have 'featureReduction' property defined with 'binning' type when 'forBinning' parameter is true");if(t)throw new r.default("".concat(i,":invalid-parameters"),"'filter' parameter is not supported when 'forBinning' parameter is true")}return e}async function o(e){var i,n,l;const{layer:o,forBinning:t,renderer:u}=e;await o.load();const a="featureReduction"in o?o.featureReduction:null,s=null!==(i=null===u||void 0===u?void 0:u.clone())&&void 0!==i?i:t&&"binning"===(null===a||void 0===a?void 0:a.type)?null===a||void 0===a||null===(n=a.renderer)||void 0===n?void 0:n.clone():"renderer"in o?null===(l=o.renderer)||void 0===l?void 0:l.clone():null;if(!s)throw new r.default("get-renderer-to-update:invalid-parameters","renderer not available");return s}function t(e,i,n){var r;const l=null===e||void 0===e||null===(r=e.authoringInfo)||void 0===r?void 0:r.visualVariables;return null===l||void 0===l?void 0:l.find((e=>"reference-size"===n?e.type===i&&"reference-size"===e.theme:e.type===i))}function u(e){if(!e)return null;const i=e.type,n="visualVariables"in e?e.visualVariables:null,r=null===n||void 0===n?void 0:n.find(y),l=null===n||void 0===n?void 0:n.find(h),o=e.authoringInfo,u=t(e,"color"),a=t(e,"size"),s=t(e,"size","reference-size");if("class-breaks"===i){if("univariate-color-size"===(null===o||void 0===o?void 0:o.type))return"univariate-color-size";if(r)return l?null!==a&&void 0!==a&&a.units?"color-size-age":null!==u&&void 0!==u&&u.units?"color-age-size":"color-size":null!==u&&void 0!==u&&u.units?"color-age":s?"color-size":"color-continuous";if(l)return null!==a&&void 0!==a&&a.units?"size-age":"size-continuous";if(e.classBreakInfos.length>1)return"class-breaks-color"===(null===o||void 0===o?void 0:o.type)?"color-class-breaks":"class-breaks-size"===(null===o||void 0===o?void 0:o.type)?"size-class-breaks":null;if(s)return"size-continuous"}return"unique-value"===i?e.valueExpression?"predominance"===(null===o||void 0===o?void 0:o.type)?"predominance":"relationship"===(null===o||void 0===o?void 0:o.type)?l||s?"relationship-size":"relationship":l||s?"type-size":"type":l?null!==a&&void 0!==a&&a.units?"type-size-age":"type-size":s?"type-size":"type":"pie-chart"===i?"pie-chart":"dot-density"===i?"dot-density":null}function a(e){var i;return!(null===(i=e.visualVariables)||void 0===i||!i.some(m))}function s(e){var i;return!(null===(i=e.visualVariables)||void 0===i||!i.some(g))}function d(e){var i;return null!==(i=null===e||void 0===e?void 0:e.findIndex(m))&&void 0!==i?i:-1}function v(e){var i;return null!==(i=null===e||void 0===e?void 0:e.findIndex(h))&&void 0!==i?i:-1}function c(e){var i;return null!==(i=null===e||void 0===e?void 0:e.findIndex(y))&&void 0!==i?i:-1}function f(e){var i;return null!==(i=null===e||void 0===e?void 0:e.findIndex(z))&&void 0!==i?i:-1}function p(e){var i;return null!==(i=null===e||void 0===e?void 0:e.findIndex(g))&&void 0!==i?i:-1}function y(e){return"color"===e.type}function z(e){return"opacity"===e.type}function h(e){return"size"===e.type&&"outline"!==e.target&&"$view.scale"!==e.valueExpression}function m(e){return"size"===e.type&&"outline"===e.target}function g(e){return"size"===e.type&&"$view.scale"===e.valueExpression&&"outline"!==e.target&&Array.isArray(e.stops)}function w(e,i,n){const r=e.visualVariables,l=n(r);if(!i||Array.isArray(i)&&!i.length)return;Array.isArray(i)||(i=[i]);const o=i.map((e=>e.clone()));r?l>-1?r.splice(l,1,...o):r.push(...o):e.visualVariables=o}function b(e,i,n){var r;const l=null===i||void 0===i?void 0:i.visualVariables.find((e=>e.type===n)),o=t(e,n);o&&l&&(o.minSliderValue=l.minSliderValue,o.maxSliderValue=l.maxSliderValue,"size"===n&&"reference-size"===o.theme&&(o.sizeStops=null===(r=l.sizeStops)||void 0===r?void 0:r.map((e=>e.clone())),o.referenceSizeScale=l.referenceSizeScale))}}}]);
//# sourceMappingURL=31299.5cee666d.chunk.js.map