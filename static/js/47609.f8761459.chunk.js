"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[47609],{47609:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var i=n(35143),o=n(69539),l=n(54901),a=n(56002),r=n(68134),s=n(46053),u=(n(81806),n(76460),n(47249),n(85842)),v=n(18722),d=n(12482),p=n(84174);let c=class extends p.default{constructor(e){super(e),this.type="input",this.color=new o.default("#00c8c8"),this.viewVisualizationEnabled=!1,this.numSamplesForPreview=50,this.numSamplesPerChunk=500,this.chartFillEnabled=!1,this.chartStrokeOffsetY=-1,this._getQueryElevationDependencies=(0,a.B)(((e,t,n,i,o)=>e?{elevationInfo:e,visibleLayers:t,view:n,stationary:i,spatialReference:o}:null))}get queryElevationDependencies(){var e;const t=null===(e=this._viewModel)||void 0===e?void 0:e.view;return null==t?null:this._getQueryElevationDependencies(this._elevationInfo,this._visibleLayers,t,t.stationary,t.spatialReference)}get available(){var e;return!(null!==(e=this._viewModel)&&void 0!==e&&e.inputIsSketched)}get _elevationInfo(){var e;const t=null===(e=this._viewModel)||void 0===e?void 0:e.input;return t?(0,d.bh)(t):null}get _visibleLayers(){var e,t;return null!==(e=null===(t=this._viewModel)||void 0===t||null===(t=t.view)||void 0===t||null===(t=t.map)||void 0===t||null===(t=t.allLayers)||void 0===t?void 0:t.filter((e=>e.visible)).toArray())&&void 0!==e?e:[]}async queryElevation(e,t){let{noDataValue:n,signal:i}=t;const o=this.queryElevationDependencies;if(null==o)throw new Error("ElevationProfileLineInput: no dependencies");const{view:l,elevationInfo:a,spatialReference:r}=o;if("on-the-ground"===a.mode&&"3d"===l.type&&r){const t=await v.GeometryDescriptor.fromGeometry(e).project(r,i);if(!t)return{geometry:e,noDataValue:n};const o=l.elevationProvider;return t.coordinates.forEach((e=>{var t;e.z=null!==(t=o.getElevation(e.x,e.y,0,r,"ground"))&&void 0!==t?t:0})),{geometry:t.export(),noDataValue:n}}return{geometry:e,noDataValue:n}}attach(e){const t=()=>this._onChange();return(0,l.vE)([super.attach(e),(0,r.watch)((()=>this.queryElevationDependencies),t),(0,r.on)((()=>e.elevationProvider),"elevation-change",t,{onListenerAdd:t,onListenerRemove:t})])}};(0,i._)([(0,s.MZ)({type:o.default,nonNullable:!0})],c.prototype,"color",void 0),(0,i._)([(0,s.MZ)()],c.prototype,"viewVisualizationEnabled",void 0),(0,i._)([(0,s.MZ)()],c.prototype,"queryElevationDependencies",null),(0,i._)([(0,s.MZ)()],c.prototype,"available",null),(0,i._)([(0,s.MZ)()],c.prototype,"_elevationInfo",null),(0,i._)([(0,s.MZ)()],c.prototype,"_visibleLayers",null),c=(0,i._)([(0,u.$)("esri.widgets.ElevationProfile.ElevationProfileLineInput")],c);const h=c}}]);
//# sourceMappingURL=47609.f8761459.chunk.js.map