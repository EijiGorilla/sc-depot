"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[69939],{47787:(t,e,o)=>{o.d(e,{Ey:()=>n,GC:()=>i,qJ:()=>s,qU:()=>r});const i=[-45,0,45,-90,90,-135,180,135],n=[...i,-180],s={0:{label:"north",iconName:"chevron-up"},45:{label:"northEast",iconName:"chevron-up-right"},90:{label:"east",iconName:"chevron-right"},135:{label:"southEast",iconName:"chevron-down-right"},180:{label:"south",iconName:"chevron-down"},"-135":{label:"southWest",iconName:"chevron-down-left"},"-90":{label:"west",iconName:"chevron-left"},"-45":{label:"northWest",iconName:"chevron-up-left"}},r=200},69939:(t,e,o)=>{o.r(e),o.d(e,{default:()=>m});var i=o(89379),n=o(35143),s=o(54099),r=o(46053),v=o(85842),a=o(47787),l=o(84489),d=o(96779),h=o(79535);let c=class extends((0,h.A)(s.A.EventedAccessor)){constructor(t){super(t),this._initialAngle=void 0,this._movementVector=void 0,this._widgetCenter=void 0,this._anyAngleMovementEnabled=!1,this._movementTimeout=void 0,this._disabled=!1,this._moveOnceDuration=a.qU,this.angle=void 0,this.speed=1,this.view=null,this.beginFollowingPointer=(t,e)=>{if(this.disabled)return;this._widgetCenter=e;const o=this._pointerLocationToVector(t);if(void 0===o)return;const i=this._resolveClosestAngle(t,o);void 0!==i&&(this._emitMove((0,d.s5)(i)),this.angle=i,this._initialAngle=i,this._setMovementTimeout((()=>{void 0===this._widgetCenter&&this._stopMovement()})),document.addEventListener("pointermove",this._onPointerMove,{passive:!0}),document.addEventListener("pointerup",this._onPointerUp,{passive:!0,once:!0}))},this.moveOnce=t=>{const e=(0,d.s5)(t);this._emitMove(e),this._setMovementTimeout(this._stopMovement)},this._pointerLocationToVector=t=>{if(void 0===this._widgetCenter)return;const{x:e,y:o}=(0,d.LD)(this._widgetCenter,t);return{x:e,y:-o}},this._resolveClosestAngle=(t,e)=>{var o,i;const n=t.target,s=null===n||void 0===n||null===(o=n.getAttribute)||void 0===o?void 0:o.call(n,"data-angle");if(null===n||void 0===n||null===(i=n.classList)||void 0===i?void 0:i.contains(l.A.compassButton))return;const r=Number.parseInt(null!==s&&void 0!==s?s:"",10);return Number.isNaN(r)?(0,d.F6)(e):r},this._onPointerMove=t=>{var e,o;if(0===t.buttons)return void this._stopMovement();const i=this._pointerLocationToVector(t);if(void 0===i)return;this._setMovementTimeout(void 0);const n=this._resolveClosestAngle(t,i);if(void 0===n)return void this._emitStop();const s=(0,d.s5)(n),r=null!=this._initialAngle&&this._initialAngle!==n;this._anyAngleMovementEnabled||(this._anyAngleMovementEnabled=r);const v=this._anyAngleMovementEnabled?i:s;(v.x!==(null===(e=this._movementVector)||void 0===e?void 0:e.x)||v.y!==(null===(o=this._movementVector)||void 0===o?void 0:o.y))&&(this.angle=n,this._emitMove(v))},this._onPointerUp=()=>{void 0===this._movementTimeout?this._stopMovement():this._widgetCenter=void 0},this._stopMovement=()=>{this._emitStop(),this._widgetCenter=void 0,this._initialAngle=void 0,this._anyAngleMovementEnabled=!1,document.removeEventListener("pointermove",this._onPointerMove),document.removeEventListener("pointerup",this._stopMovement),this._setMovementTimeout(void 0)},this.on("move-start",(()=>{var t;return null===(t=this.view)||void 0===t?void 0:t.mapViewNavigation.begin()})),this.on("move-direction-change",(t=>{var e;let{vector:{x:o,y:i}}=t;return null===(e=this.view)||void 0===e?void 0:e.mapViewNavigation.continuousPanVector({x:o*this.speed,y:i*this.speed})})),this.on("move-stop",(()=>{var t;return null===(t=this.view)||void 0===t?void 0:t.mapViewNavigation.stop()}))}destroy(){this._stopMovement()}get disabled(){const{view:t,_disabled:e,supported:o}=this;return!1===(null===t||void 0===t?void 0:t.ready)||e||!o}set disabled(t){this._disabled=t}get rotation(){var t,e,o;return null!==(t=null!==(e=null===(o=this.view)||void 0===o?void 0:o.rotation)&&void 0!==e?e:this._get("rotation"))&&void 0!==t?t:0}set rotation(t){this.view?this.view.constraints.rotationEnabled&&this.callGoTo({target:{rotation:t},options:{animate:0===t&&void 0}}):this._set("rotation",t)}get supported(){return null==this.view||"2d"===this.view.type}get state(){const{disabled:t,angle:e}=this;return t?"disabled":null!=e?"moving":"ready"}_setMovementTimeout(t){clearTimeout(this._movementTimeout),this._movementTimeout=void 0===t?void 0:setTimeout((()=>{this._movementTimeout=void 0,t()}),this._moveOnceDuration)}_emitMove(t){null==this._movementVector&&this._emitMoveStartEvent({vector:t});const e=this._movementVector;this._movementVector=t,this._emitMoveDirectionChangeEvent({vector:t,oldVector:e})}_emitStop(){this.angle=void 0,void 0!==this._movementVector&&(this._emitMoveStopEvent({oldVector:this._movementVector}),this._movementVector=void 0)}_emitMoveStartEvent(t){this.emit("move-start",(0,i.A)((0,i.A)({},t),{},{type:"move-start"}))}_emitMoveDirectionChangeEvent(t){this.emit("move-direction-change",(0,i.A)((0,i.A)({},t),{},{type:"move-direction-change"}))}_emitMoveStopEvent(t){this.emit("move-stop",(0,i.A)((0,i.A)({},t),{},{type:"move-stop"}))}};(0,n._)([(0,r.MZ)()],c.prototype,"_initialAngle",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"_movementVector",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"_widgetCenter",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"_anyAngleMovementEnabled",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"_movementTimeout",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"_disabled",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"_moveOnceDuration",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"disabled",null),(0,n._)([(0,r.MZ)()],c.prototype,"angle",void 0),(0,n._)([(0,r.MZ)({type:Number,range:{min:0,max:100}})],c.prototype,"speed",void 0),(0,n._)([(0,r.MZ)()],c.prototype,"rotation",null),(0,n._)([(0,r.MZ)()],c.prototype,"supported",null),(0,n._)([(0,r.MZ)({readOnly:!0})],c.prototype,"state",null),(0,n._)([(0,r.MZ)()],c.prototype,"view",void 0),c=(0,n._)([(0,v.$)("esri.widgets.DirectionalPad.DirectionalPadViewModel")],c);const m=c},84489:(t,e,o)=>{o.d(e,{A:()=>n});const i="esri-directional-pad",n={base:i,buttonsContainer:"".concat(i,"__buttons-container"),button:"".concat(i,"__button"),compassButton:"".concat(i,"__compass"),rotationContainer:"".concat(i,"__rotation-container"),rotationSliderContainer:"".concat(i,"__rotation-slider-container"),rotationReset:"".concat(i,"__rotation-reset-button"),error:"".concat(i,"__error")}},96779:(t,e,o)=>{o.d(e,{F6:()=>s,LD:()=>v,Tu:()=>a,s5:()=>r});var i=o(15941),n=o(47787);function s(t){const e=function(t){let{x:e,y:o}=t;const n=Math.atan2(e,o);return(0,i.KJ)(n)}(t),o=n.Ey.map((t=>({angle:t,offset:Math.abs(t-e)}))).sort(((t,e)=>t.offset-e.offset)),s=o[0].angle;return-180===s?180:s}function r(t){const e=(0,i.kU)(t);return{x:Math.sin(e),y:Math.cos(e)}}function v(t,e){const o=e.y-t.y,i=e.x-t.x,n=Math.sqrt(i*i+o*o);return{x:i/n,y:o/n}}function a(t){const{x:e,y:o,width:i,height:n}=t.getBoundingClientRect();return{x:e+i/2,y:o+n/2}}}}]);
//# sourceMappingURL=69939.7ac021a4.chunk.js.map