{"version":3,"file":"static/js/8380.f32e0ec7.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/rest/imageService/fetchRasterInfo.js","../node_modules/@arcgis/core/layers/mixins/RasterPresetRendererMixin.js","../node_modules/@arcgis/core/renderers/support/RasterPresetRenderer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../geometry/Extent.js\";import a from\"../../geometry/Point.js\";import i from\"../../geometry/SpatialReference.js\";import l from\"../../layers/support/RasterInfo.js\";import n from\"../../layers/support/RasterStorageInfo.js\";import{parseUrl as s,encode as r,asValidOptions as o}from\"../utils.js\";import u from\"../support/FeatureSet.js\";async function m(m,f,p){const c=s(m),{rasterFunction:d,sourceJSON:h}=f||{},g=d?JSON.stringify(d.rasterFunctionDefinition||d):null,y=r({...c.query,renderingRule:g,f:\"json\"}),x=o(y,p);m=c.path;const S=h||await e(m,x).then((e=>e.data)),b=S.hasRasterAttributeTable?e(`${m}/rasterAttributeTable`,x):null,v=S.hasColormap?e(`${m}/colormap`,x):null,V=S.hasHistograms?e(`${m}/histograms`,x):null,D=S.currentVersion>=10.3?e(`${m}/keyProperties`,x):null,I=S.hasMultidimensions?e(`${m}/multidimensionalInfo`,x):null,T=await Promise.allSettled([b,v,V,D,I]);let R=null;if(S.minValues&&S.minValues.length===S.bandCount){R=[];for(let e=0;e<S.minValues.length;e++)R.push({min:S.minValues[e],max:S.maxValues[e],avg:S.meanValues[e],stddev:S.stdvValues[e]})}const j=t.fromJSON(S.extent),w=Math.ceil(j.width/S.pixelSizeX-.1),M=Math.ceil(j.height/S.pixelSizeY-.1),N=i.fromJSON(S.spatialReference||S.extent.spatialReference),O=\"fulfilled\"===T[0].status?T[0].value?.data:null,J=O?.features?.length?u.fromJSON(O):null,k=\"fulfilled\"===T[1].status?T[1].value?.data.colormap:null,C=k?.length?k:null,P=\"fulfilled\"===T[2].status?T[2].value?.data.histograms:null,z=P?.[0]?.counts?.length?P:null,F=\"fulfilled\"===T[3].status?T[3].value?.data??{}:{},$=\"fulfilled\"===T[4].status?T[4].value?.data.multidimensionalInfo:null,E=$?.variables?.length?$:null;E&&E.variables.forEach((e=>{e.statistics?.length&&e.statistics.forEach((e=>{e.avg=e.mean,e.stddev=e.standardDeviation})),e.dimensions?.forEach((e=>{\"StdTime\"!==e.name||e.recurring||e.unit||(e.unit=\"ISO8601\")}))}));const{defaultVariable:H,serviceDataType:L}=S;H&&H!==F.DefaultVariable&&(F.DefaultVariable=H),L?.includes(\"esriImageServiceDataTypeVector\")&&!L.includes(F.DataType)&&(F.DataType=L.replace(\"esriImageServiceDataType\",\"\"));let A=S.noDataValue;S.noDataValues?.length&&S.noDataValues.some((e=>e!==A))&&(A=S.noDataValues);const q=S.transposeInfo?new n({blockWidth:256,blockHeight:256,pyramidBlockWidth:256,pyramidBlockHeight:256,pyramidScalingFactor:2,compression:\"lerc\",origin:new a({x:S.extent.xmin,y:S.extent.ymax,spatialReference:N}),firstPyramidLevel:1,maximumPyramidLevel:Math.max(0,Math.round(Math.log(Math.max(w,M))/Math.LN2-8)),transposeInfo:S.transposeInfo}):void 0;return new l({width:w,height:M,bandCount:S.bandCount,extent:t.fromJSON(S.extent),spatialReference:N,pixelSize:new a({x:S.pixelSizeX,y:S.pixelSizeY,spatialReference:N}),pixelType:S.pixelType.toLowerCase(),statistics:R,attributeTable:J,colormap:C,histograms:z,keyProperties:F,noDataValue:A,multidimensionalInfo:E,storageInfo:q})}function f(e,t,a){return m(e,{sourceJSON:t},a)}function p(e,t,a){return m(e,{rasterFunction:t},a)}function c(e,t){e.attributeTable||(t.hasRasterAttributeTable=!1),e.histograms||(t.hasHistograms=!1),e.colormap||(t.hasColormap=!1),e.multidimensionalInfo||(t.hasMultidimensions=!1)}export{f as fetchServiceRasterInfo,p as generateRasterInfo,c as patchServiceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import t from\"../../renderers/support/RasterPresetRenderer.js\";const o=o=>{let i=class extends o{constructor(){super(...arguments),this.activePresetRendererName=null,this.presetRenderers=null}};return e([r({type:String,json:{name:\"layerDefinition.activePresetRendererName\",write:{allowNull:!0}}})],i.prototype,\"activePresetRendererName\",void 0),e([r({type:[t],json:{name:\"layerDefinition.presetRenderers\",write:!0}})],i.prototype,\"presetRenderers\",void 0),i=e([s(\"esri.layers.mixins.RasterPresetRendererMixin\")],i),i};export{o as RasterPresetRendererMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Clonable.js\";import o from\"../../core/JSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as s}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{enumeration as i}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{rasterRendererTypes as n,websceneRasterRendererTypes as a}from\"./rasterTypeUtils.js\";let d=class extends(r.ClonableMixin(o)){constructor(e){super(e),this.name=void 0,this.method=\"none\",this.value=void 0,this.bandIds=void 0,this.renderer=void 0}};e([t({type:String,json:{write:{isRequired:!0}}})],d.prototype,\"name\",void 0),e([t({type:[\"raster-function-template\",\"variable\",\"none\"],json:{write:{isRequired:!0}}}),i({rasterFunctionTemplate:\"raster-function-template\",variable:\"variable\",none:\"none\"})],d.prototype,\"method\",void 0),e([t({type:String,json:{write:{isRequired:!0}}})],d.prototype,\"value\",void 0),e([t({type:[s],json:{write:{isRequired:!0}}})],d.prototype,\"bandIds\",void 0),e([t({types:n,json:{write:!0,origins:{\"web-scene\":{types:a,write:{overridePolicy:e=>({enabled:e&&\"vector-field\"!==e.type&&\"flow\"!==e.type})}}}}})],d.prototype,\"renderer\",void 0),d=e([p(\"esri.renderers.support.RasterPresetRenderer\")],d);const c=d;export{c as default};\n"],"names":["async","m","f","p","_T$0$value","_O$features","_T$1$value","_T$2$value","_P$","_T$3$value$data","_T$3$value","_T$4$value","_$$variables","_S$noDataValues","c","s","rasterFunction","d","sourceJSON","h","g","JSON","stringify","rasterFunctionDefinition","y","r","_objectSpread","query","renderingRule","x","o","path","S","e","then","data","b","hasRasterAttributeTable","concat","v","hasColormap","V","hasHistograms","D","currentVersion","I","hasMultidimensions","T","Promise","allSettled","R","minValues","length","bandCount","push","min","max","maxValues","avg","meanValues","stddev","stdvValues","j","t","fromJSON","extent","w","Math","ceil","width","pixelSizeX","M","height","pixelSizeY","N","i","spatialReference","O","status","value","J","features","u","k","colormap","C","P","histograms","z","counts","F","$","multidimensionalInfo","E","variables","forEach","_e$statistics","_e$dimensions","statistics","mean","standardDeviation","dimensions","name","recurring","unit","defaultVariable","H","serviceDataType","L","DefaultVariable","includes","DataType","replace","A","noDataValue","noDataValues","some","q","transposeInfo","n","blockWidth","blockHeight","pyramidBlockWidth","pyramidBlockHeight","pyramidScalingFactor","compression","origin","a","xmin","ymax","firstPyramidLevel","maximumPyramidLevel","round","log","LN2","l","pixelSize","pixelType","toLowerCase","attributeTable","keyProperties","storageInfo","constructor","super","arguments","this","activePresetRendererName","presetRenderers","type","String","json","write","allowNull","prototype","ClonableMixin","method","bandIds","renderer","isRequired","rasterFunctionTemplate","variable","none","types","origins","overridePolicy","enabled"],"sourceRoot":""}