{"version":3,"file":"static/js/48479.79c89d9d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ImageElement.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementControllerControlPoints.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementControllerShape.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/mediaElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementManipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatedObject3DMediaElement.js","../node_modules/@arcgis/core/layers/support/VideoElement.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../request.js\";import o from\"../../core/Error.js\";import{getImageData as r}from\"../../core/imageUtils.js\";import{isAbsolute as i,isDataProtocol as n,isBlobProtocol as s,dataToBlob as a,join as m}from\"../../core/urlUtils.js\";import{generateUUID as l}from\"../../core/uuid.js\";import{property as c}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as p}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as h}from\"../../core/accessorSupport/decorators/writer.js\";import d from\"./MediaElementBase.js\";import{mediaElementUrlProperty as g,mediaTypeProperty as f}from\"./mediaUtils.js\";import{getResourceContentExtension as y}from\"../../portal/support/resourceExtension.js\";import{ImageElementSymbol as v}from\"../../support/mediaLayerUtils.js\";import{f as j,t as I,i as b,M as w}from\"../../chunks/persistableUrlUtils.js\";var E;let U=class extends d{constructor(t){super(t),this.animationOptions=null,this.content=null,this.image=null,this.type=\"image\",this[E]=!0,this.image=null}load(){const t=this.image;if(\"string\"==typeof t){const e=r(t).then((t=>{this._set(\"content\",t)}));this.addResolvingPromise(e)}else if(t instanceof HTMLImageElement){const e=t.decode().then((()=>{this._set(\"content\",t)}));this.addResolvingPromise(e)}else t?this._set(\"content\",t):this.addResolvingPromise(Promise.reject(new o(\"image-element:invalid-image-type\",\"Invalid image type\",{image:t})));return Promise.resolve(this)}get contentWidth(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalWidth:this.content.width}get contentHeight(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalHeight:this.content.height}readImage(t,e,o){return j(e.url,o)}writeImage(t,e,o,r){if(null==t)return;const n=r?.portalItem,s=r?.resources;if(!n||!s)return void(\"string\"==typeof t&&(e[o]=I(t,r)));const a=L(t)?t:null;if(a){if(null==b(a))return void(e[o]=a);const t=I(a,{...r,verifyItemRelativeUrls:r?.verifyItemRelativeUrls?{writtenUrls:r.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},w.NO);if(n&&t&&!i(t))return s.toKeep.push({resource:n.resourceFromPath(t),compress:!1}),void(e[o]=t)}e[o]=\"<pending>\",s.pendingOperations.push(M(t).then((t=>{const r=R(t,n);e[o]=r.itemRelativeUrl,s.toAdd.push({resource:r,content:{type:\"blob\",blob:t},compress:!1,finish:t=>{this.image=t.url}})})))}};E=v,t([c()],U.prototype,\"animationOptions\",void 0),t([c({readOnly:!0})],U.prototype,\"content\",void 0),t([c({readOnly:!0})],U.prototype,\"contentWidth\",null),t([c({readOnly:!0})],U.prototype,\"contentHeight\",null),t([c(g)],U.prototype,\"image\",void 0),t([p(\"image\",[\"url\"])],U.prototype,\"readImage\",null),t([h(\"image\")],U.prototype,\"writeImage\",null),t([c(f)],U.prototype,\"type\",void 0),U=t([u(\"esri.layers.support.ImageElement\")],U);const H=U;function L(t){return\"string\"==typeof t&&!n(t)&&!s(t)}async function M(t){if(\"string\"==typeof t){if(n(t))return a(t);return(await e(t,{responseType:\"blob\"})).data}return new Promise((e=>P(t).toBlob(e)))}function P(t){if(t instanceof HTMLCanvasElement)return t;const e=t instanceof HTMLImageElement?t.naturalWidth:t.width,o=t instanceof HTMLImageElement?t.naturalHeight:t.height,r=document.createElement(\"canvas\"),i=r.getContext(\"2d\");return r.width=e,r.height=o,t instanceof HTMLImageElement?i.drawImage(t,0,0,t.width,t.height):t instanceof ImageData&&i.putImageData(t,0,0),r}function R(t,e){const o=l(),r=`${m(\"media\",o)}.${y({type:\"blob\",blob:t})}`;return e.resourceFromPath(r)}export{H as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{isSome as o}from\"../../../../../core/arrayUtils.js\";import{destroyHandle as r}from\"../../../../../core/handleUtils.js\";import{initial as n}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../../../../core/support/UpdatingHandles.js\";import p from\"../../../../../geometry/Point.js\";import l from\"../../../../../geometry/Polygon.js\";import{initializeProjection as c,project as m}from\"../../../../../geometry/projection.js\";import{ControlPointOperations as d}from\"./ControlPointOperations.js\";import{EditGeometry as h}from\"../../../../interactive/editGeometry/EditGeometry.js\";let g=class extends t{get operations(){return this._operations}get updating(){return this._updatingHandles.updating}constructor(e){super(e),this._updatingHandles=new a}initialize(){this.addHandles([r(this._updatingHandles),this._updatingHandles.add((()=>{const e=this.element.georeference;return\"control-points\"===e?.type?e.controlPoints:null}),(e=>this._elementControlPointsChanged(e)),n)])}_elementControlPointsChanged(e){const t=e?.map((({mapPoint:e})=>e)).filter(o),r=this.view.spatialReference;this._updatingHandles.addPromise(this._whenProjected(t,r,(e=>{if(!e)return void this._replaceOperations(null);const{_operations:t}=this,o=new l({rings:[e.map((({x:e,y:t})=>[e,t]))],spatialReference:r});if(t?.trySetGeometry(o))return void this.onModifiedExternally();const n=this.view.state.viewingMode;this._replaceOperations(new d(h.fromGeometry(o,n),n,(e=>this._operationsGeometryChanged(e))))})))}_operationsGeometryChanged(e){const{element:{georeference:t},_operations:r}=this;if(!r||!t||\"control-points\"!==t.type||!t.controlPoints)return;const n=r.data.geometry,i=t.controlPoints.map((({mapPoint:e})=>e)).filter(o);if(n.rings[0]?.length!==i.length)return;const s=n.rings[0].map((([e,t])=>new p({x:e,y:t,spatialReference:n.spatialReference}))),a=i.map((({spatialReference:e})=>e));this._updatingHandles.addPromise(this._whenProjected(s,a,(t=>this._updateElementControlPoints(t,e))))}_updateElementControlPoints(e,t){const{georeference:o}=this.element;if(!o||!e||\"control-points\"!==o.type||o.controlPoints?.length!==e?.length)return;const r=o.controlPoints;if(r?.length===e.length)for(let n=0;n<r.length;n++)t&&(r[n].sourcePoint=o.toSource(e[n])),r[n].mapPoint=e[n]}async _whenProjected(e,t,o){if(!e)return void o(e);const{_operations:r,element:{georeference:n}}=this,i=e.map((({spatialReference:e})=>e)),s=Array.isArray(t)?t:new Array(i.length).fill(t);await c(Array.from(i).map(((e,t)=>({source:e,dest:s[t]}))));const a=e.map(((e,t)=>m(e,s[t])));r===this._operations&&n===this.element.georeference&&o(a)}_replaceOperations(e){this._operations&&(this.removeHandles(this._operations),this._operations.destroy()),this._operations=e}};e([i({constructOnly:!0})],g.prototype,\"view\",void 0),e([i({constructOnly:!0})],g.prototype,\"layer\",void 0),e([i({constructOnly:!0})],g.prototype,\"element\",void 0),e([i({constructOnly:!0})],g.prototype,\"onModifiedExternally\",void 0),e([i()],g.prototype,\"_operations\",void 0),e([i()],g.prototype,\"operations\",null),e([i()],g.prototype,\"updating\",null),g=e([s(\"esri.views.3d.interactive.editingTools.media.MediaElementControllerControlPoints\")],g);export{g as MediaElementControllerControlPoints};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{destroyHandle as o}from\"../../../../../core/handleUtils.js\";import{initial as r}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as n}from\"../../../../../core/support/UpdatingHandles.js\";import{projectWithZConversion as a}from\"../../../../../geometry/projection.js\";import{EditGeometryOperations as d}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";let p=class extends t{get operations(){return this._operations}get updating(){return this._updatingHandles.updating}constructor(e){super(e),this._updatingHandles=new n}initialize(){this.addHandles([o(this._updatingHandles),this._updatingHandles.add((()=>this.element.georeference?.coords),(e=>this._elementCoordinatesChanged(e)),r)])}_elementCoordinatesChanged(e){this._updatedElementCoordinates!==e&&this._updatingHandles.addPromise(this._whenProjected(e,this.view.spatialReference,(e=>{if(!e)return void this._replaceOperations(null);const{_operations:t}=this;t?.trySetGeometry(e)?this.onModifiedExternally():this._replaceOperations(d.fromGeometry(e,this.view.state.viewingMode))})))}_operationsGeometryChanged(){const{element:{georeference:e},_operations:t}=this;if(!t||!e)return;const o=t.data.geometry;if(!e.coords)return void this._updateElementCoordinates(o);const r=e.coords.spatialReference;this._updatingHandles.addPromise(this._whenProjected(o,r,(e=>this._updateElementCoordinates(e))))}_updateElementCoordinates(e){const{georeference:t}=this.element;t&&(t.coords=e,this._updatedElementCoordinates=t.coords)}async _whenProjected(e,t,o){if(!e)return void o(e);const{_operations:r,element:{georeference:i}}=this,s=await a(e,t);r===this._operations&&i===this.element.georeference&&o(s)}_replaceOperations(e){this._operations&&(this.removeHandles(this._operations),this._operations.destroy()),this._operations=e,e&&this.addHandles(e.data.on(\"change\",(()=>this._operationsGeometryChanged())),e),this.onModifiedExternally()}};e([i({constructOnly:!0})],p.prototype,\"view\",void 0),e([i({constructOnly:!0})],p.prototype,\"layer\",void 0),e([i({constructOnly:!0})],p.prototype,\"element\",void 0),e([i({constructOnly:!0})],p.prototype,\"onModifiedExternally\",void 0),e([i()],p.prototype,\"_operations\",void 0),e([i()],p.prototype,\"operations\",null),e([i()],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.interactive.editingTools.media.MediaElementControllerShape\")],p);export{p as MediaElementControllerShape};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../layers/support/ImageElement.js\";import n from\"../../../../../layers/support/VideoElement.js\";function r(e,n,r){return t(e.allLayerViews.find((e=>e.layer===n)),r)}function t(r,t){if(!r||\"media-3d\"!==r.type||r.suspended)return!1;const s=r.layer.source;return!!s&&(s instanceof e||s instanceof n?s===t:\"hasElement\"in s&&s.hasElement(t))}export{t as isMediaElementVisibleLayerView,r as isMediaElementVisibleView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import o from\"../../../../../core/Evented.js\";import{watch as r,sync as s}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{j as c}from\"../../../../../chunks/vec32.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPointToVector as a}from\"../../../../../geometry/projection/projectPointToVector.js\";import{isMediaElementVisibleView as p}from\"./mediaElementUtils.js\";let m=class extends t{grabbableForEvent(){return!0}constructor(e){super(e),this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.grabbing=!1,this.dragging=!1,this.hovering=!0,this.selected=!1,this.cursor=null,this.consumesClicks=!0,this.events=new o.EventEmitter,this.addHandles(r((()=>this.selected),(e=>this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"})),s))}destroy(){this._set(\"view\",null)}intersectionDistance(e){const{view:t,layer:o,element:r}=this;if(!p(t,o,r))return null;const s=t.toMap(e,{include:{layer:o,element:r}});return s&&a(s,d,t.renderSpatialReference)?c(d,t.state.camera.eye):null}onElevationChange(){}onViewChange(){}};e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"element\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"layer\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"view\",void 0),e([i()],m.prototype,\"interactive\",void 0),e([i()],m.prototype,\"selectable\",void 0),e([i()],m.prototype,\"grabbable\",void 0),e([i()],m.prototype,\"grabbing\",void 0),e([i()],m.prototype,\"dragging\",void 0),e([i()],m.prototype,\"hovering\",void 0),e([i()],m.prototype,\"selected\",void 0),e([i()],m.prototype,\"cursor\",void 0),m=e([n(\"esri.views.3d.interactive.editingTools.media.MediaElementManipulator3D\")],m);const d=l();export{m as MediaElementManipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Evented.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import{watch as r,on as i,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{MediaElementControllerControlPoints as a}from\"./media/MediaElementControllerControlPoints.js\";import{MediaElementControllerShape as p}from\"./media/MediaElementControllerShape.js\";import{MediaElementManipulator3D as m}from\"./media/MediaElementManipulator3D.js\";import{isMediaElementVisibleLayerView as c}from\"./media/mediaElementUtils.js\";const d=Symbol();let u=class extends t.EventedAccessor{get operations(){return this._controller?.operations}get elevationInfo(){return{mode:\"on-the-ground\",offset:0}}get _layerView(){const e=this.view.allLayerViews.find((e=>e.layer===this.layer));return\"media-3d\"===e?.type?e:null}get visible(){return c(this._layerView,this.element)}get isDraped(){return!0}get origin(){return null}get updating(){return!!this._controller?.updating}get _controllerClass(){return\"transform\"===this.tool||\"control-points\"!==this.element.georeference?.type?p:a}constructor(e){super(e),this.tool=\"transform\"}initialize(){this.addHandles([r((()=>this._controllerClass),(e=>this._updateController(e)),l),i((()=>this._layerView),\"element-render-changed\",(({element:e})=>{this.element===e&&this.emit(\"committed\")}))])}toMap(e){const{layer:t,element:o}=this;return this.view.toMap(e,{include:{layer:t,element:o}})}createManipulator(e){const{view:t,layer:o,element:r}=this;return new m({view:t,layer:o,element:r,...e})}_updateController(e){if(this._controller&&this._controller instanceof e)return;this.removeHandles(d);const{view:t,layer:r,element:i}=this,l=()=>{this.emit(\"modified-externally\")};this._controller=new e({view:t,layer:r,element:i,onModifiedExternally:l}),l(),this.addHandles(o(this._controller),d)}};e([n({constructOnly:!0})],u.prototype,\"view\",void 0),e([n({constructOnly:!0})],u.prototype,\"layer\",void 0),e([n({constructOnly:!0})],u.prototype,\"element\",void 0),e([n()],u.prototype,\"tool\",void 0),e([n()],u.prototype,\"_controller\",void 0),e([n()],u.prototype,\"elevationInfo\",null),e([n()],u.prototype,\"_layerView\",null),e([n()],u.prototype,\"visible\",null),e([n()],u.prototype,\"updating\",null),e([n()],u.prototype,\"_controllerClass\",null),u=e([s(\"esri.views.3d.interactive.editingTools.ManipulatedObject3DMediaElement\")],u);export{u as ManipulatedObject3DMediaElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import o from\"../../core/Error.js\";import{once as r}from\"../../core/events.js\";import s from\"../../core/Logger.js\";import{clamp as i}from\"../../core/mathUtils.js\";import{whenOnce as n}from\"../../core/reactiveUtils.js\";import{isAbsolute as l,makeAbsolute as a,getProxyRule as c,addProxy as d,isBlobProtocol as p,isDataProtocol as m}from\"../../core/urlUtils.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as v}from\"../../core/accessorSupport/decorators/writer.js\";import y from\"./MediaElementBase.js\";import{mediaElementUrlProperty as g,mediaTypeProperty as f}from\"./mediaUtils.js\";import{VideoElementSymbol as j}from\"../../support/mediaLayerUtils.js\";import{i as w}from\"../../chunks/persistableUrlUtils.js\";var U;let b=class extends y{constructor(e){super(e),this.autoplay=!0,this.content=null,this.controller=null,this.type=\"video\",this[U]=!0}load(){const e=this.video;return\"string\"==typeof e?this.addResolvingPromise(Promise.all([this._preProcessVideoUrl(e),import(\"../video/VideoController.js\")]).then((async([e,{default:t}])=>{this.controller=new t,this.controller.playerUrl=e,await n((()=>this.controller?.element)),this.controller.loop=!0,this.controller.muted=!0,this.controller.playsInline=!0,this.controller.crossOrigin=\"anonymous\",await n((()=>\"can-play\"===this.controller?.state)),await this.controller.play(),this.autoplay||this.controller.pause(),this._set(\"content\",this.controller.element)}))):e instanceof HTMLVideoElement?this.addResolvingPromise(this._loadVideo(e).then((()=>{this._set(\"content\",e)}))):this.addResolvingPromise(Promise.reject(new o(\"video-element:invalid-video-type\",\"Invalid video type\",{video:e}))),Promise.resolve(this)}get contentWidth(){return this.content?.videoWidth??0}get contentHeight(){return this.content?.videoHeight??0}get currentTime(){return this.controller?.currentTime}set currentTime(e){if(!this.controller)return;const t=i(e,0,this.controller.duration);this.controller?.setCurrentTime(t)}get duration(){return this.controller?.duration}set video(e){\"not-loaded\"===this.loadStatus?this._set(\"video\",e):s.getLogger(this).error(\"#video\",\"video cannot be changed after the element is loaded.\")}writeVideo(e,t,r,s){if(!e)return void(s?.messages&&s.messages.push(new o(\"video-element:unsupported-video\",\"video source is missing\")));const i=V(e)?e:null;if(!i)return void(s?.messages&&s.messages.push(new o(\"video-element:unsupported-video\",\"video source must be an absolute url\")));!l(i)&&s?.blockedRelativeUrls&&s.blockedRelativeUrls.push(i);const n=a(i);!w(n)?t[r]=n:s?.messages&&s.messages.push(new o(\"video-element:unsupported-video\",\"video source cannot be an item resource\"))}async _preProcessVideoUrl(e){if(c(e))return d(e);try{return await t(e,{method:\"head\"}),e}catch{return d(e,!0)}}_loadVideo(e){return new Promise(((t,o)=>{const s=r(e,\"canplay\",(()=>{this.removeHandles(\"canplay\"),this.autoplay?e.play().then(t,o):t()}));this.addHandles(s,\"canplay\"),\"anonymous\"!==e.crossOrigin&&(e.crossOrigin=\"anonymous\",p(e.src)||(e.src=e.src))}))}};U=j,e([u()],b.prototype,\"autoplay\",void 0),e([u({readOnly:!0})],b.prototype,\"content\",void 0),e([u({readOnly:!0})],b.prototype,\"contentWidth\",null),e([u({readOnly:!0})],b.prototype,\"contentHeight\",null),e([u()],b.prototype,\"controller\",void 0),e([u({type:Number})],b.prototype,\"currentTime\",null),e([u({type:Number})],b.prototype,\"duration\",null),e([u(g)],b.prototype,\"video\",null),e([v(\"video\")],b.prototype,\"writeVideo\",null),e([u(f)],b.prototype,\"type\",void 0),b=e([h(\"esri.layers.support.VideoElement\")],b);const P=b;function V(e){return\"string\"==typeof e&&!m(e)&&!p(e)}export{P as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[t(i)]||e}function t(i){return\"json\"===i.type?\"application/json\":\"blob\"===i.type?i.blob.type:n(i.url)}function n(p){const t=i(p);return g[t]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\",\"bin.gz\":\"application/octet-stream\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n"],"names":["E","U","d","constructor","t","super","this","animationOptions","content","image","type","load","e","r","then","_set","addResolvingPromise","HTMLImageElement","decode","Promise","reject","o","resolve","contentWidth","naturalWidth","width","contentHeight","naturalHeight","height","readImage","j","url","writeImage","n","portalItem","s","resources","I","a","L","b","_objectSpread","verifyItemRelativeUrls","writtenUrls","rootPath","w","NO","i","toKeep","push","resource","resourceFromPath","compress","pendingOperations","async","responseType","data","HTMLCanvasElement","document","createElement","getContext","drawImage","ImageData","putImageData","P","toBlob","M","l","concat","m","y","blob","R","itemRelativeUrl","toAdd","finish","v","c","prototype","readOnly","g","p","h","f","u","H","operations","_operations","updating","_updatingHandles","initialize","addHandles","add","element","georeference","controlPoints","_elementControlPointsChanged","map","_ref","mapPoint","filter","view","spatialReference","addPromise","_whenProjected","_replaceOperations","rings","_ref2","x","trySetGeometry","onModifiedExternally","state","viewingMode","fromGeometry","_operationsGeometryChanged","_n$rings$","geometry","_ref3","length","_ref4","_ref5","_updateElementControlPoints","_o$controlPoints","sourcePoint","toSource","_ref6","Array","isArray","fill","from","source","dest","removeHandles","destroy","constructOnly","_this$element$georefe","coords","_elementCoordinatesChanged","_updatedElementCoordinates","_updateElementCoordinates","on","allLayerViews","find","layer","suspended","hasElement","grabbableForEvent","interactive","selectable","grabbable","grabbing","dragging","hovering","selected","cursor","consumesClicks","events","EventEmitter","emit","action","intersectionDistance","toMap","include","renderSpatialReference","camera","eye","onElevationChange","onViewChange","nonNullable","Symbol","EventedAccessor","_this$_controller","_controller","elevationInfo","mode","offset","_layerView","visible","isDraped","origin","_this$_controller2","_controllerClass","tool","_updateController","createManipulator","autoplay","controller","video","all","_preProcessVideoUrl","default","playerUrl","_this$controller","loop","muted","playsInline","crossOrigin","_this$controller2","play","pause","HTMLVideoElement","_loadVideo","_this$content$videoWi","_this$content","videoWidth","_this$content$videoHe","_this$content2","videoHeight","currentTime","_this$controller3","_this$controller4","duration","setCurrentTime","_this$controller5","loadStatus","getLogger","error","writeVideo","messages","V","blockedRelativeUrls","method","_unused","src","Number","png","jpeg","jpg","bmp","gif","json","txt","xml","svg","zip","pbf","gz"],"sourceRoot":""}