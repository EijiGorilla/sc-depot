{"version":3,"file":"static/js/99766.84cc88a6.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ObjectParameters.js","../node_modules/@arcgis/core/geometry/projection/localLinearScaleFactors.js","../node_modules/@arcgis/core/layers/ILyr3DWasmPerSceneView.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LayerElevationProvider.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Transform.js","../node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/layers/support/lyr3dTypeConversions.js","../node_modules/@arcgis/core/views/3d/layers/support/Tiles3DIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../../../core/maybe.js\";import{isPromiseLike as t}from\"../../../../../core/promiseUtils.js\";class s{constructor(s,r){this._textures=s,this.loadPromise=null,this._disposed=!1;const i=this._textures.acquire(r);t(i)?(i.then((t=>{this._disposed?e(t):this._textureRef=t})),this.loadPromise=i):this._textureRef=i}dispose(){this._textureRef=e(this._textureRef),this._disposed=!0}get glTexture(){return null!=this._textureRef?this._textureRef.glTexture:null}}export{s as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,o,r){this.toMapSpace=t,this.transform=s,this.obb=o,this.geometry=r}}export{t as ObjectParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{l as r}from\"../../chunks/vec32.js\";import{getProjectorClassification as t,ProjectionID as e,invPlateCarreeScale as s}from\"./projectors.js\";import{earth as o}from\"../support/Ellipsoid.js\";import{equals as i}from\"../support/spatialReferenceUtils.js\";function n(n,f,u,c){const p=t(f,c);if(null==p)return!1;const a=p.source.spatialReferenceId,E=p.dest.spatialReferenceId;if(a===E&&a!==e.UNKNOWN||i(f,c))return u[0]=1,u[1]=1,u[2]=1,!0;if(a===e.SPHERICAL_ECEF){const t=r(n),i=t/Math.sqrt(n[0]*n[0]+n[1]*n[1]),f=t/o.radius;if(E===e.WEB_MERCATOR)return u[0]=i*f,u[1]=i*f,u[2]=1,!0;if(E===e.WGS84||E===e.CGCS2000){const r=s;return u[0]=r*i*f,u[1]=r*f,u[2]=1,!0}}else if(a===e.PLATE_CARREE){if(E===e.WGS84||E===e.CGCS2000)return u[0]=s,u[1]=s,u[2]=1,!0;if(E===e.WEB_MERCATOR){const r=n[1]/o.radius;return u[0]=1,u[1]=1/Math.cos(r),u[2]=1,!0}}return!1}export{n as localLinearScaleFactors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nvar t,e,a,i,n,o,r,c,s,N,p,l,S,g,u;!function(t){t.U8=\"U8\",t.I8=\"I8\",t.U16=\"U16\",t.I16=\"I16\",t.U32=\"U32\",t.I32=\"I32\",t.F32=\"F32\",t.F64=\"F64\",t.Utf8String=\"Utf8String\",t.NotSet=\"NotSet\"}(t||(t={})),function(t){t.Png=\"Png\",t.Jpeg=\"Jpeg\",t.Dds=\"Dds\",t.Raw=\"Raw\",t.Dxt1=\"Dxt1\",t.Dxt5=\"Dxt5\",t.Bc7=\"Bc7\",t.Basis=\"Basis\",t.Etc1=\"Etc1\",t.Etc2=\"Etc2\",t.Astc=\"Astc\",t.Pvrtc=\"Pvrtc\",t.NotSet=\"NotSet\"}(e||(e={})),function(t){t.Position=\"Position\",t.Normal=\"Normal\",t.TexCoord=\"TexCoord\",t.Color=\"Color\",t.Tangent=\"Tangent\",t.FeatureIndex=\"FeatureIndex\",t.UvRegion=\"UvRegion\",t.FeatureVariable=\"FeatureVariable\",t.NotSet=\"NotSet\"}(a||(a={})),function(t){t.Opaque=\"Opaque\",t.Mask=\"Mask\",t.Blend=\"Blend\"}(i||(i={})),function(t){t.None=\"None\",t.Mask=\"Mask\",t.Alpha=\"Alpha\",t.PreMultAlpha=\"PreMultAlpha\",t.NotSet=\"NotSet\"}(n||(n={})),function(t){t.Points=\"Points\",t.Lines=\"Lines\",t.LineStrip=\"LineStrip\",t.Triangles=\"Triangles\",t.TriangleStrip=\"TriangleStrip\",t.NotSet=\"NotSet\"}(o||(o={})),function(t){t.None=\"None\",t.WrapXBit=\"WrapXBit\",t.WrapYBit=\"WrapYBit\",t.WrapXy=\"WrapXy\",t.NotSet=\"NotSet\"}(r||(r={})),function(t){t.Linear=\"Linear\",t.Nearest=\"Nearest\",t.NotSet=\"NotSet\"}(c||(c={})),function(t){t.Linear=\"Linear\",t.Nearest=\"Nearest\",t.NearestMipmapNearest=\"NearestMipmapNearest\",t.LinearMipmapNearest=\"LinearMipmapNearest\",t.NearestMipmapLinear=\"NearestMipmapLinear\",t.LinearMipmapLinear=\"LinearMipmapLinear\",t.NotSet=\"NotSet\"}(s||(s={})),function(t){t.FeatureId=\"FeatureId\",t.GlobalUid=\"GlobalUid\",t.UnspecifiedDateTime=\"UnspecifiedDateTime\",t.EcmaIso8601DateTime=\"EcmaIso8601DateTime\",t.EcmaIso8601DateOnly=\"EcmaIso8601DateOnly\",t.TimeOnly=\"TimeOnly\",t.TimeStamp=\"TimeStamp\",t.ColorRgb=\"ColorRgb\",t.ColorRgba=\"ColorRgba\",t.Unrecognized=\"Unrecognized\",t.NotSet=\"NotSet\"}(N||(N={})),function(t){t.Texture=\"Texture\",t.VertexAtrb=\"VertexAtrb\",t.Implicit=\"Implicit\",t.NotSet=\"NotSet\"}(p||(p={})),function(t){t.Front=\"Front\",t.Back=\"Back\",t.None=\"None\",t.NotSet=\"NotSet\"}(l||(l={})),function(t){t.Pbr=\"Pbr\",t.Unlit=\"Unlit\"}(S||(S={})),function(t){t.Rgb8=\"Rgb8\",t.Rgba8=\"Rgba8\",t.R8=\"R8\",t.Bgr8=\"Bgr8\",t.Bgra8=\"Bgra8\",t.Rg8=\"Rg8\",t.Ga8=\"Ga8\",t.Etc1=\"Etc1\",t.Etc2=\"Etc2\",t.Dxt1=\"Dxt1\",t.Dxt5=\"Dxt5\",t.Bc7=\"Bc7\",t.NotSet=\"NotSet\"}(g||(g={})),function(t){t[t.Succeeded=0]=\"Succeeded\",t[t.Failed=1]=\"Failed\",t[t.MissingInputs=2]=\"MissingInputs\"}(u||(u={}));const m=-1,d=-2;export{i as Lyr3DAlphaMode,l as Lyr3DFaceCullingMode,p as Lyr3DFeatureIndexSource,e as Lyr3DImageFormat,S as Lyr3DLightingModel,c as Lyr3DMagFilterMode,s as Lyr3DMinFilterMode,g as Lyr3DPixelFormat,o as Lyr3DPrimitiveType,N as Lyr3DSchemaPropertySemantic,n as Lyr3DTransparency,t as Lyr3DType,r as Lyr3DUvWrapMode,a as Lyr3DVtxAtrbSemantic,u as Lyr3DWasmWorkerOutputStatus,m as invalidLayerView,d as wasmFailedToInit};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import o from\"../../../../core/Logger.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromQuat as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as l,t as c}from\"../../../../chunks/vec32.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBoundingSphere as m}from\"../../../../geometry/projection/projectBoundingSphere.js\";import{empty as u,expand as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{f as d}from\"../../../../chunks/sphere.js\";import{ElevationRange as f}from\"../../support/ElevationRange.js\";import{ElevationUpdateEvent as v}from\"../../support/ElevationUpdateEvent.js\";import{newIntersector as g}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as E}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";let x=class extends(r.EventedMixin(t)){constructor(e){super(e),this._tmpEvent=new v,this._renderCoordsHelper=e.view.renderCoordsHelper,this._renderSR=this._renderCoordsHelper.spatialReference,this._layerElevationSource=e.layerElevationSource}initialize(){this._intersector=g(this.view.state.viewingMode),this._intersector.options.store=E.MIN,this._intersector.options.normalRequired=!1,this._tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}get spatialReference(){return this.view?.elevationProvider?.spatialReference}getElevation(e,t,r,n){const i=this._renderCoordsHelper,s=l(R,e,t,r);if(!i.toRenderCoords(s,n,s))return o.getLogger(this).error(\"could not project point to compute elevation\"),null;const{layerElevationSource:a,_intersector:c,intersectionHandler:p}=this,m=a.fullExtent,u=null!=m&&Number.isFinite(m.xmin)&&Number.isFinite(m.xmax)&&Number.isFinite(m.ymin)&&Number.isFinite(m.ymax)&&Number.isFinite(m.zmin)&&Number.isFinite(m.zmax)?new f(m.zmin,m.zmax):a.elevationRange;if(null==u)return null;const h=a.elevationOffset,d=u.elevationRangeMin+h,v=u.elevationRangeMax+h,g=i.setAltitude(y,v,s),E=i.setAltitude(b,d,s);return c.reset(g,E,null),p.intersect(c,null,g,E,null,!0),c.results.min.getIntersectionPoint(s)?i.getAltitude(s):null}getSphereElevationBounds(e,t){return m(e,t,j,this._renderSR),this._layerElevationSource.getElevationRange(j)}getRootElevationBounds(){const e=this.layerElevationSource.fullExtent;return e?.hasZ?new f(e.zmin,e.zmax):null}objectsChanged(e){this.spatialReference&&(this._computeLayerExtent(e,this._tmpEvent.extent),this._tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this._tmpEvent))}objectChanged(e){this.spatialReference&&(this._computeObjectExtent(e,this._tmpEvent.extent),this._tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this._tmpEvent))}_computeObjectExtent(e,t){u(t),this._expandExtent(e,t)}_computeLayerExtent(e,t){u(t);for(const r of e)this._expandExtent(r,t)}_expandExtent(e,t){const r=this.spatialReference;if(null==r)return;if(null==e)return;s(_,e.quaternion),_[12]=e.center[0],_[13]=e.center[1],_[14]=e.center[2];const o=e.halfSize;for(let n=0;n<8;++n)R[0]=1&n?o[0]:-o[0],R[1]=2&n?o[1]:-o[1],R[2]=4&n?o[2]:-o[2],c(R,R,_),this._renderCoordsHelper.fromRenderCoords(R,R,r),h(t,R,t)}};e([n({constructOnly:!0})],x.prototype,\"layerElevationSource\",void 0),e([n({constructOnly:!0})],x.prototype,\"intersectionHandler\",void 0),e([n({constructOnly:!0})],x.prototype,\"view\",void 0),e([n()],x.prototype,\"spatialReference\",null),x=e([i(\"esri.views.3d.layers.i3s.LayerElevationProvider\")],x);const _=a(),j=d(0,0,0,0),R=p(),y=p(),b=p();export{x as LayerElevationProvider};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass i{constructor(i,o){this.position=i,this.rotationScale=o,this.origin=void 0}}export{i as Transform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../core/mathUtils.js\";import{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getProjectorClassification as t,copy3 as n,ProjectionID as o,projectionTable as s,wgs84ToWebMercator as i}from\"./projectors.js\";import{earth as c}from\"../support/Ellipsoid.js\";function l(e,r,l,f){if(null==r||null==f)return!1;const p=t(r,f);if(null==p?.projector)return!1;if(p.projector===n)return l[0]=e[0],l[1]=e[1],l[2]=e[2],l[3]=e[3],!0;const{source:E,dest:m,projector:R}=p;if(m.spatialReferenceId===o.WEB_MERCATOR){const r=s[E.spatialReferenceId][o.WGS84];return null!=r&&(r(e,0,u,0),i(u,0,l,0),l[3]=a(u[1],e[2],e[3],c.radius),!0)}if(E.spatialReferenceId!==o.WGS84&&E.spatialReferenceId!==o.CGCS2000||m.spatialReferenceId!==o.PLATE_CARREE){R(e,0,l,0);const r=E.metersPerUnit??1,t=m.metersPerUnit??1;l[3]=e[3]*r/t}else{const r=s[E.spatialReferenceId][o.SPHERICAL_ECEF],t=s[o.SPHERICAL_ECEF][o.PLATE_CARREE];let n=e[3];null!=r&&null!=t&&(n=a(e[1],e[2],e[3],c.radius)),R(e,0,l,0),l[3]=n}return!0}function a(e,r,t,n){const o=n+r;if(o<n/2||t>o)return Number.MAX_VALUE;const s=Math.abs(f*e)+Math.asin(t/o);return s>=Math.PI/2?Number.MAX_VALUE:t/Math.cos(s)}const u=r(),f=e(1);export{l as projectBoundingSphere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as e}from\"./support/LayerViewPerformanceInfo.js\";class t extends e{constructor(e,t,s,r,o,h,c){super(e,0,0,0,t),this.nodesCached=s,this.vboMB=r,this.textureMB=o,this.vboMBCached=h,this.textureMBCached=c}}export{t as IntegratedMesh3DTilesViewPerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{Lyr3DPrimitiveType as e,Lyr3DAlphaMode as t,Lyr3DFaceCullingMode as n,Lyr3DUvWrapMode as E,Lyr3DType as r}from\"../../../../layers/ILyr3DWasmPerSceneView.js\";import{AlphaDiscardMode as s,CullFaceOptions as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{PrimitiveType as i,TextureWrapMode as a}from\"../../../webgl/enums.js\";const l={[e.Points]:null,[e.Lines]:null,[e.LineStrip]:null,[e.Triangles]:i.TRIANGLES,[e.TriangleStrip]:i.TRIANGLE_STRIP,[e.NotSet]:null},T={[t.Opaque]:s.Opaque,[t.Mask]:s.Mask,[t.Blend]:s.Blend},P={[n.Back]:o.Back,[n.Front]:o.Front,[n.None]:o.None,[n.NotSet]:o.Back},_={[E.WrapYBit]:{s:a.CLAMP_TO_EDGE,t:a.REPEAT},[E.WrapXBit]:{s:a.REPEAT,t:a.CLAMP_TO_EDGE},[E.WrapXy]:{s:a.REPEAT,t:a.REPEAT},[E.None]:{s:a.CLAMP_TO_EDGE,t:a.CLAMP_TO_EDGE},[E.NotSet]:{s:a.CLAMP_TO_EDGE,t:a.CLAMP_TO_EDGE}},A={[r.U8]:1,[r.I8]:1,[r.U16]:2,[r.I16]:2,[r.U32]:4,[r.I32]:4,[r.F32]:4,[r.F64]:8,[r.Utf8String]:1,[r.NotSet]:1};export{T as alphaModeConversion,P as faceCullingConversion,A as lyr3DTypeToByteSize,l as primTypeConversion,_ as wrapModeConversion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import{Tiles3DTarget as i}from\"../i3s/Intersector.js\";import{newIntersectorResult as t}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as r,StoreResults as s}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{MeshIntersectionOptions as n}from\"../../webgl-engine/lib/RayIntersections.js\";class l{constructor(e){this.layerUid=[],this.type=r.TILES3D,this.slicePlaneEnabled=!1,this.isGround=!0,this.layerView=e,this.layerUid.push(e.layer.uid)}intersect(e,r,l,o,a,c){const u=e.results,d=e.options.store===s.ALL;if(e.options.filteredLayerUids.includes(this.layerView.layer.uid))return;const h=this.layerView.view._stage.renderView.componentObjectCollection,y=new n(c??!1,e.options.normalRequired);this.layerView.objects.forEach((s=>{s.visible&&s.intersectionGeometry&&h.intersect(s,l,o,e.tolerance,null,y,((s,n,a,c)=>{if(n>=0){if(null!=r&&!r(l,o,n))return;const s=e=>{const t=new i(this.layerView.layer.uid,(()=>this._createTiles3DGraphic(this.layerView.layer,{})));e.set(this.type,t,n,a)};if(this.isGround&&(null==u.ground.dist||n<u.ground.dist)&&s(u.ground),e.options.isFiltered)return;if((null==u.min.dist||n<u.min.dist)&&s(u.min),(null==u.max.dist||n>u.max.dist)&&s(u.max),d){const i=t(e.ray);s(i),e.results.all.push(i)}}}))}))}_createTiles3DGraphic(i,t){return new e({layer:i,sourceLayer:i,attributes:t})}}export{l as Tiles3DIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import r from\"../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{watch as i,initial as o}from\"../../../core/reactiveUtils.js\";import{schedule as a}from\"../../../core/scheduling.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as c,invert as m}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{IDENTITY as d,create as h}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{translate as u,getTranslation as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{fromValues as g}from\"../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{g as b,q as y}from\"../../../chunks/vec32.js\";import{fromArray as w,create as _}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as v}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{SphericalECEFSpatialReferenceLike as x}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as j}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{localLinearScaleFactors as C}from\"../../../geometry/projection/localLinearScaleFactors.js\";import{projectVectorToVector as T}from\"../../../geometry/projection/projectVectorToVector.js\";import{BufferViewVec4f as M,BufferViewVec4u8 as P,BufferViewVec4u16 as O,BufferViewVec3f as U,BufferViewVec3u8 as E,BufferViewVec3u16 as I,BufferViewVec2f as V,BufferViewInt16 as A,BufferViewUint32 as H,BufferViewUint16 as S}from\"../../../geometry/support/buffer/BufferView.js\";import{invalidLayerView as R,wasmFailedToInit as F,Lyr3DLightingModel as D,Lyr3DUvWrapMode as L,Lyr3DImageFormat as k,Lyr3DPixelFormat as B,Lyr3DVtxAtrbSemantic as N,Lyr3DType as G}from\"../../../layers/ILyr3DWasmPerSceneView.js\";import{getElevationOffsetInMeters as z}from\"../../../support/elevationInfoUtils.js\";import{ViewingMode as W}from\"../../ViewingMode.js\";import{IntegratedMesh3DTilesViewPerformanceInfo as $}from\"./IntegratedMesh3DTilesViewPerformanceInfo.js\";import{DrapeTargetType as q}from\"./interfaces.js\";import{LayerView3D as J}from\"./LayerView3D.js\";import{addLayerViewToWasm as K,removeLayerViewFromWasm as X,getLyr3DWasm as Q}from\"./Lyr3DWasm.js\";import{LayerElevationProvider as Y}from\"./i3s/LayerElevationProvider.js\";import{primTypeConversion as Z,alphaModeConversion as ee,faceCullingConversion as te,wrapModeConversion as re,lyr3DTypeToByteSize as se}from\"./support/lyr3dTypeConversions.js\";import{Tiles3DIntersectionHandler as ie}from\"./support/Tiles3DIntersectionHandler.js\";import{ElevationRange as oe}from\"../support/ElevationRange.js\";import{Obb as ae,compute as ne}from\"../support/orientedBoundingBox.js\";import{ObjectParameters as le}from\"../webgl-engine/collections/Component/ObjectParameters.js\";import{GeometryParameters as ce,createVertexBufferLayout as me}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{Transform as de}from\"../webgl-engine/collections/Component/Transform.js\";import{ComponentParameterSummary as he}from\"../webgl-engine/collections/Component/Material/ComponentMaterial.js\";import{RenderTexture as ue}from\"../webgl-engine/core/material/RenderTexture.js\";import{TextureCoordinateType as pe}from\"../webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{getEllipsoidMode as fe}from\"../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Attribute as ge}from\"../webgl-engine/lib/Attribute.js\";import{CullFaceOptions as be,AlphaDiscardMode as ye,TextureEncodingMimeType as we}from\"../webgl-engine/lib/basicInterfaces.js\";import{compressAndTransformNormals as _e}from\"../webgl-engine/lib/Normals.js\";import{Texture as ve}from\"../webgl-engine/lib/Texture.js\";import{VertexAttribute as xe}from\"../webgl-engine/lib/VertexAttribute.js\";import{writeDefaultAttribute as je}from\"../webgl-engine/materials/internal/bufferWriterUtils.js\";import Ce from\"../../layers/LayerView.js\";import{isInEffectiveScaleRange as Te}from\"../../support/layerViewUtils.js\";import{alphaCutoff as Me}from\"../../../webscene/support/AlphaCutoff.js\";var Pe;!function(e){e[e.API=1]=\"API\",e[e.VerboseAPI=2]=\"VerboseAPI\",e[e.Error=3]=\"Error\"}(Pe||(Pe={}));class Oe{constructor(){this.handle=0,this.isVisible=!1,this.components=[],this.texMemoryUsage=0,this.vboMemoryUsage=0,this.cpuMemoryUsage=0,this.textures=[]}get usedMemory(){return this.texMemoryUsage+this.vboMemoryUsage+this.cpuMemoryUsage}get cachedMemory(){return this.usedMemory}}function Ue(e){return Math.round(e/1048.576)/1e3}let Ee=class extends(J(Ce)){constructor(){super(...arguments),this.type=\"integrated-mesh-3dtiles\",this._visibleGeometryChangedSchedulerHandle=null,this._wasmLayerId=-1,this.ignoresMemoryFactor=!1,this.drapeTargetType=q.WithoutRasterImage,this._applySSAO=!has(\"disable-feature:im-ssao\"),this._shadeNormals=!!has(\"enable-feature:im-shading\"),this._lyrHandleToObjects=new Map,this._initialCullFace=new Map,this._suspendedHandle=null,this._dbgFlags=new Set}initialize(){if(this._dbgFlags.add(Pe.Error),this._dbg(Pe.VerboseAPI,\"Tiles3DLayerView3D initialize() called\"),!this._canProjectWithoutEngine())throw new t(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{});const e=K(this).then((e=>{this._intersectionHandler=new ie(this),this.view.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(e))),this._elevationProvider=new Y({view:this.view,layerElevationSource:this,intersectionHandler:this._intersectionHandler}),this.view.elevationProvider.register(\"im\",this._elevationProvider),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this),this._wasmLayerId=e;const t=this.view.resourceController.memoryController.newCache(`t3d-${this.uid}`,(e=>this._onRemoveFromCache(e)));this._memCache=t,this.addHandles([i((()=>this.layer.elevationInfo),(e=>this._elevationInfoChanged(e)))]),this._suspendedHandle=i((()=>this.suspended),(e=>this._wasm?.setEnabled(this,!e)),o)})).catch((e=>{if(X(this),this._wasmLayerId=-1,e===R)throw new t(\"tiles3d:addLayer-failure\",\"The 3d tiles layer description was invalid.\",{});if(e===F)throw new t(\"tiles3d:addLayer-failure\",\"The 3d tiles layer web assembly module failed to download.\",{})}));this.addResolvingPromise(e)}destroy(){this._dbg(Pe.VerboseAPI,\"Tiles3DLayerView3D destroy() called\"),X(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null),this._intersectionHandler&&(this.view.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null),this._elevationProvider&&(this._elevationProvider.objectsChanged(this._obbs),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this),this._lyrHandleToObjects.forEach((e=>this.freeObject(e))),this._lyrHandleToObjects.clear(),this._initialCullFace.clear(),this._memCache=s(this._memCache),this._updatingHandles=s(this._updatingHandles),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}_visibleGeometryChanged(){this._visibleGeometryChangedSchedulerHandle??=a((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlaneEnabled=e),this.objects.forEach((t=>{const r=this._collection.getMaterial(t);r.commonMaterialParameters.hasSlicePlane=e,r.commonMaterialParameters.cullFace=e?be.None:this._initialCullFace.get(t)}))}_elevationInfoChanged(e){this._wasm?.setLayerOffset(this,z(e))}get _obbs(){return this.objects.map((e=>this._collection.getComponentObb(e)))}get _wasm(){return Q(this.view)}get wasmLayerId(){return this._wasmLayerId}get usedMemory(){let e=0;return this._lyrHandleToObjects.forEach((t=>{t.isVisible&&(e+=t.usedMemory)})),e}get unloadedMemory(){return 0}get cachedMemory(){let e=0;return this._lyrHandleToObjects.forEach((t=>{t.isVisible||(e+=t.usedMemory)})),e}get visibleAtCurrentScale(){return Te(this.layer.effectiveScaleRange,this.view.scale)}get performanceInfo(){let e=0,t=0,r=0,s=0,i=0,o=0;return this._lyrHandleToObjects.forEach((a=>{a.isVisible?(e+=a.texMemoryUsage,t+=a.vboMemoryUsage,i++):(r+=a.texMemoryUsage,s+=a.vboMemoryUsage,o++)})),new $(this.usedMemory,i,o,Ue(t),Ue(e),Ue(s),Ue(r))}_canProjectWithoutEngine(){if(this.view.state.viewingMode===W.Local){const e=this.view.renderSpatialReference?.isWebMercator?3857:this.view.renderSpatialReference?.wkid??-1;if(3857!==e&&32662!==e)return!1}return!0}get _stage(){return this.view._stage}get _collection(){return this._stage.renderView.componentObjectCollection}get elevationOffset(){return z(this.layer.elevationInfo)}get elevationRange(){const e=this.fullExtent;return e?.zmin&&e?.zmax?new oe(e.zmin,e.zmax):null}getElevationRange(e){return null}get fullExtent(){return this.layer.fullExtent}get objects(){return Array.from(this._lyrHandleToObjects.values()).reduce(((e,t)=>e.concat(t.components)),new Array)}isUpdating(){const e=this._wasm;return!(this._wasmLayerId<0||null==e)&&e.isUpdating(this._wasmLayerId)}updatingFlagChanged(){this.notifyChange(\"updating\")}async createRenderable(e){const t=e.meshData;if(null==t.data)throw new Error(\"meshData.data undefined\");if(t.desc=JSON.parse(t.desc),null==t.desc)throw new Error(\"meshData.desc undefined\");const r=w(t.desc.origin),s=new Array,i=new Map,o=new Oe;o.handle=e.handle,this._lyrHandleToObjects.set(e.handle,o);const a=this.view.basemapTerrain.spatialReference;let n,l;if(\"global\"===this.view.viewingMode){const e=f();j(x,r,e,a),n=c(h(),e),l=m(h(),n)}else n=d,l=d;const M=f();u(M,M,r);const P=p(_(),M);let O=null;const U=_();if(t.desc.obb){const e=t.desc.obb.quaternion;O=new ae(t.desc.obb.center,t.desc.obb.halfSize,g(e[0],e[1],e[2],e[3]))}for(let c=0;c<t.desc.prims.length;c++){const e=t.desc.prims[c];this._dbg(Pe.VerboseAPI,JSON.stringify(e));if(null==Z[e.ptype]||null==t.data){this._dbg(Pe.VerboseAPI,\"[Unsupported Feature] Unsupported primitive mode (\"+e.ptype+\"). Skipping primitive.\");continue}const m=t.desc?.materials&&null!=e.materialId?t.desc.materials[e.materialId]:null,h=null!=m?m.lightingModel:D.Unlit,{positionView:u,positionAttr:p,normalsView:f,normalsAttr:g,colorAttr:w,texCoord0Attr:x,indicesView:j}=this.getBufferViews(e,t.data.buffer,n);if(null==p||null==u||null==j)continue;const M=new ce(null!=w,null!=x?pe.Default:pe.None,null!=f,this._shadeNormals,this._applySSAO),E=p.data.length/p.size,I=(e,t)=>!e||e.data.length/e.size===E||(this._dbg(Pe.Error,`${t} !== numPos. Skipping primitive.`),!1);if(!I(x,\"numTexcoord\")||!I(w,\"numColors\")||!I(g,\"normals\"))continue;const V=me(M);if(null!=O?O=O.clone():(O=ne(p),b(U,O.center,r),O.center=U),n!==d)for(let t=0;t<u.count;t++)u.getVec(t,U),y(U,U,n),u.setVec(t,U);const A=V.createBuffer(p.data.length),H=new Map([[xe.POSITION,p]]);null!=x&&H.set(xe.UV0,x),null!=w&&H.set(xe.COLOR,w),null!=g&&H.set(xe.NORMALCOMPRESSED,g),H.forEach(((e,t)=>{null!=e&&je(t,e,null,null,A,0)}));const S=new Uint32Array([0,j.typedBuffer.length]),R={vertices:{data:A.buffer,count:A.byteLength/V.stride,layoutParameters:M},positionData:{positions:u.typedBuffer,indices:j.typedBuffer},indices:j.typedBuffer,componentOffsets:S};o.cpuMemoryUsage+=u.count,o.cpuMemoryUsage+=j.count;const F=this.view.renderSpatialReference,L=_(),k=[1,1,1];C(P,F,k,a)||this._dbg(Pe.Error,\"Unsupported coordinate system for IM overlay\"),T(P,F,L,a);const B=this._collection.createObject(new le(v(L[0],L[1],k[0],k[1]),new de(P,l),O,R));m&&this._collection.updateMaterial(B,(e=>{e.baseColor=m.baseColorFactor,e.usePBR=h===D.Pbr,e.hasParametersFromSource=!1,e.baseColorTexture=this._getTexture(m.baseColorTex,t,i),e.usePBR&&(e.mrrFactors=[m.metallicFactor,m.roughnessFactor,0],e.emissiveFactor=m.emissiveFactor??[0,0,0],e.metallicRoughnessTexture=this._getTexture(m.metalTex,t,i),e.emissionTexture=this._getTexture(m.emissiveTex,t,i),e.occlusionTexture=this._getTexture(m.occlusionTex,t,i),e.normalTexture=this._getTexture(m.normalTex,t,i)),e.objectOpacity=0,e.alphaDiscardMode=ye.Mask;const r=[];e.baseColorTexture&&r.push(e.baseColorTexture.loadPromise),e.usePBR&&e.metallicRoughnessTexture&&r.push(e.metallicRoughnessTexture.loadPromise),e.usePBR&&e.emissionTexture&&r.push(e.emissionTexture.loadPromise),e.usePBR&&e.occlusionTexture&&r.push(e.occlusionTexture.loadPromise),e.usePBR&&e.normalTexture&&r.push(e.normalTexture.loadPromise);const a=Promise.all(r);s.push(a),a.then((()=>{e.alphaDiscardMode=ee[m.alphaMode],e.objectOpacity=1,o.texMemoryUsage+=e.baseColorTexture?.glTexture?.usedMemory||0,e.usePBR&&(o.texMemoryUsage+=e.metallicRoughnessTexture?.glTexture?.usedMemory||0,o.texMemoryUsage+=e.emissionTexture?.glTexture?.usedMemory||0,o.texMemoryUsage+=e.occlusionTexture?.glTexture?.usedMemory||0,o.texMemoryUsage+=e.normalTexture?.glTexture?.usedMemory||0)})),e.commonMaterialParameters.doubleSided=m.isDoubleSided,e.commonMaterialParameters.cullFace=m.faceCulling?te[m.faceCulling]:be.Back,this._initialCullFace.set(B,e.commonMaterialParameters.cullFace),e.commonMaterialParameters.hasSlicePlane=this.slicePlaneEnabled,e.componentParameters.castShadows=he.All,e.textureAlphaCutoff=m.alphaCutoff??Me,e.alphaDiscardMode=ee[m.alphaMode],e.isIntegratedMesh=!0,e.polygonOffsetEnabled=!1,e.hasOccludees=!1,e.ellipsoidMode=fe(this.view.spatialReference)})),o.components.push(B),o.vboMemoryUsage+=this._collection.getObjectGPUMemoryUsage(B)}if(await Promise.all(s),i.forEach((e=>{o.textures.push(e)})),!this._memCache)throw new Error(\"no memCache\");return this._memCache.put(`${o.handle}`,o),{memUsageBytes:o.usedMemory}}freeRenderable(e){const t=this._lyrHandleToObjects.get(e);t&&(this.freeObject(t),this._lyrHandleToObjects.delete(e))}freeObject(e){this._memCache&&this._memCache.pop(`${e.handle}`),e.components.forEach((t=>{e.textures.forEach((e=>{this._stage.remove(e)})),this._collection.destroyObject(t),this._initialCullFace.delete(t)}))}setRenderableVisibility(e,t,r){if(this._memCache){for(let s=0;s<r;++s){const r=e[s],i=t[s];if(!i)continue;const o=this._lyrHandleToObjects.get(r);o&&(this._visibleGeometryChanged(),o.isVisible=i,o.components.forEach((e=>{this._collection.setObjectVisibility(e,i),this._elevationProvider.objectChanged(this._collection.getComponentObb(e))})),this._memCache.pop(`${r}`))}for(let s=0;s<r;++s){const r=e[s],i=t[s];if(i)continue;const o=this._lyrHandleToObjects.get(r);o&&(this._visibleGeometryChanged(),o.isVisible=i,o.components.forEach((e=>{this._collection.setObjectVisibility(e,i),this._elevationProvider.objectChanged(this._collection.getComponentObb(e))})),this._memCache.put(`${r}`,o))}}}_getTexture(e,t,r){let s=null;if(e&&t.desc?.images&&t.data?.buffer){const i=t.desc.images[e?.imageId];if(s=r.get(i),!s&&i){const o=this._stage.renderView.renderingContext.parameters.maxMaxAnisotropy,a=!!i.mipCount||o>1,n=re[e.wrapMode??L.None];let l=i.alpha?4:3;const c=new Uint8Array(t.data.buffer,i.data.byteOffset,i.data.byteCount);let m=null,d=null,h=null;switch(i.format){case k.Raw:i.pixelFormat===B.R8?(m=c,l=1,d=\"\"):i.pixelFormat===B.Rgb8?(m=c,l=3,d=\"\"):i.pixelFormat===B.Rgba8&&(m=c,l=4,d=\"\");break;case k.Dxt1:m=c,l=3,d=we.DDS_ENCODING;break;case k.Dxt5:m=c,l=4,d=we.DDS_ENCODING;break;case k.Basis:m=c,l=3,d=we.KTX2_ENCODING;break;case k.Png:d=\"image/png\",h=document.createElement(\"img\");break;case k.Jpeg:d=\"image/jpeg\",h=document.createElement(\"img\");break;case k.Etc2:d=\"image/ktx\",h=document.createElement(\"img\");break;case k.Astc:this._dbg(Pe.Error,\"Astc texture not supported\");break;case k.Pvrtc:this._dbg(Pe.Error,\"Pvrtc texture not supported\")}if(h&&d){const e=new Blob([c],{type:d});h.src=URL.createObjectURL(e),m=h}m&&null!=d&&(s=new ve(m,{mipmap:a,maxAnisotropy:o,encoding:d,wrap:n,components:l,noUnpackFlip:!0,width:i.mip0Width,height:i.mip0Height}),this._stage.add(s),r.set(i,s))}}return s?new ue(this.view._stage.renderView.textures,s.id):null}getBufferViews(e,t,r){let s,i,o,a,n,l,c,m=null;for(let h=0;h<e.atrbs.length;h++){const c=e.atrbs[h],u=c.view,p=void 0,f=u.byteOffset+u.byteCount,g=u.byteCount/se[u.type],b=[...Array(g).keys()].map((e=>e));try{switch(c.sem){case N.Position:3!==u.ncomp||u.type!==G.F32?this._dbg(Pe.Error,\"[Unsupported Feature] Unsupported view for Position (\"+u+\")\"):(s=new U(t,u.byteOffset,p,f),i=new ge(s.typedBuffer,b,3));break;case N.Normal:if(3!==u.ncomp||u.type!==G.F32)this._dbg(Pe.Error,\"[Unsupported Feature] Unsupported view for Normal (\"+u+\")\");else{const e=new U(t,u.byteOffset,p,f),s=_e(e.typedBuffer,r);n=new A(s),l=new ge(n.typedBuffer,b,2)}break;case N.TexCoord:2!==u.ncomp||u.type!==G.F32?this._dbg(Pe.Error,\"[Unsupported Feature] Unsupported view for Texcoord (\"+u+\")\"):void 0===a&&(a=new ge(new V(t,u.byteOffset,p,f).typedBuffer,b,2));break;case N.Color:4===u.ncomp?(u.type===G.F32&&(m=new M(t,u.byteOffset,p,f)),u.type===G.U8&&(m=new P(t,u.byteOffset,p,f)),u.type===G.U16&&(m=new O(t,u.byteOffset,p,f))):3===u.ncomp&&(u.type===G.F32&&(m=new U(t,u.byteOffset,p,f)),u.type===G.U8&&(m=new E(t,u.byteOffset,p,f)),u.type===G.U16&&(m=new I(t,u.byteOffset,p,f))),null==m?this._dbg(Pe.VerboseAPI,\"[Unsupported Feature] Unsupported view for Color (\"+u+\")\"):o=new ge(m.typedBuffer,b,u.ncomp);break;case N.FeatureIndex:break;default:this._dbg(Pe.VerboseAPI,\"[Unsupported Feature] Unsupported semantic (\"+c.sem+\"). Skipping vertex attribute.\")}}catch(d){this._dbg(Pe.VerboseAPI,\"Error Creating buffer (\"+d+\"). Skipping vertex attribute.\")}}if(e.index){const r=e.index.view,s=void 0,i=r.byteOffset+r.byteCount;switch(e.index.view.type){case G.U16:c=new S(t,r.byteOffset,s,i);break;case G.U32:c=new H(t,r.byteOffset,s,i);break;case G.U8:default:this._dbg(Pe.Error,\"[Unsupported Feature] index type not supported (\"+r.type+\").\")}}if(null==c&&null!=s){const e=s.count;if(e<65535){const t=new Uint16Array(e);c=new S(t)}else{const t=new Uint32Array(e);c=new H(t)}for(let t=0;t<e;t++)c.set(t,t)}return{positionView:s,positionAttr:i,colorAttr:o,texCoord0Attr:a,indicesView:c,normalsView:n,normalsAttr:l}}_onRemoveFromCache(e){this._wasm?.onRenderableEvicted(this,e.handle,e.usedMemory),this.freeRenderable(e.handle)}_dbg(e,t){this._dbgFlags.has(e)&&(e===Pe.Error?r.getLogger(this).error(t):r.getLogger(this).warn(t))}};e([n()],Ee.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([n()],Ee.prototype,\"layer\",void 0),e([n({readOnly:!0})],Ee.prototype,\"visibleAtCurrentScale\",null),e([n()],Ee.prototype,\"elevationOffset\",null),Ee=e([l(\"esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D\")],Ee);const Ie=Ee;export{Ie as default};\n"],"names":["s","constructor","r","this","_textures","loadPromise","_disposed","i","acquire","t","then","e","_textureRef","dispose","glTexture","o","toMapSpace","transform","obb","geometry","n","f","u","c","p","a","source","spatialReferenceId","E","dest","UNKNOWN","SPHERICAL_ECEF","Math","sqrt","radius","WEB_MERCATOR","WGS84","CGCS2000","PLATE_CARREE","cos","N","l","S","g","U8","I8","U16","I16","U32","I32","F32","F64","Utf8String","NotSet","Png","Jpeg","Dds","Raw","Dxt1","Dxt5","Bc7","Basis","Etc1","Etc2","Astc","Pvrtc","Position","Normal","TexCoord","Color","Tangent","FeatureIndex","UvRegion","FeatureVariable","Opaque","Mask","Blend","None","Alpha","PreMultAlpha","Points","Lines","LineStrip","Triangles","TriangleStrip","WrapXBit","WrapYBit","WrapXy","Linear","Nearest","NearestMipmapNearest","LinearMipmapNearest","NearestMipmapLinear","LinearMipmapLinear","FeatureId","GlobalUid","UnspecifiedDateTime","EcmaIso8601DateTime","EcmaIso8601DateOnly","TimeOnly","TimeStamp","ColorRgb","ColorRgba","Unrecognized","Texture","VertexAtrb","Implicit","Front","Back","Pbr","Unlit","Rgb8","Rgba8","R8","Bgr8","Bgra8","Rg8","Ga8","Succeeded","Failed","MissingInputs","m","d","x","EventedMixin","super","_tmpEvent","v","_renderCoordsHelper","view","renderCoordsHelper","_renderSR","spatialReference","_layerElevationSource","layerElevationSource","initialize","_intersector","state","viewingMode","options","store","MIN","normalRequired","context","intersectionHandler","isGround","_this$view","elevationProvider","getElevation","R","toRenderCoords","getLogger","error","fullExtent","Number","isFinite","xmin","xmax","ymin","ymax","zmin","zmax","elevationRange","h","elevationOffset","elevationRangeMin","elevationRangeMax","setAltitude","y","b","reset","intersect","results","min","getIntersectionPoint","getAltitude","getSphereElevationBounds","j","getElevationRange","getRootElevationBounds","hasZ","objectsChanged","_computeLayerExtent","extent","emit","objectChanged","_computeObjectExtent","_expandExtent","_","quaternion","center","halfSize","fromRenderCoords","constructOnly","prototype","position","rotationScale","origin","projector","_E$metersPerUnit","_m$metersPerUnit","metersPerUnit","MAX_VALUE","abs","asin","PI","arguments","slicePlaneEnabled","supportsHeightUnitConversion","postscript","layer","addResolvingPromise","_validateHeightModelInfo","AbortController","signal","addHandles","abort","_this$view$defaultsFr","defaultsFromMap","heightModelInfoReady","heightModelInfo","IdentifiableMixin","EsriPromiseMixin","spatialReferenceSupported","_updatingHandles","parent","when","catch","name","_this$layer","id","title","concat","destroy","fullOpacity","_this$layer$opacity","_this$layer2","_this$parent$fullOpac","_this$parent","opacity","suspended","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","_this$layer3","updating","_this$_updatingHandle","isUpdating","updatingProgress","updateSuspended","visible","_this$layer4","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","_this$layer5","timeExtent","visibilityTimeExtent","intersection","isEmpty","_this$layer6","effectiveScaleRange","loaded","ready","_this$parent2","_t$view","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","readOnly","type","Boolean","nodesCached","vboMB","textureMB","vboMBCached","textureMBCached","TRIANGLES","TRIANGLE_STRIP","T","P","CLAMP_TO_EDGE","REPEAT","A","layerUid","TILES3D","layerView","push","uid","ALL","filteredLayerUids","includes","_stage","renderView","componentObjectCollection","objects","forEach","intersectionGeometry","tolerance","_createTiles3DGraphic","set","ground","dist","isFiltered","max","ray","all","sourceLayer","attributes","Pe","API","VerboseAPI","Error","Oe","handle","isVisible","components","texMemoryUsage","vboMemoryUsage","cpuMemoryUsage","textures","usedMemory","cachedMemory","Ue","round","Ee","J","Ce","_visibleGeometryChangedSchedulerHandle","_wasmLayerId","ignoresMemoryFactor","drapeTargetType","q","WithoutRasterImage","_applySSAO","has","_shadeNormals","_lyrHandleToObjects","Map","_initialCullFace","_suspendedHandle","_dbgFlags","Set","add","_dbg","_canProjectWithoutEngine","K","_intersectionHandler","ie","sceneIntersectionHelper","addIntersectionHandler","_slicePlaneEnabledChange","_elevationProvider","Y","register","basemapTerrain","overlayManager","registerDrapeTarget","resourceController","memoryController","newCache","_onRemoveFromCache","_memCache","elevationInfo","_elevationInfoChanged","_this$_wasm","_wasm","setEnabled","X","F","remove","removeIntersectionHandler","_obbs","unregister","unregisterDrapeTarget","freeObject","clear","_visibleGeometryChanged","_this$_visibleGeometr","_collection","getMaterial","commonMaterialParameters","hasSlicePlane","cullFace","be","get","_this$_wasm2","setLayerOffset","z","map","getComponentObb","Q","wasmLayerId","unloadedMemory","Te","scale","performanceInfo","$","W","Local","_this$view$renderSpat","_this$view$renderSpat2","_this$view$renderSpat3","renderSpatialReference","isWebMercator","wkid","oe","Array","from","values","reduce","updatingFlagChanged","notifyChange","createRenderable","meshData","data","desc","JSON","parse","w","M","O","U","ae","prims","length","_t$desc","stringify","Z","ptype","materials","materialId","lightingModel","D","positionView","positionAttr","normalsView","normalsAttr","colorAttr","texCoord0Attr","indicesView","getBufferViews","buffer","ce","pe","Default","size","I","V","me","clone","ne","count","getVec","setVec","createBuffer","H","xe","POSITION","UV0","COLOR","NORMALCOMPRESSED","je","Uint32Array","typedBuffer","vertices","byteLength","stride","layoutParameters","positionData","positions","indices","componentOffsets","L","k","C","B","createObject","le","de","updateMaterial","_m$emissiveFactor","_m$alphaCutoff","baseColor","baseColorFactor","usePBR","hasParametersFromSource","baseColorTexture","_getTexture","baseColorTex","mrrFactors","metallicFactor","roughnessFactor","emissiveFactor","metallicRoughnessTexture","metalTex","emissionTexture","emissiveTex","occlusionTexture","occlusionTex","normalTexture","normalTex","objectOpacity","alphaDiscardMode","ye","Promise","_e$baseColorTexture","_e$metallicRoughnessT","_e$emissionTexture","_e$occlusionTexture","_e$normalTexture","ee","alphaMode","doubleSided","isDoubleSided","faceCulling","te","componentParameters","castShadows","he","All","textureAlphaCutoff","alphaCutoff","Me","isIntegratedMesh","polygonOffsetEnabled","hasOccludees","ellipsoidMode","fe","getObjectGPUMemoryUsage","put","memUsageBytes","freeRenderable","delete","pop","destroyObject","setRenderableVisibility","setObjectVisibility","_t$desc2","_t$data","images","imageId","_e$wrapMode","renderingContext","parameters","maxMaxAnisotropy","mipCount","re","wrapMode","alpha","Uint8Array","byteOffset","byteCount","format","pixelFormat","we","DDS_ENCODING","KTX2_ENCODING","document","createElement","Blob","src","URL","createObjectURL","ve","mipmap","maxAnisotropy","encoding","wrap","noUnpackFlip","width","mip0Width","height","mip0Height","ue","atrbs","se","keys","sem","ncomp","G","ge","_e","index","Uint16Array","_this$_wasm3","onRenderableEvicted","warn","Ie"],"sourceRoot":""}