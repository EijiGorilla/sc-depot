"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[35331],{35331:(e,t,r)=>{r.r(t),r.d(t,{reconcile:()=>f,serverVersionCacheMap:()=>h});var s=r(89379),o=r(3825),n=r(50076),i=r(54994),a=r(94487),c=r(35143),l=r(42553),u=r(46053),p=(r(81806),r(76460),r(47249),r(85842));let d=class extends l.A{constructor(e){super(e),this.hasConflicts=!1,this.moment=null,this.didPost=!1,this.success=!1}};(0,c._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"hasConflicts",void 0),(0,c._)([(0,u.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.moment=e?e.getTime():null}}}})],d.prototype,"moment",void 0),(0,c._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"didPost",void 0),(0,c._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"success",void 0),d=(0,c._)([(0,p.$)("esri.rest.versionManagement.gdbVersion.support.ReconcileResult")],d);const v=d,h=new Map;async function f(e,t,r,c){var l;h.has(e)||await(0,a.t)(h,e);const u=h.get(e);if((null!==(l=null===u||void 0===u?void 0:u.serverVersion)&&void 0!==l?l:0)<=11.1)throw new n.default("reconcile:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!t)throw new n.default("reconcile:missing-guid","guid for version is missing");const p=(0,i.Dl)(e),d=r.toJSON(),f=(0,i.jV)(p.query,(0,s.A)((0,s.A)({query:(0,i.lF)((0,s.A)((0,s.A)({},d),{},{f:"json"}))},c),{},{method:"post"}));t.startsWith("{")&&(t=t.slice(1,-1));const m="".concat(p.path,"/versions/").concat(t,"/reconcile"),{data:w}=await(0,o.default)(m,f);return v.fromJSON(w)}},94487:(e,t,r)=>{r.d(t,{t:()=>o});var s=r(3825);async function o(e,t){let r=null;const o="string"==typeof t?t:t.path;if(!e.has(o)){const n=await(0,s.default)(o.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});r={serverVersion:Number(n.data.currentVersion),featureServerUrl:o.replace(/\/VersionManagementServer/i,"/FeatureServer")},e.set(t,r)}}}}]);
//# sourceMappingURL=35331.8ff892ad.chunk.js.map