{"version":3,"file":"static/js/58516.fd4a6e9e.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js","../node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import r from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r.EsriPromiseMixin(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import a from\"../../../../core/Accessor.js\";import t from\"../../../../core/Logger.js\";import{watch as l}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as r}from\"../../../../chunks/boundedPlane.js\";import o from\"../../../../layers/Layer.js\";import c from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as h,projectAndElevationAlignShape as u,projectedShapeToPlane as d,planeToShape as p}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as y}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as w}from\"../../terrain/isTerrainSurfaceLayer.js\";let v=class extends a{constructor(e){super(e),this._internalChange=!1,this._currentSlicePlane=null}initialize(){this.addHandles(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof o||i instanceof c)?i instanceof o&&w(i)?(t.getLogger(this).error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(t.getLogger(this).error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),V(this.view,this),this.addHandles([l((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),l((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),l((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),l((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this.addHandles([l((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slicePlane=null,this._updateActiveController(),this._updateViewSlicePlane()),L(this.view,this),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(h).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(null==i&&null==e||null!=i&&null!=e&&e.equals(i))return;let a=null,l=null;if(null!=e?.position){const i=e.position.spatialReference,s=u(e,this.view);null==s&&y(this.analysis,i,t.getLogger(this)),a=d(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},r()),null!=a&&(l={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=l,this._internalChange=!0,this.analysisViewData.plane=a,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,a=p(e,this.view,this.view.spatialReference,new i);let t=null;null!=a&&(t={heading:a.heading,tilt:a.tilt,position:a.position,width:a.width,height:a.height}),this._currentSlicePlane=t,this._internalChange=!0,this.analysis.shape=a,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(m)return;const e=_(this.view);if(!e)return;if(this.analysisViewData.active)null!=e.activeController&&e.activeController!==this?(m=!0,e.activeController.analysisViewData.active=!1,m=!1):null!=e.activeController&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(null!=e.activeController&&e.activeController!==this)return;null!=e.activeController&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){g(this.view)}_updateLayerViews(){const e=null!=this.analysisViewData.plane&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],a=e=>{\"layers\"in e?e.layers.forEach(a):i.push(e)};this.analysis.excludedLayers.forEach(a),this.view.allLayerViews.forEach((a=>{a.destroyed||(\"slicePlaneEnabled\"in a&&(a.slicePlaneEnabled=e&&!i.includes(a.layer)),\"sublayerViews\"in a&&a.sublayerViews.forEach((a=>{a.slicePlaneEnabled=e&&!i.includes(a.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([s()],v.prototype,\"view\",void 0),e([s()],v.prototype,\"analysis\",void 0),e([s()],v.prototype,\"analysisViewData\",void 0),e([s()],v.prototype,\"_allLayerAndSubLayerViews\",null),v=e([n(\"esri.views.3d.analysis.Slice.SliceController\")],v);const f=new Map;let m=!1;function g(e){const i=_(e),a=i?.activeController;null!=a?.analysisViewData.plane&&a.analysisViewData.visible?e.slicePlane=a.analysisViewData.plane:e.slicePlane=null}function V(e,i){f.has(e)||f.set(e,{all:[],activeController:null}),f.get(e)?.all.push(i)}function _(e){return f.get(e)}function L(e,i){if(!f.has(e))throw new Error(\"view expected in global slice register\");const a=f.get(e),t=a?.all.lastIndexOf(i)??-1;if(!a||-1===t)throw new Error(\"controller expected in global slice register\");a.all.splice(t,1),0===a.all.length&&f.delete(e)}export{v as SliceController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";function a(a){switch(a.type){case\"building-scene\":case\"catalog\":case\"catalog-dynamic-group\":case\"catalog-footprint\":case\"csv\":case\"dimension\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"integrated-mesh-3dtiles\":case\"kml\":case\"knowledge-graph\":case\"link-chart\":case\"knowledge-graph-sublayer\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"oriented-imagery\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"viewshed\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case\"parquet\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"media\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"video\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(a.type),!1}}export{a as isTerrainSurfaceLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../analysis/SlicePlane.js\";import{clock as i}from\"../../../../core/clock.js\";import{destroyMaybe as a,removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,sync as r,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";import{createScreenPoint as h,screenPointObjectToArray as p}from\"../../../../core/screenUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as d,fromScaling as _,multiply as v}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{f as P,l as y,c as m,h as w,g,t as f,n as M,i as D}from\"../../../../chunks/vec32.js\";import{clone as V,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{clone as T,ZEROS as E}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{d as k,a as S,n as x,f as j}from\"../../../../chunks/boundedPlane.js\";import{signedDistance as H,create as C,intersectRay as R,getNormal as O}from\"../../../../geometry/support/plane.js\";import{create as I}from\"../../../../geometry/support/ray.js\";import{sv3d as z,sm4d as G,sv2d as L}from\"../../../../geometry/support/vectorStacks.js\";import{getRotateHeadingTexture as U,getTiltRotateTexture as A}from\"../images/Factory.js\";import{ResizeManipulator as K}from\"./ResizeManipulator.js\";import{RotateManipulator as B}from\"./RotateManipulator.js\";import{getOutlineColor as F,planeColor as N}from\"./settings.js\";import{ShiftManipulator as q,OffsetMode as Z}from\"./ShiftManipulator.js\";import{pointerMoveTimerMs as W,planePreviewOutlineWidth as J,forceVerticalModifier as Q,forceHorizontalModifier as X,previewFadeDotThreshold as Y,previewFadeDurationSeconds as $,initialDepthOffsetFrac as tt}from\"./sliceToolConfig.js\";import{createGridVisualElement as et,createOutlineVisualElement as it,planeToShape as at,createRotatePlane as st,RotationAxis as nt,resizePlane as rt,calculatePlaneHalfSize as lt,SliceOrientation as ot,createPlane as ht,DidPointerMoveRecentlyFlag as pt,calculateBoundedPlaneTranslateRotate as ut,updateShiftRestartHandle as ct,updateRotateHeadingHandle as dt,updateRotateTiltHandle as _t,updateResizeHandle as vt,createShiftPlane as Pt}from\"./sliceToolUtils.js\";import{calculateInputRotationTransform as yt}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as mt}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{fromScreenNormalized as wt}from\"../../support/geometryUtils/ray.js\";import{AnalysisToolBase as gt}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as ft}from\"../../../interactive/dragEventPipeline.js\";import{newToolIntersector as Mt}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointFromEvent as Dt}from\"../../../support/screenUtils.js\";var Vt;let bt=Vt=class extends gt{constructor(t){super(t),this._clock=i,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this._layersMode=\"none\",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._frameTask=null,this._pointerMoveTimerMs=W,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=k(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=h(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=Mt(t.view.state.viewingMode)}initialize(){if(null==this.analysis)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(null!=this.analysisViewData.plane&&S(this.analysisViewData.plane,this._startPlane),this.inputState=null)},e=new q(this.view,Z.CENTER_ON_ARROW);this.shiftManipulator=e,this.manipulators.add(e),this.addHandles([this._createShiftDragPipeline(e),e.events.on(\"grab-changed\",(i=>{this._onShiftGrab(i),t(e)}))]);const i=!this.view._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result,a=new B(this.view,((t,e)=>U(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateHeadingManipulator=a,this.manipulators.add(a),this.addHandles([this._createRotateHeadingDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onRotateHeadingGrab(e),t(a)}))]);const s=new B(this.view,((t,e)=>A(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateTiltManipulator=s,this.manipulators.add(s),this.addHandles([this._createRotateTiltDragPipeline(s),s.events.on(\"grab-changed\",(e=>{this._onRotateTiltGrab(e),t(s)}))]),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=new K(this.view,e);return this.addHandles([this._createResizeDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onResizeGrab(e,i),t(a)}))]),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=et(this.view),this._previewPlaneOutlineVisualElement=it(this.view),this._previewPlaneOutlineVisualElement.width=J,this.addHandles(n((()=>[this.analysisViewData.plane,this.analysis.tiltEnabled]),(()=>this._updateManipulators()),r));const o=n((()=>this.state),(t=>{\"sliced\"===t&&this.finishToolCreation()}),l);this.addHandles([o,n((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=a(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=a(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?\"slicing\":t&&!e?\"sliced\":\"ready\":\"ready\"}get cursor(){return this._isPlacingSlicePlane||\"exclude\"===this.layersMode?\"crosshair\":null!=this._creatingPointerId?\"grabbing\":null}set analysis(t){if(null==t)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this.removeHandles(\"analysis\"),this._set(\"analysis\",t)}get layersMode(){return this._layersMode}get inputState(){return this._get(\"inputState\")}set inputState(t){this._set(\"inputState\",t),this.analysisViewData.showGrid=null!=t&&\"resize\"===t.type,this._updateMaterials()}get _isPlacingSlicePlane(){return!this.inputState&&!this.analysisViewData.plane&&this.active}get _creatingPointerId(){return null!=this.inputState&&\"shift\"===this.inputState.type?this.inputState.creatingPointerId:null}enterExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"exclude\",this.active||(this.view.activeTool=this))}exitExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"none\",this.active&&(this.view.activeTool=null))}onDeactivate(){this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case\"pointer-drag\":if(!kt(t))return;this._isPlacingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case\"pointer-move\":this._onPointerMove(t);break;case\"pointer-up\":this._onPointerUp(t)&&t.stopPropagation();break;case\"immediate-click\":if(!kt(t))return;this._onClickPlacePlane(t)&&t.stopPropagation();break;case\"click\":if(!kt(t))return;this._onClickExcludeLayer(t)&&t.stopPropagation();break;case\"drag\":this.inputState&&t.stopPropagation();break;case\"key-down\":this._onKeyDown(t)&&t.stopPropagation();break;case\"key-up\":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&null!=e&&\"shift\"===e.type){const i=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:e.hasBeenDragged?\"update\":\"start\",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),\"touch\"!==t.pointerType&&this._updatePreviewPlane(Dt(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&null!=this.analysisViewData.plane){const e=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),S(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(\"exclude\"===this.layersMode)return!1;if(this._isPlacingSlicePlane){const i=Dt(t),a=k();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if(\"pointer-drag\"===t.type){const e=wt(this.view.state.camera,i,xt);this.inputState=Et(e,t.pointerId,a.origin,a)}return S(a,this._startPlane),this.analysis.shape=at(a,this.view,this.view.spatialReference,new e),!0}}return!1}_onClickExcludeLayer(t){return!(\"exclude\"!==this.layersMode||!this.created)&&(this.view.hitTest(Dt(t)).then((t=>{if(t.results.length){const e=t.results[0],i=\"graphic\"===e?.type&&e.graphic;if(i){const t=i.sourceLayer||i.layer;t&&this.analysis.excludedLayers.push(t)}}else t.ground.layer?this.analysis.excludedLayers.push(t.ground.layer):this.analysis.excludeGroundSurface=!0})),this.exitExcludeLayerMode(),!0)}_onKeyDown(t){return(t.key===Q||t.key===X)&&(this._activeKeyModifiers[t.key]=!0,null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==Q&&t.key!==X||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=wt(this.view.state.camera,t.screenPoint,xt);S(this.analysisViewData.plane,this._startPlane),this.inputState=Et(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"shift\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=.001,a=Math.min((1-Math.abs(P(x(this.analysisViewData.plane),e.ray.direction)/y(e.ray.direction)))/i,1),s=-H(this._startPlane.plane,e.renderEnd),n=-H(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(null==this.analysisViewData.plane)return;const e=m(z.get(),this._startPlane.origin),i=m(z.get(),x(this._startPlane));w(i,i,-t.depth),g(i,i,e);const a=j(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,k());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.HEADING,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.TILT,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=O(t.rotatePlane),a=yt(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(null==this.analysisViewData.plane)return;const e=d(G.get(),t.rotateAngle,t.rotateAxis);if(null==e)return;const i=f(z.get(),this._startPlane.basis1,e),a=f(z.get(),this._startPlane.basis2,e),s=j(this.analysisViewData.plane.origin,i,a,k());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const i=wt(this.view.state.camera,t.screenPoint,xt),a=z.get();R(this.analysisViewData.plane.plane,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:V(a)})}_createResizeDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"resize\"!==a.type||null==this.analysisViewData.plane)return;const s=S(this.analysisViewData.plane,k());e.next(mt(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(null==this.analysisViewData.plane)return;const i=this._resizeHandles[t.activeHandleIdx],a=rt(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,S(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(null==e)throw new Error(\"valid internal object expected\");e.plane=t}_updatePreviewPlane(t,e={}){let i=this._previewPlane;if(this._previewPlane=null,null==t)return this._removeFrameTask(),void this._updateManipulators();if(!this.analysisViewData.plane&&this.active){const a=null!=i?i:k();if(i=null!=i?S(i,St):null,this._pickPlane(t,!0,e,a)){const t=Y;let e=!1;null!=i&&(e=P(O(i.plane),O(a.plane))<t||P(M(z.get(),i.basis1),M(z.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}null!=this._previewPlane&&null==this._frameTask&&0===this._previewPlaneOpacity?this._frameTask=o({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*$),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):null==this._previewPlane&&null!=this._frameTask?this._removeFrameTask():null!=this._previewPlane&&this._updateManipulators()}_removeFrameTask(){this._frameTask=s(this._frameTask)}_pickMinResult(t){const e=p(t,L.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=z.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(z.get()),l=this.view.state.camera;P(r,l.viewForward)>0&&w(r,r,-1);const o=lt(n,l),h=(e?1:-1)*o*tt,p=w(z.get(),r,h);g(p,p,n);const u=this.analysis.tiltEnabled?ot.TILTED:ot.HORIZONTAL_OR_VERTICAL,c=i[Q]?ot.VERTICAL:i[X]?ot.HORIZONTAL:u;return ht(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=pt,this.rotateHeadingManipulator.state|=pt,this.rotateTiltManipulator.state|=pt,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~pt,this.rotateHeadingManipulator.state&=~pt,this.rotateTiltManipulator.state&=~pt}),this._pointerMoveTimerMs)}_updateManipulators(){if(Vt.disableEngineLayers)return;let t,e=!1;if(null!=this.analysisViewData.plane)t=this.analysisViewData.plane,e=!1;else{if(null==this._previewPlane)return this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.visible=!1,void(this._previewPlaneGridVisualElement.visible=!1);t=this._previewPlane,e=!0}const i=ut(t,G.get());e?(this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.attached=!0,this._previewPlaneGridVisualElement.attached=!0,this._previewPlaneOutlineVisualElement.visible=!0,this._previewPlaneGridVisualElement.visible=!0):(this.shiftManipulator.available=!0,this.rotateHeadingManipulator.available=!0,this.rotateTiltManipulator.available=this.analysis.tiltEnabled,this.resizeManipulators.forEach((t=>t.available=!0)),ct(this.shiftManipulator,i,t,this.view.state.camera),dt(this.rotateHeadingManipulator,i,t,this.view.renderCoordsHelper),_t(this.rotateTiltManipulator,i,t),this.resizeManipulators.forEach(((e,a)=>vt(e,this._resizeHandles[a],i,t))),this._previewPlaneOutlineVisualElement.visible=!1,this._previewPlaneGridVisualElement.visible=!1);const a=D(z.get(),y(t.basis1),y(t.basis2),1),s=_(G.get(),a),n=v(s,i,s);this._previewPlaneOutlineVisualElement.transform=n,this._previewPlaneGridVisualElement.transform=n,this._updateMaterials()}_updateMaterials(){const t=F(this.view.effectiveTheme);t[3]*=this._previewPlaneOpacity;const e=T(N);e[3]*=this._previewPlaneOpacity,this._previewPlaneOutlineVisualElement.color=t,this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=E}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}get test(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};bt.disableEngineLayers=!1,t([u()],bt.prototype,\"_clock\",void 0),t([u({constructOnly:!0})],bt.prototype,\"view\",void 0),t([u()],bt.prototype,\"analysisViewData\",void 0),t([u({readOnly:!0})],bt.prototype,\"state\",null),t([u({readOnly:!0})],bt.prototype,\"cursor\",null),t([u()],bt.prototype,\"analysis\",null),t([u()],bt.prototype,\"removeIncompleteOnCancel\",void 0),t([u()],bt.prototype,\"_layersMode\",void 0),t([u()],bt.prototype,\"layersMode\",null),t([u({value:null})],bt.prototype,\"inputState\",null),t([u()],bt.prototype,\"_isPlacingSlicePlane\",null),t([u()],bt.prototype,\"_creatingPointerId\",null),bt=Vt=t([c(\"esri.views.3d.analysis.Slice.SliceTool\")],bt);const Tt=bt;function Et(t,e,i,a){const s=Pt(i,x(a),t.direction,C()),n=b();return R(s,t,n)?{type:\"shift\",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function kt(t){return\"mouse\"!==t.pointerType||0===t.button}const St=k(),xt=I();export{Tt as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{watch as s,syncAndInitial as o}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromScaling as a,multiply as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as m,l as u}from\"../../../../chunks/vec32.js\";import{ZEROS as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as c,sm4d as h}from\"../../../../geometry/support/vectorStacks.js\";import{getGridColor as d,getOutlineColor as v,planeColor as g}from\"./settings.js\";import{planePreviewOutlineWidth as w,planeOutlineWidth as V}from\"./sliceToolConfig.js\";import{createGridVisualElement as _,createOutlineVisualElement as f,calculateBoundedPlaneTranslateRotate as E}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as j}from\"../../webgl-engine/materials/lineStippleUtils.js\";let b=class extends e{constructor(i){super(i),this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(null==i)throw new Error(\"expected internal object to be valid\");this._gridVisualElement=_(this.view),this._outlineVisualElement=f(this.view),this.addHandles([s((()=>{const e=null!=i.plane&&this.analysisViewData.visible,{active:t}=this.analysisViewData,{preview:s,showGrid:o,view:r}=this,{effectiveTheme:l}=r;return{visible:e,active:t,preview:s,showGrid:o,gridColor:d(l),outlineColor:v(l)}}),(i=>this._updateMaterials(i)),o),s((()=>i.plane),(i=>this._updatePlane(i)),o)],\"internal\")}destroy(){this._gridVisualElement=t(this._gridVisualElement),this._outlineVisualElement=t(this._outlineVisualElement),this.set(\"view\",null)}_updatePlane(i){if(null==i)return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=m(c.get(),u(i.basis1),u(i.basis2),1),t=a(h.get(),e),s=E(i,h.get()),o=n(t,s,t);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:t,showGrid:s,gridColor:o,outlineColor:r}){this._outlineVisualElement.color=r,this._outlineVisualElement.width=t?w:V,this._outlineVisualElement.stipplePattern=e?null:j(5),this._gridVisualElement.backgroundColor=g,this._gridVisualElement.gridColor=s?o:p,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};i([r()],b.prototype,\"view\",void 0),i([r()],b.prototype,\"analysis\",void 0),i([r()],b.prototype,\"analysisViewData\",void 0),i([r()],b.prototype,\"showGrid\",void 0),i([r()],b.prototype,\"preview\",void 0),b=i([l(\"esri.views.3d.analysis.Slice.SliceVisualization\")],b);export{b as SliceVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as l}from\"./AnalysisView3D.js\";import{SliceController as e}from\"./Slice/SliceController.js\";import r from\"./Slice/SliceTool.js\";import{SliceVisualization as n}from\"./Slice/SliceVisualization.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as y}from\"../../analysis/analysisViewUtils.js\";let h=class extends(l(i)){constructor(s){super(s),this.type=\"slice-view-3d\",this.analysis=null,this.tool=null,this.analysisVisualization=null,this.analysisController=null,this.plane=null,this.active=!0}initialize(){this.analysisVisualization=new n({view:this.view,analysis:this.analysis,analysisViewData:this}),this.analysisController=new e({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(p(this,r))}destroy(){y(this),this.analysisVisualization=t(this.analysisVisualization),this.analysisController=t(this.analysisController)}get showGrid(){return this.analysisVisualization?.showGrid??!1}set showGrid(s){this.analysisVisualization&&(this.analysisVisualization.showGrid=s)}get editable(){return!this.analysisVisualization.preview}set editable(s){this.analysisVisualization.preview=!s}get testData(){}};s([a({readOnly:!0})],h.prototype,\"type\",void 0),s([a({constructOnly:!0,nonNullable:!0})],h.prototype,\"analysis\",void 0),s([a()],h.prototype,\"tool\",void 0),s([a()],h.prototype,\"plane\",void 0),s([a()],h.prototype,\"active\",void 0),s([a()],h.prototype,\"showGrid\",null),s([a()],h.prototype,\"editable\",null),h=s([o(\"esri.views.3d.analysis.SliceAnalysisView3D\")],h);const c=h;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as d,If as n}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as m}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{NoParameters as c}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as p}from\"../views/webgl/ShaderBuilder.js\";class u extends c{}function w(c){const u=new p,{vertex:w,fragment:b}=u,{output:f,perspectiveInterpolation:h}=c;return a(w,c),u.include(i,c),u.include(s,c),u.fragment.include(r,c),u.include(o,c),u.include(v,c),u.attributes.add(m.POSITION,\"vec3\"),u.attributes.add(m.UV0,\"vec2\"),h&&u.attributes.add(m.PERSPECTIVEDIVIDE,\"float\"),w.main.add(d`\n    vpos = position;\n    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ${n(h,\"gl_Position *= perspectiveDivide;\")}`),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vTexCoord\",\"vec2\"),b.include(t),b.uniforms.add(new l(\"opacity\",(e=>e.opacity)),new g(\"tex\",(e=>e.texture))).main.add(d`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n    ${n(f===e.ObjectAndLayerIdColor,\"fragColor = vec4(0, 0, 0, 1); return;\")}\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos);`),u}const b=Object.freeze(Object.defineProperty({__proto__:null,ImageMaterialPassParameters:u,build:w},Symbol.toStringTag,{value:\"Module\"}));export{b as I,u as a,w as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as i}from\"../lib/OITPass.js\";import{oitBlending as l,oitDepthTest as s,depthWrite as n,getDrawBuffers as o,getOITPolygonOffset as a}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as p,stencilToolMaskBaseParams as c,stencilBaseAllZerosParams as u}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{I as d}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as h,blendWithPremultipliedAlpha as f,cullingParams as g,defaultColorWrite as P}from\"../../../webgl/renderState.js\";class b extends r{constructor(e,r){super(e,r,new t(d,(()=>import(\"./ImageMaterial.glsl.js\"))),j)}_getPipelineState(t,r){const{oitPass:m,output:d,hasOccludees:b,enableOffset:j,cullFace:I}=t,S=m===i.NONE,O=m===i.FrontFace;return h({blending:e(d)?S?f:l(m):null,culling:g(I),depthTest:{func:s(m)},depthWrite:n(t),drawBuffers:o(m,d),colorWrite:P,stencilWrite:b?p:null,stencilTest:b?r?c:u:null,polygonOffset:S||O?null:a(j)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const j=new Map([[m.POSITION,0],[m.UV0,2],[m.PERSPECTIVEDIVIDE,3]]);export{b as ImageMaterialTechnique,j as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends s{constructor(){super(...arguments),this.cullFace=i.None,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}e([r({count:i.COUNT})],a.prototype,\"cullFace\",void 0),e([r()],a.prototype,\"enableOffset\",void 0),e([r()],a.prototype,\"writeDepth\",void 0),e([r()],a.prototype,\"hasOccludees\",void 0),e([r()],a.prototype,\"terrainDepthTest\",void 0),e([r()],a.prototype,\"cullAboveTerrain\",void 0),e([r()],a.prototype,\"perspectiveInterpolation\",void 0);export{a as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as s}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as p}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as l}from\"./DefaultLayouts.js\";import{TriangleMaterial as h}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as m}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as g,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as d}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class I extends h{constructor(e){super(e,b),this._configuration=new d,this.vertexAttributeLocations=g,this.supportsEdges=!0,this.produces=new Map([[n.OPAQUE_MATERIAL,e=>t(e)],[n.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[n.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[n.DRAPED_MATERIAL,e=>r(e)||t(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new _(e)}createBufferWriter(){const e=l.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new E(e)}}class _ extends s{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.getTechnique(T,e)}}class E extends p{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===c.PERSPECTIVEDIVIDE){u(1===s.size);const t=a.getField(n,e);t&&f(s,t,o)}else m(n,s,t,r,a,o)}}}class b extends a{constructor(e){super(),this.textureId=e,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.perspectiveInterpolation=!1}}export{I as ImageMaterial,b as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n"],"names":["s","n","r","EsriPromiseMixin","constructor","super","arguments","this","parent","_userInteractive","_interactiveViewModelCount","interactive","e","updating","visible","suspended","_overrideIfSome","forceInteractiveForViewModel","t","i","constructOnly","prototype","type","Boolean","readOnly","o","l","tool","view","a","activeTool","c","async","active","v","analysis","analysisViewData","tools","add","remove","_internalChange","_currentSlicePlane","initialize","addHandles","excludedLayers","on","item","w","getLogger","error","concat","title","id","preventDefault","includes","_f$get","f","has","set","all","activeController","get","push","V","plane","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","sync","excludeGroundSurface","_updateActiveController","_updateViewSlicePlane","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","destroy","slicePlane","_a$all$lastIndexOf","Error","lastIndexOf","splice","length","delete","L","allLayerViews","items","filter","h","flatMap","_ref","sublayerViews","equals","position","spatialReference","u","y","d","tiltEnabled","heading","tilt","width","height","p","m","_","g","layers","forEach","destroyed","slicePlaneEnabled","layer","sublayer","basemapTerrain","Map","Vt","bt","gt","_clock","_previewPlaneOpacity","removeIncompleteOnCancel","_layersMode","shiftManipulator","rotateHeadingManipulator","rotateTiltManipulator","resizeManipulators","_frameTask","_pointerMoveTimerMs","W","_prevPointerMoveTimeout","_previewPlaneGridVisualElement","_previewPlaneOutlineVisualElement","_startPlane","k","_previewPlane","_activeKeyModifiers","_lastCursorPosition","_resizeHandles","direction","_intersector","Mt","state","viewingMode","_this$view$_stage","_updateManipulatorsInteractive","grabbing","S","inputState","q","Z","CENTER_ON_ARROW","manipulators","_createShiftDragPipeline","events","_onShiftGrab","_stage","renderView","renderingContext","driverTest","svgPremultipliesAlpha","result","B","U","textures","accentColor","contrastColor","preMultiplyAlpha","_createRotateHeadingDragPipeline","_onRotateHeadingGrab","A","_createRotateTiltDragPipeline","_onRotateTiltGrab","map","K","_createResizeDragPipeline","_onResizeGrab","addMany","et","it","J","_updateManipulators","finishToolCreation","camera","_onCameraChange","_removeFrameTask","_clearPointerMoveTimeout","cursor","_isPlacingSlicePlane","layersMode","_creatingPointerId","removeHandles","_set","_get","showGrid","_updateMaterials","creatingPointerId","enterExcludeLayerMode","exitExcludeLayerMode","onDeactivate","_updatePreviewPlane","onShow","_updateVisibility","onHide","onInputEvent","kt","_onClickPlacePlane","stopPropagation","_onPointerDrag","_onPointerMove","_onPointerUp","_onClickExcludeLayer","_onKeyDown","_onKeyUp","onEditableChange","editable","internallyEditable","pointerId","Dt","emit","action","hasBeenDragged","pointerType","start","screenPoint","x","_resetPointerMoveTimeout","_pickPlane","wt","xt","Et","origin","at","created","hitTest","then","results","graphic","sourceLayer","ground","key","Q","X","renderLocation","ft","next","mt","shiftPlane","_shiftDragAdjustSensitivity","_shiftDragUpdatePlane","_updateBoundedPlane","Math","min","abs","P","ray","H","renderEnd","startPoint","depth","z","j","basis1","basis2","st","renderCoordsHelper","nt","HEADING","C","b","R","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","TILT","O","yt","_objectSpread","rotateAxis","rotateAngle","G","activeHandleIdx","_resizeDragUpdatePlane","rt","undefined","St","Y","M","update","deltaTime","$","_pickMinResult","sceneIntersectionHelper","intersectToolIntersectorScreen","getIntersectionPoint","getTransformedNormal","viewForward","lt","tt","ot","TILTED","HORIZONTAL_OR_VERTICAL","VERTICAL","HORIZONTAL","ht","pt","setTimeout","disableEngineLayers","available","ut","attached","ct","dt","_t","vt","D","transform","F","effectiveTheme","T","N","color","backgroundColor","gridColor","E","test","setPointerMoveTimerMs","value","Tt","Pt","button","I","_gridVisualElement","_outlineVisualElement","preview","outlineColor","_updatePlane","stipplePattern","analysisVisualization","analysisController","_this$analysisVisuali","_this$analysisVisuali2","testData","nonNullable","vertex","fragment","output","perspectiveInterpolation","include","attributes","POSITION","UV0","PERSPECTIVEDIVIDE","main","_templateObject","_taggedTemplateLiteral","varyings","uniforms","opacity","texture","_templateObject2","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","ImageMaterialPassParameters","build","Symbol","toStringTag","_getPipelineState","oitPass","hasOccludees","enableOffset","cullFace","NONE","FrontFace","blending","culling","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","_occludeePipeline","getPipeline","None","writeDepth","terrainDepthTest","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","objectAndLayerIdColorInstanced","count","COUNT","_configuration","vertexAttributeLocations","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","getConfiguration","hasSlicePlane","relativeElevation","createGLMaterial","createBufferWriter","clone","f32","material","beginSlot","updateTexture","_material","textureId","setParameters","textureBindParameters","getTechnique","write","vertexBufferLayout","fields","keys","size","getField","vec3f","vec2f","vec4u8","COLOR","OBJECTANDLAYERIDCOLOR"],"sourceRoot":""}