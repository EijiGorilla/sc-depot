{"version":3,"file":"static/js/41009.c23d84ae.chunk.js","mappings":"qTAIikC,MAAMA,UAAUC,EAAAA,EAAEC,WAAAA,CAAYC,EAAEC,GAAGC,MAAMF,EAAEC,EAAE,IAAIE,EAAAA,EAAEC,EAAAA,GAAG,IAAI,mCAAiCC,EAAE,CAACC,kBAAAA,CAAmBH,EAAEL,GAAG,MAAMS,OAAOC,EAAEC,QAAQC,EAAEC,MAAMC,EAAEC,aAAaC,GAAGX,EAAE,OAAOY,EAAAA,EAAAA,IAAE,CAACC,UAAShB,EAAAA,EAAAA,IAAEQ,IAAGS,EAAAA,EAAAA,IAAEP,GAAG,KAAKQ,UAAUN,IAAIO,EAAAA,GAAEC,OAAO,KAAK,CAACC,MAAKC,EAAAA,EAAAA,IAAEZ,IAAIa,YAAWC,EAAAA,EAAAA,IAAErB,GAAGsB,YAAYjB,IAAIP,EAAAA,EAAEyB,MAAM,CAACC,QAAQ,CAACC,EAAAA,GAAEC,QAAOC,EAAAA,EAAAA,IAAEpB,EAAEF,GAAGuB,WAAWC,EAAAA,GAAEC,aAAanB,EAAEoB,EAAAA,GAAE,KAAKC,YAAYrB,EAAEhB,EAAEsC,EAAAA,GAAEC,EAAAA,GAAE,KAAKC,cAAc,CAACC,OAAO,EAAEC,OAAO,KAAK,CAACC,kBAAAA,CAAmBzC,GAAG,OAAOA,EAAE0C,UAAUC,KAAKC,8BAA6B7B,EAAAA,EAAAA,IAAE,CAACC,SAAS6B,EAAAA,GAAE3B,UAAUR,EAAAA,GAAEa,WAAW,KAAKQ,WAAWC,EAAAA,GAAEC,aAAa,KAAKE,YAAYvB,EAAAA,KAAI+B,KAAKG,yBAAwB/B,EAAAA,EAAAA,IAAE,CAACC,SAAS6B,EAAAA,GAAE3B,UAAUR,EAAAA,GAAEa,WAAW,KAAKQ,WAAWC,EAAAA,GAAEC,aAAanB,EAAAA,GAAEqB,YAAYY,EAAAA,KAAIJ,KAAKK,4BAA2BjC,EAAAA,EAAAA,IAAE,CAACC,SAAS,KAAKE,UAAU+B,EAAAA,EAAE1B,WAAW,KAAKQ,WAAW,KAAKE,aAAaC,EAAAA,GAAEC,YAAYC,EAAAA,MAAKO,KAAKC,6BAA6BD,KAAKG,wBAAwBH,KAAKK,2BAA2B,KAAKL,KAAKO,uBAAuBP,KAAKrC,mBAAmBN,GAAE,GAAI2C,KAAKrC,mBAAmBN,GAAE,EAAG,CAACmD,WAAAA,CAAYnD,EAAEC,GAAE,IAAAmD,EAAAC,EAAAC,EAAC,OAAOtD,EAAE2C,KAAKO,uBAAuBjD,IAAIO,EAAAA,EAAE+C,8BAA+D,QAAlCH,EAACT,KAAKC,oCAA4B,IAAAQ,EAAAA,EAAElD,MAAMiD,cAAclD,IAAIO,EAAAA,EAAEgD,kBAA8C,QAA7BH,EAACV,KAAKG,+BAAuB,IAAAO,EAAAA,EAAEnD,MAAMiD,cAA6C,QAAhCG,EAACX,KAAKK,kCAA0B,IAAAM,EAAAA,EAAEpD,MAAMiD,aAAa,EAAE,MAAM9C,EAAE,IAAIoD,IAAI,CAAC,CAACC,EAAAA,EAAEC,SAAS,GAAG,CAACD,EAAAA,EAAEE,aAAa,GAAG,CAACF,EAAAA,EAAEG,IAAI,GAAG,CAACH,EAAAA,EAAEI,OAAO,GAAG,CAACJ,EAAAA,EAAEK,MAAM,GAAG,CAACL,EAAAA,EAAEM,sBAAsB,GAAG,CAACN,EAAAA,EAAEO,KAAK,GAAG,CAACP,EAAAA,EAAEQ,qBAAqB,GAAG,CAACR,EAAAA,EAAES,wBAAwB,K,0BCAp7C,MAAMnC,UAAUe,EAAAA,GAAEhD,WAAAA,CAAYC,GAAGE,MAAMF,EAAEoE,GAAGzB,KAAK0B,eAAe,IAAItD,EAAAA,GAAE4B,KAAK2B,yBAAyBZ,EAAEf,KAAK4B,SAAS,IAAId,IAAI,CAAC,CAACrB,EAAAA,EAAEoC,gBAAgBxE,GAAGA,IAAIwB,EAAAA,EAAEiD,YAAWnD,EAAAA,EAAAA,IAAEtB,IAAI2C,KAAK+B,WAAWC,iBAAiB1D,EAAAA,GAAE2D,8BAA8B,CAACxC,EAAAA,EAAEyC,gCAAgC7E,IAAG8B,EAAAA,EAAAA,IAAE9B,IAAI,CAACoC,EAAAA,EAAEoB,kBAAkBxD,IAAGc,EAAAA,EAAAA,IAAEd,IAAI2C,KAAK+B,WAAWC,iBAAiB1D,EAAAA,GAAE2D,8BAA8B,CAACxC,EAAAA,EAAEmB,8BAA8BvD,IAAGc,EAAAA,EAAAA,IAAEd,IAAI2C,KAAK+B,WAAWC,iBAAiB1D,EAAAA,GAAE2D,8BAA8B,CAACxC,EAAAA,EAAE0C,qBAAqB9E,IAAGsB,EAAAA,EAAAA,IAAEtB,IAAI2C,KAAK+B,WAAWK,YAAY,CAAC3C,EAAAA,EAAE4C,mCAAmChF,IAAGsB,EAAAA,EAAAA,IAAEtB,KAAK2C,KAAK+B,WAAWK,YAAY,CAAC3C,EAAAA,EAAE6C,gBAAgBjF,IAAGkC,EAAAA,EAAAA,IAAElC,IAAIA,IAAIwB,EAAAA,EAAEiD,aAAa9B,KAAKuC,QAAQvC,KAAKwC,cAAc,CAACC,gBAAAA,CAAiBpF,EAAEG,GAAG,OAAOwC,KAAK0B,eAAe9D,OAAOP,EAAE2C,KAAK0B,eAAe1D,MAAMR,EAAEkF,OAAOjD,EAAAA,EAAE6C,gBAAgBK,EAAAA,GAAElE,OAAOuB,KAAK+B,WAAWa,WAAWD,EAAAA,GAAEE,MAAMF,EAAAA,GAAEG,OAAO9C,KAAK0B,eAAeqB,oBAAoB/C,KAAK+B,WAAWgB,oBAAoB/C,KAAK0B,eAAesB,OAAOhD,KAAK+B,WAAWkB,MAAMC,EAAAA,EAAEC,KAAKnD,KAAK0B,eAAe0B,OAAOpD,KAAK+B,WAAWqB,OAAOpD,KAAK0B,eAAe2B,OAAOrD,KAAK+B,WAAWsB,OAAOrD,KAAK0B,eAAe4B,cAActD,KAAK+B,WAAWuB,cAActD,KAAK0B,eAAexD,aAAaV,EAAEU,aAAa8B,KAAK0B,eAAeU,WAAWpC,KAAK+B,WAAWK,WAAWpC,KAAK0B,eAAe6B,SAASvD,KAAK+B,WAAWwB,OAAOvD,KAAK0B,eAAe8B,UAAUxD,KAAK+B,WAAWyB,QAAQxD,KAAK0B,eAAe+B,YAAYzD,KAAK+B,WAAW0B,UAAUzD,KAAK0B,eAAe3B,SAASC,KAAK+B,WAAWC,iBAAiB1D,EAAAA,GAAE2D,6BAA6BjC,KAAK0B,eAAe5D,QAAQN,EAAEM,QAAQkC,KAAK0B,eAAegC,iBAAiBlG,EAAEkG,mBAAkBnE,EAAAA,EAAAA,IAAElC,GAAG2C,KAAK0B,eAAeiC,iBAAiBnG,EAAEmG,iBAAiB3D,KAAK0B,cAAc,CAAC,WAAIkC,GAAU,OAAO5D,KAAK+B,WAAW8B,MAAM,IAAIpG,EAAAA,CAAC,CAACqG,SAAAA,GAAY,CAACtB,YAAAA,GAAe,MAAMnF,GAAEqC,EAAAA,EAAAA,MAAIqE,MAAM9F,EAAAA,EAAE+C,UAAU+C,MAAM9F,EAAAA,EAAEgD,cAAc+C,MAAM/F,EAAAA,EAAEiD,KAAK,OAAOlB,KAAK+B,WAAWa,YAAYvF,EAAE0G,MAAM9F,EAAAA,EAAEkD,QAAQnB,KAAK+B,WAAWwB,OAAOlG,EAAE4G,IAAIhG,EAAAA,EAAEsD,sBAAsBlE,EAAE4G,IAAIhG,EAAAA,EAAEqD,MAAMtB,KAAK+B,WAAWyB,QAAQnG,EAAE4G,IAAIhG,EAAAA,EAAEoD,uBAAuBhE,EAAE6G,MAAMjG,EAAAA,EAAEmD,OAAOpB,KAAK+B,WAAW0B,WAAWpG,EAAE4G,IAAIhG,EAAAA,EAAEuD,yBAAyBnE,CAAC,CAAC8G,kBAAAA,GAAqB,OAAO,IAAI7D,EAAEN,KAAKuC,QAAQvC,KAAK+B,WAAW,CAACqC,gBAAAA,CAAiB/G,GAAG,OAAO,IAAI4B,EAAE5B,EAAE,EAAE,MAAM4B,UAAUpB,EAAAA,GAAET,WAAAA,GAAcG,SAAS8G,WAAWrE,KAAKsE,iBAAiB,IAAI,CAACC,OAAAA,GAAUhH,MAAMgH,UAAUvE,KAAKwE,gBAAgBC,QAAQzE,KAAKsE,kBAAkBtE,KAAKsE,iBAAiB,IAAI,CAACI,SAAAA,CAAUrH,GAAG,MAAMG,EAAEwC,KAAK2E,UAAU5C,WAAW6C,gBAAgB,OAAOpH,IAAIwC,KAAKsE,mBAAmBtE,KAAK2E,UAAUE,cAAc,CAACC,cAAc9E,KAAKwE,gBAAgBO,KAAKvH,EAAEwC,KAAKsE,oBAAoBtE,KAAKsE,iBAAiB9G,GAAGwC,KAAK2E,UAAUE,cAAc7E,KAAKgF,uBAAuBhF,KAAKiF,aAAa/E,EAAE7C,EAAE,EAAE,MAAMoE,UAAU1D,EAAAA,EAAEX,WAAAA,GAAcG,SAAS8G,WAAWrE,KAAKkF,MAAM,EAAElF,KAAK6D,MAAM,CAAC,EAAE,EAAE,EAAE,GAAG7D,KAAK4E,gBAAgB,QAAQ5E,KAAKmF,UAAU,MAAMnF,KAAKiD,IAAIC,EAAAA,EAAEC,KAAKnD,KAAKoD,OAAO5E,EAAAA,GAAE4G,OAAOpF,KAAKqD,QAAO,EAAGrD,KAAK4C,YAAW,EAAG5C,KAAK+C,qBAAoB,EAAG/C,KAAKoC,YAAW,EAAGpC,KAAKsD,eAAc,EAAGtD,KAAKqF,cAAa,EAAGrF,KAAK8E,cAAc,IAAI,EAAE,MAAMxE,EAAElD,WAAAA,CAAYC,EAAEG,GAAGwC,KAAKsF,mBAAmBjI,EAAE2C,KAAKuF,YAAY/H,CAAC,CAACgI,YAAAA,GAAe,MAAM,cAAcxF,KAAKuF,YAAYJ,UAAU,GAAG,CAAC,CAACM,KAAAA,CAAMnI,EAAEoC,EAAEb,EAAEF,EAAEQ,EAAEhB,GAAG,MAAMoB,EAAEV,EAAE6G,IAAIzH,EAAAA,EAAE+C,UAAU2E,KAAK9H,EAAE0B,EAAEqG,OAAO,EAAE,IAAIxF,EAAE,CAAC,EAAE,EAAE,GAAG,MAAM9B,EAAEO,EAAE6G,IAAIzH,EAAAA,EAAEkD,QAAQnB,KAAKuF,YAAY3C,YAAY,MAAMtE,IAAI8B,EAAE9B,EAAEqH,MAAM,IAAIlG,EAAE,EAAE1B,EAAE,EAAEiC,KAAKuF,YAAYhC,OAAOxF,EAAEc,EAAE6G,IAAIzH,EAAAA,EAAEsD,sBAAsBoE,KAAK,GAAG9G,EAAEgH,IAAI5H,EAAAA,EAAEqD,QAAQ7B,EAAEZ,EAAE6G,IAAIzH,EAAAA,EAAEqD,MAAMqE,KAAK,IAAI,IAAI5E,EAAE,CAAC,EAAE,EAAE,EAAE,GAAGb,EAAE,EAAEF,KAAKuF,YAAY/B,QAAQtD,EAAErB,EAAE6G,IAAIzH,EAAAA,EAAEoD,uBAAuBsE,KAAK,GAAG9G,EAAEgH,IAAI5H,EAAAA,EAAEmD,SAASL,EAAElC,EAAE6G,IAAIzH,EAAAA,EAAEmD,OAAOuE,MAAM,IAAIvH,EAAE,EAAE4B,KAAKuF,YAAY9B,YAAYrF,EAAES,EAAE6G,IAAIzH,EAAAA,EAAEuD,yBAAyBmE,KAAK,IAAI,MAAMhD,EAAE,IAAImD,aAAa3G,EAAE4G,QAAQ,IAAIvH,EAAEL,GAAG6B,KAAKsF,mBAAmBU,OAAO,GAAG,MAAM9C,EAAEA,CAAC7F,EAAEG,EAAEL,EAAEG,KAAK,GAAGqF,EAAEnE,KAAKnB,EAAE,GAAGsF,EAAEnE,KAAKnB,EAAE,GAAGsF,EAAEnE,KAAKnB,EAAE,GAAGsF,EAAEnE,KAAKhB,EAAE,GAAGmF,EAAEnE,KAAKhB,EAAE,GAAGmF,EAAEnE,KAAKhB,EAAE,GAAGmF,EAAEnE,KAAKrB,EAAE,GAAGwF,EAAEnE,KAAKrB,EAAE,GAAG6C,KAAKuF,YAAY3C,aAAaD,EAAEnE,KAAK4B,EAAE,GAAGuC,EAAEnE,KAAK4B,EAAE,GAAGuC,EAAEnE,KAAK4B,EAAE,IAAIJ,KAAKuF,YAAYhC,OAAOZ,EAAEnE,KAAKT,EAAE4E,EAAEnE,KAAKiB,EAAEO,KAAKuF,YAAY/B,QAAQb,EAAEnE,KAAK0B,MAAM,CAAC,MAAM7C,EAAE4I,KAAKC,IAAI,EAAE5I,EAAEyD,EAAE6E,OAAO,GAAGjD,EAAEnE,KAAKuC,EAAE1D,GAAGsF,EAAEnE,KAAKuC,EAAE1D,EAAE,GAAGsF,EAAEnE,KAAKuC,EAAE1D,EAAE,GAAGsF,EAAEnE,KAAKuC,EAAE1D,EAAE,EAAE,CAAC2C,KAAKuF,YAAY9B,YAAYd,EAAEnE,KAAKJ,IAAI,IAAIX,EAAG,IAASJ,KAAiEI,IAAIA,EAAE,CAAC,IAAnEJ,EAAE8I,UAAU,GAAG,YAAY9I,EAAEA,EAAE+I,YAAY,GAAG,aAAyB,MAAM/G,EAAEA,CAACK,EAAEb,KAAK,MAAMF,GAAEtB,EAAAA,EAAAA,GAAEgJ,EAAE9G,EAAE,EAAEG,GAAGH,EAAE,EAAEG,EAAE,GAAGH,EAAE,EAAEG,EAAE,IAAIP,EAAEmH,EAAE,IAAInI,EAAEuB,EAAEb,EAAE,IAAGxB,EAAAA,EAAAA,GAAE8B,EAAEI,EAAE,EAAEpB,GAAGoB,EAAE,EAAEpB,EAAE,GAAGoB,EAAE,EAAEpB,EAAE,IAAIA,GAAGU,SAAQrB,EAAAA,EAAAA,GAAEmB,EAAEQ,IAAIhB,GAAG,GAAGA,EAAEN,GAAGP,KAAIH,EAAAA,EAAAA,GAAEwB,EAAEA,EAAErB,IAAGH,EAAAA,EAAAA,GAAEgC,EAAEA,EAAE7B,IAAI4F,EAAEvE,EAAEQ,EAAE,EAAE,GAAG,GAAGO,GAAGwD,EAAEvE,EAAEQ,EAAE,CAAC,GAAG,GAAGO,GAAGwD,EAAEvE,EAAEQ,EAAE,CAAC,EAAE,GAAGO,GAAGwD,EAAEvE,EAAEQ,EAAE,EAAE,GAAG,GAAGO,GAAGwD,EAAEvE,EAAEQ,EAAE,CAAC,EAAE,GAAGO,GAAGwD,EAAEvE,EAAEQ,EAAE,EAAE,EAAE,GAAGO,IAAIT,EAAEe,KAAKuF,YAAYJ,UAAU,UAAUlG,GAAG,cAAcA,GAAGI,EAAE,EAAE5B,EAAE0I,WAAW,QAAQlH,GAAG,cAAcA,GAAGI,EAAExB,EAAE,EAAEJ,EAAE2I,WAAW,EAAE,MAAMC,GAAE/I,EAAAA,EAAAA,MAAIgJ,GAAEhJ,EAAAA,EAAAA,K,yFCA34K,MAAME,GAAEH,EAAAA,EAAAA,MAAI0G,MAAMtG,EAAAA,EAAEuD,UAAUD,GAAE1D,EAAAA,EAAAA,MAAI0G,MAAMtG,EAAAA,EAAEuD,UAAUgD,MAAMvG,EAAAA,EAAEyD,KAAK/D,GAAEE,EAAAA,EAAAA,MAAI0G,MAAMtG,EAAAA,EAAEuD,UAAUuF,OAAO9I,EAAAA,EAAE2D,OAAOK,GAAEpE,EAAAA,EAAAA,MAAI0G,MAAMtG,EAAAA,EAAEuD,UAAUgD,MAAMvG,EAAAA,EAAEyD,KAAKqF,OAAO9I,EAAAA,EAAE+I,sB,mTCAuxD,SAASH,EAAEA,GAAG,MAAMI,EAAE,IAAIC,EAAAA,IAAG1I,MAAM2I,EAAEvD,OAAOkD,EAAEjD,OAAOuD,GAAGP,EAAE5I,EAAEkJ,IAAIE,EAAAA,GAAEhE,MAAM4D,EAAEK,QAAQtJ,EAAAA,EAAE6I,GAAGI,EAAEK,QAAQnI,EAAAA,EAAE0H,GAAGI,EAAEK,QAAQjI,EAAAA,EAAEwH,GAAG,MAAMU,OAAOC,EAAEC,SAAShJ,GAAGwI,EAAExI,EAAE6I,QAAQxI,EAAAA,IAAGT,EAAAA,EAAAA,IAAEmJ,EAAEX,GAAGI,EAAES,WAAWC,IAAIzJ,EAAAA,EAAEsD,SAAS,QAAQyF,EAAES,WAAWC,IAAIzJ,EAAAA,EAAEuD,aAAa,QAAQwF,EAAES,WAAWC,IAAIzJ,EAAAA,EAAEwD,IAAI,QAAQuF,EAAEW,SAASD,IAAI,SAAS,QAAQV,EAAEW,SAASD,IAAI,OAAO,QAAQV,EAAEW,SAASD,IAAI,MAAM,QAAQV,EAAEW,SAASD,IAAI,QAAQ,SAASP,GAAGH,EAAEW,SAASD,IAAI,aAAa,SAASH,EAAEK,SAASF,IAAI,IAAI/G,EAAAA,EAAE,WAAWkH,IAAA,IAAEC,OAAOlK,GAAEiK,EAAA,OAAGjK,EAAEmK,WAAU,IAAIrJ,EAAAA,EAAE,YAAYsJ,IAAA,IAAEF,OAAOlK,GAAEoK,EAAA,OAAGpK,EAAEqK,iBAAgBV,EAAEW,KAAKR,KAAI1H,EAAAA,EAAAA,GAACmI,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,6HAI1lFb,EAAEW,KAAKR,KAAI1H,EAAAA,EAAAA,GAACqI,IAAAA,GAAAD,EAAAA,EAAAA,GAAA,mNAMZpK,GAAGgJ,EAAES,WAAWC,IAAIzJ,EAAAA,EAAEyD,OAAO,SAAQpD,EAAAA,EAAAA,IAAEiJ,GAAGA,EAAEe,UAAUZ,IAAI,gBAAgB,QAAQ,IAAIH,EAAEW,KAAKR,KAAI1H,EAAAA,EAAAA,GAACuI,IAAAA,GAAAH,EAAAA,EAAAA,GAAA,2OAMjGb,EAAEW,KAAKR,KAAI1H,EAAAA,EAAAA,GAACwI,IAAAA,GAAAJ,EAAAA,EAAAA,GAAA,iEAEb,MAAM3K,EAAEO,EAAE,OAAO,OAAO,OAAOuJ,EAAEW,KAAKR,KAAI1H,EAAAA,EAAAA,GAACyI,IAAAA,GAAAL,EAAAA,EAAAA,GAAA,2lBACvC3K,EAAuBA,EAAUA,EAC/BA,EAIqDO,EAAE,sBAAsB,iBAG/EP,EAAcA,EAAUA,EACtBA,EAEAA,EACAA,EAEAoJ,IAAIhG,EAAAA,GAAE6H,IAAI,mDAAmD,KAIhExB,IAAIE,EAAAA,GAAE/D,SAASkE,EAAEK,SAASF,IAAI,IAAIiB,EAAAA,EAAE,2BAA2BC,IAAA,IAAEd,OAAOlK,GAAEgL,EAAA,OAAGhL,EAAEiL,4BAA2BtB,EAAEW,KAAKR,KAAI1H,EAAAA,EAAAA,GAAC8I,IAAAA,GAAAV,EAAAA,EAAAA,GAAA,gKAGzHb,EAAEW,KAAKR,KAAI1H,EAAAA,EAAAA,GAAC+I,IAAAA,GAAAX,EAAAA,EAAAA,GAAA,oQAKZb,EAAEK,SAASF,IAAI,IAAIjE,EAAAA,EAAE,uBAAuBuF,IAAA,IAAElB,OAAOlK,GAAEoL,EAAA,OAAGpL,EAAEqL,wBAAuB1B,EAAEW,KAAKR,KAAI1H,EAAAA,EAAAA,GAACkJ,IAAAA,GAAAd,EAAAA,EAAAA,GAAA,4pDAUzFe,EAAAA,EAAAA,IAAEvC,EAAErD,OAAO,qKAmBfL,EAAAA,EAAAA,IAAEqE,GAAGA,EAAE6B,KAAK1B,KAAI1H,EAAAA,EAAAA,GAACqJ,IAAAA,GAAAjB,EAAAA,EAAAA,GAAA,igCAgBfpK,GAAEgC,EAAAA,EAAAA,GAACsJ,IAAAA,GAAAlB,EAAAA,EAAAA,GAAA,qJAAGe,EAAAA,EAAAA,IAAEvC,EAAEtD,qBAAoBtD,EAAAA,EAAAA,GAACuJ,IAAAA,GAAAnB,EAAAA,EAAAA,GAAA,mOAOsBpI,EAAAA,EAAAA,GAACwJ,IAAAA,GAAApB,EAAAA,EAAAA,GAAA,qRAMhDe,EAAAA,EAAAA,IAAEjC,IAAIE,EAAAA,GAAE/D,QAAOrD,EAAAA,EAAAA,GAACyJ,IAAAA,GAAArB,EAAAA,EAAAA,GAAA,sqBAgBtBe,EAAAA,EAAAA,KAAGnL,EAAE,iCACLmL,EAAAA,EAAAA,IAAEhC,EAAE,6BASJH,EAAEQ,SAASH,QAAQ3H,EAAAA,GAAEkH,GAAGI,EAAEK,QAAQqC,EAAAA,EAAE9C,GAAGpI,EAAEoJ,SAASF,IAAI,IAAIpG,EAAAA,EAAE,kBAAkB1D,GAAGA,EAAEwG,QAAQ,IAAIxE,EAAAA,EAAE,OAAOhC,GAAGA,EAAEyH,iBAAiB7G,EAAE6I,QAAQvH,EAAAA,GAAGtB,EAAE8J,UAAUZ,IAAI,YAAY,QAAQ,EAAE9J,EAAAA,IAAGY,EAAE0J,KAAKR,KAAI1H,EAAAA,EAAAA,GAAC2J,IAAAA,GAAAvB,EAAAA,EAAAA,GAAA,6OAMpMjB,GAAG3I,EAAE8J,UAAUZ,IAAI,qBAAqB,QAAQhK,EAAAA,GAAEE,EAAAA,IAAG0K,UAAUZ,IAAI,uBAAuB,QAAQ7J,EAAAA,IAAGqK,KAAKR,KAAI1H,EAAAA,EAAAA,GAAC4J,IAAAA,GAAAxB,EAAAA,EAAAA,GAAA,4iBAS3Ge,EAAAA,EAAAA,IAAEnL,EAAE,8CAKPgJ,EAAEK,QAAQpH,EAAAA,EAAE2G,GAAGpI,EAAE4K,KAAK1B,KAAI1H,EAAAA,EAAAA,GAAC6J,IAAAA,GAAAzB,EAAAA,EAAAA,GAAA,gTAOLe,EAAAA,EAAAA,KAAGnL,EAAE,oBACVmJ,EAAE,mDAAmD,2BAC1BH,CAAC,CAAC,MAAMA,EAAE8C,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,MAAMtD,GAAGuD,OAAOC,YAAY,CAACC,MAAM,W","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LineMarkerTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/LineMarkerMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/chunks/LineMarker.glsl.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e,ShaderOutput as i}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{blending as l,oitDepthTest as n,depthWrite as s,getDrawBuffers as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as p}from\"../lib/RenderSlot.js\";import{stencilWriteMaskOn as c,stencilToolMaskBaseParams as u,stencilBaseAllZerosParams as a,depthCompareAlways as d,stencilToolTransparentOccluderParams as T,stencilWriteMaskOff as h,stencilToolMaskOccluderParams as m,depthCompareLess as P}from\"../lib/StencilUtils.js\";import{VertexAttribute as f}from\"../lib/VertexAttribute.js\";import{L as O}from\"../../../../chunks/LineMarker.glsl.js\";import{LineMarkerSpace as E}from\"./LineMarkerTechniqueConfiguration.js\";import{SpecialDrawBuffers as R}from\"../../../webgl/enums.js\";import{makePipelineState as _,defaultColorWrite as S,premultipliedAlphaToPremultipliedAlpha as A}from\"../../../webgl/renderState.js\";class W extends r{constructor(e,i){super(e,i,new t(O,(()=>import(\"./LineMarker.glsl.js\"))),b)}_makePipelineState(t,r){const{output:p,oitPass:d,space:T,hasOccludees:h}=t;return _({blending:e(p)?l(d):null,depthTest:T===E.Draped?null:{func:n(d)},depthWrite:s(t),drawBuffers:p===i.Depth?{buffers:[R.NONE]}:o(d,p),colorWrite:S,stencilWrite:h?c:null,stencilTest:h?r?u:a:null,polygonOffset:{factor:0,units:-10}})}initializePipeline(e){return e.occluder?(this._occluderPipelineTransparent=_({blending:A,depthTest:d,depthWrite:null,colorWrite:S,stencilWrite:null,stencilTest:T}),this._occluderPipelineOpaque=_({blending:A,depthTest:d,depthWrite:null,colorWrite:S,stencilWrite:h,stencilTest:m}),this._occluderPipelineMaskWrite=_({blending:null,depthTest:P,depthWrite:null,colorWrite:null,stencilWrite:c,stencilTest:u})):this._occluderPipelineTransparent=this._occluderPipelineOpaque=this._occluderPipelineMaskWrite=null,this._occludeePipelineState=this._makePipelineState(e,!0),this._makePipelineState(e,!1)}getPipeline(e,i){return e?this._occludeePipelineState:i===p.TRANSPARENT_OCCLUDER_MATERIAL?this._occluderPipelineTransparent??super.getPipeline():i===p.OCCLUDER_MATERIAL?this._occluderPipelineOpaque??super.getPipeline():this._occluderPipelineMaskWrite??super.getPipeline()}}const b=new Map([[f.POSITION,0],[f.PREVPOSITION,1],[f.UV0,2],[f.NORMAL,3],[f.COLOR,4],[f.COLORFEATUREATTRIBUTE,4],[f.SIZE,5],[f.SIZEFEATUREATTRIBUTE,5],[f.OPACITYFEATUREATTRIBUTE,6]]);export{W as LineMarkerTechnique,b as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{i as e,I as t,t as r}from\"../../../../chunks/vec32.js\";import{create as i}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{newLayout as a}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as s,isColor as n,isDepth as o,isColorHighlightOrDepth as h,isColorOrColorEmission as c}from\"../core/shaderLibrary/ShaderOutput.js\";import{GLTextureMaterial as p}from\"../lib/GLTextureMaterial.js\";import{Material as m,RenderOccludedFlag as l}from\"../lib/Material.js\";import{RenderSlot as u}from\"../lib/RenderSlot.js\";import{VertexAttribute as T}from\"../lib/VertexAttribute.js\";import{VisualVariablePassParameters as d}from\"./VisualVariablePassParameters.js\";import{vertexAttributeLocations as f,LineMarkerTechnique as A}from\"../shaders/LineMarkerTechnique.js\";import{LineMarkerTechniqueConfiguration as _,LineMarkerSpace as v,LineMarkerAnchor as E}from\"../shaders/LineMarkerTechniqueConfiguration.js\";import{CapType as g}from\"../shaders/RibbonLineTechniqueConfiguration.js\";import{alphaCutoff as O}from\"../../../../webscene/support/AlphaCutoff.js\";class S extends m{constructor(e){super(e,I),this._configuration=new _,this.vertexAttributeLocations=f,this.produces=new Map([[u.OPAQUE_MATERIAL,e=>e===s.Highlight||n(e)&&this.parameters.renderOccluded===l.OccludeAndTransparentStencil],[u.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>o(e)],[u.OCCLUDER_MATERIAL,e=>h(e)&&this.parameters.renderOccluded===l.OccludeAndTransparentStencil],[u.TRANSPARENT_OCCLUDER_MATERIAL,e=>h(e)&&this.parameters.renderOccluded===l.OccludeAndTransparentStencil],[u.TRANSPARENT_MATERIAL,e=>n(e)&&this.parameters.writeDepth],[u.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>n(e)&&!this.parameters.writeDepth],[u.DRAPED_MATERIAL,e=>c(e)||e===s.Highlight]]),this._layout=this.createLayout()}getConfiguration(e,t){return this._configuration.output=e,this._configuration.space=t.slot===u.DRAPED_MATERIAL?v.Draped:this.parameters.worldSpace?v.World:v.Screen,this._configuration.hideOnShortSegments=this.parameters.hideOnShortSegments,this._configuration.hasCap=this.parameters.cap!==g.BUTT,this._configuration.anchor=this.parameters.anchor,this._configuration.hasTip=this.parameters.hasTip,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasOccludees=t.hasOccludees,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.vvOpacity=!!this.parameters.vvOpacity,this._configuration.occluder=this.parameters.renderOccluded===l.OccludeAndTransparentStencil,this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest&&c(e),this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration}get visible(){return this.parameters.color[3]>=O}intersect(){}createLayout(){const e=a().vec3f(T.POSITION).vec3f(T.PREVPOSITION).vec2f(T.UV0);return this.parameters.worldSpace&&e.vec3f(T.NORMAL),this.parameters.vvSize?e.f32(T.SIZEFEATUREATTRIBUTE):e.f32(T.SIZE),this.parameters.vvColor?e.f32(T.COLORFEATUREATTRIBUTE):e.vec4f(T.COLOR),this.parameters.vvOpacity&&e.f32(T.OPACITYFEATUREATTRIBUTE),e}createBufferWriter(){return new P(this._layout,this.parameters)}createGLMaterial(e){return new R(e)}}class R extends p{constructor(){super(...arguments),this._markerPrimitive=null}dispose(){super.dispose(),this._markerTextures.release(this._markerPrimitive),this._markerPrimitive=null}beginSlot(e){const t=this._material.parameters.markerPrimitive;return t!==this._markerPrimitive&&(this._material.setParameters({markerTexture:this._markerTextures.swap(t,this._markerPrimitive)}),this._markerPrimitive=t),this._material.setParameters(this.textureBindParameters),this.getTechnique(A,e)}}class I extends d{constructor(){super(...arguments),this.width=0,this.color=[1,1,1,1],this.markerPrimitive=\"arrow\",this.placement=\"end\",this.cap=g.BUTT,this.anchor=E.Center,this.hasTip=!1,this.worldSpace=!1,this.hideOnShortSegments=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.vvFastUpdate=!1,this.markerTexture=null}}class P{constructor(e,t){this.vertexBufferLayout=e,this._parameters=t}elementCount(){return\"begin-end\"===this._parameters.placement?12:6}write(i,a,s,n,o,h){const c=s.get(T.POSITION).data,p=c.length/3;let m=[1,0,0];const l=s.get(T.NORMAL);this._parameters.worldSpace&&null!=l&&(m=l.data);let u=1,d=0;this._parameters.vvSize?d=s.get(T.SIZEFEATUREATTRIBUTE).data[0]:s.has(T.SIZE)&&(u=s.get(T.SIZE).data[0]);let f=[1,1,1,1],A=0;this._parameters.vvColor?A=s.get(T.COLORFEATUREATTRIBUTE).data[0]:s.has(T.COLOR)&&(f=s.get(T.COLOR).data);let _=0;this._parameters.vvOpacity&&(_=s.get(T.OPACITYFEATUREATTRIBUTE).data[0]);const v=new Float32Array(o.buffer);let E=h*(this.vertexBufferLayout.stride/4);const g=(e,t,r,i)=>{if(v[E++]=e[0],v[E++]=e[1],v[E++]=e[2],v[E++]=t[0],v[E++]=t[1],v[E++]=t[2],v[E++]=r[0],v[E++]=r[1],this._parameters.worldSpace&&(v[E++]=m[0],v[E++]=m[1],v[E++]=m[2]),this._parameters.vvSize?v[E++]=d:v[E++]=u,this._parameters.vvColor)v[E++]=A;else{const e=Math.min(4*i,f.length-4);v[E++]=f[e],v[E++]=f[e+1],v[E++]=f[e+2],v[E++]=f[e+3]}this._parameters.vvOpacity&&(v[E++]=_)};let O;!function(e){e[e.ASCENDING=1]=\"ASCENDING\",e[e.DESCENDING=-1]=\"DESCENDING\"}(O||(O={}));const S=(a,s)=>{const n=e(L,c[3*a],c[3*a+1],c[3*a+2]),o=C;let h=a+s;do{e(o,c[3*h],c[3*h+1],c[3*h+2]),h+=s}while(t(n,o)&&h>=0&&h<p);i&&(r(n,n,i),r(o,o,i)),g(n,o,[-1,-1],a),g(n,o,[1,-1],a),g(n,o,[1,1],a),g(n,o,[-1,-1],a),g(n,o,[1,1],a),g(n,o,[-1,1],a)},R=this._parameters.placement;\"begin\"!==R&&\"begin-end\"!==R||S(0,O.ASCENDING),\"end\"!==R&&\"begin-end\"!==R||S(p-1,O.DESCENDING)}}const L=i(),C=i();export{S as LineMarkerMaterial,I as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{markerTextureSize as e,markerSymbolSize as r,markerTipThicknessFactor as i}from\"../views/3d/support/engineContent/marker.js\";import{SliceDraw as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{RibbonVertexPosition as t}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/RibbonVertexPosition.glsl.js\";import{OutputHighlight as a}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{MarkerSizing as n}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MarkerSizing.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as c}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{RgbaFloatEncoding as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{addProjViewLocalOrigin as p,addViewNormal as d,addPixelRatio as v}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2BindUniform as m}from\"../views/3d/webgl-engine/core/shaderModules/Float2BindUniform.js\";import{Float4BindUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js\";import{Float4PassUniform as f}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{glsl as u,If as w}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Matrix4BindUniform as y}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{Texture2DPassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as b}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{LineMarkerSpace as x,LineMarkerAnchor as P}from\"../views/3d/webgl-engine/shaders/LineMarkerTechniqueConfiguration.js\";import{outputColorHighlightOID as z}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{ShaderBuilder as j}from\"../views/webgl/ShaderBuilder.js\";function L(L){const k=new j,{space:M,anchor:C,hasTip:D}=L,O=M===x.World;k.include(t,L),k.include(n,L),k.include(s,L);const{vertex:$,fragment:T}=k;T.include(l),p($,L),k.attributes.add(b.POSITION,\"vec3\"),k.attributes.add(b.PREVPOSITION,\"vec3\"),k.attributes.add(b.UV0,\"vec2\"),k.varyings.add(\"vColor\",\"vec4\"),k.varyings.add(\"vpos\",\"vec3\"),k.varyings.add(\"vUV\",\"vec2\"),k.varyings.add(\"vSize\",\"float\"),D&&k.varyings.add(\"vLineWidth\",\"float\"),$.uniforms.add(new m(\"nearFar\",(({camera:e})=>e.nearFar)),new h(\"viewport\",(({camera:e})=>e.fullViewport))),$.code.add(u`vec4 projectAndScale(vec4 pos) {\nvec4 posNdc = proj * pos;\nposNdc.xy *= viewport.zw / posNdc.w;\nreturn posNdc;\n}`),$.code.add(u`void clip(vec4 pos, inout vec4 prev) {\nfloat vnp = nearFar[0] * 0.99;\nif (prev.z > -nearFar[0]) {\nfloat interpolation = (-vnp - pos.z) / (prev.z - pos.z);\nprev = mix(pos, prev, interpolation);\n}\n}`),O?(k.attributes.add(b.NORMAL,\"vec3\"),d($),$.constants.add(\"tiltThreshold\",\"float\",.7),$.code.add(u`vec3 perpendicular(vec3 v) {\nvec3 n = (viewNormal * vec4(normal.xyz, 1.0)).xyz;\nvec3 n2 = cross(v, n);\nvec3 forward = vec3(0.0, 0.0, 1.0);\nfloat tiltDot = dot(forward, n);\nreturn abs(tiltDot) < tiltThreshold ? n : n2;\n}`)):$.code.add(u`vec2 perpendicular(vec2 v) {\nreturn vec2(v.y, -v.x);\n}`);const W=O?\"vec3\":\"vec2\";return $.code.add(u`\n      ${W} normalizedSegment(${W} pos, ${W} prev) {\n        ${W} segment = pos - prev;\n        float segmentLen = length(segment);\n\n        // normalize or zero if too short\n        return (segmentLen > 0.001) ? segment / segmentLen : ${O?\"vec3(0.0, 0.0, 0.0)\":\"vec2(0.0, 0.0)\"};\n      }\n\n      ${W} displace(${W} pos, ${W} prev, float displacementLen) {\n        ${W} segment = normalizedSegment(pos, prev);\n\n        ${W} displacementDirU = perpendicular(segment);\n        ${W} displacementDirV = segment;\n\n        ${C===P.Tip?\"pos -= 0.5 * displacementLen * displacementDirV;\":\"\"}\n\n        return pos + displacementLen * (uv0.x * displacementDirU + uv0.y * displacementDirV);\n      }\n    `),M===x.Screen&&($.uniforms.add(new y(\"inverseProjectionMatrix\",(({camera:e})=>e.inverseProjectionMatrix))),$.code.add(u`vec3 inverseProject(vec4 posScreen) {\nposScreen.xy = (posScreen.xy / viewport.zw) * posScreen.w;\nreturn (inverseProjectionMatrix * posScreen).xyz;\n}`),$.code.add(u`bool rayIntersectPlane(vec3 rayDir, vec3 planeOrigin, vec3 planeNormal, out vec3 intersection) {\nfloat cos = dot(rayDir, planeNormal);\nfloat t = dot(planeOrigin, planeNormal) / cos;\nintersection = t * rayDir;\nreturn abs(cos) > 0.001 && t > 0.0;\n}`),$.uniforms.add(new g(\"perScreenPixelRatio\",(({camera:e})=>e.perScreenPixelRatio))),$.code.add(u`\n      vec4 toFront(vec4 displacedPosScreen, vec3 posLeft, vec3 posRight, vec3 prev, float lineWidth) {\n        // Project displaced position back to camera space\n        vec3 displacedPos = inverseProject(displacedPosScreen);\n\n        // Calculate the plane that we want the marker to lie in. Note that this will always be an approximation since ribbon lines are generally\n        // not planar and we do not know the actual position of the displaced prev vertices (they are offset in screen space, too).\n        vec3 planeNormal = normalize(cross(posLeft - posRight, posLeft - prev));\n        vec3 planeOrigin = posLeft;\n\n        ${w(L.hasCap,\"if(prev.z > posLeft.z) {\\n                vec2 diff = posLeft.xy - posRight.xy;\\n                planeOrigin.xy += perpendicular(diff) / 2.0;\\n             }\")};\n\n        // Move the plane towards the camera by a margin dependent on the line width (approximated in world space). This tolerance corrects for the\n        // non-planarity in most cases, but sharp joins can place the prev vertices at arbitrary positions so markers can still clip.\n        float offset = lineWidth * perScreenPixelRatio;\n        planeOrigin *= (1.0 - offset);\n\n        // Intersect camera ray with the plane and make sure it is within clip space\n        vec3 rayDir = normalize(displacedPos);\n        vec3 intersection;\n        if (rayIntersectPlane(rayDir, planeOrigin, planeNormal, intersection) && intersection.z < -nearFar[0] && intersection.z > -nearFar[1]) {\n          return vec4(intersection.xyz, 1.0);\n        }\n\n        // Fallback: use depth of pos or prev, whichever is closer to the camera\n        float minDepth = planeOrigin.z > prev.z ? length(planeOrigin) : length(prev);\n        displacedPos *= minDepth / length(displacedPos);\n        return vec4(displacedPos.xyz, 1.0);\n      }\n  `)),v($),$.main.add(u`\n    // Check for special value of uv0.y which is used by the Renderer when graphics\n    // are removed before the VBO is recompacted. If this is the case, then we just\n    // project outside of clip space.\n    if (uv0.y == 0.0) {\n      // Project out of clip space\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n    }\n    else {\n      float lineWidth = getLineWidth();\n      float screenMarkerSize = getScreenMarkerSize();\n\n      vec4 pos  = view * vec4(position, 1.0);\n      vec4 prev = view * vec4(prevPosition, 1.0);\n      clip(pos, prev);\n\n      ${O?u`${w(L.hideOnShortSegments,u`\n                if (areWorldMarkersHidden(pos, prev)) {\n                  // Project out of clip space\n                  gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n                  return;\n                }`)}\n            pos.xyz = displace(pos.xyz, prev.xyz, getWorldMarkerSize(pos));\n            vec4 displacedPosScreen = projectAndScale(pos);`:u`\n            vec4 posScreen = projectAndScale(pos);\n            vec4 prevScreen = projectAndScale(prev);\n            vec4 displacedPosScreen = posScreen;\n\n            displacedPosScreen.xy = displace(posScreen.xy, prevScreen.xy, screenMarkerSize);\n            ${w(M===x.Screen,u`\n                vec2 displacementDirU = perpendicular(normalizedSegment(posScreen.xy, prevScreen.xy));\n\n                // We need three points of the ribbon line in camera space to calculate the plane it lies in\n                // Note that we approximate the third point, since we have no information about the join around prev\n                vec3 lineRight = inverseProject(posScreen + lineWidth * vec4(displacementDirU.xy, 0.0, 0.0));\n                vec3 lineLeft = pos.xyz + (pos.xyz - lineRight);\n\n                pos = toFront(displacedPosScreen, lineLeft, lineRight, prev.xyz, lineWidth);\n                displacedPosScreen = projectAndScale(pos);`)}`}\n      forwardViewPosDepth(pos.xyz);\n      // Convert back into NDC\n      displacedPosScreen.xy = (displacedPosScreen.xy / viewport.zw) * displacedPosScreen.w;\n\n      // Convert texture coordinate into [0,1]\n      vUV = (uv0 + 1.0) / 2.0;\n      ${w(!O,\"vUV *= displacedPosScreen.w;\")}\n      ${w(D,\"vLineWidth = lineWidth;\")}\n\n      vSize = screenMarkerSize;\n      vColor = getColor();\n\n      // Use camera space for slicing\n      vpos = pos.xyz;\n\n      gl_Position = displacedPosScreen;\n    }`),k.fragment.include(o,L),k.include(z,L),T.uniforms.add(new f(\"intrinsicColor\",(e=>e.color)),new S(\"tex\",(e=>e.markerTexture))),T.include(c),T.constants.add(\"texelSize\",\"float\",1/e),T.code.add(u`float markerAlpha(vec2 samplePos) {\nsamplePos += vec2(0.5, -0.5) * texelSize;\nfloat sdf = rgbaTofloat(texture(tex, samplePos)) - 0.5;\nfloat distance = sdf * vSize;\ndistance -= 0.5;\nreturn clamp(0.5 - distance, 0.0, 1.0);\n}`),D&&T.constants.add(\"relativeMarkerSize\",\"float\",r/e).constants.add(\"relativeTipLineWidth\",\"float\",i).code.add(u`\n    float tipAlpha(vec2 samplePos) {\n      // Convert coordinates s.t. they are in pixels and relative to the tip of an arrow marker\n      samplePos -= vec2(0.5, 0.5 + 0.5 * relativeMarkerSize);\n      samplePos *= vSize;\n\n      float halfMarkerSize = 0.5 * relativeMarkerSize * vSize;\n      float halfTipLineWidth = 0.5 * max(1.0, relativeTipLineWidth * vLineWidth);\n\n      ${w(O,\"halfTipLineWidth *= fwidth(samplePos.y);\")}\n\n      float distance = max(abs(samplePos.x) - halfMarkerSize, abs(samplePos.y) - halfTipLineWidth);\n      return clamp(0.5 - distance, 0.0, 1.0);\n    }\n  `),k.include(a,L),T.main.add(u`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n\n    vec4 finalColor = intrinsicColor * vColor;\n\n    // Cancel out perspective correct interpolation if in screen space or draped\n    vec2 samplePos = vUV ${w(!O,\"* gl_FragCoord.w\")};\n    finalColor.a *= ${D?\"max(markerAlpha(samplePos), tipAlpha(samplePos))\":\"markerAlpha(samplePos)\"};\n    outputColorHighlightOID(finalColor, vpos);`),k}const k=Object.freeze(Object.defineProperty({__proto__:null,build:L},Symbol.toStringTag,{value:\"Module\"}));export{k as L,L as b};\n"],"names":["W","r","constructor","e","i","super","t","O","b","_makePipelineState","output","p","oitPass","d","space","T","hasOccludees","h","_","blending","l","depthTest","E","Draped","func","n","depthWrite","s","drawBuffers","Depth","buffers","R","NONE","o","colorWrite","S","stencilWrite","c","stencilTest","u","a","polygonOffset","factor","units","initializePipeline","occluder","this","_occluderPipelineTransparent","A","_occluderPipelineOpaque","m","_occluderPipelineMaskWrite","P","_occludeePipelineState","getPipeline","_this$_occluderPipeli","_this$_occluderPipeli2","_this$_occluderPipeli3","TRANSPARENT_OCCLUDER_MATERIAL","OCCLUDER_MATERIAL","Map","f","POSITION","PREVPOSITION","UV0","NORMAL","COLOR","COLORFEATUREATTRIBUTE","SIZE","SIZEFEATUREATTRIBUTE","OPACITYFEATUREATTRIBUTE","I","_configuration","vertexAttributeLocations","produces","OPAQUE_MATERIAL","Highlight","parameters","renderOccluded","OccludeAndTransparentStencil","OPAQUE_MATERIAL_WITHOUT_NORMALS","TRANSPARENT_MATERIAL","writeDepth","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","_layout","createLayout","getConfiguration","slot","v","worldSpace","World","Screen","hideOnShortSegments","hasCap","cap","g","BUTT","anchor","hasTip","hasSlicePlane","vvSize","vvColor","vvOpacity","terrainDepthTest","cullAboveTerrain","visible","color","intersect","vec3f","vec2f","f32","vec4f","createBufferWriter","createGLMaterial","arguments","_markerPrimitive","dispose","_markerTextures","release","beginSlot","_material","markerPrimitive","setParameters","markerTexture","swap","textureBindParameters","getTechnique","width","placement","Center","vvFastUpdate","vertexBufferLayout","_parameters","elementCount","write","get","data","length","has","Float32Array","buffer","stride","Math","min","ASCENDING","DESCENDING","L","C","vec4u8","OBJECTANDLAYERIDCOLOR","k","j","M","D","x","include","vertex","$","fragment","attributes","add","varyings","uniforms","_ref","camera","nearFar","_ref2","fullViewport","code","_templateObject","_taggedTemplateLiteral","_templateObject2","constants","_templateObject3","_templateObject4","_templateObject5","Tip","y","_ref3","inverseProjectionMatrix","_templateObject6","_templateObject7","_ref4","perScreenPixelRatio","_templateObject8","w","main","_templateObject9","_templateObject0","_templateObject1","_templateObject10","_templateObject11","z","_templateObject12","_templateObject13","_templateObject14","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value"],"sourceRoot":""}