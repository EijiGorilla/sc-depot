{"version":3,"file":"static/js/35689.115dc8db.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/Print/CustomTemplate.js","../node_modules/@arcgis/core/widgets/Print/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{id as o}from\"../../kernel.js\";import e from\"../../core/Error.js\";import r from\"../../core/JSONSupport.js\";import{createMD5Hash as s}from\"../../core/MD5.js\";import{isAbortError as a}from\"../../core/promiseUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{enumeration as n}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"../../portal/PortalItem.js\";import{formatJsonMap as u}from\"../../rest/support/fileFormat.js\";import{fromJSON as m}from\"../../rest/support/layoutTemplate.js\";import{fetchLayoutTemplateInfos as d}from\"./utils.js\";let y=class extends r{constructor(t){super(t),this.description=null,this.format=null,this.state=\"not-loaded\",this.label=null,this.layoutInfoTaskUrl=null,this.layout=null,this.layoutItem=null,this.layoutOptions=null,this.layoutTemplateInfo=null,this.type=null}get id(){return this.layoutItem?.id??`${this.layout}-${s(JSON.stringify(this.toJSON()))}`}get mapSurroundInfoOptions(){const t=this.layoutTemplateInfo?.layoutOptions?.mapSurroundInfos;if(!t)return null;const o={northArrow:[],scaleBar:[],legend:[]};for(const e of t)switch(e.type){case\"CIMMarkerNorthArrow\":o.northArrow.push(e);break;case\"CIMScaleLine\":o.scaleBar.push(e);break;case\"CIMGroupElement\":e.elements?.some((t=>\"CIMScaleLine\"===t.type))&&o.scaleBar.push(e);break;case\"CIMLegend\":o.legend.push(e)}return o}_updateLayoutOptions(t){const o=this.layoutOptions?.legend??t.layoutOptions?.hasLegend,e=this.layoutOptions?.northArrow??(this.mapSurroundInfoOptions?.northArrow.length?this.mapSurroundInfoOptions?.northArrow.some((({visible:t})=>t)):void 0),r=this.layoutOptions?.scaleBar??(this.mapSurroundInfoOptions?.scaleBar.length?this.mapSurroundInfoOptions?.scaleBar.some((({visible:t})=>t)):void 0);this._set(\"layoutOptions\",{legend:o,northArrow:e,scaleBar:r})}async fetchLayoutItemTemplateInfo(t){const{layoutItem:r}=this;if(r?.id&&!this.layoutTemplateInfo&&\"loaded\"!==this.state)try{this._set(\"state\",\"loading\");const s=this.layoutInfoTaskUrl;if(!s)throw new e(\"print:invalid-layout-info-task-url\",\"Can't fetch layout template info\",{url:s});\"public\"!==r.access&&o&&await o.getCredential(s);const a={Layout_Item_ID:JSON.stringify({id:r.id})},i=(await d(s,a,t))[0];this.setLayoutTemplateInfo(i)}catch(s){this._set(\"state\",a(s)?\"not-loaded\":\"error\")}}setLayoutTemplateInfo(t){this._set(\"layoutTemplateInfo\",t),this._updateLayoutOptions(t),this._set(\"state\",\"loaded\")}};t([i({json:{write:!0}})],y.prototype,\"description\",void 0),t([n(u)],y.prototype,\"format\",void 0),t([i({readOnly:!0})],y.prototype,\"id\",null),t([i({readOnly:!0})],y.prototype,\"state\",void 0),t([i({json:{write:!0}})],y.prototype,\"label\",void 0),t([i()],y.prototype,\"layoutInfoTaskUrl\",void 0),t([i({json:{read:m,write:!0}})],y.prototype,\"layout\",void 0),t([i({type:p,json:{write:!0}})],y.prototype,\"layoutItem\",void 0),t([i({readOnly:!0,json:{write:!0}})],y.prototype,\"layoutOptions\",void 0),t([i({readOnly:!0})],y.prototype,\"layoutTemplateInfo\",void 0),t([i({readOnly:!0})],y.prototype,\"mapSurroundInfoOptions\",null),t([i()],y.prototype,\"type\",void 0),y=t([l(\"esri.widgets.Print.CustomTemplate\")],y);const c=y;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Error.js\";import{getMode as o}from\"../../rest/print.js\";import{execute as r}from\"../../rest/geoprocessor/execute.js\";import{submitJob as e}from\"../../rest/geoprocessor/submitJob.js\";async function a(a,i,s){if(!a)throw new t(\"print:invalid-layout-info-task-url\",\"Can't fetch layout template info\",{url:a});if(\"async\"===await o(a)){const t=await e(a,i,void 0,s||void 0);await t.waitForJobCompletion();return(await t.fetchResultData(\"Output_JSON\")).value}return(await r(a,i,null,s)).results[0].value}export{a as fetchLayoutTemplateInfos};\n"],"names":["y","r","constructor","t","super","this","description","format","state","label","layoutInfoTaskUrl","layout","layoutItem","layoutOptions","layoutTemplateInfo","type","id","_this$layoutItem$id","_this$layoutItem","concat","s","JSON","stringify","toJSON","mapSurroundInfoOptions","_this$layoutTemplateI","_e$elements","mapSurroundInfos","o","northArrow","scaleBar","legend","e","push","elements","some","_updateLayoutOptions","_this$layoutOptions$l","_this$layoutOptions","_t$layoutOptions","_this$layoutOptions$n","_this$layoutOptions2","_this$mapSurroundInfo","_this$mapSurroundInfo2","_this$layoutOptions$s","_this$layoutOptions3","_this$mapSurroundInfo3","_this$mapSurroundInfo4","hasLegend","length","_ref","visible","_ref2","_set","fetchLayoutItemTemplateInfo","url","access","getCredential","a","Layout_Item_ID","i","d","setLayoutTemplateInfo","json","write","prototype","n","u","readOnly","read","m","p","l","c","async","waitForJobCompletion","fetchResultData","value","results"],"sourceRoot":""}