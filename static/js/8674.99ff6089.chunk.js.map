{"version":3,"file":"static/js/8674.99ff6089.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/OrientedImageryViewer/components/OverlayLayersListViewModel.js","../node_modules/@arcgis/core/widgets/OrientedImageryViewer/components/OverlayLayersList.js","../node_modules/@arcgis/core/widgets/OrientedImageryViewer/components/ImageOverlays.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../LayerList/LayerListViewModel.js\";import{isValidOverlayLayer as r}from\"../dataCaptureUtils.js\";let o=class extends t{_compileList(){const e=this.view?.map?.allLayers;if(!e)return;const s=e.filter(r);this._watchLayersListMode(s);const t=this._getViewableLayers(s);t?.length?(this._createNewItems(t),this._removeItems(t),this._sortItems(t)):this._removeAllItems()}};o=e([s(\"esri.widgets.OrientedImageryViewer.components.OverlayLayersListViewModel\")],o);const i=o;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../../core/reactiveUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../LayerList.js\";import p from\"./OverlayLayersListViewModel.js\";let a=class extends s{constructor(){super(...arguments),this._rootListEl=null,this.viewModel=new p,this.selectionMode=\"multiple\",this.visibilityAppearance=void 0}initialize(){super.initialize(),this.addHandles([e((()=>this._rootListEl),(()=>{this._rootListEl&&(this._rootListEl.selectionAppearance=\"icon\")}),t)])}};o([i()],a.prototype,\"_rootListEl\",void 0),o([i()],a.prototype,\"viewModel\",void 0),o([i()],a.prototype,\"selectionMode\",void 0),o([i()],a.prototype,\"visibilityAppearance\",void 0),a=o([r(\"esri.widgets.OrientedImageryViewer.components.OverlayLayersList\")],a);const l=a;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Collection.js\";import s from\"../../../core/Identifiable.js\";import{watch as a,on as i,syncAndInitial as o}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isEditableLayer as n}from\"../../../layers/support/editableLayers.js\";import c from\"../../../support/actions/ActionToggle.js\";import d from\"../../Widget.js\";import{css as h}from\"../css.js\";import{isValidDataCaptureLayer as p}from\"../dataCaptureUtils.js\";import m from\"./OverlayLayersList.js\";import{loadCalciteComponents as y}from\"../../support/componentsUtils.js\";import{globalCss as u}from\"../../support/globalCss.js\";import\"../../support/widgetUtils.js\";import{tsx as g}from\"../../support/jsxFactory.js\";let L=class extends(s.IdentifiableMixin(d)){constructor(e){super(e),this._previousAction=null,this.closed=!1,this.dataCaptureEnabled=!1,this.dataCaptureLayer=null,this.imageGeometryField=null,this.imageReferenceField=null,this.layerList=new m({selectionMode:\"multiple\"}),this.messages=null,this.overlayedLayers=new t,this.showCameraLocations=!1,this.showMapFeatures=!1,this._createSelectedItemsHandle=()=>{this.removeHandles(\"selected-items\"),this.addHandles(this._trackLayerSelectionChanges(),\"selected-items\")},this._createDataCaptureLayerHandle=()=>a((()=>({dataCaptureLayer:this.dataCaptureLayer,operationalItems:this.layerList.operationalItems})),(({dataCaptureLayer:e,operationalItems:t},s)=>{if(!e&&s?.dataCaptureLayer){const e=t.find((e=>e.layer===s.dataCaptureLayer));e&&e.actionsSections?.items.forEach((e=>{e.items.forEach((e=>{\"create-features\"===e.id&&(e.value=!1)}))}))}}),o),this._handleSelectedItemsChange=({added:e,removed:t})=>{e.forEach((e=>{this.overlayedLayers.includes(e.layer)||this.onLayerSelected?.(e)})),t.forEach((e=>{this.overlayedLayers.includes(e.layer)&&this.onLayerDeselected?.(e)})),this.overlayedLayers.removeAll(),this.overlayedLayers.addMany(this.layerList.selectedItems.items.map((e=>e.layer)))},this._layerListTriggerActionHandle=()=>i((()=>this.layerList),\"trigger-action\",(e=>{const{action:t,item:{layer:s}}=e;if(this._resetPreviousAction(t),\"create-features\"===t.id)this._toggleDataCaptureLayer(t,s)})),this._resetPreviousAction=e=>{\"toggle\"===this._previousAction?.type&&this._previousAction!==e&&(this._previousAction.value=!1,this._previousAction=null)},this._toggleDataCaptureLayer=(e,t)=>{this._previousAction=e;const s=e.value;this.dataCaptureLayer=s?t:null,this.onDataCaptureLayerChanged?.(this.dataCaptureLayer)},this._trackLayerSelectionChanges=()=>i((()=>this.layerList.selectedItems),\"change\",this._handleSelectedItemsChange),this._watchLayerListForListItemCreatedFunction=()=>a((()=>({layerList:this.layerList,listItemCreatedFunction:this._listItemCreatedFunction})),(()=>{this.layerList.listItemCreatedFunction=this._listItemCreatedFunction}),o),this._watchSelectedItems=()=>a((()=>this.layerList.selectedItems),this._createSelectedItemsHandle,o)}initialize(){this.addHandles([this._watchSelectedItems(),this._layerListTriggerActionHandle(),this._watchLayerListForListItemCreatedFunction(),this._createDataCaptureLayerHandle()])}loadDependencies(){return y({list:()=>import(\"@esri/calcite-components/dist/components/calcite-list\"),\"list-item\":()=>import(\"@esri/calcite-components/dist/components/calcite-list-item\"),panel:()=>import(\"@esri/calcite-components/dist/components/calcite-panel\"),switch:()=>import(\"@esri/calcite-components/dist/components/calcite-switch\")})}get _listItemCreatedFunction(){const{dataCaptureEnabled:e,imageGeometryField:t,imageReferenceField:s}=this;return e&&t&&s?async e=>{const{item:a}=e,i=a.layer,{dataCaptureLayer:o,overlayedLayers:r,messages:{createFeaturesFromImage:l},layerList:c}=this,d=r.includes(i),{selectedItems:h}=c;if(C(d,h,a),await(i?.load()),!i||!p(i,t,s)||!n(i))return;const m=o===i,y=_(l,a,h,m);m&&(this._previousAction=y)}:null}get view(){return this.layerList?.view}set view(e){this.layerList.view=e}_renderCameraLocationsSwitch(e){return g(\"calcite-list-item\",{bind:this,label:this.messages.overlayCameraLocations,onclick:this._toggleShowCameraLocations},g(\"calcite-switch\",{bind:this,checked:e,class:h.overlaysSwitch,onchange:this._toggleShowCameraLocations,scale:\"s\",slot:\"actions-end\"}))}_renderOverlayMapFeatures(e){return g(\"calcite-list-item\",{bind:this,label:this.messages?.overlayMapFeatures,onclick:this._toggleShowMapFeatures},g(\"calcite-switch\",{bind:this,checked:e,class:h.overlaysSwitch,onchange:this._toggleShowMapFeatures,scale:\"s\",slot:\"actions-end\"}))}_renderList(e){return e?g(\"div\",{class:h.imageOverlaysLayerList},this.layerList.render()):null}_renderPanel(){const{closed:e,messages:t,showCameraLocations:s,showMapFeatures:a}=this;return g(\"calcite-panel\",{bind:this,closable:!0,closed:e,heading:t.imageOverlays,onCalcitePanelClose:this.onImageOverlaysClosed},g(\"calcite-list\",{label:t.imageOverlays},this._renderCameraLocationsSwitch(s),this._renderOverlayMapFeatures(a)),this._renderList(a))}_toggleShowCameraLocations(e){e.stopPropagation(),this.showCameraLocations=!this.showCameraLocations,this.onShowCameraLocationsChanged?.(this.showCameraLocations)}_toggleShowMapFeatures(e){e.stopPropagation(),this.showMapFeatures=!this.showMapFeatures,this.onShowMapFeaturesChanged?.(this.showMapFeatures)}render(){const e=this.layerList.operationalItems.items.length,t=this.showMapFeatures&&0===e,s=this.showMapFeatures&&e>0,a={[u.widget]:!0,[h.imageOverlaysNoResult]:t,[h.imageOverlaysIncreasedHeight]:s,[h.imageOverlays]:!t&&!s};return g(\"div\",{class:this.classes(a)},this._renderPanel())}};e([r()],L.prototype,\"_previousAction\",void 0),e([r()],L.prototype,\"_listItemCreatedFunction\",null),e([r()],L.prototype,\"closed\",void 0),e([r()],L.prototype,\"dataCaptureEnabled\",void 0),e([r()],L.prototype,\"dataCaptureLayer\",void 0),e([r()],L.prototype,\"imageGeometryField\",void 0),e([r()],L.prototype,\"imageReferenceField\",void 0),e([r()],L.prototype,\"layerList\",void 0),e([r()],L.prototype,\"messages\",void 0),e([r()],L.prototype,\"onDataCaptureLayerChanged\",void 0),e([r()],L.prototype,\"onImageOverlaysClosed\",void 0),e([r()],L.prototype,\"onLayerDeselected\",void 0),e([r()],L.prototype,\"onLayerSelected\",void 0),e([r()],L.prototype,\"onShowCameraLocationsChanged\",void 0),e([r()],L.prototype,\"onShowMapFeaturesChanged\",void 0),e([r()],L.prototype,\"overlayedLayers\",void 0),e([r()],L.prototype,\"showCameraLocations\",void 0),e([r()],L.prototype,\"showMapFeatures\",void 0),e([r()],L.prototype,\"view\",null),L=e([l(\"esri.widgets.OrientedImageryViewer.components.ImageOverlays\")],L);const v=L;function C(e,t,s){e&&t.items.push(s)}function w(e,s){const a=new t;a.add(e),s.actionsSections=new t([a])}function _(e,t,s,i=!1){const r=new c({icon:\"pencil\",id:\"create-features\",title:e,value:i});return t.addHandles(a((()=>s.includes(t)),(e=>{r.visible=e}),o)),w(r,t),r}export{v as default};\n"],"names":["o","t","_compileList","_this$view","e","this","view","map","allLayers","s","filter","r","_watchLayersListMode","_getViewableLayers","length","_createNewItems","_removeItems","_sortItems","_removeAllItems","i","a","constructor","super","arguments","_rootListEl","viewModel","p","selectionMode","visibilityAppearance","initialize","addHandles","selectionAppearance","prototype","l","L","IdentifiableMixin","d","_previousAction","closed","dataCaptureEnabled","dataCaptureLayer","imageGeometryField","imageReferenceField","layerList","m","messages","overlayedLayers","showCameraLocations","showMapFeatures","_createSelectedItemsHandle","removeHandles","_trackLayerSelectionChanges","_createDataCaptureLayerHandle","operationalItems","_ref","_e$actionsSections","find","layer","actionsSections","items","forEach","id","value","_handleSelectedItemsChange","_ref2","added","removed","_this$onLayerSelected","includes","onLayerSelected","call","_this$onLayerDeselect","onLayerDeselected","removeAll","addMany","selectedItems","_layerListTriggerActionHandle","action","item","_resetPreviousAction","_toggleDataCaptureLayer","_this$_previousAction","type","_this$onDataCaptureLa","onDataCaptureLayerChanged","_watchLayerListForListItemCreatedFunction","listItemCreatedFunction","_listItemCreatedFunction","_watchSelectedItems","loadDependencies","y","list","list-item","panel","switch","async","createFeaturesFromImage","c","h","push","C","load","n","undefined","icon","title","visible","add","w","_","_this$layerList","_renderCameraLocationsSwitch","g","bind","label","overlayCameraLocations","onclick","_toggleShowCameraLocations","checked","class","overlaysSwitch","onchange","scale","slot","_renderOverlayMapFeatures","_this$messages","overlayMapFeatures","_toggleShowMapFeatures","_renderList","imageOverlaysLayerList","render","_renderPanel","closable","heading","imageOverlays","onCalcitePanelClose","onImageOverlaysClosed","_this$onShowCameraLoc","stopPropagation","onShowCameraLocationsChanged","_this$onShowMapFeatur","onShowMapFeaturesChanged","u","widget","imageOverlaysNoResult","imageOverlaysIncreasedHeight","classes","v"],"sourceRoot":""}