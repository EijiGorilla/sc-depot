"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[3428,5640,48630,50410,82615,97200],{3428:(t,e,n)=>{n.r(e),n.d(e,{default:()=>c});var o=n(35143),i=n(69539),l=n(42553),a=n(46053),r=n(40565),s=(n(81806),n(47249),n(85842));let u=class extends l.A{constructor(){super(...arguments),this.value=null,this.label=null,this.color=null}};(0,o._)([(0,a.MZ)({type:Number,json:{write:{isRequired:!0}}})],u.prototype,"value",void 0),(0,o._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"label",void 0),(0,o._)([(0,a.MZ)({type:i.default,json:{type:[r.jz],write:{isRequired:!0}}})],u.prototype,"color",void 0),u=(0,o._)([(0,s.$)("esri.renderers.support.ColormapInfo")],u);const c=u},48630:(t,e,n)=>{n.r(e),n.d(e,{default:()=>g});var o,i=n(35143),l=n(63241),a=n(42553),r=n(53084),s=n(76460),u=n(46053),c=(n(81806),n(6409)),d=n(28379),m=n(85842),p=n(17707),f=n(74916),h=n(22471);let v=o=class extends a.A{constructor(t){super(t),this.colorRamp=null,this.computeGamma=!1,this.dynamicRangeAdjustment=!1,this.gamma=[],this.maxPercent=null,this.minPercent=null,this.numberOfStandardDeviations=null,this.outputMax=null,this.outputMin=null,this.sigmoidStrengthLevel=null,this.histograms=null,this.useGamma=!1,this.stretchType="none",this.type="raster-stretch"}readColorRamp(t){if(t)return(0,h.r)(t)}get statistics(){return this._get("statistics")}set statistics(t){(0,l.Lx)(s.A.getLogger(this),"statistics",{replacement:"customStatistics",version:"4.31",warnOnce:!0}),this._set("statistics",t)}get customStatistics(){const t=this.statistics;return t&&Array.isArray(t[0])?t.map((t=>({min:t[0],max:t[1],avg:t[2],stddev:t[3]}))):t}set customStatistics(t){this._set("statistics",null===t||void 0===t?void 0:t.map((t=>{var e,n;return[t.min,t.max,null!==(e=t.avg)&&void 0!==e?e:0,null!==(n=t.stddev)&&void 0!==n?n:1]})))}readCustomStatistics(t){return null===t||void 0===t?void 0:t.map((t=>({min:t[0],max:t[1],avg:t[2],stddev:t[3]})))}writeCustomStatistics(t,e,n){(null===t||void 0===t?void 0:t.length)&&(e[n]=t.map((t=>{var e,n;return[t.min,t.max,null!==(e=t.avg)&&void 0!==e?e:0,null!==(n=t.stddev)&&void 0!==n?n:1]})))}readStretchType(t,e){let n=e.stretchType;return"number"==typeof n&&(n=f.x[n]),f.u.read(n)}clone(){const t=new o({stretchType:this.stretchType,outputMin:this.outputMin,outputMax:this.outputMax,useGamma:this.useGamma,computeGamma:this.computeGamma,gamma:(0,r.clone)(this.gamma),sigmoidStrengthLevel:this.sigmoidStrengthLevel,numberOfStandardDeviations:this.numberOfStandardDeviations,minPercent:this.minPercent,maxPercent:this.maxPercent,colorRamp:(0,r.clone)(this.colorRamp),histograms:(0,r.clone)(this.histograms),dynamicRangeAdjustment:this.dynamicRangeAdjustment});return t._set("statistics",(0,r.clone)(this.statistics)),t}};(0,i._)([(0,u.MZ)({types:h.g,json:{write:!0}})],v.prototype,"colorRamp",void 0),(0,i._)([(0,d.w)("colorRamp")],v.prototype,"readColorRamp",null),(0,i._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"computeGamma",void 0),(0,i._)([(0,u.MZ)({type:Boolean,json:{write:{target:"dra"},read:{source:"dra"}}})],v.prototype,"dynamicRangeAdjustment",void 0),(0,i._)([(0,u.MZ)({type:[Number],json:{write:!0}})],v.prototype,"gamma",void 0),(0,i._)([(0,u.MZ)({type:Number,json:{write:!0}})],v.prototype,"maxPercent",void 0),(0,i._)([(0,u.MZ)({type:Number,json:{write:!0}})],v.prototype,"minPercent",void 0),(0,i._)([(0,u.MZ)({type:Number,json:{write:!0}})],v.prototype,"numberOfStandardDeviations",void 0),(0,i._)([(0,u.MZ)({type:Number,json:{read:{source:"max"},write:{target:"max"}}})],v.prototype,"outputMax",void 0),(0,i._)([(0,u.MZ)({type:Number,json:{read:{source:"min"},write:{target:"min"}}})],v.prototype,"outputMin",void 0),(0,i._)([(0,u.MZ)({type:Number,json:{write:!0}})],v.prototype,"sigmoidStrengthLevel",void 0),(0,i._)([(0,u.MZ)({})],v.prototype,"statistics",null),(0,i._)([(0,u.MZ)()],v.prototype,"histograms",void 0),(0,i._)([(0,u.MZ)({json:{type:[[Number]],name:"statistics",write:!0}})],v.prototype,"customStatistics",null),(0,i._)([(0,d.w)("customStatistics")],v.prototype,"readCustomStatistics",null),(0,i._)([(0,p.K)("customStatistics")],v.prototype,"writeCustomStatistics",null),(0,i._)([(0,u.MZ)({type:Boolean,json:{write:!0}})],v.prototype,"useGamma",void 0),(0,i._)([(0,u.MZ)({type:f.u.apiValues,json:{type:f.u.jsonValues,write:f.u.write}})],v.prototype,"stretchType",void 0),(0,i._)([(0,d.w)("stretchType",["stretchType"])],v.prototype,"readStretchType",null),(0,i._)([(0,c.e)({rasterStretch:"raster-stretch"})],v.prototype,"type",void 0),v=o=(0,i._)([(0,m.$)("esri.renderers.RasterStretchRenderer")],v);const g=v},50410:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var o,i=n(35143),l=n(42553),a=n(46053),r=(n(81806),n(76460),n(47249),n(6409)),s=n(85842),u=n(3428),c=n(93187);let d=o=class extends l.A{constructor(t){super(t),this.colormapInfos=null,this.type="raster-colormap"}static createFromColormap(t,e){if(!t)return null;const n=5===t[0].length,i=[...t].sort(((t,e)=>t[0]-e[0])).map((t=>{var o;return u.default.fromJSON({value:t[0],color:n?t.slice(1,5):t.slice(1,4).concat([255]),label:e?null!==(o=e[t[0]])&&void 0!==o?o:"":t[0]})}));return new o({colormapInfos:i})}static createFromColorramp(t){const e=(0,c.R8)(t);return o.createFromColormap(e)}clone(){return new o({colormapInfos:this.colormapInfos.map((t=>t.toJSON()))})}extractColormap(){return this.colormapInfos.map((t=>{let{value:e,color:n}=t;return[e,n.r,n.g,n.b,n.a>1?n.a:255*n.a&255]})).sort(((t,e)=>t[0]-e[0]))}};(0,i._)([(0,a.MZ)({type:[u.default],json:{write:{isRequired:!0}}})],d.prototype,"colormapInfos",void 0),(0,i._)([(0,r.e)({rasterColormap:"raster-colormap"}),(0,a.MZ)({json:{write:{isRequired:!0}}})],d.prototype,"type",void 0),d=o=(0,i._)([(0,s.$)("esri.renderers.RasterColormapRenderer")],d);const m=d},70816:(t,e,n)=>{function o(t){var e,n;return["u8","s8"].includes(t.pixelType)&&null!=(null===(e=t.statistics)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.min)&&null!=(null===(n=t.statistics[0])||void 0===n?void 0:n.max)&&1===t.bandCount}function i(t,e){const{attributeTable:n,bandCount:i}=t;return!(null!=n||!o(t))||!(null==n||i>1)&&(!e||null!=n.fields.find((t=>t.name.toLowerCase()===e.toLowerCase())))}function l(t){const{bandCount:e,dataType:n,pixelType:o}=t;return"elevation"===n||"generic"===n&&1===e&&("s16"===o||"s32"===o||"f32"===o||"f64"===o)}function a(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{bandCount:n,colormap:o,pixelType:i}=t;return 1===n&&(!(null===o||void 0===o||!o.length)||!e&&"u8"===i)}function r(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{attributeTable:n,bandCount:o}=t;return 1===o&&(!e||null!=n||null!=t.histograms)}function s(t){const{dataType:e}=t;return"vector-uv"===e||"vector-magdir"===e}function u(t){const{dataType:e}=t;return"vector-uv"===e||"vector-magdir"===e}function c(t){return!(null===t||void 0===t||!t.length)&&t.length<=16384}n.d(e,{FA:()=>a,QJ:()=>u,WN:()=>c,bo:()=>o,hu:()=>i,iL:()=>l,rd:()=>s,xX:()=>r})},74916:(t,e,n)=>{n.d(e,{u:()=>o,x:()=>i});const o=new(n(45802).J)({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),i={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}},78937:(t,e,n)=>{n.d(e,{$P:()=>U,I8:()=>z,Ix:()=>W,Mm:()=>O,NI:()=>N,Ny:()=>q,PD:()=>Z,VI:()=>F,ci:()=>A,dY:()=>B,fp:()=>k,iG:()=>$,m7:()=>I,sp:()=>E,tj:()=>V,un:()=>J,w6:()=>L,zd:()=>P});var o=n(69539),i=n(31633),l=n(44135),a=n(63844),r=n(97200),s=n(50410),u=n(82615),c=n(48630),d=n(84596),m=n(6745),p=n(9922),f=n(29380),h=n(93187),v=n(70816),g=n(28731),y=n(64694),b=n(43996),w=n(77718),x=n(30674),M=n(15498),C=n(63068),S=n(86875);const R=.25,_=C.default.fromJSON({type:"multipart",colorRamps:[{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]}),T=C.default.fromJSON(h.vj[0]),j=new Set(["scientific","standard-time","vector-uv","vector-magdir","vector-u","vector-v","vector-magnitude","vector-direction"]);function z(t){var e;return null===(e=t.presetRenderers)||void 0===e?void 0:e.find((e=>{let{method:n,value:o}=e;return"raster-function-template"===n?o===t.rasterFunctionName:"variable"===n&&o===t.variableName}))}function Z(t,e){const{attributeTable:n,colormap:o}=t;if((0,v.rd)(t)){const e=B(t);if(null!=e)return e}if(null!==e&&void 0!==e&&e.rasterFunctionColorRamp){const n=N(t,e);return n.colorRamp=e.rasterFunctionColorRamp,n}if(null!=o){const e=q(t);if(null!=e)return e}if(null!=n){const e=P(t);if(null!=e)return e}return N(t,e)}function k(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=["raster-stretch"];return(0,v.FA)(t,e)&&n.push("raster-colormap"),(0,v.hu)(t)&&n.push("unique-value"),(0,v.xX)(t,e)&&n.push("class-breaks"),(0,v.iL)(t)&&n.push("raster-shaded-relief"),(0,v.rd)(t)&&n.push("vector-field"),(0,v.QJ)(t)&&n.push("flow"),n}function O(t){return"Function"===t.datasetFormat&&"Colormap"===t.rasterFunction.functionName?t.rasterFunction.colorRamp:void 0}function L(t,e,n){const o=null===n||void 0===n?void 0:n.toLowerCase().replace("bicubic","cubic"),i=["nearest","bilinear","cubic","majority"].find((t=>t===o));return"Map"===e?null!==i&&void 0!==i?i:"bilinear":"standard-time"===t.dataType?null!==i&&void 0!==i?i:"nearest":"thematic"===t.dataType||t.attributeTable||t.colormap?"nearest"===i||"majority"===i?i:"nearest":null!==i&&void 0!==i?i:"bilinear"}function N(t,e){var n,o,i,l,a,r,s,u,d;t=I(t,null===e||void 0===e?void 0:e.variableName);const{bandCount:m}=t;let{bandIds:p,stretchType:f}=e||{};(null===(n=p)||void 0===n?void 0:n.some((t=>t>=m)))&&(p=null);let h=t.statistics,v=t.histograms;m>1?(p=null!==(o=p)&&void 0!==o&&o.length?p:A(t),h=null==h?null:null===(i=p)||void 0===i?void 0:i.map((t=>h[t])),v=null==v?null:null===(l=p)||void 0===l?void 0:l.map((t=>v[t]))):p=[0],null==f&&(f=function(t){let e="percent-clip";const{pixelType:n,dataType:o,histograms:i,statistics:l,multidimensionalInfo:a}=t,r=j.has(o)||"generic"===o&&null!=a;return"u8"!==n||"processed"!==o&&null!=i&&null!=l?"u8"===n||"elevation"===o||r?e="min-max":null!=i?e="percent-clip":null!=l&&(e="min-max"):e="none",e}(t)),(null===e||void 0===e?void 0:e.includeStatisticsInStretch)&&("percent-clip"===f||"histogram-equalization"===f)&&(null===(a=t.statistics)||void 0===a?void 0:a.length)&&(f="min-max");let g=!1;switch(f){case"none":g=!1;break;case"percent-clip":g=!(null!==(r=v)&&void 0!==r&&r.length);break;default:g=!(null!==(s=h)&&void 0!==s&&s.length)}const{dataType:y}=t,b=1===(null===(u=p)||void 0===u?void 0:u.length)&&j.has(y)?_:null,w=new c.default({stretchType:f,dynamicRangeAdjustment:g,colorRamp:b,outputMin:0,outputMax:255,gamma:1===(null===(d=p)||void 0===d?void 0:d.length)?[1]:[1,1,1],useGamma:!1});return"percent-clip"===f?w.maxPercent=w.minPercent=R:"standard-deviation"===f&&(w.numberOfStandardDeviations=2),g||null==t.multidimensionalInfo&&!(null!==e&&void 0!==e&&e.includeStatisticsInStretch)||("percent-clip"===f?w.histograms=v:"min-max"!==f&&"standard-deviation"!==f||(w.statistics=h)),w}function I(t,e){const{multidimensionalInfo:n}=t;if(!e||!n)return t;const o=n.variables.find((t=>t.name===e));if(!o)return t;if(t=t.clone(),o){const{statistics:e,histograms:n}=o;null!==e&&void 0!==e&&e.length&&(t.statistics=e.map((t=>({min:t.min,max:t.max,avg:t.avg,stddev:t.stddev})))),(null===n||void 0===n?void 0:n.length)&&(t.histograms=n)}return t}function A(t){const e=t.bandCount;if(1===e)return null;if(2===e)return[0];const{bandInfos:n}=t;let o;if(n.length===e){const{red:t,green:e,blue:i,nir:l}=function(t){const e={};for(let n=0;n<t.length;n++){const o=t[n],i=o.name.toLowerCase();if("red"===i)e.red=n;else if("green"===i)e.green=n;else if("blue"===i)e.blue=n;else if("nearinfrared"===i||"nearinfrared_1"===i||"nir"===i)e.nir=n;else if(o.maxWavelength&&o.minWavelength){const t=o.minWavelength,i=o.maxWavelength;null==e.blue&&t>=410&&t<=480&&i>=480&&i<=540?e.blue=n:null==e.green&&t>=490&&t<=560&&i>=560&&i<=610?e.green=n:null==e.red&&t>=595&&t<=670&&i>=660&&i<=730?e.red=n:null==e.nir&&t>=700&&t<=860&&i>=800&&i<=950&&(e.nir=n)}}return e}(n);null!=t&&null!=e&&null!=i?o=[t,e,i]:null!=l&&null!=t&&null!=e&&(o=[l,t,e])}return!o&&e>=3&&(o=[0,1,2]),o}function P(t,e,n,i){if(!(0,v.hu)(t,e))return null;const{attributeTable:l,statistics:a}=t,r=V(l,e),s=F(l,"red"),u=F(l,"green"),c=F(l,"blue"),m=new p.default,f=[],y=new Set,b=!!(s&&u&&c);if(null!=l)l.features.forEach((t=>{const e=t.attributes[r.name];if(!y.has(t.attributes[r.name])&&null!=e){y.add(e);const n=b&&("single"===s.type||"double"===s.type)&&("single"===u.type||"double"===u.type)&&("single"===c.type||"double"===c.type)&&!l.features.some((t=>t.attributes[s.name]>1||t.attributes[u.name]>1||t.attributes[c.name]>1))?255:1;f.push(new g.default({value:t.attributes[r.name],label:t.attributes[r.name]+"",symbol:new S.default({style:"solid",outline:null,color:new o.default(b?[t.attributes[s.name]*n,t.attributes[u.name]*n,t.attributes[c.name]*n,1]:[0,0,0,0])})}))}}));else if(null!==a&&void 0!==a&&a[0])for(let d=a[0].min;d<=a[0].max;d++)f.push(new g.default({value:d,label:d.toString(),symbol:new S.default({style:"solid",outline:null,color:new o.default([0,0,0,0])})}));if(f.sort(((t,e)=>t.value&&"string"==typeof t.value.valueOf()?0:t.value>e.value?1:-1)),!b){const t=(0,h.R8)(T,{numColors:f.length});f.forEach(((e,n)=>e.symbol.color=new o.default(t[n].slice(1,4)))),m.colorRamp=T}if(n||i){const t=n||(0,h.R8)(i,{numColors:f.length}).map((t=>t.slice(1)));f.forEach(((e,n)=>e.symbol.color=new o.default(t[n]))),m.colorRamp=i}return new d.default({field:r.name,uniqueValueInfos:f,authoringInfo:m})}function V(t,e,n){let o;return null!=t?(o=e?t.fields.find((t=>e.toLowerCase()===t.name.toLowerCase())):function(t){let e;for(let n=0;n<t.length;n++){const o=t[n].name.toLowerCase();if("string"===t[n].type){if(o.startsWith("class")){e=t[n];break}null==e&&(o.endsWith("name")||o.endsWith("type"))&&(e=t[n])}}return e}(t.fields),o||(n||(o=t.fields.find((t=>"string"===t.type))),o||(o=F(t,"value")))):o=new l.default({name:"value"}),o}function F(t,e){return null==t?null:t.fields.find((t=>t.name.toLowerCase()===e))}function q(t){if(!(0,v.FA)(t))return null;let e;const{attributeTable:n,colormap:o}=t;if(null!=n){const t=F(n,"value"),o=V(n,null,!0);"string"===o.type&&(e={},n.features.forEach((n=>{const i=n.attributes;e[i[t.name]]=o?i[o.name]:i[t.name]})))}return s.default.createFromColormap(o,e)}function E(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"traditional";if(!(0,v.iL)(t))return null;const{extent:n}=t,o=n.width*(0,i.GA)(n.spatialReference);return new u.default({hillshadeType:e,scalingType:o>5e6?"adjusted":"none"})}function W(t,e){t=I(t,null===e||void 0===e?void 0:e.variableName);const{attributeTable:n}=t;if(!(0,v.xX)(t))return null;const o=null!=t.histograms?t.histograms[0]:null,i=null!=(null===e||void 0===e?void 0:e.numClasses)&&isFinite(null===e||void 0===e?void 0:e.numClasses)?e.numClasses:5,l=new p.default({classificationMethod:null===e||void 0===e?void 0:e.classificationMethod,colorRamp:null===e||void 0===e?void 0:e.colorRamp});let r=(null===e||void 0===e?void 0:e.field)||"value";const s=[],u=[],c=null!=n,d=c&&n.fields.find((t=>"count"===t.name.toLowerCase())),m=c?n.fields.find((t=>t.name.toLowerCase()===r.toLowerCase())):void 0;if(m&&c){r=m.name;const t=n.features.length;let e=0;n.features.forEach((n=>e+=(d?n.attributes[d.name]:50)/t)),n.features.forEach((n=>{const o=n.attributes[m.name],i=d?n.attributes[d.name]:50;if(i>0){u.push(i);const n=Math.max(1,Math.round(i/t/e*1e3));for(let t=0;t<n;t++)s.push(o)}}))}else{const{pixelType:e}=t,i=(o.max-o.min)/o.size,l=e.includes("s")||e.includes("u"),a=l&&1===i?Math.floor(o.min+.5):o.min,r=l&&1===i?Math.floor(o.max-.5):o.max,d=o.size;let p,f=0;o.counts.forEach((t=>f+=t/d)),o.counts.forEach(((t,e)=>{if(t>0){u.push(t);const l=Math.max(1,Math.round(t/d/f*1e3));p=c?n.features[e].attributes[m.name]:0===e?a:e===d-1?r:o.min+i*(e+.5);for(let t=0;t<l;t++)s.push(p)}}))}const g=(null===e||void 0===e?void 0:e.classificationMethod)||"natural-breaks";let y=null===e||void 0===e?void 0:e.definedInterval;"defined-interval"!==g||y||(y=function(t,e,n){let o=0,i=0;if(null!=t.attributeTable){const n=t.attributeTable;o=i=n.features[0].attributes[e.name],n.features.forEach((t=>{const n=t.attributes[e.name];n<o&&(o=n),n>i&&(i=n)}))}else if(null!=t.histograms){const e=t.histograms;o=e[0].min,i=e[0].max}return(i-o)/n}(t,m,i));const b=(0,M.t)({values:s,valueFrequency:u,normalizationTotal:null,definition:new x.A({classificationMethod:g,breakCount:i,definedInterval:y})});let w=null===e||void 0===e?void 0:e.colors;if(!w){const t=(null===e||void 0===e?void 0:e.colorRamp)||_;l.colorRamp=t;const n=(0,h.R8)(t,{numColors:b.classBreaks.length,interpolateAlpha:!0});w=n.map((t=>t.slice(1)))}const C=b.classBreaks.map(((t,e)=>new f.default({minValue:t.minValue,maxValue:t.maxValue,label:t.label,symbol:new S.default({color:w[e]})})));return new a.default({field:r,classBreakInfos:C,authoringInfo:l})}const D=new Map([["m/s","meter-per-second"],["km/h","kilometer-per-hour"],["knots","knots"],["ft/s","feet-per-second"],["mph","mile-per-hour"]]);function B(t){if(!(0,v.rd)(t))return null;let e;if(null!=t.statistics&&t.statistics.length&&("vector-magdir"===t.dataType||"vector-uv"===t.dataType)){const{minMagnitude:n,maxMagnitude:o}=$(t.dataType,t.statistics);e=[new b.default({field:"Magnitude",minSize:10,maxSize:40,minDataValue:n,maxDataValue:o})]}const n=null!=t.multidimensionalInfo?D.get(t.multidimensionalInfo.variables[0].unit):void 0,o=new m.default({visualVariables:e,inputUnit:n,rotationType:"geographic"});return o.visualVariables=[...o.sizeVariables,...o.rotationVariables],o}function G(t){var e;return{color:null===(e=t.symbolLayers[0].material)||void 0===e?void 0:e.color,type:"esriSFS",style:"esriSFSSolid"}}function U(t){if("uniqueValue"===t.type){var e;const n=t.uniqueValueInfos,o=null===n||void 0===n?void 0:n[0].symbol;return null!==o&&void 0!==o&&null!==(e=o.symbolLayers)&&void 0!==e&&e.length&&(t.uniqueValueInfos=null===n||void 0===n?void 0:n.map((t=>({value:t.value,label:t.label,symbol:t.symbol?G(t.symbol):null})))),t}if("classBreaks"===t.type){var n;const e=t.classBreakInfos,o=e[0].symbol;return null!==o&&void 0!==o&&null!==(n=o.symbolLayers)&&void 0!==n&&n.length&&(t.classBreakInfos=e.map((t=>({classMinValue:t.classMinValue,classMaxValue:t.classMaxValue,label:t.label,symbol:t.symbol?G(t.symbol):null})))),t}return t}function J(t){if(!(0,v.QJ)(t))return null;let e;if(null!=t.statistics&&t.statistics.length>0&&("vector-magdir"===t.dataType||"vector-uv"===t.dataType)){const{minMagnitude:n,maxMagnitude:i}=$(t.dataType,t.statistics);e=[new y.default({field:"Magnitude",stops:[new w.default({value:n,color:new o.default("#1020c0")}),new w.default({value:i,color:new o.default("#c02010")})]})]}return new r.default({visualVariables:e})}function $(t,e){let n,o;if("vector-magdir"===t)n=e[0].min,o=e[0].max;else{const t=e[0].min,i=e[0].max,l=e[1].min,a=e[1].max;n=0,o=Math.max(Math.abs(t),Math.abs(l),Math.abs(i),Math.abs(a))}return{minMagnitude:n,maxMagnitude:o}}},82615:(t,e,n)=>{n.r(e),n.d(e,{default:()=>p});var o,i=n(35143),l=n(42553),a=n(53084),r=n(46053),s=(n(81806),n(76460),n(6409)),u=n(28379),c=n(85842),d=n(22471);let m=o=class extends l.A{constructor(t){super(t),this.altitude=45,this.azimuth=315,this.colorRamp=null,this.hillshadeType="traditional",this.pixelSizePower=.664,this.pixelSizeFactor=.024,this.scalingType="none",this.type="raster-shaded-relief",this.zFactor=1}readColorRamp(t){return(0,d.r)(t)}clone(){return new o({hillshadeType:this.hillshadeType,altitude:this.altitude,azimuth:this.azimuth,zFactor:this.zFactor,scalingType:this.scalingType,pixelSizeFactor:this.pixelSizeFactor,pixelSizePower:this.pixelSizePower,colorRamp:(0,a.clone)(this.colorRamp)})}};(0,i._)([(0,r.MZ)({type:Number,json:{write:{isRequired:!0}}})],m.prototype,"altitude",void 0),(0,i._)([(0,r.MZ)({type:Number,json:{write:{isRequired:!0}}})],m.prototype,"azimuth",void 0),(0,i._)([(0,r.MZ)({types:d.g,json:{write:!0}})],m.prototype,"colorRamp",void 0),(0,i._)([(0,u.w)("colorRamp")],m.prototype,"readColorRamp",null),(0,i._)([(0,r.MZ)({type:["traditional","multi-directional"],json:{write:{isRequired:!0}}})],m.prototype,"hillshadeType",void 0),(0,i._)([(0,r.MZ)({type:Number,json:{write:!0}})],m.prototype,"pixelSizePower",void 0),(0,i._)([(0,r.MZ)({type:Number,json:{write:!0}})],m.prototype,"pixelSizeFactor",void 0),(0,i._)([(0,r.MZ)({type:["none","adjusted"],json:{write:{isRequired:!0}}})],m.prototype,"scalingType",void 0),(0,i._)([(0,s.e)({rasterShadedRelief:"raster-shaded-relief"}),(0,r.MZ)({json:{write:{isRequired:!0}}})],m.prototype,"type",void 0),(0,i._)([(0,r.MZ)({type:Number,json:{write:{isRequired:!0}}})],m.prototype,"zFactor",void 0),m=o=(0,i._)([(0,c.$)("esri.renderers.RasterShadedReliefRenderer")],m);const p=m},86866:(t,e,n)=>{n.d(e,{DP:()=>g,Nh:()=>y,Pg:()=>v,RP:()=>c,WF:()=>u,_N:()=>b,eH:()=>f,f4:()=>h,fP:()=>m,zj:()=>d});var o=n(30726),i=n(66486),l=n(52297),a=n(74916);const r=1,s=[.299,.587,.114];function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;e=Math.min(e,256);const{size:n,counts:o}=t,i=new Uint8Array(n),l=o.reduce(((t,n)=>t+n/e),0);let a=0,r=0,s=0,u=l;for(let c=0;c<n;c++)if(s+=o[c],!(c<n-1&&s+o[c+1]<u)){for(;a<e-1&&u<s;)a++,u+=l;for(let t=r;t<=c;t++)i[t]=a;r=c+1}for(let c=r;c<n;c++)i[c]=e-1;return i}function c(t){const{minCutOff:e,maxCutOff:n,gamma:o,pixelType:i,rounding:l}=t;if(!["u8","u16","s8","s16"].includes(i))return null;const a=e.length,r="s8"===i?-127:"s16"===i?-32767:0,s=["u16","s16"].includes(i)?65536:256,u=[],c=[],{minOutput:m=0,maxOutput:p=255}=t,f=p-m;for(let d=0;d<a;d++)c[d]=n[d]-e[d],u[d]=0===c[d]?0:f/c[d];const h=[];if(o&&o.length>=a){const t=y(a,o);for(let i=0;i<a;i++){const a=[];for(let u=0;u<s;u++){if(0===c[i]){a[u]=m;continue}const s=u+r,d=(s-e[i])/c[i];let h=1;if(o[i]>1&&(h-=(1/f)**(d*t[i])),s<n[i]&&s>e[i]){const t=h*f*d**(1/o[i])+m;a[u]="floor"===l?Math.floor(t):"round"===l?Math.round(t):t}else s>=n[i]?a[u]=p:a[u]=m}h[i]=a}}else for(let d=0;d<a;d++){const t=[];for(let o=0;o<s;o++){const i=o+r;if(i<=e[d])t[o]=m;else if(i>=n[d])t[o]=p;else{const n=(i-e[d])*u[d]+m;t[o]="floor"===l?Math.floor(n):"round"===l?Math.round(n):n}}h[d]=t}if(null!=t.contrastOffset){const e=d(t.contrastOffset,t.brightnessOffset);for(let t=0;t<a;t++){const n=h[t];for(let t=0;t<s;t++)n[t]=e[n[t]]}}return{lut:h,offset:r}}function d(t,e){const n=Math.min(Math.max(t,-100),100),o=Math.min(Math.max(null!==e&&void 0!==e?e:0,-100),100),i=255,l=new Uint8Array(256);for(let a=0;a<256;a++){let t=0;n>0&&n<100?t=(200*a-25500+510*o)/(2*(100-n))+128:n<=0&&n>-100?t=(200*a-25500+510*o)*(100+n)/2e4+128:100===n?(t=200*a-25500+256*(100-n)+510*o,t=t>0?i:0):-100===n&&(t=128),l[a]=t>i?i:t<0?0:t}return l}function m(t,e,n){const o=[];for(let i=0;i<e.length;i++){let l=0,a=0,r=0;"min"in e[i]?({min:l,max:a,avg:r}=e[i]):[l,a,r]=e[i];let u=null!==r&&void 0!==r?r:0;"u8"!==t&&(u=255*(u-l)/(a-l)),n&&(u*=s[i]),o.push(p(u))}return o}function p(t){if(t<=0||t>=255)return r;const e=t+(150===t?0:t<150?45*Math.cos(.01047*t):17*Math.sin(.021*t)),n=Math.log(t/255),o=Math.log(e/255);if(0===o)return r;const i=n/o;return isNaN(i)?r:Math.min(9.9,Math.max(.01,i))}function f(t){const{pixels:e,mask:n,pixelType:o,bandMasks:i}=t,l=e.map(((t,e)=>{var l;return function(t,e,n){let o=1/0,i=-1/0,l=0,a=0,r=0,s=0;const u=t.length,c=new Map,d=[];for(let C=0;C<u;C++){const n=t[C];if(!e||e[C]){var m;d.push(n);const t=(null!==(m=c.get(n))&&void 0!==m?m:0)+1;c.set(n,t),t>s&&(s=t,r=n),o=n<o?n:o,i=n>i?n:i,l+=n,a++}}if(0===a)return{statistics:{min:0,max:0,avg:0,stddev:0,mode:0,median:0},histogram:null};const p=l/a;let f=0;for(let C=0;C<u;C++)e&&!e[C]||(f+=(t[C]-p)**2);const h=e?e.filter((t=>t)).length:u,v=h<=1?0:Math.sqrt(f/(h-1));d.sort(((t,e)=>t-e));const g=a>>>1,y={min:o,max:i,avg:p,stddev:v,mode:r,median:a%2?d[Math.floor(g)]:(d[g-1]+d[g])/2};if(["u8","s8","u4","u2","u1"].includes(n)){const n=i-o+1,l=new Uint32Array(n);for(let i=0;i<u;i++)e&&!e[i]||l[t[i]-o]++;return{statistics:y,histogram:{min:o-.5,max:i+.5,size:n,counts:l}}}const b=256,w=new Uint32Array(b),x=(i-o)/b;if(0===x)return{statistics:y,histogram:{min:o,max:i,size:1,counts:new Uint32Array(1).fill(a)}};const M=new Uint32Array(257);for(let C=0;C<u;C++)e&&!e[C]||M[Math.floor((t[C]-o)/x)]++;for(let C=0;C<255;C++)w[C]=M[C];return w[255]=M[255]+M[b],{statistics:y,histogram:{min:o,max:i,size:b,counts:w}}}(t,null!==(l=null===i||void 0===i?void 0:i[e])&&void 0!==l?l:n,o)}));return{statistics:l.map((t=>{let{statistics:e}=t;return e})),histograms:l.map((t=>{let{histogram:e}=t;return e}))}}function h(t){var e;if(null===t||void 0===t||null===(e=t.pixels)||void 0===e||!e.length)return null;const{pixels:n,mask:o,bandMasks:i,pixelType:l}=t,a=t.width*t.height,r=n.length,s=[],u=[],c=256;let d,m;for(let f=0;f<r;f++){var p;let e=new Uint32Array(c);const r=n[f],h=null!==(p=null===i||void 0===i?void 0:i[f])&&void 0!==p?p:o;if("u8"===l){if(d=255,m=0,h){for(let t=0;t<a;t++)if(h[t]){const n=r[t];d=n<d?n:d,m=n>m?n:m,e[n]++}}else for(let t=0;t<a;t++){const n=r[t];d=n<d?n:d,m=n>m?n:m,e[n]++}e=e.slice(d,m+1)}else{let n=!1;t.statistics||(t.updateStatistics(),n=!0);const o=t.statistics;d=o[f].minValue,m=o[f].maxValue;const i=(m-d)/c;if(0===i){!o||t.validPixelCount||n||t.updateStatistics();const i=(t.validPixelCount||t.width*t.height)/c;for(let t=0;t<c;t++)e[t]=Math.round(i*(t+1))-Math.round(i*t)}else{const t=new Uint32Array(257);for(let e=0;e<a;e++)h&&!h[e]||t[Math.floor((r[e]-d)/i)]++;for(let n=0;n<255;n++)e[n]=t[n];e[255]=t[255]+t[c]}}const v="u8"===l?d-.5:d,g="u8"===l?m+.5:m;s.push({min:v,max:g,size:e.length,counts:e});let y=0,b=0,w=0;for(let t=0;t<e.length;t++)y+=e[t],b+=t*e[t];const x=b/y;for(let t=0;t<e.length;t++)w+=e[t]*(t-x)**2;const M=Math.sqrt(w/(y-1)),C=(g-v)/e.length,S=(x+("u8"===l?0:.5))*C+d,R=M*C;u.push({min:d,max:m,avg:S,stddev:R})}return{statistics:u,histograms:s}}function v(t){const e=[];for(let n=0;n<t.length;n++){const{min:o,max:i,size:l,counts:a}=t[n];let r=0,s=0;for(let t=0;t<l;t++)r+=a[t],s+=t*a[t];const u=s/r;let c=0;for(let t=0;t<l;t++)c+=a[t]*(t-u)**2;const d=(i-o)/l,m=(u+.5)*d+o,p=Math.sqrt(c/(r-1))*d;e.push({min:o,max:i,avg:m,stddev:p})}return e}function g(t,e){var n,i,r,s,c;const{pixelBlock:d,bandIds:m,returnHistogramLut:p,rasterInfo:f}=e;let v=null,g=null,y=t.stretchType;if("number"==typeof y&&(y=a.x[y]),t.dra)if("minMax"===y&&null!==d&&void 0!==d&&d.statistics)v=d.statistics.map((t=>[t.minValue,t.maxValue,0,0]));else{const t=h(d);v=null!=t?t.statistics:null,g=null!=t?t.histograms:null}else v=null!==(n=t.statistics)&&void 0!==n&&n.length?t.statistics:f.statistics,g="histograms"in t?t.histograms:void 0,g||(g=f.histograms);"percentClip"!==y&&"histogramEqualization"!==y||(null===(i=g)||void 0===i?void 0:i.length)||(y="minMax");const b=(null===(r=v)||void 0===r?void 0:r.length)||(null===(s=g)||void 0===s?void 0:s.length)||f.bandCount,w=[],x=[];v&&!Array.isArray(v[0])&&(v=v.map((t=>[t.min,t.max,t.avg,t.stddev])));const[M,C]=(0,l.hP)(f.pixelType);if(null===(c=v)||void 0===c||!c.length){v=[];for(let t=0;t<b;t++)v.push([M,C,1,1]);"standardDeviation"===y&&(y="minMax")}switch(y){case"none":for(let t=0;t<b;t++)w[t]=M,x[t]=C;break;case"minMax":for(let t=0;t<b;t++){const e=v[t];w[t]=e[0],x[t]=e[1]}break;case"standardDeviation":{const{numberOfStandardDeviations:e=2}=t;for(let t=0;t<b;t++){const n=v[t];w[t]=n[2]-e*n[3],x[t]=n[2]+e*n[3],w[t]<n[0]&&(w[t]=n[0]),x[t]>n[1]&&(x[t]=n[1])}}break;case"histogramEqualization":(0,o.Lw)(g);for(let t=0;t<b;t++)w[t]=g[t].min,x[t]=g[t].max;break;case"percentClip":(0,o.Lw)(g);for(let e=0;e<g.length;e++){const n=g[e],o=new Uint32Array(n.size),i=[...n.counts];i.length>=20&&(i[0]=i[1]=i[2]=i[i.length-1]=i[i.length-2]=0);let l=0;const a=(n.max-n.min)/n.size,r=-.5===n.min&&1===a?.5:0;for(let t=0;t<n.size;t++)l+=i[t],o[t]=l;let s=(t.minPercent||0)*l/100;w[e]=n.min+r;for(let t=0;t<n.size;t++)if(o[t]>s){w[e]=n.min+a*(t+r);break}s=(1-(t.maxPercent||0)/100)*l,x[e]=n.max+r;for(let t=n.size-2;t>=0;t--)if(o[t]<s){x[e]=n.min+a*(t+2-r);break}if(x[e]<w[e]){const t=w[e];w[e]=x[e],x[e]=t}}break;default:for(let t=0;t<b;t++){const e=v[t];w[t]=e[0],x[t]=e[1]}}let S,R,_;return"histogramEqualization"===y?((0,o.Lw)(g),R=g[0].size||256,S=0,p&&(_=g.map((t=>u(t))))):(R=t.max||255,S=t.min||0),function(t,e){if(null==e||0===e.length)return t;const n=Math.max.apply(null,e),{minCutOff:o,maxCutOff:i,minOutput:l,maxOutput:a,histogramLut:r}=t;return o.length===e.length||o.length<=n?t:{minCutOff:e.map((t=>o[t])),maxCutOff:e.map((t=>i[t])),histogramLut:r?e.map((t=>r[t])):null,minOutput:l,maxOutput:a}}({minCutOff:w,maxCutOff:x,maxOutput:R,minOutput:S,histogramLut:_},m)}function y(t,e){const n=new Float32Array(t);for(let o=0;o<t;o++)e[o]>1?e[o]>2?n[o]=6.5+(e[o]-2)**2.5:n[o]=6.5+100*(2-e[o])**4:n[o]=1;return n}function b(t,e){var n;if(null===t||void 0===t||null===(n=t.pixels)||void 0===n||!n.length)return t;const{mask:o,bandMasks:l,width:a,height:r,pixels:s}=t,{minCutOff:u,maxCutOff:c,minOutput:d,maxOutput:m,gamma:p}=e,f=a*r,h=e.outputPixelType||"u8",v=t.pixels.map((()=>i.default.createEmptyBand(h,f))),g=v.length,b=m-d,w=[],x=[];for(let i=0;i<g;i++)x[i]=c[i]-u[i],w[i]=0===x[i]?0:b/x[i];const M=h.startsWith("u")||h.startsWith("s"),C=p&&p.length>=g,S=!!e.isRenderer;if(C){const t=y(g,p);for(let e=0;e<g;e++){var R;const n=null!==(R=null===l||void 0===l?void 0:l[e])&&void 0!==R?R:o;for(let o=0;o<f;o++)if(null==n||n[o]){if(0===x[e]){v[e][o]=d;continue}const n=s[e][o],i=(n-u[e])/x[e];let l=1;if(p[e]>1&&(l-=(1/b)**(i*t[e])),n<c[e]&&n>u[e]){const t=l*b*i**(1/p[e])+d;v[e][o]=S?Math.floor(t):M?Math.round(t):t}else n>=c[e]?v[e][o]=m:v[e][o]=d}}}else for(let i=0;i<g;i++){var _;const t=null!==(_=null===l||void 0===l?void 0:l[i])&&void 0!==_?_:o;for(let e=0;e<f;e++)if(null==t||t[e]){const t=s[i][e];if(t<c[i]&&t>u[i]){const n=(t-u[i])*w[i]+d;v[i][e]=S?Math.floor(n):M?Math.round(n):n}else t>=c[i]?v[i][e]=m:v[i][e]=d}}const T=new i.default({width:a,height:r,mask:o,bandMasks:l,pixels:v,pixelType:h});return T.updateStatistics(),T}},97200:(t,e,n)=>{n.r(e),n.d(e,{default:()=>g});var o,i=n(35143),l=n(69539),a=n(45802),r=n(42553),s=n(76931),u=n(46053),c=(n(81806),n(76460),n(47249),n(6409)),d=n(85842),m=n(37287),p=n(9922),f=n(84563);const h=new a.J({flow_from:"flow-from",flow_to:"flow-to"});let v=o=class extends((0,m.h)(r.A)){constructor(t){super(t),this.density=.8,this.color=new l.default([255,255,255,1]),this.maxPathLength=200,this.trailWidth=1.5,this.flowSpeed=10,this.trailLength=100,this.smoothing=0,this.flowRepresentation="flow-from",this.type="flow",this.authoringInfo=null,this.legendOptions=null,this.trailCap="butt",this.background="none"}clone(){var t,e;const{density:n,maxPathLength:i,trailWidth:l,flowSpeed:a,trailLength:r,smoothing:s,flowRepresentation:u,trailCap:c,background:d}=this,m=this.color.clone(),p=(this.visualVariables||[]).map((t=>t.clone())),f=null===(t=this.authoringInfo)||void 0===t?void 0:t.clone(),h=null===(e=this.legendOptions)||void 0===e?void 0:e.clone();return new o({density:n,color:m,maxPathLength:i,trailWidth:l,flowSpeed:a,trailLength:r,trailCap:c,background:d,smoothing:s,flowRepresentation:u,visualVariables:p,authoringInfo:f,legendOptions:h})}getSymbol(t,e){}async getSymbolAsync(t,e){}getSymbols(){return[]}};(0,i._)([(0,u.MZ)({type:Number,json:{write:!0}})],v.prototype,"density",void 0),(0,i._)([(0,u.MZ)({type:l.default,json:{write:{allowNull:!0}}})],v.prototype,"color",void 0),(0,i._)([(0,u.MZ)({type:Number,cast:s.cr,json:{write:!0}})],v.prototype,"maxPathLength",void 0),(0,i._)([(0,u.MZ)({type:Number,cast:s.cr,json:{write:!0}})],v.prototype,"trailWidth",void 0),(0,i._)([(0,u.MZ)({type:Number,json:{write:!0}})],v.prototype,"flowSpeed",void 0),(0,i._)([(0,u.MZ)({type:Number,json:{write:!0}})],v.prototype,"trailLength",void 0),(0,i._)([(0,u.MZ)({type:Number,cast:s.cr,json:{write:!1}})],v.prototype,"smoothing",void 0),(0,i._)([(0,u.MZ)({type:h.apiValues,json:{type:h.jsonValues,read:{reader:h.read},write:{writer:h.write}}})],v.prototype,"flowRepresentation",void 0),(0,i._)([(0,c.e)({flowRenderer:"flow"})],v.prototype,"type",void 0),(0,i._)([(0,u.MZ)({type:p.default,json:{write:!0}})],v.prototype,"authoringInfo",void 0),(0,i._)([(0,u.MZ)({type:f.A,json:{write:!0}})],v.prototype,"legendOptions",void 0),(0,i._)([(0,u.MZ)({type:String,json:{write:!0}})],v.prototype,"trailCap",void 0),(0,i._)([(0,u.MZ)({type:String,json:{write:!0}})],v.prototype,"background",void 0),v=o=(0,i._)([(0,d.$)("esri.renderers.FlowRenderer")],v);const g=v}}]);
//# sourceMappingURL=5640.90b936a6.chunk.js.map