"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[48594,79256],{20639:(e,t,n)=>{n.d(t,{Ng:()=>T,OM:()=>v,Q0:()=>b,T8:()=>M,ZP:()=>Z,ZT:()=>F,eX:()=>w,fD:()=>S,fb:()=>h,fl:()=>p,iP:()=>A,oh:()=>O,rX:()=>x,sH:()=>g,yk:()=>k});var i=n(89379),o=(n(11265),n(81806),n(50076)),r=n(15941),l=n(65256),s=n(96017),u=n(85632),a=n(36693),d=n(24241),c=n(38042);const f=a.n$,m={date:null,time:null,timeZoneOffset:null},p=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]),h="latn",g=new Set(["date-only","time-only","timestamp-offset"]),y=e=>"valueAsDate"in e;function v(e){return{locale:(0,c.JK)(),numberingSystem:h,zone:null!==e&&void 0!==e?e:f}}function _(e,t){return null==e?null:d.c9.fromMillis(e,v(t))}function M(e,t){if(null==e||!(0,u.Kg)(e)||""===e){if(t){const e=d.c9.local({zone:t});return{date:null,time:null,timeZoneOffset:e.isValid?e.offset.toString():null}}return m}const n=d.c9.fromISO(e,{setZone:!0});return{date:n.toFormat(s.mo,v()),time:n.toFormat(s.Uq.HMS_MS,v()),timeZoneOffset:n.offset.toString()}}function b(e,t){if(null==e||!(0,u.Et)(e)||isNaN(e))return m;const n=_(e,t);return n?{date:n.toFormat(s.mo,v(t)),time:n.toFormat(s.Fj,v(t))}:m}function F(e){switch(e.type){case"date":default:return(0,l.J2)("short-date-short-time");case"date-only":return(0,l.J2)("short-date");case"time-only":return(0,l.J2)("short-time");case"timestamp-offset":return(0,i.A)((0,i.A)({},(0,l.J2)("short-date-short-time")),{},{timeZone:void 0,timeZoneName:"short"})}}function Z(e,t,n){if(!e||null==t)return null;switch(e.type){case"date":return(0,l.Yq)(t,n);case"date-only":return(0,l.iS)(t,n);case"time-only":return(0,l.F8)(t,n);case"timestamp-offset":return(0,l.Ey)(t,n);default:return null}}function T(e){var t;const{dateComponent:n,defaultTimeZone:i,timeComponent:o,timeZoneComponent:r,oldValue:l}=e;if(null===n||void 0===n||!n.value)return null;const{year:u,month:c,day:f}=d.c9.fromFormat(n.value,s.mo),{hour:m,minute:p,second:h,millisecond:g}=null!==(t=E(o,a.n$))&&void 0!==t?t:d.c9.now(),y=M(l,i),v=null!==r&&void 0!==r&&r.value?parseInt(r.value,10):null!=y.timeZoneOffset?parseInt(y.timeZoneOffset,10):(new Date).getTimezoneOffset(),_=d.mQ.instance(v),b=d.c9.fromObject({year:u,month:c,day:f,hour:m,minute:p,second:h,millisecond:g},{zone:_});return b.isValid?b.toISO({includeOffset:!0}):null}function O(e){const{dateComponent:t,timeComponent:n,timeZone:i,max:o,min:r,oldValue:l}=e,s=E(t,i);let u=!!e.applyRange;if(!s)return null;let a=null;if(null!=(null===n||void 0===n?void 0:n.value)){const e=E(n,i),t=Date.now(),r=null!=o&&o<t?o:t,l=d.c9.fromMillis(r,v(i)),u=s||l,{year:c,month:f,day:m}=u,{hour:p,minute:h,second:g,millisecond:y}=e||l;a=u.set({year:c,month:f,day:m,hour:p,minute:h,second:g,millisecond:y})}else{const e=_(D({value:null!==l&&void 0!==l?l:Date.now(),max:o,min:r}),i),{year:t,month:n,day:d}=s,{hour:c,minute:f,second:m,millisecond:p}=e;u=!0,a=s.set({year:t,month:n,day:d,hour:c,minute:f,second:m,millisecond:p})}if(!a.isValid)return null;const c=a.toMillis();return u?D({value:c,max:o,min:r}):c}function E(e,t){var n;if(null==(null===e||void 0===e?void 0:e.value)||Array.isArray(e.value))return null;let i=null;return i=y(e)?d.c9.fromFormat(e.value,s.mo,v(t)):(0,s.UE)(e.value),null!==(n=i)&&void 0!==n&&n.isValid?i:null}function w(e){const{max:t,min:n,value:i}=e;return!isNaN(i)&&!(null!=t&&i>t)&&!(null!=n&&i<n)}function D(e){const{max:t,min:n,value:i}=e;return null!=t&&null!=n?(0,r.qE)(i,n,t):null!=t&&i>t?t:null!=n&&i<n?n:i}function A(e){if(!e)return"";const t=e.split(".").at(0);if(!t||t.length<1)throw new o.default("invalid time-only field","Cannot parse valid time-only field value from ".concat(e));const n=t.split(":"),i=new Array(3);for(let o=0;o<3;o++){var r;const e=null!==(r=n.at(o))&&void 0!==r?r:"";i[o]=e.padStart(2,"0")}return i.join(":")}function S(e,t){switch(t){case"date":return e.getTime();case"date-only":return e.toISODate();case"time-only":return A(e.toISOTime(!0,!1));case"timestamp-offset":return e.toISOString(!1);default:return null}}function x(e){return!!e&&"object"==typeof e&&"getTime"in e&&"toISOString"in e&&"timeZone"in e}function k(e){var t,n;const{type:i,range:o,value:r}=e;if(null==r||!o||r===o.min||r===o.max)return!0;if("date"===i)return w({value:r,min:o.min,max:o.max});const{rawMax:l,rawMin:u}=o;let a=null,d=null,c=null;switch(i){case"date-only":a=(0,s.Xi)(l),d=(0,s.Xi)(u),c=(0,s.Xi)(r);break;case"time-only":a=(0,s.UE)(l),d=(0,s.UE)(u),c=(0,s.UE)(r);break;case"timestamp-offset":a=(0,s.gz)(l),d=(0,s.gz)(u),c=(0,s.gz)(r)}return!c||w({value:c.valueOf(),min:null===(t=d)||void 0===t?void 0:t.valueOf(),max:null===(n=a)||void 0===n?void 0:n.valueOf()})}},23301:(e,t,n)=>{n.d(t,{$$:()=>b,D_:()=>f,Gd:()=>c,Kx:()=>i,PA:()=>y,Po:()=>m,Qv:()=>v,gK:()=>o,hQ:()=>M,jl:()=>h,of:()=>d,qn:()=>_,zU:()=>p});var i,o,r,l=n(71764),s=n(15142),u=n(53430),a=n(20639);(r=i||(i={})).Text="text",r.Number="number",r.Date="date",r.Unsupported="unsupported",function(e){e.CANNOT_BE_EMPTY="input-validation-error::cannot-be-empty",e.TOO_SHORT="length-validation-error::too-short",e.TOO_LONG="length-validation-error::too-long"}(o||(o={}));const d=(e,t)=>{if(!e)return!0;const{operations:n}=e;switch(t){case"INSERT":return n.supportsAdd;case"UPDATE":case"DELETE":return n.supportsUpdate;default:return!0}};function c(e,t){var n;const{dataType:i,domain:r,field:l,maxLength:d,minLength:c,range:f,required:m}=t;if(null==e)return m?o.CANNOT_BE_EMPTY:null;if("text"===i&&"string"==typeof e){if(c>-1&&e.length<c)return o.TOO_SHORT;if(d>-1&&e.length>d)return o.TOO_LONG}return"date"!==i||(0,a.yk)({type:l.type,range:f,value:e})?r?(0,s.wb)(l,e,r):null!==(n=(0,u.validateFieldValue)(l,e))&&void 0!==n?n:(0,s.wb)(l,e):u.NumericRangeValidationError.OUT_OF_RANGE}function f(e,t){return!(!m(e)||!m(t))||e===t}function m(e){return null==e||""===e}function p(e){let{dataType:t,field:n,input:o}=e;if(t===i.Date)return-1;const r=g(n.length);if(!o||!(0,l.AI)(o))return r;const s=g(o.maxLength);return-1===s?r:-1===r?s:Math.min(r,s)}function h(e){let{dataType:t,field:n,input:o}=e;if(t===i.Date)return-1;if(!o||!(0,l.AI)(o))return-1;const r=g(o.minLength);if(r<0)return-1;const s=g(n.length);return s>-1&&s<r?-1:r}function g(e){return"number"==typeof e&&e>-1?e:-1}const y={type:"number"},v={type:"number",intlOptions:{notation:"scientific"}};function _(e){return e>=1e7||e<=-1e7}function M(e,t){return null!=e.max&&null!=e.min?t.outsideRange:null!=e.max?t.outsideRangeMax:t.outsideRangeMin}const b=e=>e&&!Number.isNaN(e.valueOf())},48594:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var i=n(35143),o=n(91967),r=n(19276),l=n(76460),s=n(67993),u=n(46053),a=(n(81806),n(47249),n(85842)),d=n(5600),c=n(79256);let f=class extends o.default{constructor(e){super(e),this.creationInfo=null,this.editorItem=null,this.fullTemplate=null,this.parent=null,this.temporaryHighlightFeature=null,this.sketchOptions=null,this.snappingManager=null,this.templateExecutorInfo=null,this.viewModel=null,this.upload=null,this._pendingEdits=new s.A}get isSharedTemplateWorkflow(){return!!this.fullTemplate&&(0,d.w2)(this.fullTemplate)}get pendingFeatures(){return new r.default([...this._pendingEdits.keys()])}set selectedPendingFeature(e){this._set("selectedPendingFeature",e),this.temporaryHighlightFeature=null}set timeZone(e){this._set("timeZone",e),this._pendingEdits.forEach((t=>{t.timeZone=e}))}isSubmittable(e){const t=this._pendingEdits.get(e);return!(null===t||void 0===t||!t.submittable)||!(null===t||void 0===t||!t.isAssociation)}isDisplayable(e){var t;return!(null!==(t=this._pendingEdits.get(e))&&void 0!==t&&t.isAssociation)}addPendingFeature(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isAssociation:!1};this.temporaryHighlightFeature=null;const{_pendingEdits:i}=this;if(i.has(e))return i.get(e);e.sourceLayer||l.A.getLogger("esri.widgets.Editor.CreateFeaturesWorkflowData").warn("source-layer-not-set","A feature added to `pendingFeatures` did not have `sourceLayer` set. This may cause problems throughout `CreateFeaturesWorkflow`.");const o=new c.default({feature:e,isAssociation:n.isAssociation});return o.trackChanges(t),i.set(e,o),o}getEditsForPendingFeature(e){return this._pendingEdits.get(e)}removePendingFeature(e){this.temporaryHighlightFeature=null;const{_pendingEdits:t}=this,n=t.get(e);n&&(n.destroy(),t.delete(e)),this.selectedPendingFeature===e&&(this.selectedPendingFeature=null)}getFeatureTitle(e){var t;return null===(t=this._pendingEdits.get(e))||void 0===t?void 0:t.displayTitle}};(0,i._)([(0,u.MZ)()],f.prototype,"creationInfo",void 0),(0,i._)([(0,u.MZ)()],f.prototype,"editorItem",void 0),(0,i._)([(0,u.MZ)()],f.prototype,"fullTemplate",void 0),(0,i._)([(0,u.MZ)()],f.prototype,"isSharedTemplateWorkflow",null),(0,i._)([(0,u.MZ)()],f.prototype,"parent",void 0),(0,i._)([(0,u.MZ)()],f.prototype,"pendingFeatures",null),(0,i._)([(0,u.MZ)()],f.prototype,"selectedPendingFeature",null),(0,i._)([(0,u.MZ)()],f.prototype,"temporaryHighlightFeature",void 0),(0,i._)([(0,u.MZ)({constructOnly:!0})],f.prototype,"sketchOptions",void 0),(0,i._)([(0,u.MZ)()],f.prototype,"snappingManager",void 0),(0,i._)([(0,u.MZ)()],f.prototype,"templateExecutorInfo",void 0),(0,i._)([(0,u.MZ)()],f.prototype,"viewModel",void 0),(0,i._)([(0,u.MZ)()],f.prototype,"upload",void 0),(0,i._)([(0,u.MZ)()],f.prototype,"timeZone",null),f=(0,i._)([(0,a.$)("esri.widgets.Editor.CreateFeaturesWorkflowData")],f);const m=f},79256:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var i=n(35143),o=n(91967),r=n(50346),l=n(46053),s=(n(81806),n(76460),n(47249),n(85842)),u=n(41289),a=n(23301);let d=class extends o.default{constructor(e){super(e),this._stagedForDelete=!1,this.feature=null,this.initialFeature=null,this.submittable=!1,this.displayTitle=null,this.isAssociation=!1,this._debouncedRefreshDisplayTitle=(0,r.debounce)(this._refreshDisplayTitle.bind(this),100)}get attributesModified(){var e,t;return!function(e,t){const n=null!==e&&void 0!==e?e:{},i=null!==t&&void 0!==t?t:{},o=new Set(Object.keys(n));(0,u.FB)(o,Object.keys(i));for(const r of o){const e=n[r],t=i[r];if(!(0,a.D_)(e,t))return!1}return!0}(null===(e=this.initialFeature)||void 0===e?void 0:e.attributes,null===(t=this.feature)||void 0===t?void 0:t.attributes)}get geometryModified(){return this._stringifyGeometry(this.feature)!==this._stringifyGeometry(this.initialFeature)}get stagedForDelete(){return this._stagedForDelete}get modified(){return this.attributesModified||this.geometryModified||this._stagedForDelete}set timeZone(e){this._set("timeZone",e),(0,r.ignoreAbortErrors)(this._debouncedRefreshDisplayTitle())}stageDelete(){this._stagedForDelete=!0}unstageDelete(){this._stagedForDelete=!1}trackChanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.feature;this.initialFeature=null===e||void 0===e?void 0:e.clone(),(0,r.ignoreAbortErrors)(this._debouncedRefreshDisplayTitle())}updateAttributes(e){const{feature:t}=this;t&&(t.attributes=e,this.notifyChange("attributesModified")),(0,r.ignoreAbortErrors)(this._debouncedRefreshDisplayTitle())}updateGeometry(e){const{feature:t}=this;t&&(t.geometry=e,this.notifyChange("geometryModified"))}_stringifyGeometry(e){const t=null===e||void 0===e?void 0:e.geometry;return function(e){return null==e?null:JSON.stringify(e)}("mesh"===(null===t||void 0===t?void 0:t.type)?{transform:t.transform,vertexSpace:t.vertexSpace}:t)}async _refreshDisplayTitle(e){const t=this.feature,n=null===t||void 0===t?void 0:t.sourceLayer;if(!n||!("getFeatureTitle"in n))return;const i=await n.getFeatureTitle(t,{fetchMissingFields:!1,timeZone:this.timeZone});e.aborted||(this.displayTitle=""===i?null:i)}};(0,i._)([(0,l.MZ)()],d.prototype,"_stagedForDelete",void 0),(0,i._)([(0,l.MZ)()],d.prototype,"attributesModified",null),(0,i._)([(0,l.MZ)()],d.prototype,"feature",void 0),(0,i._)([(0,l.MZ)()],d.prototype,"geometryModified",null),(0,i._)([(0,l.MZ)()],d.prototype,"initialFeature",void 0),(0,i._)([(0,l.MZ)()],d.prototype,"modified",null),(0,i._)([(0,l.MZ)()],d.prototype,"submittable",void 0),(0,i._)([(0,l.MZ)()],d.prototype,"displayTitle",void 0),(0,i._)([(0,l.MZ)()],d.prototype,"isAssociation",void 0),(0,i._)([(0,l.MZ)()],d.prototype,"timeZone",null),d=(0,i._)([(0,s.$)("esri.widgets.Editor.Edits")],d);const c=d}}]);
//# sourceMappingURL=48594.f636b024.chunk.js.map