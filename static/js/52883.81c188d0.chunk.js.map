{"version":3,"file":"static/js/52883.81c188d0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/rest/support/IdentifyParameters.js","../node_modules/@arcgis/core/rest/operations/identify.js","../node_modules/@arcgis/core/rest/identify.js","../node_modules/@arcgis/core/rest/support/IdentifyResult.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import o from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{ensureClass as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import n from\"../../geometry/Extent.js\";import l from\"../../geometry/SpatialReference.js\";import{fromJSON as m}from\"../../geometry/support/jsonUtils.js\";import{geometryTypes as y}from\"../../geometry/support/typeUtils.js\";import a from\"../../time/TimeExtent.js\";var u;let d=u=class extends o{static from(t){return i(u,t)}constructor(t){super(t),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.historicMoment=null,this.layerIds=null,this.layerOption=\"top\",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}writeHistoricMoment(t,e){e.historicMoment=t&&t.getTime()}};t([r({type:Number,json:{write:!0}})],d.prototype,\"dpi\",void 0),t([r()],d.prototype,\"floors\",void 0),t([r({type:String,json:{write:!0}})],d.prototype,\"gdbVersion\",void 0),t([r({types:y,json:{read:m,write:!0}})],d.prototype,\"geometry\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"geometryPrecision\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"height\",void 0),t([r({type:Date})],d.prototype,\"historicMoment\",void 0),t([p(\"historicMoment\")],d.prototype,\"writeHistoricMoment\",null),t([r({type:[Number],json:{write:!0}})],d.prototype,\"layerIds\",void 0),t([r({type:[\"top\",\"visible\",\"all\",\"popup\"],json:{write:!0}})],d.prototype,\"layerOption\",void 0),t([r({type:n,json:{write:!0}})],d.prototype,\"mapExtent\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"maxAllowableOffset\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnFieldName\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnGeometry\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnM\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnUnformattedValues\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnZ\",void 0),t([r({type:l,json:{write:!0}})],d.prototype,\"spatialReference\",void 0),t([r({type:e})],d.prototype,\"sublayers\",void 0),t([r({type:a,json:{write:!0}})],d.prototype,\"timeExtent\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"tolerance\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"width\",void 0),d=u=t([s(\"esri.rest.support.IdentifyParameters\")],d);const c=d;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../core/sql.js\";import{getJsonType as t}from\"../../geometry/support/jsonUtils.js\";import{getScale as r}from\"../../geometry/support/scaleUtils.js\";import{srToRESTValue as i}from\"../../geometry/support/spatialReferenceUtils.js\";import{getLayerFloorFilterClause as n}from\"../../layers/support/floorFilterUtils.js\";import{isExportDynamic as s}from\"../../layers/support/sublayerUtils.js\";function o(e,r){const{dpi:n,gdbVersion:s,geometry:o,geometryPrecision:a,height:m,historicMoment:p,layerOption:f,mapExtent:y,maxAllowableOffset:u,returnFieldName:c,returnGeometry:d,returnUnformattedValues:g,returnZ:x,spatialReference:h,timeExtent:b,tolerance:E,width:O}=e.toJSON(),{dynamicLayers:S,layerDefs:j,layerIds:N}=l(e),$=null!=r?.geometry?r.geometry:null,I={historicMoment:p,geometryPrecision:a,maxAllowableOffset:u,returnFieldName:c,returnGeometry:d,returnUnformattedValues:g,returnZ:x,tolerance:E},R=$?.toJSON()||o;I.imageDisplay=`${O},${m},${n}`,s&&(I.gdbVersion=s),R&&(delete R.spatialReference,I.geometry=JSON.stringify(R),I.geometryType=t(R));const U=h??R?.spatialReference??y?.spatialReference;if(U&&(I.sr=i(U)),I.time=b?[b.start,b.end].join(\",\"):null,y){const{xmin:e,ymin:t,xmax:r,ymax:i}=y;I.mapExtent=`${e},${t},${r},${i}`}return j&&(I.layerDefs=j),S&&!j&&(I.dynamicLayers=S),I.layers=\"popup\"===f?\"visible\":f,N&&!S&&(I.layers+=`:${N.join(\",\")}`),I}function l(e){const{mapExtent:t,floors:i,width:o,sublayers:l,layerIds:m,layerOption:p,gdbVersion:f}=e,y=l?.find((e=>null!=e.layer))?.layer?.serviceSublayers,u=\"popup\"===p,c={},d=r({extent:t,width:o,spatialReference:t?.spatialReference}),g=[],x=e=>{const t=0===d,r=0===e.minScale||d<=e.minScale,i=0===e.maxScale||d>=e.maxScale;if(e.visible&&(t||r&&i))if(e.sublayers)e.sublayers.forEach(x);else{if(!1===m?.includes(e.id)||u&&(!e.popupTemplate||!e.popupEnabled))return;g.unshift(e)}};if(l?.forEach(x),l&&!g.length)c.layerIds=[];else{const e=s(g,y,f),t=g.map((e=>{const t=n(i,e);return e.toExportImageJSON(t)}));if(e)c.dynamicLayers=JSON.stringify(t);else{if(l){let e=g.map((({id:e})=>e));m&&(e=e.filter((e=>m.includes(e)))),c.layerIds=e}else m?.length&&(c.layerIds=m);const e=a(i,g);if(null!=e&&e.length){const t={};for(const r of e)r.definitionExpression&&(t[r.id]=r.definitionExpression);Object.keys(t).length&&(c.layerDefs=JSON.stringify(t))}}}return c}function a(t,r){const i=!!t?.length,s=r.filter((e=>null!=e.definitionExpression||i&&null!=e.floorInfo));return s.length?s.map((r=>{const i=n(t,r),s=e(i,r.definitionExpression);return{id:r.id,definitionExpression:s??void 0}})):null}export{o as identifyToIdentifyRESTParameters,l as toDynamicLayersJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from\"../request.js\";import{normalizeCentralMeridian as e}from\"../geometry/support/normalizeUtils.js\";import{parseUrl as t,encode as o,asValidOptions as s}from\"./utils.js\";import{identifyToIdentifyRESTParameters as n}from\"./operations/identify.js\";import u from\"./support/IdentifyParameters.js\";import i from\"./support/IdentifyResult.js\";async function f(u,i,f){const c=(i=a(i)).geometry?[i.geometry]:[],l=t(u);return l.path+=\"/identify\",e(c).then((e=>{const t=n(i,{geometry:e?.[0]}),u=o({...l.query,f:\"json\",...t}),a=s(u,f);return r(l.path,a).then(m).then((r=>p(r,i.sublayers)))}))}function m(r){const e=r.data;return e.results=e.results||[],e.exceededTransferLimit=Boolean(e.exceededTransferLimit),e.results=e.results.map((r=>i.fromJSON(r))),e}function a(r){return r=u.from(r)}function p(r,e){if(!e?.length)return r;const t=new Map;function o(r){t.set(r.id,r),r.sublayers&&r.sublayers.forEach(o)}e.forEach(o);for(const s of r.results)s.feature.sourceLayer=t.get(s.layerId);return r}export{f as identify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../Graphic.js\";import t from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import{typeKebabDictionary as i}from\"../../geometry/support/typeUtils.js\";let u=class extends t{constructor(r){super(r),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(r,t){return e.fromJSON({attributes:{...t.attributes},geometry:{...t.geometry}})}writeFeature(r,e){if(!r)return;const{attributes:t,geometry:o}=r;t&&(e.attributes={...t}),null!=o&&(e.geometry=o.toJSON(),e.geometryType=i.toJSON(o.type))}};r([o({type:String,json:{write:!0}})],u.prototype,\"displayFieldName\",void 0),r([o({type:e})],u.prototype,\"feature\",void 0),r([s(\"feature\",[\"attributes\",\"geometry\"])],u.prototype,\"readFeature\",null),r([a(\"feature\")],u.prototype,\"writeFeature\",null),r([o({type:Number,json:{write:!0}})],u.prototype,\"layerId\",void 0),r([o({type:String,json:{write:!0}})],u.prototype,\"layerName\",void 0),u=r([p(\"esri.rest.support.IdentifyResult\")],u);const m=u;export{m as default};\n"],"names":["u","d","o","from","t","i","constructor","super","this","dpi","floors","gdbVersion","geometry","geometryPrecision","height","historicMoment","layerIds","layerOption","mapExtent","maxAllowableOffset","returnFieldName","returnGeometry","returnM","returnUnformattedValues","returnZ","spatialReference","sublayers","timeExtent","tolerance","width","writeHistoricMoment","e","getTime","r","type","Number","json","write","prototype","String","types","y","read","m","Date","p","n","Boolean","l","a","s","c","_ref","f","g","x","h","b","E","O","toJSON","dynamicLayers","S","layerDefs","j","N","$","I","R","imageDisplay","concat","JSON","stringify","geometryType","U","sr","time","start","end","join","xmin","ymin","xmax","ymax","layers","_l$find","find","layer","serviceSublayers","extent","minScale","maxScale","visible","forEach","includes","id","popupTemplate","popupEnabled","unshift","length","map","toExportImageJSON","_ref2","filter","definitionExpression","floorInfo","Object","keys","async","path","then","_objectSpread","query","Map","set","results","feature","sourceLayer","get","layerId","data","exceededTransferLimit","fromJSON","displayFieldName","layerName","readFeature","attributes","writeFeature"],"sourceRoot":""}