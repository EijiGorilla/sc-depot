"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[16252,32086,76602],{16252:(t,e,i)=>{i.r(e),i.d(e,{default:()=>w});var n,r=i(35143),a=i(95349),o=i(63469),l=i(50076),s=i(46053),h=(i(81806),i(76460),i(47249),i(85842)),d=i(28546),p=i(18100),u=i(76602),y=i(32086),c=i(89713),v=i(42052),g=i(90761);const k={currentVersion:v.Y,createInitialViewProperties:()=>new c.default,parseVersion:g.R.parse,itemType:"Web Link Chart",name:"linkchart",origin:"link-chart"};let L=n=class extends o.default{constructor(t){super(t),this.mapType="webLinkChart",this.linkChartProperties=new u.default}get activeLinkChartLayer(){return this.layers.find((t=>{let{type:e}=t;return"link-chart"===e}))}get context(){return k}async applyLayout(){var t,e,i,n,r,o,s,h,d;let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"organic-standard",y=arguments.length>1?arguments[1]:void 0;if(await this.load(),!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");return"geographic-organic-standard"!==u||null!==(t=this.basemap)&&void 0!==t&&null!==(t=t.baseLayers)&&void 0!==t&&t.length||(this.basemap=a.default.fromId("topo-vector"),await(null===(e=this.basemap)||void 0===e?void 0:e.load())),this.linkChartProperties.layoutType=u,null!==y&&void 0!==y&&null!==(i=y.layoutSettings)&&void 0!==i&&i.chronologicalLayoutSettings&&y.layoutSettings.organicLayoutSettings||!this.linkChartProperties.layoutSettings?this.linkChartProperties.layoutSettings=null===y||void 0===y?void 0:y.layoutSettings:this.linkChartProperties.layoutSettings=new p.default({organicLayoutSettings:null!==(n=null===y||void 0===y||null===(r=y.layoutSettings)||void 0===r?void 0:r.organicLayoutSettings)&&void 0!==n?n:null===(o=this.linkChartProperties.layoutSettings)||void 0===o?void 0:o.organicLayoutSettings,chronologicalLayoutSettings:null!==(s=null===y||void 0===y||null===(h=y.layoutSettings)||void 0===h?void 0:h.chronologicalLayoutSettings)&&void 0!==s?s:null===(d=this.linkChartProperties.layoutSettings)||void 0===d?void 0:d.chronologicalLayoutSettings}),this.activeLinkChartLayer.applyNewLinkChartLayout(u,y)}changeNonspatialDataDisplay(t){if(!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");this.linkChartProperties.nonspatialDataDisplay||(this.linkChartProperties.nonspatialDataDisplay=new y.default),this.linkChartProperties.nonspatialDataDisplay.mode=t}async addRecords(t,e){if(await this.load(),!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.addRecords(t,e)}async removeRecords(t){if(await this.load(),!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.removeRecords(t)}async expand(t,e){var i;if(await this.load(),!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");const n=await this.activeLinkChartLayer.expand(t,e);return null!==(i=null===n||void 0===n?void 0:n.records)&&void 0!==i?i:[]}async refreshLinkChartData(t){if(await this.load(),!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.refreshLinkChartCache(t)}async connectBetweenEntities(t,e){var i;if(await this.load(),!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");const n=await this.activeLinkChartLayer.connectBetweenEntities(t,e);return null!==(i=null===n||void 0===n?void 0:n.records)&&void 0!==i?i:[]}async connectFromEntities(t,e){var i;if(await this.load(),!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");const n=await this.activeLinkChartLayer.connectFromEntities(t,e);return null!==(i=null===n||void 0===n?void 0:n.records)&&void 0!==i?i:[]}getMemberIdsByType(t){var e,i;if(!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");return Array.from(null!==(e=null===(i=this.activeLinkChartLayer)||void 0===i||null===(i=i.dataManager.sublayerCaches.get(t))||void 0===i?void 0:i.keys())&&void 0!==e?e:[])}get diagramNodesExtent(){if(!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.linkChartExtent}get entityCount(){if(!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.entityLinkChartDiagramLookup.size}get relationshipCount(){if(!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");return this.activeLinkChartLayer.relationshipLinkChartDiagramLookup.size}get knowledgeGraph(){var t;if(!this.activeLinkChartLayer)throw new l.default("WebLinkChart:no-link-chart-layer","No link chart layer found");return null===(t=this.activeLinkChartLayer)||void 0===t?void 0:t.knowledgeGraph}add(t,e){if(this.activeLinkChartLayer&&"type"in t&&"link-chart"===t.type)throw new l.default("linkchart:one-link-chart-layer","Web Link Charts can only have one Link Chart Layer, another cannot be added");if(super.add(t,e),"type"in t&&"link-chart"===t.type){var i,n;const e=null===(i=t.initializationLinkChartConfig)||void 0===i?void 0:i.layoutMode;e&&(this.linkChartProperties.layoutType=e);const r=null===(n=t.initializationLinkChartConfig)||void 0===n?void 0:n.layoutSettings;r&&(this.linkChartProperties.layoutSettings=r)}}static fromJSON(t){if(t)return new n({resourceInfo:t});throw new l.default("linkchart:empty-resource","Expected a JSON resource but got nothing")}handleChronologicalOverlay(){if(!this.activeLinkChartLayer)return;const t=this.activeLinkChartLayer,e=this.findLayerById((0,d.getDefaultChronologicalOverlayLayerId)());if(e&&this.remove(e),"chronological-mono-timeline"===this.linkChartProperties.layoutType||"chronological-multi-timeline"===this.linkChartProperties.layoutType){const e=(0,d.getChronologicalOverlay)(t);this.add(e,0)}}};(0,r._)([(0,s.MZ)({readOnly:!0})],L.prototype,"activeLinkChartLayer",null),(0,r._)([(0,s.MZ)({json:{write:{ignoreOrigin:!0}}})],L.prototype,"mapType",void 0),(0,r._)([(0,s.MZ)({type:u.default,nonNullable:!0,json:{write:{ignoreOrigin:!0}}})],L.prototype,"linkChartProperties",void 0),(0,r._)([(0,s.MZ)({readOnly:!0})],L.prototype,"diagramNodesExtent",null),(0,r._)([(0,s.MZ)({readOnly:!0})],L.prototype,"entityCount",null),(0,r._)([(0,s.MZ)({readOnly:!0})],L.prototype,"relationshipCount",null),(0,r._)([(0,s.MZ)({readOnly:!0})],L.prototype,"knowledgeGraph",null),L=n=(0,r._)([(0,h.$)("esri.WebLinkChart")],L);const w=L},18100:(t,e,i)=>{i.r(e),i.d(e,{default:()=>p});var n=i(35143),r=i(69098),a=i(42553),o=i(46053),l=(i(81806),i(76460),i(47249),i(85842)),s=i(28654),h=i(36517);let d=class extends(r.A.ClonableMixin(a.A)){constructor(t){super(t),this.chronologicalLayoutSettings=null,this.organicLayoutSettings=null}};(0,n._)([(0,o.MZ)({type:s.default,json:{write:!0}})],d.prototype,"chronologicalLayoutSettings",void 0),(0,n._)([(0,o.MZ)({type:h.default,json:{write:!0}})],d.prototype,"organicLayoutSettings",void 0),d=(0,n._)([(0,l.$)("esri.linkChart.LayoutSettings")],d);const p=d},28654:(t,e,i)=>{i.r(e),i.d(e,{default:()=>u});var n=i(35143),r=i(69098),a=i(42553),o=i(46053),l=i(40565),s=(i(81806),i(47249),i(6409)),h=i(85842),d=i(29209);let p=class extends(r.A.ClonableMixin(a.A)){constructor(t){super(t),this.durationLineWidth=5,this.entityPositionAtDurationRatio=1,this.eventsTicksVisualization="start-and-end",this.lineSeparationMultiplier=1,this.moveFirstBends=!0,this.secondBendRatio=.3,this.separateTimeOverlaps=!0,this.separateTimelineOverlaps=!0,this.separatedLineShapeRatio=0,this.showDurationLineForNonZeroDurationEntityEvents=!1,this.showNonZeroDurationIntervalBounds=!1,this.spaceSeparatedLinesEvenly=!1,this.timeBannerUTCOffsetInMinutes=0,this.timeDirection="right",this.useBezierCurves=!1}};(0,n._)([(0,o.MZ)({type:l.jz,range:{min:1,max:10},json:{write:!0}})],p.prototype,"durationLineWidth",void 0),(0,n._)([(0,o.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],p.prototype,"entityPositionAtDurationRatio",void 0),(0,n._)([(0,s.e)(d.SJ)],p.prototype,"eventsTicksVisualization",void 0),(0,n._)([(0,o.MZ)({type:Number,range:{min:0},json:{write:!0}})],p.prototype,"lineSeparationMultiplier",void 0),(0,n._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"moveFirstBends",void 0),(0,n._)([(0,o.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],p.prototype,"secondBendRatio",void 0),(0,n._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"separateTimeOverlaps",void 0),(0,n._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"separateTimelineOverlaps",void 0),(0,n._)([(0,o.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],p.prototype,"separatedLineShapeRatio",void 0),(0,n._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"showDurationLineForNonZeroDurationEntityEvents",void 0),(0,n._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"showNonZeroDurationIntervalBounds",void 0),(0,n._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"spaceSeparatedLinesEvenly",void 0),(0,n._)([(0,o.MZ)({type:l.jz,json:{write:!0}})],p.prototype,"timeBannerUTCOffsetInMinutes",void 0),(0,n._)([(0,o.MZ)({type:["bottom","left","right","top"],json:{write:!0}})],p.prototype,"timeDirection",void 0),(0,n._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],p.prototype,"useBezierCurves",void 0),p=(0,n._)([(0,h.$)("esri.linkChart.ChronologicalLayoutSettings")],p);const u=p},32086:(t,e,i)=>{i.r(e),i.d(e,{default:()=>h});var n=i(35143),r=i(69098),a=i(42553),o=i(46053),l=(i(81806),i(76460),i(47249),i(85842));let s=class extends(r.A.ClonableMixin(a.A)){constructor(t){super(t),this.mode="visible"}};(0,n._)([(0,o.MZ)({type:["hidden","visible"],json:{write:!0}})],s.prototype,"mode",void 0),s=(0,n._)([(0,l.$)("esri.linkChart.NonspatialDataDisplay")],s);const h=s},36517:(t,e,i)=>{i.r(e),i.d(e,{default:()=>p});var n=i(35143),r=i(69098),a=i(42553),o=i(46053),l=(i(81806),i(76460),i(47249),i(6409)),s=i(85842),h=i(29209);let d=class extends(r.A.ClonableMixin(a.A)){constructor(t){super(t),this.absoluteIdealEdgeLength=1,this.autoRepulsionRadius=!0,this.computationBudgetTime=2,this.idealEdgeLengthType="multiplier",this.multiplicativeIdealEdgeLength=1,this.repulsionRadiusMultiplier=1}};(0,n._)([(0,o.MZ)({type:Number,range:{min:0,max:360},json:{write:!0}})],d.prototype,"absoluteIdealEdgeLength",void 0),(0,n._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],d.prototype,"autoRepulsionRadius",void 0),(0,n._)([(0,o.MZ)({type:Number,json:{write:!1}})],d.prototype,"computationBudgetTime",void 0),(0,n._)([(0,l.e)(h.lg)],d.prototype,"idealEdgeLengthType",void 0),(0,n._)([(0,o.MZ)({type:Number,range:{min:0,max:5},json:{write:!0}})],d.prototype,"multiplicativeIdealEdgeLength",void 0),(0,n._)([(0,o.MZ)({type:Number,range:{min:1,max:99},json:{write:!0}})],d.prototype,"repulsionRadiusMultiplier",void 0),d=(0,n._)([(0,s.$)("esri.linkChart.OrganicLayoutSettings")],d);const p=d},76602:(t,e,i)=>{i.r(e),i.d(e,{default:()=>C});var n=i(35143),r=i(55),a=i(69098),o=i(77717),l=i(90534),s=i(49723),h=i(46053),d=(i(81806),i(76460),i(47249),i(28379)),p=i(85842),u=i(17707),y=i(49140),c=i(28546),v=i(29209),g=i(18100),k=i(32086),L=i(79453);let w=class extends(a.A.ClonableMixin(o.L)){constructor(t){super(t),this.aggregatedEntitiesUrl=null,this.aggregatedRelationshipsUrl=null,this.autoCollapseRelationships=!0,this.centralityIsUpToDate=!0,this.entitiesUrl=null,this.layoutSettings=null,this.layoutType="organic-standard",this.nonspatialDataDisplay=null,this.relationshipsUrl=null}readEntitiesUrl(t,e,i){return(0,L.f)(t,i)}writeEntitiesUrl(t,e,i,n){var r;const a=null===n||void 0===n?void 0:n.portalItem,o=null===n||void 0===n?void 0:n.resources,l=(0,y.aB)(null===n||void 0===n?void 0:n.origin),s=null===n||void 0===n||null===(r=n.webmap)||void 0===r?void 0:r.activeLinkChartLayer;a&&o&&null!=l&&s&&s.membershipModified?this._saveUrlAsNewResource(e,i,o,a,s):t&&(e[i]=(0,L.t)(t,n))}readRelationshipsUrl(t,e,i){return(0,L.f)(t,i)}writeRelationshipsUrl(t,e,i,n){var r;const a=null===n||void 0===n?void 0:n.portalItem,o=null===n||void 0===n?void 0:n.resources,l=(0,y.aB)(null===n||void 0===n?void 0:n.origin),s=null===n||void 0===n||null===(r=n.webmap)||void 0===r?void 0:r.activeLinkChartLayer;a&&o&&null!=l&&s&&s.membershipModified?this._saveUrlAsNewResource(e,i,o,a,s):t&&(e[i]=(0,L.t)(t,n))}_saveUrlAsNewResource(t,e,i,n,a){var o;t[e]="<pending>";const h=(null!==(o=a.knowledgeGraph.dataModel.relationshipTypes)&&void 0!==o?o:[]).map((t=>t.name)).reduce(((t,e)=>{if(!e)return t;const{members:i}=a.dataManager.inclusionModeDefinition.namedTypeDefinitions.get(e)||{members:void 0};if(!i)return t;for(const[n]of i)t.push({id:n,typeName:e});return t}),[]);i.pendingOperations.push(new Promise((o=>{(0,c.getRelationshipEndNodeMap)(h,a.knowledgeGraph).then((h=>{(async function(t,e,i,n){let a;return a="entitiesUrl"===e?await(0,r._P)(t,i,n):await(0,r.sD)(t,i,n),new Blob([a],{type:"application/x-protobuf"})})(a.dataManager.inclusionModeDefinition,e,a.knowledgeGraph,h).then((r=>{const a=function(t,e){const i="".concat(e,"-").concat((0,s.lk)(),".dat"),n=(0,l.join)("linkChart",i);return t.resourceFromPath(n)}(n,"entitiesUrl"===e?"entitiesUrl":"relationshipsUrl");t[e]=a.itemRelativeUrl,i.toAdd.push({resource:a,content:{type:"blob",blob:r},compress:!1,finish:t=>{"entitiesUrl"===e?this.entitiesUrl=t.url:this.relationshipsUrl=t.url}}),o()}))}))})))}};(0,n._)([(0,h.MZ)({type:String,json:{write:!0}})],w.prototype,"aggregatedEntitiesUrl",void 0),(0,n._)([(0,h.MZ)({type:String,json:{write:!0}})],w.prototype,"aggregatedRelationshipsUrl",void 0),(0,n._)([(0,h.MZ)({type:Boolean,json:{write:!0}})],w.prototype,"autoCollapseRelationships",void 0),(0,n._)([(0,h.MZ)({type:Boolean,json:{write:!0}})],w.prototype,"centralityIsUpToDate",void 0),(0,n._)([(0,h.MZ)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],w.prototype,"entitiesUrl",void 0),(0,n._)([(0,d.w)("entitiesUrl")],w.prototype,"readEntitiesUrl",null),(0,n._)([(0,u.K)("entitiesUrl")],w.prototype,"writeEntitiesUrl",null),(0,n._)([(0,h.MZ)({type:g.default,json:{write:!0}})],w.prototype,"layoutSettings",void 0),(0,n._)([(0,h.MZ)({type:v.iQ,json:{write:!0}})],w.prototype,"layoutType",void 0),(0,n._)([(0,h.MZ)({type:k.default,json:{write:!0}})],w.prototype,"nonspatialDataDisplay",void 0),(0,n._)([(0,h.MZ)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],w.prototype,"relationshipsUrl",void 0),(0,n._)([(0,d.w)("relationshipsUrl")],w.prototype,"readRelationshipsUrl",null),(0,n._)([(0,u.K)("relationshipsUrl")],w.prototype,"writeRelationshipsUrl",null),w=(0,n._)([(0,p.$)("esri.linkChart.LinkChartProperties")],w);const C=w}}]);
//# sourceMappingURL=16252.81317c1c.chunk.js.map