{"version":3,"file":"static/js/60831.a7ccabe6.chunk.js","mappings":"8TAIilD,SAASA,EAACC,GAAwD,IAAtDC,OAAOC,gBAAgBC,GAAGC,iBAAiBC,EAAEC,MAAMC,GAAEP,EAAE,OAAOK,EAAEG,aAAaL,EAAEM,iBAAiBF,CAAC,CAAC,SAASG,EAAEP,EAAEE,GAAG,MAAMM,EAAEJ,EAAEK,EAAEC,GAAGV,GAAEW,EAAAA,EAAAA,yBAAET,GAAE,GAAIA,EAAE,MAAM,CAACE,EAAEM,EAAE,CAAC,IAAIE,EAAE,cAAcV,EAAAA,QAAEW,WAAAA,CAAYb,GAAGc,MAAMd,GAAGe,KAAKC,mBAAkBZ,EAAAA,EAAAA,MAAIW,KAAKE,KAAK,IAAI,CAAC,SAAInB,GAAO,IAAAoB,EAAC,OAAgB,QAATA,EAAAH,KAAKE,YAAI,IAAAC,GAATA,EAAWC,OAAO,OAAOJ,KAAKE,KAAKG,MAAKC,EAAAA,EAAAA,GAAEN,KAAKE,QAAQF,KAAKE,KAAKK,mBAAmB,WAAW,QAAQ,UAAU,CAACC,qBAAAA,CAAsBvB,EAAEE,GAAG,GAAG,aAAaa,KAAKjB,OAAO0B,MAAMxB,KAAKE,IAAIa,KAAKE,KAAK,OAAO,KAAK,MAAMb,EAAEW,KAAKU,uBAAuB,OAAO,MAAMrB,EAAE,KAAKW,KAAKW,kBAAkB1B,EAAEI,EAAEF,EAAE,CAACuB,oBAAAA,GAAuB,MAAM3B,MAAME,EAAEC,iBAAiBC,GAAGa,KAAKE,KAAK,KAAIU,EAAAA,EAAAA,IAAEzB,GAAG,OAAO,KAAK,MAAM0B,aAAaxB,GAAGF,EAAE2B,EAAlxB,SAAW7B,GAAE,IAAA8B,EAAAC,EAAC,MAAMC,cAAc9B,EAAE+B,IAAI7B,EAAE8B,KAAKxB,GAAGV,EAAE,OAAOE,GAA6C,QAA5C4B,EAAQ,QAARC,EAAIrB,GAAGN,SAAC,IAAA2B,OAAA,EAALA,EAAQI,SAAS,gCAAwB,IAAAL,GAAAA,CAAK,CAAuqBM,CAAElC,GAAa,IAAAmC,EAAV,IAAIjC,IAAIyB,EAAG,OAAO7B,EAAEsC,OAAOnC,OAAW,QAANkC,GAAE3B,EAAAA,EAAAA,IAAER,UAAE,IAAAmC,EAAAA,EAAE,GAAG,MAAME,EAAEC,GAAGzB,KAAK0B,2BAA2BC,EAAEb,GAAGzB,KAAIuC,EAAAA,EAAAA,aAAEzC,GAAG0C,EAAAA,QAAEC,MAAM3C,EAAE4C,EAAE,IAAIC,EAAAA,QAAE,CAACC,MAAM,CAAC,CAACzC,EAAEsB,EAAEU,GAAGhC,EAAEsB,EAAEW,KAAKvC,iBAAiByC,IAAI/B,GAAEsC,EAAAA,EAAAA,qBAAEH,EAAE,IAAI,IAAIzB,EAAE,KAAKA,IAAG6B,EAAAA,EAAAA,iBAAE,CAACvC,GAAG,SAAS,CAAC,MAAAwC,GAAM,OAAO,IAAI,CAAC,OAAO9B,CAAC,CAACoB,wBAAAA,GAA2B,MAAMzC,EAAEe,KAAKE,MAAMd,MAAMD,EAAEkD,OAAO1C,EAAE2C,SAASxB,EAAE5B,iBAAiBsC,GAAGvC,EAAE,GAAGJ,EAAEI,GAAG,CAAC,MAAMA,GAAE8C,EAAAA,EAAAA,IAAEP,IAAIe,MAAMpD,GAAGF,EAAE,MAAM,CAAC,IAAI0C,EAAAA,QAAExC,EAAE,GAAG,EAAEqC,GAAG,IAAIG,EAAAA,QAAExC,EAAE,GAAG,EAAEqC,GAAG,CAAC,IAAIC,EAAEzB,KAAKC,kBAAkBP,EAAEoB,EAAE,GAAGW,EAAE9B,EAAE8B,EAAE9B,EAAE8B,EAAE,IAAIA,EAAE,GAAG,MAAMO,GAAE3C,EAAAA,EAAAA,IAAE,EAAEoC,GAAGI,GAAExC,EAAAA,EAAAA,IAAEF,EAAEsC,GAAG,MAAM,CAACxC,EAAEuD,MAAMR,GAAG/C,EAAEuD,MAAMX,GAAG,CAAClB,iBAAAA,CAAkB1B,EAAEE,EAAEE,GAAG,MAAMM,EAAEK,KAAKE,KAAKY,EAAE7B,EAAEE,GAAGN,EAAEc,GAAGA,EAAEZ,MAAMC,gBAAgBO,iBAAiBI,EAAEP,OAAO,GAAG0B,EAAE,KAAK,OAAO,KAAK,MAAMU,EAA90D,SAAWvC,EAAEE,GAAG,OAAOA,GAAG,IAAI,SAAS,OAAOF,EAAE,IAAI,CAACwD,UAAS3B,EAAAA,EAAAA,IAAE7B,EAAE,SAAS,cAAcyD,KAAK,aAAazD,EAAE,EAAE,CAACwD,SAASxD,EAAEyD,KAAK,SAASzD,EAAE,IAAI,CAACwD,UAAS3B,EAAAA,EAAAA,IAAE7B,EAAE,SAAS,eAAeyD,KAAK,cAAc,CAACD,UAAS3B,EAAAA,EAAAA,IAAE7B,EAAE,SAAS,eAAeyD,KAAK,cAAc,IAAI,WAAW,OAAOzD,EAAE,SAAS,CAACwD,UAAS3B,EAAAA,EAAAA,IAAE7B,EAAE,SAAS,SAASyD,KAAK,QAAQzD,EAAE,MAAM,CAACwD,UAAS3B,EAAAA,EAAAA,IAAE7B,EAAE,SAAS,QAAQyD,KAAK,QAAQ,CAACD,UAAS3B,EAAAA,EAAAA,IAAE7B,EAAE,SAAS,UAAUyD,KAAK,QAAQ,CAA+5ChD,CAAEoB,EAAEzB,IAAIoD,SAAShB,EAAEiB,KAAKf,GAAGH,EAAE,IAAIQ,EAAEP,EAAEI,EAAE,EAAE,KAAKG,GAAG,GAAGA,GAAG,GAAGH,IAAI,MAAMc,IAAIf,EAAEgB,IAAIT,GAA5+D,SAAWlD,GAAG,OAAOA,EAAE,GAAG,CAAC0D,IAAI,GAAGC,IAAI,GAAG3D,EAAE,GAAG,CAAC0D,IAAI,GAAGC,IAAI,IAAI,CAACD,IAAI,GAAGC,IAAI,GAAG,CAAk6DC,CAAEb,GAAGE,EAAEC,EAAEH,GAAGA,EAAEJ,EAAEA,EAAEO,EAAE,MAAM,CAACW,OAAO7D,GAAGiD,EAAEF,GAAGe,MAAM,IAAIlB,EAAEK,EAAEQ,KAAKf,EAAE,IAAG1C,EAAAA,EAAAA,GAAE,EAACuC,EAAAA,EAAAA,OAAK3B,EAAEmD,UAAU,yBAAoB,IAAQ/D,EAAAA,EAAAA,GAAE,EAACuC,EAAAA,EAAAA,IAAE,CAACyB,UAAS,KAAMpD,EAAEmD,UAAU,QAAQ,OAAM/D,EAAAA,EAAAA,GAAE,EAACuC,EAAAA,EAAAA,OAAK3B,EAAEmD,UAAU,YAAO,GAAQnD,GAAEZ,EAAAA,EAAAA,GAAE,EAACwC,EAAAA,EAAAA,GAAE,4CAA4C5B,GAAG,MAAMqD,EAAErD,C","sources":["../node_modules/@arcgis/core/widgets/ScaleBar/ScaleBarViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import{createScreenPoint as r}from\"../../core/screenUtils.js\";import{getMetersPerUnit as i,convertUnit as s}from\"../../core/unitUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"../../geometry/Point.js\";import c from\"../../geometry/Polyline.js\";import m from\"../../geometry/SpatialReference.js\";import{isSupported as l,geodesicLengths as p}from\"../../geometry/support/geodesicUtils.js\";import{straightLineDensify as u}from\"../../geometry/support/normalizeUtils.js\";import{isValid as d,getInfo as f}from\"../../geometry/support/spatialReferenceUtils.js\";import{webMercatorToGeographic as h}from\"../../geometry/support/webMercatorUtils.js\";import{isLinkChartView as w}from\"../../linkChart/utils.js\";function g(e){return e>.5?{min:.5,max:1}:e>.2?{min:.2,max:.5}:{min:.1,max:.2}}function y(e,t){switch(t){case\"metric\":return e>1e3?{distance:s(e,\"meters\",\"kilometers\"),unit:\"kilometer\"}:e>1?{distance:e,unit:\"meter\"}:e>.01?{distance:s(e,\"meters\",\"centimeters\"),unit:\"centimeter\"}:{distance:s(e,\"meters\",\"millimeters\"),unit:\"millimeter\"};case\"imperial\":return e>1609.344?{distance:s(e,\"meters\",\"miles\"),unit:\"mile\"}:e>.3048?{distance:s(e,\"meters\",\"feet\"),unit:\"foot\"}:{distance:s(e,\"meters\",\"inches\"),unit:\"inch\"}}}function j(e){const{isWebMercator:t,wkt:r,wkt2:i}=e;return t||((i||r)?.includes(\"WGS_1984_Web_Mercator\")??!1)}function S({state:{paddedViewState:e},spatialReference:t,width:r}){return t.isWrappable&&e.worldScreenWidth<r}function v(e,t){const{x:r,y:i}=e?h(t,!0):t;return[r,i]}let M=class extends t{constructor(e){super(e),this.scaleComputedFrom=r(),this.view=null}get state(){return this.view?.ready&&\"2d\"===this.view.type?w(this.view)&&!this.view.inGeographicLayout?\"disabled\":\"ready\":\"disabled\"}getScaleBarProperties(e,t){if(\"disabled\"===this.state||isNaN(e)||!t||!this.view)return null;const r=this._getDistanceInMeters();return null==r?null:this._getScaleBarProps(e,r,t)}_getDistanceInMeters(){const{state:e,spatialReference:t}=this.view;if(!d(t))return null;const{isGeographic:r}=t,s=j(t);if(!r&&!s){return e.extent.width*(i(t)??1)}const[o,n]=this._getScaleMeasuringPoints(),a=s||r&&!l(t)?m.WGS84:t,f=new c({paths:[[v(s,o),v(s,n)]],spatialReference:a}),h=u(f,10);let w;try{[w]=p([h],\"meters\")}catch{return null}return w}_getScaleMeasuringPoints(){const e=this.view,{width:t,height:i,position:s,spatialReference:o}=e;if(S(e)){const e=f(o),{valid:t}=e;return[new a(t[0],0,o),new a(t[1],0,o)]}let n=this.scaleComputedFrom.y-s[1];n>i?n=i:n<0&&(n=0);const c=r(0,n),m=r(t,n);return[e.toMap(c),e.toMap(m)]}_getScaleBarProps(e,t,r){const i=this.view,s=e*t/(S(i)?i.state.paddedViewState.worldScreenWidth:i.width);if(s<.001)return null;const o=y(s,r),{distance:n,unit:a}=o;let c=n,m=0;for(;c>=1;)c/=10,m++;const{min:l,max:p}=g(c),u=p/c>=c/l?l:p;return{length:e*(u/c),value:10**m*u,unit:a}}};e([o()],M.prototype,\"scaleComputedFrom\",void 0),e([o({readOnly:!0})],M.prototype,\"state\",null),e([o()],M.prototype,\"view\",void 0),M=e([n(\"esri.widgets.ScaleBar.ScaleBarViewModel\")],M);const _=M;export{_ as default};\n"],"names":["S","_ref2","state","paddedViewState","e","spatialReference","t","width","r","isWrappable","worldScreenWidth","v","x","y","i","h","M","constructor","super","this","scaleComputedFrom","view","_this$view","ready","type","w","inGeographicLayout","getScaleBarProperties","isNaN","_getDistanceInMeters","_getScaleBarProps","d","isGeographic","s","_includes","_ref","isWebMercator","wkt","wkt2","includes","j","_i","extent","o","n","_getScaleMeasuringPoints","a","l","m","WGS84","f","c","paths","u","p","_unused","height","position","valid","toMap","distance","unit","min","max","g","length","value","prototype","readOnly","_"],"sourceRoot":""}