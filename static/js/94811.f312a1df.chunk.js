"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[15062,94811],{15062:(e,t,i)=>{i.d(t,{T:()=>s});const s={close:"esri-icon-close",collapse:"esri-icon-collapse",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",handleVertical:"esri-icon-handle-vertical",icon:"esri-icon",left:"esri-icon-left",locateCircled:"esri-icon-locate-circled",noticeTriangle:"esri-icon-notice-triangle",pause:"esri-icon-pause",play:"esri-icon-play",plus:"esri-icon-plus",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",search:"esri-icon-search",swap:"esri-icon-swap",table:"esri-icon-table",trash:"esri-icon-trash",up:"esri-icon-up",upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomToObject:"esri-icon-zoom-to-object"}},94811:(e,t,i)=>{i.r(t),i.d(t,{default:()=>b});var s=i(35143),l=(i(11265),i(68134)),n=i(46053),o=(i(81806),i(76460),i(47249),i(85842)),a=i(25329);const r="esri-floor-filter",c="".concat(r,"__filter-menu"),d={floorFilter:r,floorFilterLayout:"".concat(r,"__layout--"),floorFilterPosition:"".concat(r,"__position--"),buttonContainer:"".concat(r,"__button-container"),buttonContainerLevels:"".concat(r,"__button-container--levels"),buttonInfo:"".concat(r,"__button-info"),buttonLabel:"".concat(r,"__button-label"),browseButton:"".concat(r,"__browse-button"),closeLevelsButton:"".concat(r,"__close-levels-button"),zoomButton:"".concat(r,"__zoom-button"),zoomButtonLevels:"".concat(r,"__zoom-button--levels"),minimizeToggleButton:"".concat(r,"__minimize-toggle-button"),levelsContainer:"".concat(r,"__levels-container"),levelButton:"".concat(r,"__level-button"),levelButtonActive:"".concat(r,"__level-button--active"),iconFlip:"esri-collapse__icon-flip",separator:"".concat(r,"__separator"),filterMenu:c,filterMenuHeader:"".concat(c,"-header"),filterMenuHeaderTextGroup:"".concat(c,"-header-text-group"),filterMenuHeaderText:"".concat(c,"-header-text"),filterMenuHeaderSubtext:"".concat(c,"-header-subtext"),filterMenuHeaderBack:"".concat(c,"-header-back"),filterMenuSearch:"".concat(c,"-search"),filterMenuSearchInput:"".concat(c,"-search-input"),filterMenuItems:"".concat(c,"-items"),filterMenuItemName:"".concat(c,"-item-name"),filterMenuSelectedItem:"".concat(c,"-item-name--selected"),filterMenuSite:"".concat(c,"-site"),filterMenuFacility:"".concat(c,"-facility"),selectedItemCircle:"".concat(r,"__selected-item-circle")};var u=i(78787),h=i(98108),v=i(87540),m=i(15062),M=i(76099),_=i(63582),f=i(54761),g=i(39348);const p=new Set(["ArrowUp","ArrowDown","End","Home"]);let w=class extends a.default{constructor(e,t){super(e,t),this._activeMenu=null,this._activeMenuIndex={levels:-1,menuItems:-1},this._baseNode=null,this._facilitiesListNode=null,this._levelsListNode=null,this._sitesListNode=null,this._searchInput=null,this.viewModel=new u.default,this.messages=null,this.messagesCommon=null,this.headingLevel=2,this._resizeObserver=new ResizeObserver((()=>this.scheduleRender())),this.addHandles((0,l.watch)((()=>this._searchInput),(()=>this._focusSearch())))}destroy(){var e;null===(e=this._resizeObserver)||void 0===e||e.disconnect()}get enabled(){return this.viewModel.enabled}set enabled(e){this.viewModel.enabled=e}get longNames(){return this.viewModel.longNames}set longNames(e){this.viewModel.longNames=e}get minimized(){return this.viewModel.minimized}set minimized(e){this.viewModel.minimized=e}get pinnedLevels(){return this.viewModel.pinnedLevels}set pinnedLevels(e){this.viewModel.pinnedLevels=e}get site(){return this.viewModel.site}set site(e){this.viewModel.site=e}get facility(){return this.viewModel.facility}set facility(e){this.viewModel.facility=e}get level(){return this.viewModel.level}set level(e){this.viewModel.level=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"floor-plan"}set icon(e){this._overrideIfSome("icon",e)}updateWebDocument(e){return this.viewModel.updateWebDocument(e)}render(){var e;const{longNames:t}=this,i=t&&this.viewModel.isNormalMode?"expanded":"collapsed",s=this._renderButtons(),l=this._renderFilterMenu(),n=(0,f.K)("div",{class:this.classes(d.separator)}),o=this._getComponentPosition(),a=this._getPosition(o),r="top-right"===o||"bottom-right"===o,c="top-left"===o||"bottom-left"===o,u=(0,M.V8)(this.container),v=u&&c||!u&&r?l:s,m=u&&c||!u&&r?s:l;return(0,f.K)("div",{afterCreate:this._afterBaseNodeCreate,class:this.classes(d.floorFilter,h.D.widget,"".concat(d.floorFilterLayout).concat(i),"".concat(d.floorFilterPosition).concat(a)),key:"floor-filter-menu"},v,null!==(e=this.viewModel)&&void 0!==e&&e.filterMenuOpen?n:null,m)}_renderButtons(){const e=this._getComponentPosition(),t=[];return"top"===this._getPosition(e)?(t.push(this._renderBrowseButton()),t.push(this._renderLevelButtons()),t.push(this._renderCloseLevelsButton()),t.push(this._renderZoomButton()),t.push(this._renderCollapseToggleButton())):(t.push(this._renderCollapseToggleButton()),t.push(this._renderZoomButton()),t.push(this._renderCloseLevelsButton()),t.push(this._renderLevelButtons()),t.push(this._renderBrowseButton())),(0,f.K)("div",{class:this.classes(h.D.widget,d.buttonContainer),key:"button-container"},t)}_renderBrowseButton(){var e;const{longNames:t,messages:i}=this;return(0,f.K)("button",{"aria-expanded":this.viewModel.filterMenuOpen.toString(),"aria-label":i.buttons.browse,bind:this,class:this.classes(h.D.widget,h.D.widgetButton,h.D.interactive,("loading"===this.viewModel.state||"disabled"===this.viewModel.state)&&h.D.buttonDisabled,d.browseButton,(null===(e=this.viewModel)||void 0===e?void 0:e.filterMenuOpen)&&h.D.widgetButtonActive),key:"browse-button",onclick:this._toggleFilterMenu,title:i.buttons.browse,type:"button"},(0,f.K)("div",{class:this.classes(d.buttonInfo)},(0,f.K)("span",{class:this.classes(m.T.icon,m.T.urbanModel)}),(0,f.K)("span",{class:this.classes(d.buttonLabel)},t&&this.viewModel.isNormalMode?i.buttons.browse:null)))}_renderLevelButtons(){var e,t,i,s;if(null===(e=this.viewModel)||void 0===e||null===(e=e.filterFeatures)||void 0===e||null===(e=e.levels)||void 0===e||!e.levelsInfo||!this.facility)return null;const{facility:l,messagesCommon:n,messages:o}=this,a=null===(t=this.viewModel)||void 0===t?void 0:t.getFacility(l),r=(null===(i=this.viewModel)||void 0===i?void 0:i.getFacilityLevels(l)).map((e=>this._renderLevelButton(e)));if(!r.length)return null;const c=a&&(0,g.V)(o.selector.levelsLabel,{name:'"'.concat(a.name,'"')});if(this._isWebScene(null===(s=this.view)||void 0===s?void 0:s.map)&&(null===r||void 0===r?void 0:r.length)>1){const e={id:"all--".concat(l),facilityId:l,shortName:n.all,longName:n.all,levelNumber:null,verticalOrder:null},t=this._renderLevelButton(e);r.push(t)}return(0,f.K)("ul",{afterCreate:M.cA,"aria-label":c,bind:this,class:this.classes(d.levelsContainer),"data-id":"levels","data-node-ref":"_levelsListNode",key:"levels-button-container",onkeydown:this._handleListKeydown},r)}_renderLevelButton(e){const{longNames:t}=this,{shortName:i,longName:s,id:l}=e,n="levels--".concat(l),o=this.level===l,a=t&&this.viewModel.isNormalMode?s:i;return this.viewModel.isNormalMode||o||this.viewModel.levelsExpanded?(0,f.K)("li",{key:n},(0,f.K)("button",{bind:this,class:this.classes(h.D.widgetButton,o?h.D.widgetButtonActive:null,h.D.interactive,d.levelButton),"data-id":l,"data-list-id":"levels",onclick:this._levelSelected,onfocus:this._onItemFocus,type:"button"},a)):null}_renderCloseLevelsButton(){if(!this.level||this.viewModel.isNormalMode||!this.viewModel.levelsExpanded)return null;const{messagesCommon:e}=this;return(0,f.K)("button",{"aria-label":e.close,bind:this,class:this.classes(h.D.widget,h.D.widgetButton,h.D.interactive,d.closeLevelsButton),key:"close-levels-button",onclick:this._closeLevels,title:e.close,type:"button"},(0,f.K)("div",{class:this.classes(d.buttonInfo)},(0,f.K)("span",{class:this.classes(m.T.icon,m.T.close)})))}_renderZoomButton(){var e,t,i,s,l;const{longNames:n,messages:o,facility:a,site:r}=this,c=null===(e=this.viewModel)||void 0===e?void 0:e.filterMenuType,u=null===(t=this.viewModel)||void 0===t?void 0:t.filterMenuOpen,v=null===(i=this.viewModel)||void 0===i?void 0:i.getSite(r),M=null===(s=this.viewModel)||void 0===s?void 0:s.getFacility(a),_="site"===c&&u?!v:!M;return(0,f.K)("button",{"aria-label":o.buttons.zoomTo,bind:this,class:this.classes(h.D.widget,h.D.widgetButton,_&&h.D.buttonDisabled,h.D.interactive,(null===(l=this.viewModel)||void 0===l?void 0:l.getFacilityLevels(a).length)>0?d.zoomButtonLevels:d.zoomButton),key:"zoom-button",onclick:this._zoomToClicked,title:o.buttons.zoomTo,type:"button"},(0,f.K)("div",{class:this.classes(d.buttonInfo)},(0,f.K)("span",{class:this.classes(m.T.icon,m.T.zoomToObject)}),(0,f.K)("span",{class:this.classes(d.buttonLabel)},n&&this.viewModel.isNormalMode?o.buttons.zoomTo:null)))}_renderCollapseToggleButton(){const{longNames:e,messagesCommon:t}=this,i=e?m.T.collapse:m.T.expand,s=this.classes(m.T.icon,i,d.iconFlip),l=e?t.collapse:t.expand;return(0,f.K)("button",{"aria-label":l,bind:this,class:this.classes(h.D.widget,h.D.widgetButton,h.D.interactive,d.minimizeToggleButton),key:"minimize-toggle-button",onclick:this._toggleCollapsed,title:l,type:"button"},(0,f.K)("div",{class:this.classes(d.buttonInfo)},(0,f.K)("span",{class:s}),(0,f.K)("span",{class:this.classes(d.buttonLabel)},e&&this.viewModel.isNormalMode?t.collapse:null)))}_renderFilterMenu(){var e,t,i;return null!==(e=this.viewModel)&&void 0!==e&&e.filterMenuOpen?"site"===(null===(t=this.viewModel)||void 0===t?void 0:t.filterMenuType)?this._renderSiteFilterMenu():"facility"===(null===(i=this.viewModel)||void 0===i?void 0:i.filterMenuType)?this._renderFacilityFilterMenu():null:null}_renderSiteFilterMenu(){var e;const{messages:t,messagesCommon:i}=this,s=this.site?null===(e=this.viewModel)||void 0===e||null===(e=e.getSite(this.site))||void 0===e?void 0:e.name:t.selector.selectSite,l=(0,f.K)("div",{class:this.classes("".concat(d.filterMenuHeader)),key:"filter-menu-site-header"},(0,f.K)("div",{class:this.classes(d.filterMenuHeaderTextGroup)},(0,f.K)(v.D,{class:this.classes(d.filterMenuHeaderText),level:this.headingLevel},s)),(0,f.K)("button",{bind:this,class:this.classes(m.T.icon,m.T.close),onclick:this._closeClicked,title:i.close,type:"button"})),n=this._renderSearchInput(),o=this._renderSiteItems();return(0,f.K)("div",{class:this.classes(d.filterMenu),key:"filter-menu-site"},l,n,o)}_renderFacilityFilterMenu(){var e,t;const{messages:i,messagesCommon:s,site:l}=this,n=null===(e=this.viewModel)||void 0===e||null===(e=e.getSite(l))||void 0===e?void 0:e.name,o=this.facility&&(null===(t=this.viewModel)||void 0===t||null===(t=t.getFacility(this.facility))||void 0===t?void 0:t.name)||i.selector.selectFacility,a=this.viewModel.hasMultipleSites?(0,f.K)("button",{bind:this,class:this.classes(d.filterMenuHeaderBack),onclick:this._backClicked,title:s.back,type:"button"},(0,f.K)("span",{class:this.classes((0,M.V8)(this.container)?m.T.right:m.T.left)})):null,r=this.viewModel.hasMultipleSites?(0,f.K)(v.D,{class:this.classes(d.filterMenuHeaderSubtext),level:(0,v.S)(this.headingLevel)},n):null,c=(0,f.K)("div",{class:this.classes(d.filterMenuHeader),key:"filter-menu-site-header"},a,(0,f.K)("div",{class:this.classes(d.filterMenuHeaderTextGroup)},(0,f.K)(v.D,{class:this.classes(d.filterMenuHeaderText),level:this.headingLevel},o),r),(0,f.K)("button",{bind:this,class:this.classes(m.T.icon,m.T.close),onclick:this._closeClicked,title:s.close,type:"button"})),u=this._renderSearchInput(),h=this._renderFacilityItems();return(0,f.K)("div",{class:this.classes(d.filterMenu),key:"filter-menu-facility"},c,u,h)}_renderSearchInput(){var e,t;const{messagesCommon:i}=this,s=!!(this.viewModel.searchTerm&&(null===(e=this.viewModel.searchTerm)||void 0===e?void 0:e.length)>0);return(0,f.K)("div",{class:this.classes(d.filterMenuSearch),key:"filter-menu-search"},(0,f.K)("span",{class:this.classes(m.T.icon,m.T.search),key:"filter-menu-search-icon"}),(0,f.K)("input",{afterCreate:M.cA,bind:this,class:this.classes(d.filterMenuSearchInput),"data-node-ref":"_searchInput",oninput:this._onSearchChange,onpaste:this._onSearchChange,placeholder:i.search,value:null!==(t=this.viewModel.searchTerm)&&void 0!==t?t:void 0}),s?(0,f.K)("span",{bind:this,class:this.classes(m.T.icon,m.T.close),key:"filter-menu-search-clear",onclick:this._onSearchClear,title:i.clear}):null)}_renderBlueCircle(){return(0,f.K)("span",{class:this.classes(d.selectedItemCircle),key:"floor-filter__selected-item-circle"})}_renderSiteItems(){var e,t;if(null===(e=this.viewModel)||void 0===e||null===(e=e.filterFeatures)||void 0===e||null===(e=e.sites)||void 0===e||!e.sitesInfo)return null;const{messages:i}=this,s=this.viewModel.filterFeatures.sites.sitesInfo,l=this.viewModel.filterSites(s).map((e=>this._renderSiteItem(e))),n=0===l.length&&(null===(t=this.viewModel)||void 0===t?void 0:t.searchTerm)&&(0,f.K)("div",{class:this.classes(h.D.empty)},i.noResults);return(0,f.K)("ul",{afterCreate:M.cA,"aria-label":i.selector.sitesLabel,bind:this,class:this.classes(d.filterMenuItems),"data-id":"sites","data-node-ref":"_sitesListNode",key:"filter-menu-items--sites",onkeydown:this._handleListKeydown,tabIndex:-1},l,n)}_renderSiteItem(e){const{name:t,id:i}=e,s="filter-menu-site--".concat(i),l=this.site===i;return(0,f.K)("li",{key:s},(0,f.K)("button",{bind:this,class:this.classes(d.filterMenuSite),"data-id":i,"data-list-id":"sites",onclick:this._siteSelected,onfocus:this._onItemFocus,type:"button"},l?this._renderBlueCircle():null,(0,f.K)("span",{class:this.classes(l?d.filterMenuSelectedItem:d.filterMenuItemName)},t),(0,f.K)("span",{class:this.classes((0,M.V8)(this.container)?m.T.left:m.T.right)})))}_renderFacilityItems(){var e,t;if(null===(e=this.viewModel)||void 0===e||null===(e=e.filterFeatures)||void 0===e||null===(e=e.facilities)||void 0===e||!e.facilitiesInfo)return null;const{messages:i,site:s}=this,l=this.viewModel.getSite(s),n=this.viewModel.filterFeatures.facilities.facilitiesInfo,o=this.viewModel.filterFacilities(n).map((e=>this._renderFacilityItem(e))),a=0===o.length&&(null===(t=this.viewModel)||void 0===t?void 0:t.searchTerm)&&(0,f.K)("div",{class:this.classes(h.D.empty)},i.noResults),r=l?(0,g.V)(i.selector.siteFacilitiesLabel,{name:'"'.concat(l.name,'"')}):i.selector.facilitiesLabel;return(0,f.K)("ul",{afterCreate:M.cA,"aria-label":r,bind:this,class:this.classes(d.filterMenuItems),"data-id":"facilities","data-node-ref":"_facilitiesListNode",key:"filter-menu-items--facilities",onkeydown:this._handleListKeydown,tabIndex:-1},o,a)}_renderFacilityItem(e){const{name:t,id:i}=e,s="filter-menu-facility--".concat(i),l=this.facility===i;return(0,f.K)("li",{key:s},(0,f.K)("button",{bind:this,class:this.classes(d.filterMenuFacility),"data-id":i,"data-list-id":"facilities",onclick:this._facilitySelected,onfocus:this._onItemFocus,type:"button"},l?this._renderBlueCircle():null,(0,f.K)("span",{class:this.classes(l?d.filterMenuSelectedItem:d.filterMenuItemName)},t)))}_afterBaseNodeCreate(e){var t,i;this._baseNode&&null!==(t=this._resizeObserver)&&void 0!==t&&t.unobserve(this._baseNode),this._baseNode=e,null===(i=this._resizeObserver)||void 0===i||i.observe(this._baseNode)}_toggleCollapsed(){this.longNames=!this.longNames}_toggleFilterMenu(){var e,t;const i=null!==(e=null===(t=this.viewModel)||void 0===t?void 0:t.filterMenuOpen)&&void 0!==e&&e;this.viewModel.filterMenuOpen=!i}_setFilterMenuType(e){this.viewModel.filterMenuType=e}_zoomToClicked(){var e,t;if(this.site&&"site"===(null===(e=this.viewModel)||void 0===e?void 0:e.filterMenuType)&&null!==(t=this.viewModel)&&void 0!==t&&t.filterMenuOpen){var i;const e=null===(i=this.viewModel)||void 0===i?void 0:i.getSite(this.site);this.viewModel.goTo(e)}else if(this.facility){var s;const e=null===(s=this.viewModel)||void 0===s?void 0:s.getFacility(this.facility);this.viewModel.goTo(e)}else if(this.site){var l;const e=null===(l=this.viewModel)||void 0===l?void 0:l.getSite(this.site);this.viewModel.goTo(e)}}_onSearchChange(e){var t;const i=e.target;""===i.value?this.viewModel.searchTerm=null:i.value&&(null===(t=this.viewModel)||void 0===t?void 0:t.searchTerm)!==i.value&&(this.viewModel.searchTerm=i.value)}_onSearchClear(){this.viewModel.searchTerm=null}_closeClicked(){this.viewModel.searchTerm=null,this.viewModel.filterMenuOpen=!1}_backClicked(){this._setFilterMenuType("site"),this.viewModel.searchTerm=null}_siteSelected(e){const t=e.currentTarget.getAttribute("data-id"),i=this.viewModel.getSite(t);let s=!1;this.site!==t&&(this.facility=null,this.level=null,s=!0,this.viewModel.levelsExpanded=!1),this.site=t,this.viewModel.searchTerm=null,this._setFilterMenuType("facility"),this.viewModel.goTo(i),s&&this.viewModel.setFloors(null)}_facilitySelected(e){const t=e.currentTarget.getAttribute("data-id"),i=this.viewModel.getFacility(t);let s=!1;if(this.facility!==t){if("base-floors"===this.viewModel.filterMode){var l;const e=null===(l=this.viewModel)||void 0===l?void 0:l.getBaseLevel(i);this.level=e?e.id:null}else this.level=null;s=!0,this.viewModel.levelsExpanded=!1}if(this.facility=t,this.viewModel.goTo(i),s){const e=this.viewModel.getLevel(this.level);this.viewModel.setFloors(e)}if(!this.viewModel.isNormalMode){const e=this.viewModel.getFacilityLevels(t);(null===e||void 0===e?void 0:e.length)>1&&(this.viewModel.levelsExpanded=!0)}setTimeout((()=>this._focusActiveLevel()),50)}_levelSelected(e){const t=e.currentTarget.getAttribute("data-id");this.level=t}_closeLevels(){this.viewModel.levelsExpanded=!1}_isWebScene(e){return"esri.WebScene"===(null===e||void 0===e?void 0:e.declaredClass)}_getComponentPosition(){var e;return null!=this.container?null===(e=this.view)||void 0===e||null===(e=e.ui)||void 0===e?void 0:e.getPosition(this.container):null}_getPosition(e){switch(e){case"bottom-right":case"bottom-left":return"bottom";default:return"top"}}_handleListKeydown(e){const t=e.currentTarget.getAttribute("data-id");let i=null;"sites"===t||"facilities"===t?(this._activeMenu!==t&&(this._activeMenuIndex.menuItems=-1),this._activeMenu=t,i="menuItems"):"levels"===t&&(i="levels");const s="sites"===t?this._sitesListNode:"facilities"===t?this._facilitiesListNode:"levels"===t?this._levelsListNode:null,{key:l}=e,n="Tab"===l,o=p.has(l);o&&e.preventDefault();const a=null===s||void 0===s?void 0:s.getElementsByTagName("li");a&&0!==a.length&&(o||n)&&this._handleItemNavigation(l,e.shiftKey,a,n,i)}_handleItemNavigation(e,t,i,s,l){if(!l)return;this._activeMenuIndex[l]===i.length&&this._activeMenuIndex[l]--,-1===this._activeMenuIndex[l]&&this._activeMenuIndex[l]++;const n=this._activeMenuIndex[l];switch(e){case"Home":this._activeMenuIndex[l]=0;break;case"End":this._activeMenuIndex[l]=i.length-1;break;case"ArrowUp":this._activeMenuIndex[l]=this._activeMenuIndex[l]<=0?i.length-1:this._activeMenuIndex[l]-1;break;case"ArrowDown":this._activeMenuIndex[l]=this._activeMenuIndex[l]===i.length-1?0:this._activeMenuIndex[l]+1}if("Tab"===e&&t&&this._activeMenuIndex[l]>=0&&this._activeMenuIndex[l]--,"Tab"===e&&!t&&this._activeMenuIndex[l]<i.length&&this._activeMenuIndex[l]++,n!==this._activeMenuIndex[l]&&this._activeMenuIndex[l]>-1&&this._activeMenuIndex[l]<i.length&&!s){const e=i[this._activeMenuIndex[l]].getElementsByTagName("button"),t=1===(null===e||void 0===e?void 0:e.length)?e[0]:null;null===t||void 0===t||t.focus()}}_focusSearch(){var e;null===(e=this._searchInput)||void 0===e||e.focus()}_focusActiveLevel(){var e;const{level:t}=this,i=this._levelsListNode,s=null===i||void 0===i?void 0:i.getElementsByTagName("li");if(!t||!i||!s)return;const l=null===(e=this._facilitiesListNode)||void 0===e?void 0:e.getElementsByTagName("li");this._activeMenuIndex.menuItems=l?l.length-1:-1;const n=[];for(let o=0;o<s.length;o++){const e=s[o].getElementsByTagName("button");1===(null===e||void 0===e?void 0:e.length)&&n.push(e[0])}n.forEach(((e,i)=>{e.getAttribute("data-id")===t&&(e.focus(),this._activeMenuIndex.levels=i)}))}_onItemFocus(e){const t=e.currentTarget,i=t.getAttribute("data-list-id"),s=t.getAttribute("data-id"),l="sites"===i?this._sitesListNode:"facilities"===i?this._facilitiesListNode:"levels"===i?this._levelsListNode:null;if(!l)return;const n=null===l||void 0===l?void 0:l.getElementsByTagName("li");if(!n)return;const o=[];Array.from(n).forEach((e=>{const t=e.getElementsByTagName("button");1===(null===t||void 0===t?void 0:t.length)&&o.push(t[0])}));let a=null;switch(i){case"sites":case"facilities":a="menuItems";break;case"levels":a="levels"}if(!a)return;const r=a;o.forEach(((e,t)=>{e.getAttribute("data-id")===s&&this._activeMenuIndex[r]!==t&&(this._activeMenuIndex[r]=t)}))}};(0,s._)([(0,n.MZ)()],w.prototype,"_searchInput",void 0),(0,s._)([(0,n.MZ)()],w.prototype,"enabled",null),(0,s._)([(0,n.MZ)()],w.prototype,"longNames",null),(0,s._)([(0,n.MZ)()],w.prototype,"minimized",null),(0,s._)([(0,n.MZ)()],w.prototype,"pinnedLevels",null),(0,s._)([(0,n.MZ)()],w.prototype,"site",null),(0,s._)([(0,n.MZ)()],w.prototype,"facility",null),(0,s._)([(0,n.MZ)()],w.prototype,"level",null),(0,s._)([(0,n.MZ)()],w.prototype,"view",null),(0,s._)([(0,n.MZ)({type:u.default})],w.prototype,"viewModel",void 0),(0,s._)([(0,n.MZ)(),(0,_.G)("esri/widgets/FloorFilter/t9n/FloorFilter")],w.prototype,"messages",void 0),(0,s._)([(0,n.MZ)(),(0,_.G)("esri/t9n/common")],w.prototype,"messagesCommon",void 0),(0,s._)([(0,n.MZ)()],w.prototype,"goToOverride",null),(0,s._)([(0,n.MZ)()],w.prototype,"headingLevel",void 0),(0,s._)([(0,n.MZ)()],w.prototype,"icon",null),w=(0,s._)([(0,o.$)("esri.widgets.FloorFilter")],w);const b=w}}]);
//# sourceMappingURL=94811.f312a1df.chunk.js.map