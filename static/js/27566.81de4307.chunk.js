"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[5185,27566,31299,53680],{5185:(e,n,r)=>{r.r(n),r.d(n,{createRenderer:()=>B,createRendererForClustering:()=>J,regenerateRenderer:()=>F});var a=r(89379),i=r(69539),t=r(18690),l=r(59784),o=r(50076),s=r(76931),u=r(63860),d=r(3522),c=r(22993),p=r(41626),f=r(79364),m=r(59536),v=r(84563),h=r(33766),y=r(31650),b=r(87990),g=r(53680),w=r(51006),z=r(15231),S=r(28383),E=r(90494),V=r(42633),x=r(11563),C=r(37590),k=r(38996),T=r(29632);const I=[x.mb.CSVLayer,x.mb.FeatureLayer,x.mb.GeoJSONLayer,x.mb.KnowledgeGraphSublayer,x.mb.OGCFeatureLayer,x.mb.OrientedImageryLayer,x.mb.ParquetLayer,x.mb.StreamLayer,x.mb.WFSLayer];async function O(e){var n,r;if(!(null!==e&&void 0!==e&&e.layer&&e.view&&null!==(n=e.attributes)&&void 0!==n&&n.length))throw new o.default("pie-chart-renderer:missing-parameters","'layer', 'view' and 'attributes' parameters are required");if(e.attributes.length>10)throw new o.default("pie-chart-renderer:invalid-parameters","PieChart renderer does not support more than 10 attributes");e.forBinning&&(0,E.p)(e,"pie-chart-renderer");const i=(0,a.A)((0,a.A)({},e),{},{layer:e.layer,view:e.view,attributes:e.attributes});i.shape=i.shape||"pie",null!==(r=i.othersCategoryEnabled)&&void 0!==r||(i.othersCategoryEnabled=!0),i.includeSizeVariable=e.includeSizeVariable||!1;const t=e.forBinning?x.Mi:I,l=(0,x.Jg)(i.layer,t,e.forBinning);if(!l)throw new o.default("pie-chart-renderer:invalid-parameters","'layer' must be one of these types: "+(0,x.Ho)(t).join(", "));const s=null!=i.signal?{signal:i.signal}:null;await Promise.all([e.view.when(),l.load(s)]);const u=l.geometryType,d="polygon"===u,c="point"===u||"multipoint"===u||d;if(i.outlineOptimizationEnabled=!!d&&i.outlineOptimizationEnabled,i.sizeOptimizationEnabled=!!c&&i.sizeOptimizationEnabled,!c)throw new o.default("pie-chart-renderer:not-supported","PieChart renderer is only supported for point and polygon layers");const p=[],f=i.attributes;for(const a of f){const e=await(0,V.EG)({field:a.field,valueExpression:a.valueExpression});p.push(...e)}const m=(0,w.MH)(l,p.filter(Boolean),"pie-chart-renderer:invalid-parameters");if(m)throw m;return(0,a.A)((0,a.A)({},i),{},{layer:l})}async function A(e){let n=e.pieChartScheme,r=null,a=null;const i=await(0,w.Ib)(e.basemap,e.view);if(r=null!=i.basemapId?i.basemapId:null,a=null!=i.basemapTheme?i.basemapTheme:null,n)return{scheme:(0,C.cloneScheme)(n),basemapId:r,basemapTheme:a};const t=(0,C.getSchemes)({numColors:e.attributes.length,geometryType:e.layer.geometryType,basemapTheme:a});return t&&(n=t.primaryScheme,r=t.basemapId,a=t.basemapTheme),{scheme:n,basemapId:r,basemapTheme:a}}async function q(e,n){const{valueExpression:r,sqlExpression:a,sqlWhere:i}=(0,S.D9)(e.attributes),t=await(0,u.ud)("esri/smartMapping/t9n/smartMapping");return(0,b.createVisualVariables)({layer:e.layer,basemap:e.basemap,valueExpression:r,sqlExpression:a,sqlWhere:i,sizeScheme:n,sizeOptimizationEnabled:e.sizeOptimizationEnabled,legendOptions:{title:t.sumOfCategories},view:e.view,signal:e.signal})}async function B(e){var n,r;const[a,i]=await Promise.all([O(e),(0,u.ud)("esri/smartMapping/t9n/smartMapping")]),d=await A(a),c=null===d||void 0===d?void 0:d.scheme;if(!c)throw new o.default("pie-chart-renderer:insufficient-info","Unable to find pie-chart scheme");const{layer:b,includeSizeVariable:g,sizeOptimizationEnabled:S,outlineOptimizationEnabled:E,view:V,signal:x,filter:T}=a,I=c.sizeScheme,B=a.attributes,F=B.map((e=>e.field)).filter(t.Ru),[L,M,_,j]=await Promise.all([F.length>1?(0,z.default)({layer:b,fields:F,view:V,signal:x,filter:T}):null,g?q(a,I):null,!g&&S?(0,y.default)({layer:b,view:V,signal:x,filter:T}).catch(w.ou):null,E?(0,h.A)({layer:b,view:V,signal:x,filter:T}).catch(w.ou):null]),J=null!==L&&void 0!==L&&L.predominantCategoryInfos?{uniqueValueInfos:L.predominantCategoryInfos}:{uniqueValueInfos:F.map((e=>({value:e,count:0})))},$=(0,l.Iy)(c.colors,B.length),H=B.map(((e,n)=>new f.default({field:e.field,valueExpression:e.valueExpression,label:e.label,valueExpressionTitle:e.valueExpressionTitle,color:$[n]}))),W=b.geometryType,D=null!=I&&"background"in I&&I.background,G=new p.default({attributes:H,othersCategory:new m.i({label:i.other,color:a.othersCategoryEnabled?c.colorForOthersCategory:null,threshold:.04}),holePercentage:"donut"===a.shape?.45:0,backgroundFillSymbol:D?(0,w.v5)(W,{type:"2d",color:D.color,outline:(0,w.qc)(D,W,null===j||void 0===j?void 0:j.opacity)}):null,size:(0,s.cr)(c.size),outline:new k.default((0,w.qc)(c,"point",null===j||void 0===j?void 0:j.opacity)),legendOptions:v.A.from(a.legendOptions)});if(M&&(R(M,S,W),G.authoringInfo=M.authoringInfo.clone(),G.visualVariables=null===(n=M.visualVariables)||void 0===n?void 0:n.map((e=>e.clone()))),null!==j&&void 0!==j&&null!==(r=j.visualVariables)&&void 0!==r&&r.length){const e=j.visualVariables.map((e=>e.clone())).filter((e=>"color"!==e.type&&"rotation"!==e.type));G.visualVariables?G.visualVariables.push(...e):G.visualVariables=e}return null!==_&&void 0!==_&&_.minSize&&(P(_,W),G.visualVariables?G.visualVariables.push(_.minSize):G.visualVariables=[_.minSize]),{renderer:G,pieChartScheme:(0,C.cloneScheme)(c),size:M,basemapId:d.basemapId,basemapTheme:d.basemapTheme,statistics:J}}async function F(e){var n,r;const{creatorParameters:i,view:t,signal:l,filter:s,renderer:u}=await async function(e){const n="regenerate-pie-chart-renderer";await(0,g.AC)(e,n);const r=await(0,g.mE)(e);if("pie-chart"!==(0,g.UJ)(r))throw new o.default("".concat(n,":invalid-parameters"),"Renderer is invalid");const{visualVariables:i}=r,{layer:t,forBinning:l,filter:s,view:u,signal:d}=e,c=(0,g.DW)(r),p=(0,g.Rv)(r),f=null===i||void 0===i?void 0:i.some(g.OW),m=r.attributes.map((e=>({field:e.field,label:e.label,valueExpression:e.valueExpression,valueExpressionTitle:e.valueExpressionTitle}))),v=await O({layer:t,attributes:m,outlineOptimizationEnabled:c,sizeOptimizationEnabled:p,includeSizeVariable:f,forBinning:l,filter:s,view:u,signal:d});return(0,a.A)((0,a.A)({},e),{},{creatorParameters:v,renderer:r})}(e),{layer:d,outlineOptimizationEnabled:c,includeSizeVariable:p,sizeOptimizationEnabled:f}=i,m=await A(i),v=null===m||void 0===m||null===(n=m.scheme)||void 0===n?void 0:n.sizeScheme,[b,z,S]=await Promise.all([c?(0,h.A)({layer:d,view:t,signal:l,filter:s}).catch(w.ou):null,p?q(i,v):null,!p&&f?(0,y.default)({layer:d,view:t,signal:l,filter:s}).catch(w.ou):null]),E=d.geometryType;if(z&&(R(z,f,E),(0,g.ke)(u,null===z||void 0===z?void 0:z.visualVariables,g.Jy),(0,g.Hj)(u,null===z||void 0===z?void 0:z.authoringInfo,"size")),null!==b&&void 0!==b&&null!==(r=b.visualVariables)&&void 0!==r&&r.length){const e=b.visualVariables.map((e=>e.clone())).filter((e=>"color"!==e.type&&"rotation"!==e.type));(0,g.ke)(u,e,g._i)}return null!==S&&void 0!==S&&S.minSize&&(P(S,E),(0,g.ke)(u,null===S||void 0===S?void 0:S.minSize,g.kc)),{renderer:u}}function R(e,n,r){n||e.visualVariables.forEach((e=>{"number"==typeof e.minSize&&"number"==typeof e.maxSize&&(e.minSize*=2.5,e.maxSize*=1.8)})),n&&"point"===r&&e.visualVariables.forEach((e=>{var n;(null===e||void 0===e?void 0:e.minSize)&&"object"==typeof e.minSize&&(null===(n=e.minSize)||void 0===n||null===(n=n.stops)||void 0===n||n.forEach((e=>{e.size*=1.8})))}))}function P(e,n){var r,a;"point"===n&&null!==(r=e.minSize.stops)&&void 0!==r&&r.forEach((e=>{e.size*=2.5})),"polygon"===n&&(null===(a=e.minSize.stops)||void 0===a||a.forEach((e=>{e.size*=1.8})))}const L=new Set(["unique-value","class-breaks"]),M=new i.default("#aaaaaa"),_=new i.default("#5c5c5c"),j=[new i.default("#e60049"),new i.default("#0bb4ff"),new i.default("#50e991"),new i.default("#e6d800"),new i.default("#9b19f5"),new i.default("#ffa300"),new i.default("#dc0ab4"),new i.default("#b3d4ff"),new i.default("#00bfa0"),new i.default("#f0cccc")];async function J(e){const n=await async function(e){var n;if(!e||!e.layer)throw new o.default("pie-chart-cluster-renderer:missing-parameters","'layer' parameter is required");const r=(0,a.A)({},e);r.shape=r.shape||"pie",null!==(n=r.defaultSymbolEnabled)&&void 0!==n||(r.defaultSymbolEnabled=!0);const i=e.layer;if(!(0,x.nn)(I).includes(i.type))throw new o.default("pie-chart-cluster-renderer:invalid-parameters","'layer' must be one of these types: "+(0,x.Ho)(I).join(", "));const t=null!=r.signal?{signal:r.signal}:null;if(await i.load(t),"point"!==i.geometryType)throw new o.default("pie-chart-cluster-renderer:invalid-parameters","Cluster renderers are only supported for point layers");const l="renderer"in i?i.renderer:void 0;if(!l)throw new o.default("pie-chart-cluster-renderer:invalid-parameters","input layer does not have a renderer.");if(!L.has(l.type))throw new o.default("pie-chart-cluster-renderer:invalid-parameters","Cannot create a pie chart renderer for clusters based on a ".concat(l.type," renderer."));if("valueExpression"in l&&l.valueExpression)throw new o.default("pie-chart-cluster-renderer:invalid-parameters","Cannot create a pie chart renderer for clusters from a layer whose renderer contains a valueExpression.");if("unique-value"===l.type){if(l.field2)throw new o.default("pie-chart-cluster-renderer:invalid-parameters","Cannot create a pie chart renderer for clusters from a UniqueValueRenderer using more than one field.");if(null!=l.uniqueValueInfos&&l.uniqueValueInfos.length>10)throw new o.default("pie-chart-cluster-renderer:invalid-parameters","PieChart cluster renderer cannot be created from a UniqueValueRenderer with more than 10 unique value infos.")}if("class-breaks"===l.type){var s;if(l.classBreakInfos.length<2)throw new o.default("pie-chart-cluster-renderer:invalid-parameters","Cannot create a pie chart renderer for clusters from a layer renderer with a continuous color or size gradient.");if(l.classBreakInfos.length>10)throw new o.default("pie-chart-cluster-renderer:invalid-parameters","PieChart cluster renderer can not be created from a ClassBreaksRenderer with more than 10 class break infos.");if("class-breaks-size"===(null===l||void 0===l||null===(s=l.authoringInfo)||void 0===s?void 0:s.type))throw new o.default("pie-chart-cluster-renderer:invalid-parameters","PieChart cluster renderer can not be created from a ClassBreaksRenderer with breaks varied by size instead of color.")}return r}(e),{layer:r,shape:i,defaultSymbolEnabled:t,legendOptions:s}=n,m="renderer"in r?r.renderer:void 0,h=(await(0,u.ud)("esri/smartMapping/t9n/smartMapping")).other;let y=[];"unique-value"===(null===m||void 0===m?void 0:m.type)&&(y=function(e){var n,r;const{renderer:a,defaultSymbolEnabled:i,defaultLabelBackup:t}=e,{field:o,defaultSymbol:s,defaultLabel:u}=a,p=null!==(n=a.uniqueValueInfos)&&void 0!==n?n:[],f=s&&i,m=f?9:10,v=(0,l.Iy)(j,m),h=null!==(r=o?p.slice(0,m).map(((e,n)=>{var r;const a=e.label,i=v[n];return{field:new d.default({name:$(null===(r=e.value)||void 0===r?void 0:r.toString()),alias:a,onStatisticExpression:new c.default({title:"Field definition - ".concat(a),expression:W(o,e),returnType:"number"}),statisticType:"sum"}),color:H(e.symbol,i)}})):null)&&void 0!==r?r:[];if(f){const e="cluster_default",n=u||t;h.push({field:new d.default({name:$(e),alias:n,onStatisticExpression:new c.default({title:"Field definition - ".concat(n),expression:D(o,p),returnType:"number"}),statisticType:"sum"}),color:H(s,_)})}return h}({renderer:m,defaultSymbolEnabled:t,defaultLabelBackup:h})),"class-breaks"===(null===m||void 0===m?void 0:m.type)&&(y=function(e){const{renderer:n,defaultSymbolEnabled:r,defaultLabelBackup:a}=e,{field:i,classBreakInfos:t,defaultSymbol:o,defaultLabel:s}=n,u=o&&r,p=u?9:10,f=(0,l.Iy)(j,p),m=t.slice(0,p).map(((e,n)=>{const r=e.label||"".concat(e.minValue," - ").concat(e.maxValue),a=f[n];return{field:new d.default({name:$(r),alias:r,onStatisticExpression:new c.default({title:"Field definition - ".concat(r),expression:G(i,e),returnType:"number"}),statisticType:"sum"}),color:H(e.symbol,a)}}));if(u){const e="cluster_default",n=s||a;m.push({field:new d.default({name:$(e),alias:n,onStatisticExpression:new c.default({title:"Field definition - ".concat(n),expression:N(i,t),returnType:"number"}),statisticType:"sum"}),color:H(o,_)})}return m}({renderer:m,defaultSymbolEnabled:t,defaultLabelBackup:h}));const b=[],g=[];for(const a of y){const{field:e,color:n}=a;b.push(e),g.push(new f.default({color:n,field:e.name,label:e.alias}))}return{fields:b,renderer:new p.default({attributes:g,legendOptions:v.A.from(s),holePercentage:"donut"===i?.45:0,outline:null,size:9,othersCategory:null})}}function $(e){return"SUM_"+(e+"").replaceAll(/[^a-zA-Z0-9_]/g,"_")}function H(e,n){if("simple-marker"===(null===e||void 0===e?void 0:e.type)&&e.color)return e.color.clone();if("cim"===(null===e||void 0===e?void 0:e.type)){const n=(0,T.getCIMSymbolColor)(e);if(n)return n.clone()}return n?n.clone():M.clone()}function W(e,n){return'Number(Text($feature["'.concat(e,'"]) == "').concat(n.value+"",'")')}function D(e,n){return"Number(!(".concat(n.map((n=>'(Text($feature["'.concat(e,'"]) == "').concat(n.value+"",'")'))).join(" || "),"))")}function G(e,n){return'Number($feature["'.concat(e,'"] >= ').concat(n.minValue,' && $feature["').concat(e,'"] < ').concat(n.maxValue,")")}function N(e,n){return"Number(!(".concat(n.map((n=>'($feature["'.concat(e,'"] >= ').concat(n.minValue,' && $feature["').concat(e,'"] < ').concat(n.maxValue,")"))).join(" || "),"))")}},15231:(e,n,r)=>{r.r(n),r.d(n,{default:()=>c});var a=r(89379),i=r(53986),t=r(50076),l=r(28383),o=r(90494),s=r(11563);const u=["layer"],d=["layerAdapter"];async function c(e){const n=await async function(e){if(!(e&&e.layer&&e.view&&e.fields))throw new t.default("predominant-categories:missing-parameters","'layer', 'view' and 'fields' parameters are required");e.forBinning&&(0,o.p)(e,"predominant-categories");const{layer:n}=e,r=(0,i.A)(e,u),d=e.forBinning?s.Mi:s.G3,c=(0,s.Jg)(n,d,e.forBinning);if(!c)throw new t.default("predominant-categories:invalid-parameters","'layer' must be one of these types: "+(0,s.Ho)(d).join(", "));const p=(0,a.A)({layerAdapter:c},r);await Promise.all([p.view.when(),c.load({signal:p.signal})]);const f=(0,l.MH)(c,p.fields,"predominant-categories:invalid-parameters");if(f)throw f;return p}(e),{layerAdapter:r}=n,c=(0,i.A)(n,d);return r.predominantCategories(c)}},37590:(e,n,r)=>{r.r(n),r.d(n,{cloneScheme:()=>g,getSchemeByName:()=>y,getSchemes:()=>h,getSchemesByTag:()=>b,getThemes:()=>v});var a=r(89379),i=r(69539),t=r(18690),l=r(59784),o=r(76281),s=r(89132),u=r(770);const d="#aaaaaa",c="25px",p={light:{color:[153,153,153,.25],width:"1px"},dark:{color:[153,153,153,.25],width:"1px"},darker:{color:[26,26,26,.25],width:"1px"}},f=["vibrant-rainbow","cat-dark","predominant-v2","predominant-v5","predominance-race","desert-blooms","tropical-bliss","under-the-sea","ocean-bay","cat-light","predominant-v4","predominance-money","predominant-v3","predominance-race-ethnic","pastel-chalk","predominance-rainbow","predominance-sequence","cat-popup-olympic-sunset"],m=(0,u.bG)({themeDictionary:{default:{name:"default",label:"Default",description:"Default theme for visualizing features using a pie chart of categories.",schemes:{point:{light:{primary:"predominant-v1",secondary:f,common:{outline:p.light,colorForOthersCategory:d,size:c}},dark:{primary:"predominant-v2",secondary:f.map((e=>"predominant-v2"===e?"predominant-v1":e)),common:{outline:p.darker,colorForOthersCategory:d,size:c}}},polygon:{light:{primary:"predominant-v1",secondary:f,common:{colorForOthersCategory:d,outline:p.light,size:c}},dark:{primary:"predominant-v2",secondary:f.map((e=>"predominant-v2"===e?"predominant-v1":e)),common:{colorForOthersCategory:d,outline:p.dark,size:c}}}}}}});function v(e){return(0,u.vt)(m,e)}function h(e){const n=(0,u.Fq)({basemap:e.basemap,basemapTheme:e.basemapTheme,geometryType:e.geometryType,theme:m.get("default")});if(!n)return;const{schemesInfo:r,basemapId:a,basemapTheme:i}=n,l=r.common,s=e.numColors,d=(0,o.getSchemes)({basemap:e.basemap,geometryType:e.geometryType}),c=null===d||void 0===d?void 0:d.primaryScheme;return{primaryScheme:w(r.primary,l,s,c),secondarySchemes:r.secondary.map((e=>w(e,l,s,c))).filter(t.Ru),basemapId:a,basemapTheme:i}}function y(e){return(0,u.Ty)(e.name,h(e))}function b(e){return(0,u.YJ)(e.includedTags,e.excludedTags,h(e))}function g(e){if(!e)return;const n=(0,a.A)({},e);return n.tags=[...n.tags],n.colors&&(n.colors=n.colors.map((e=>new i.default(e)))),n.colorForOthersCategory&&(n.colorForOthersCategory=new i.default(n.colorForOthersCategory)),n.outline&&(n.outline={color:n.outline.color&&new i.default(n.outline.color),width:n.outline.width}),"sizeScheme"in n&&n.sizeScheme&&(n.sizeScheme=(0,o.cloneScheme)(n.sizeScheme)),n}function w(e,n,r,a){const t=s.A[e];if(t)return function(e){return{name:e.name,tags:[...e.tags],colors:e.colors.map((e=>new i.default(e))),colorForOthersCategory:new i.default(e.colorForOthersCategory),outline:{color:new i.default(e.outline.color),width:e.outline.width},size:e.size,sizeScheme:e.sizeScheme}}({name:t.name,tags:t.tags,colors:t[r]||(0,l.Iy)(t.stops,r),colorForOthersCategory:n.colorForOthersCategory,outline:n.outline,size:n.size,sizeScheme:a})}},53680:(e,n,r)=>{r.d(n,{AC:()=>i,DW:()=>s,Hj:()=>z,Ih:()=>v,Jy:()=>c,OW:()=>y,Rv:()=>u,UJ:()=>o,_i:()=>d,d8:()=>f,fs:()=>p,kc:()=>m,ke:()=>w,mE:()=>t,wx:()=>l});var a=r(50076);async function i(e,n){const{layer:r,view:i,forBinning:t,filter:l}=e;if(!r||!i)throw new a.default("".concat(n,":missing-parameters"),"'layer' and 'view' parameters are required");await r.load();const o="featureReduction"in r?r.featureReduction:null;if(t){if("binning"!==(null===o||void 0===o?void 0:o.type))throw new a.default("".concat(n,":invalid-parameters"),"'layer' must have 'featureReduction' property defined with 'binning' type when 'forBinning' parameter is true");if(l)throw new a.default("".concat(n,":invalid-parameters"),"'filter' parameter is not supported when 'forBinning' parameter is true")}return e}async function t(e){var n,r,i;const{layer:t,forBinning:l,renderer:o}=e;await t.load();const s="featureReduction"in t?t.featureReduction:null,u=null!==(n=null===o||void 0===o?void 0:o.clone())&&void 0!==n?n:l&&"binning"===(null===s||void 0===s?void 0:s.type)?null===s||void 0===s||null===(r=s.renderer)||void 0===r?void 0:r.clone():"renderer"in t?null===(i=t.renderer)||void 0===i?void 0:i.clone():null;if(!u)throw new a.default("get-renderer-to-update:invalid-parameters","renderer not available");return u}function l(e,n,r){var a;const i=null===e||void 0===e||null===(a=e.authoringInfo)||void 0===a?void 0:a.visualVariables;return null===i||void 0===i?void 0:i.find((e=>"reference-size"===r?e.type===n&&"reference-size"===e.theme:e.type===n))}function o(e){if(!e)return null;const n=e.type,r="visualVariables"in e?e.visualVariables:null,a=null===r||void 0===r?void 0:r.find(v),i=null===r||void 0===r?void 0:r.find(y),t=e.authoringInfo,o=l(e,"color"),s=l(e,"size"),u=l(e,"size","reference-size");if("class-breaks"===n){if("univariate-color-size"===(null===t||void 0===t?void 0:t.type))return"univariate-color-size";if(a)return i?null!==s&&void 0!==s&&s.units?"color-size-age":null!==o&&void 0!==o&&o.units?"color-age-size":"color-size":null!==o&&void 0!==o&&o.units?"color-age":u?"color-size":"color-continuous";if(i)return null!==s&&void 0!==s&&s.units?"size-age":"size-continuous";if(e.classBreakInfos.length>1)return"class-breaks-color"===(null===t||void 0===t?void 0:t.type)?"color-class-breaks":"class-breaks-size"===(null===t||void 0===t?void 0:t.type)?"size-class-breaks":null;if(u)return"size-continuous"}return"unique-value"===n?e.valueExpression?"predominance"===(null===t||void 0===t?void 0:t.type)?"predominance":"relationship"===(null===t||void 0===t?void 0:t.type)?i||u?"relationship-size":"relationship":i||u?"type-size":"type":i?null!==s&&void 0!==s&&s.units?"type-size-age":"type-size":u?"type-size":"type":"pie-chart"===n?"pie-chart":"dot-density"===n?"dot-density":null}function s(e){var n;return!(null===(n=e.visualVariables)||void 0===n||!n.some(b))}function u(e){var n;return!(null===(n=e.visualVariables)||void 0===n||!n.some(g))}function d(e){var n;return null!==(n=null===e||void 0===e?void 0:e.findIndex(b))&&void 0!==n?n:-1}function c(e){var n;return null!==(n=null===e||void 0===e?void 0:e.findIndex(y))&&void 0!==n?n:-1}function p(e){var n;return null!==(n=null===e||void 0===e?void 0:e.findIndex(v))&&void 0!==n?n:-1}function f(e){var n;return null!==(n=null===e||void 0===e?void 0:e.findIndex(h))&&void 0!==n?n:-1}function m(e){var n;return null!==(n=null===e||void 0===e?void 0:e.findIndex(g))&&void 0!==n?n:-1}function v(e){return"color"===e.type}function h(e){return"opacity"===e.type}function y(e){return"size"===e.type&&"outline"!==e.target&&"$view.scale"!==e.valueExpression}function b(e){return"size"===e.type&&"outline"===e.target}function g(e){return"size"===e.type&&"$view.scale"===e.valueExpression&&"outline"!==e.target&&Array.isArray(e.stops)}function w(e,n,r){const a=e.visualVariables,i=r(a);if(!n||Array.isArray(n)&&!n.length)return;Array.isArray(n)||(n=[n]);const t=n.map((e=>e.clone()));a?i>-1?a.splice(i,1,...t):a.push(...t):e.visualVariables=t}function z(e,n,r){var a;const i=null===n||void 0===n?void 0:n.visualVariables.find((e=>e.type===r)),t=l(e,r);t&&i&&(t.minSliderValue=i.minSliderValue,t.maxSliderValue=i.maxSliderValue,"size"===r&&"reference-size"===t.theme&&(t.sizeStops=null===(a=i.sizeStops)||void 0===a?void 0:a.map((e=>e.clone())),t.referenceSizeScale=i.referenceSizeScale))}}}]);
//# sourceMappingURL=27566.81de4307.chunk.js.map