{"version":3,"file":"static/js/87539.fa7441c5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/FeatureTemplates/TemplateItemGroup.js","../node_modules/@arcgis/core/widgets/FeatureTemplates/FeatureTemplatesViewModel.js","../node_modules/@arcgis/core/widgets/FeatureTemplates/featureTemplatesUtils.js","../node_modules/@arcgis/core/widgets/FeatureTemplates/TemplateItem.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import r from\"../../core/Identifiable.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let i=class extends(r.IdentifiableMixin(e)){constructor(t){super(t),this.allItems=[],this.filterFunction=null,this.label=null}get items(){const{filterFunction:t}=this;return null==t||t(this)?this.allItems:this.allItems.filter(t)}get id(){return this.label}reapplyFilter(){this.notifyChange(\"filterFunction\")}findByTemplate(t){return this.items.find((e=>e.template===t))}};t([o()],i.prototype,\"allItems\",void 0),t([o()],i.prototype,\"filterFunction\",void 0),t([o()],i.prototype,\"items\",null),t([o()],i.prototype,\"label\",void 0),t([o()],i.prototype,\"id\",null),i=t([s(\"esri.widgets.FeatureTemplates.TemplateItemGroup\")],i);const l=i;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{createTask as e}from\"../../core/asyncUtils.js\";import s from\"../../core/Evented.js\";import{abortMaybe as l}from\"../../core/maybe.js\";import{throwIfAborted as o}from\"../../core/promiseUtils.js\";import{watch as r,when as i,syncAndInitial as a,sync as n}from\"../../core/reactiveUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as u}from\"../../core/support/UpdatingHandles.js\";import{getTemplatesForLayers as d,isSharedTemplateOrMetadata as c}from\"../../editing/templateUtils.js\";import{getEffectiveLayerCapabilities as h,isSubtypeGroupLayer as y}from\"../../layers/support/layerUtils.js\";import{isTemplateItemGroup as f,mapItemsByTemplate as g,isTemplateGroupInfo as _,loadLayerWithTemplates as I,makeTemplateItemInfos as F,makeGroupItemInfos as b,nullGroupBy as v}from\"./featureTemplatesUtils.js\";import T from\"./TemplateItem.js\";import j from\"./TemplateItemGroup.js\";const B=({layer:t})=>({key:t,label:t.title??\"\"}),w=({layer:t})=>({key:t.geometryType,label:t.geometryType??\"\"});let k=class extends s.EventedAccessor{constructor(t){super(t),this._allItems=[],this._updatingHandles=new u,this._updateTask=null,this.disabled=!1,this.disabledItemFunction=null,this.filterFunction=null,this.selectedItem=null,this.templateInfos=null,this.view=null}initialize(){this._get(\"groupBy\")||(this.groupBy=\"layer\"),this.addHandles([r((()=>[this.templateInfos,this.layers]),(([t],e)=>{t&&t===e?.at(0)||(this._updateTask=l(this._updateTask),t?this._updateAllItems(t):this._getTemplatesAndUpdateAllItems())}),a),r((()=>this._groupByFunction),(()=>{null==this.templateInfos&&(this._updateTask=l(this._updateTask),this._getTemplatesAndUpdateAllItems())}),n),r((()=>this.filterFunction),(t=>{for(const e of this._allItems)f(e)&&(e.filterFunction=t)}),n)])}set groupBy(t){if(this._set(\"groupBy\",t),\"function\"!=typeof t)switch(t){case\"layer\":this._groupByFunction=B;break;case\"geometry\":this._groupByFunction=w;break;default:this._groupByFunction=null}else this._groupByFunction=e=>this._ensureGroupByObject(t(e))}get layers(){return this._get(\"layers\")}set layers(t){const e=\"layers\";if(this.removeHandles(e),t){const s=()=>this.notifyChange(\"state\");this.addHandles(t.map((t=>i((()=>t.loadStatus),s))),e)}this._set(\"layers\",t)}get state(){return this.updating?\"loading\":0!==this.layers.length||this.templateInfos?.length?\"ready\":\"disabled\"}get numberOfFeatureTemplates(){return this._allItems.reduce(((t,e)=>f(e)?t+e.allItems.length:t+1),0)}get items(){const{filterFunction:t}=this;return null==t?this._allItems:this._allItems.filter((e=>f(e)?e.items.length>0:t(e)))}get updating(){return this._updatingHandles.updating}refresh(){this.notifyChange(\"filterFunction\");for(const t of this._allItems)f(t)&&t.reapplyFilter()}select(t,{emit:e=!0}={}){const s=this.selectedItem,l=t?.clone()||null;this._set(\"selectedItem\",l),e&&this.emit(\"select\",{item:l,oldItem:s,template:l?.template??null})}_createItem(t,e){return new T({disabledFunction:this.disabledItemFunction,layer:e,template:t})}_ensureGroupByObject(t){return\"string\"==typeof t?{key:t,label:t}:t}_updateAllItems(t){const e=this._allItems;if(0===t.length)return A(e),void(this._allItems=[]);const[s,l]=g(e),o=t=>{const e=s.get(t.template);return e?(s.delete(t.template),e):this._createItem(t.template,t.layer)},{filterFunction:r}=this,i=t.filter(U).map((t=>_(t)?new j({filterFunction:r,label:t.label,allItems:t.templateInfos.filter(U).map((t=>o(t)))}):o(t)));for(const a of[...s.values(),...l])a.destroy();this._allItems=i}async _getTemplatesFromLayers(t){const e=[],s={signal:t};await Promise.all(this.layers.map((async l=>{await I(l,s),o(t);const r=h(l)?.operations;r?.supportsEditing&&r?.supportsAdd&&(y(l)?e.push(...l.sublayers):e.push(l))})));const l=await d(e,this.view,t);o(t);const r=F(l),i=this._groupByFunction;if(null==i)return r;const a=b(r,i);return 1===a.length&&a[0].label===v.label?a[0].templateInfos:a}async _getTemplatesAndUpdateAllItems(){if(0===this.layers.length)return;const t=e((async t=>{const e=await this._getTemplatesFromLayers(t);o(t),this._updateAllItems(e)}));this._updateTask=t,this._updatingHandles.addPromise(t.promise)}};function A(t){for(const e of t){if(f(e))for(const t of e.items)t.destroy();e.destroy()}}function U(t){return _(t)?t.templateInfos.some(U):!c(t.template)||!1!==t.template.visible}t([p()],k.prototype,\"_allItems\",void 0),t([p()],k.prototype,\"_groupByFunction\",void 0),t([p()],k.prototype,\"_updatingHandles\",void 0),t([p()],k.prototype,\"disabled\",void 0),t([p()],k.prototype,\"disabledItemFunction\",void 0),t([p({value:null})],k.prototype,\"filterFunction\",void 0),t([p()],k.prototype,\"groupBy\",null),t([p({value:[]})],k.prototype,\"layers\",null),t([p()],k.prototype,\"state\",null),t([p({readOnly:!0})],k.prototype,\"numberOfFeatureTemplates\",null),t([p({readOnly:!0})],k.prototype,\"items\",null),t([p({readOnly:!0})],k.prototype,\"selectedItem\",void 0),t([p()],k.prototype,\"templateInfos\",void 0),t([p()],k.prototype,\"updating\",null),t([p()],k.prototype,\"view\",void 0),k=t([m(\"esri.widgets.FeatureTemplates.FeatureTemplatesViewModel\")],k);const H=k;export{H as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getOrCreateMapValue as t}from\"../../core/MapUtils.js\";const e={key:Symbol(),label:\"Other​\"};function n(t){return\"templateInfos\"in t}function o(t){const e=[];for(const{layer:n,templates:o}of t)for(const t of o)e.push({layer:n,template:t});return e}function a(n,o){const a=new Map;for(const l of n){const n=o(l),{key:r,label:s}=null!=n.key?n:e;t(a,r,(()=>({label:s,templateInfos:[]}))).templateInfos.push(l)}return Array.from(a.values())}function l(t,e){return{label:t.title??\"\",templateInfos:e.map((e=>({layer:t,template:e})))}}async function r(t,e){return\"subtype-sublayer\"===t.type?await(t.parent?.load(e)):await t.load(e),t}function s(t){const e=new Map,n=[];for(const o of t)if(f(o)){n.push(o);for(const t of o.items)e.set(t.template,t)}else e.set(o.template,o);return[e,n]}const f=t=>\"items\"in t;export{n as isTemplateGroupInfo,f as isTemplateItemGroup,r as loadLayerWithTemplates,a as makeGroupItemInfos,l as makeTemplateGroupInfoForLayer,o as makeTemplateItemInfos,s as mapItemsByTemplate,e as nullGroupBy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{watch as l,initial as r}from\"../../core/reactiveUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";var o;let n=o=class extends e{constructor(t){super(t),this._activeFetchInfo={id:null,request:null},this.disabledFunction=null,this.layer=null,this.template=null,this.thumbnail=null}initialize(){this.addHandles(l((()=>{const{layer:t}=this;return[t&&\"renderer\"in t?t.renderer:null,this.template]}),(()=>{this._activeFetchInfo.id=null,this._activeFetchInfo.request=null,this._set(\"thumbnail\",null)}),r))}get description(){return this.template?.description}set description(t){this.template&&(this.template.description=t)}get disabled(){return this.disabledFunction?.(this)??!1}get label(){return this.template?.name}set label(t){this.template&&(this.template.name=t)}get id(){return`${this.label??\"\"}–${this.layer?.id}`}get supportsUpload(){return\"scene\"===this.layer?.type}clone(){const t=null!=this.thumbnail?this.thumbnail.cloneNode(!0):null,e=new o({layer:this.layer,template:this.template});return e._set(\"thumbnail\",t),e}};t([s()],n.prototype,\"description\",null),t([s()],n.prototype,\"disabled\",null),t([s()],n.prototype,\"disabledFunction\",void 0),t([s()],n.prototype,\"label\",null),t([s()],n.prototype,\"layer\",void 0),t([s()],n.prototype,\"template\",void 0),t([s()],n.prototype,\"thumbnail\",void 0),t([s()],n.prototype,\"id\",null),t([s()],n.prototype,\"supportsUpload\",null),n=o=t([i(\"esri.widgets.FeatureTemplates.TemplateItem\")],n);const a=n;export{a as default};\n"],"names":["i","r","IdentifiableMixin","e","constructor","t","super","this","allItems","filterFunction","label","items","filter","id","reapplyFilter","notifyChange","findByTemplate","find","template","o","prototype","s","l","B","_ref","_t$title","layer","key","title","w","_ref2","_t$geometryType","geometryType","k","EventedAccessor","_allItems","_updatingHandles","u","_updateTask","disabled","disabledItemFunction","selectedItem","templateInfos","view","initialize","_get","groupBy","addHandles","layers","_ref3","at","_updateAllItems","_getTemplatesAndUpdateAllItems","a","_groupByFunction","n","f","_set","_ensureGroupByObject","removeHandles","map","loadStatus","state","_this$templateInfos","updating","length","numberOfFeatureTemplates","reduce","refresh","select","_l$template","emit","arguments","undefined","clone","item","oldItem","_createItem","T","disabledFunction","destroy","A","g","get","delete","U","_","j","values","_getTemplatesFromLayers","signal","Promise","all","async","_h","I","h","operations","supportsEditing","supportsAdd","y","push","sublayers","d","F","b","v","addPromise","promise","some","c","visible","p","value","readOnly","m","H","Symbol","templates","Map","Array","from","_t$parent","type","parent","load","set","_activeFetchInfo","request","thumbnail","renderer","description","_this$template","_this$disabledFunctio","_this$disabledFunctio2","call","_this$template2","name","_this$label","_this$layer","concat","supportsUpload","_this$layer2","cloneNode"],"sourceRoot":""}