"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[62487,62544,89888],{11668:(e,a,r)=>{r.d(a,{K:()=>v,Q:()=>s});var t=r(53986),n=r(67061);const l=["loadContext"],i=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function s(e,a){var r;const i=a||{},{loadContext:s}=i,o=(0,t.A)(i,l),u=s?await s.fetchServiceMetadata(e,o):await(0,n.V)(e,o);f(u),y(u);const d={serviceJSON:u};if((null!==(r=u.currentVersion)&&void 0!==r?r:0)<10.5)return d;const c="".concat(e,"/layers"),v=s?await s.fetchServiceMetadata(c,o):await(0,n.V)(c,o);return f(v),y(v),d.layersJSON={layers:v.layers,tables:v.tables},d}function o(e){const{type:a}=e;return!!a&&i.has(a)}function u(e){return"Table"===e.type}function y(e){var a,r;e.layers=null===(a=e.layers)||void 0===a?void 0:a.filter(o),e.tables=null===(r=e.tables)||void 0===r?void 0:r.filter(u)}function d(e){e.type||(e.type="Feature Layer")}function c(e){e.type||(e.type="Table")}function f(e){var a,r;null!==(a=e.layers)&&void 0!==a&&a.forEach(d),null===(r=e.tables)||void 0===r||r.forEach(c)}function v(e){switch(e){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}},62487:(e,a,r)=>{r.d(a,{S:()=>t});const t={BingMapsLayer:async()=>(await r.e(88685).then(r.bind(r,11066))).default,BuildingSceneLayer:async()=>(await Promise.resolve().then(r.bind(r,62690))).default,CSVLayer:async()=>(await r.e(1365).then(r.bind(r,1365))).default,CatalogLayer:async()=>(await Promise.all([r.e(89122),r.e(72003),r.e(38911),r.e(82241),r.e(14148),r.e(72011)]).then(r.bind(r,72011))).default,DimensionLayer:async()=>(await r.e(25342).then(r.bind(r,25342))).default,ElevationLayer:async()=>(await r.e(23875).then(r.bind(r,23875))).default,FeatureLayer:async()=>(await Promise.resolve().then(r.bind(r,30907))).default,GeoJSONLayer:async()=>(await r.e(50709).then(r.bind(r,50709))).default,GeoRSSLayer:async()=>(await r.e(52551).then(r.bind(r,52551))).default,GroupLayer:async()=>(await Promise.all([r.e(60239),r.e(74454)]).then(r.bind(r,16095))).default,ImageryLayer:async()=>(await Promise.all([r.e(89122),r.e(99846),r.e(93187),r.e(6745),r.e(46570),r.e(5640),r.e(82178),r.e(61267),r.e(90391),r.e(85598)]).then(r.bind(r,85598))).default,ImageryTileLayer:async()=>(await Promise.all([r.e(99846),r.e(93187),r.e(6745),r.e(46570),r.e(5640),r.e(59844),r.e(82178),r.e(76562),r.e(61267),r.e(47933),r.e(33562),r.e(8380)]).then(r.bind(r,33562))).default,IntegratedMesh3DTilesLayer:async()=>(await r.e(76790).then(r.bind(r,76790))).default,IntegratedMeshLayer:async()=>(await r.e(35950).then(r.bind(r,35950))).default,KMLLayer:async()=>(await r.e(37546).then(r.bind(r,15165))).default,KnowledgeGraphLayer:async()=>(await Promise.all([r.e(72003),r.e(85646),r.e(98683),r.e(48094),r.e(82816),r.e(57162),r.e(65776),r.e(55),r.e(83716),r.e(12718),r.e(26570)]).then(r.bind(r,26570))).default,LineOfSightLayer:async()=>(await r.e(86490).then(r.bind(r,86490))).default,LinkChartLayer:async()=>(await Promise.all([r.e(72003),r.e(85646),r.e(98683),r.e(48094),r.e(82816),r.e(57162),r.e(65776),r.e(55),r.e(83716),r.e(12718),r.e(17079)]).then(r.bind(r,17079))).default,MapImageLayer:async()=>(await Promise.all([r.e(89122),r.e(82241),r.e(39568),r.e(82951)]).then(r.bind(r,82951))).default,MapNotesLayer:async()=>(await r.e(43311).then(r.bind(r,43311))).default,MediaLayer:async()=>(await Promise.all([r.e(63533),r.e(4056)]).then(r.bind(r,76758))).default,OGCFeatureLayer:async()=>(await Promise.all([r.e(26799),r.e(25526)]).then(r.bind(r,1741))).default,OpenStreetMapLayer:async()=>(await r.e(50803).then(r.bind(r,50803))).default,OrientedImageryLayer:async()=>(await Promise.all([r.e(13014),r.e(58872)]).then(r.bind(r,13014))).default,PointCloudLayer:async()=>(await r.e(60964).then(r.bind(r,60964))).default,RouteLayer:async()=>(await Promise.all([r.e(79219),r.e(37810),r.e(25925)]).then(r.bind(r,25925))).default,SceneLayer:async()=>(await r.e(58029).then(r.bind(r,58029))).default,StreamLayer:async()=>(await r.e(84369).then(r.bind(r,84369))).default,SubtypeGroupLayer:async()=>(await r.e(89645).then(r.bind(r,89645))).default,TileLayer:async()=>(await Promise.all([r.e(89122),r.e(82241),r.e(39568),r.e(71174)]).then(r.bind(r,71174))).default,UnknownLayer:async()=>(await r.e(8896).then(r.bind(r,8896))).default,UnsupportedLayer:async()=>(await r.e(72043).then(r.bind(r,72043))).default,VectorTileLayer:async()=>(await Promise.all([r.e(45995),r.e(53451)]).then(r.bind(r,53451))).default,VideoLayer:async()=>(await Promise.all([r.e(80782),r.e(57045)]).then(r.bind(r,79426))).default,ViewshedLayer:async()=>(await r.e(80391).then(r.bind(r,80391))).default,VoxelLayer:async()=>(await r.e(31879).then(r.bind(r,31879))).default,WCSLayer:async()=>(await Promise.all([r.e(99846),r.e(93187),r.e(6745),r.e(46570),r.e(5640),r.e(59844),r.e(82178),r.e(76562),r.e(61267),r.e(47933),r.e(36164),r.e(60540)]).then(r.bind(r,60540))).default,WFSLayer:async()=>(await Promise.all([r.e(11316),r.e(4583)]).then(r.bind(r,26964))).default,WMSLayer:async()=>(await r.e(52908).then(r.bind(r,52908))).default,WMTSLayer:async()=>(await r.e(97793).then(r.bind(r,97793))).default,WebTileLayer:async()=>(await r.e(24552).then(r.bind(r,24552))).default}},62544:(e,a,r)=>{r.r(a),r.d(a,{fromUrl:()=>f});var t=r(89379),n=r(50076),l=r(90534),i=r(13096),s=r(39323),o=r(11668),u=r(31933),y=r(62487),d=r(67061);const c={FeatureLayer:!0,SceneLayer:!0};async function f(e){const{properties:a,url:n}=e,l=(0,t.A)((0,t.A)({},a),{},{url:n}),i=await h(n,null===a||void 0===a?void 0:a.customParameters),{Constructor:s,layerId:o,sourceJSON:u,parsedUrl:y,layers:d,tables:c}=i;if(d.length+c.length===0)return null!=o&&(l.layerId=o),null!=u&&(l.sourceJSON=u),new s(l);const f=new(0,(await Promise.all([r.e(60239),r.e(16095)]).then(r.bind(r,16095))).default)({title:y.title});return await async function(e,a,r){const t=a.sublayerConstructorProvider;for(const{id:l,serverUrl:i}of a.layers){var n;const s=v(a.sublayerInfos,l),o=w(i,l,s,null!==(n=s&&(null===t||void 0===t?void 0:t(s)))&&void 0!==n?n:a.Constructor,r);e.add(o)}if(a.tables.length){const t=await m("FeatureLayer");a.tables.forEach((n=>{let{id:l,serverUrl:i}=n;const s=w(i,l,v(a.tableInfos,l),t,r);e.tables.add(s)}))}}(f,i,l),f}function v(e,a){return e?e.find((e=>{let{id:r}=e;return r===a})):null}function w(e,a,r,n,l){const i=(0,t.A)((0,t.A)({},l),{},{layerId:a});return null!=e&&(i.url=e),null!=r&&(i.sourceJSON=r),"sublayerTitleMode"in n.prototype&&(i.sublayerTitleMode="service-name"),new n(i)}async function h(e,a){let r=(0,i.qg)(e);if(null==r&&(r=await async function(e,a){var r,t;const n=await(0,d.V)(e,{customParameters:a});let s=null,o=null;const u=n.type;if("Feature Layer"===u||"Table"===u?(s="FeatureServer",o=null!==(r=n.id)&&void 0!==r?r:null):"indexedVector"===u?s="VectorTileServer":n.hasOwnProperty("mapName")?s="MapServer":n.hasOwnProperty("bandCount")&&n.hasOwnProperty("pixelSizeX")?s="ImageServer":n.hasOwnProperty("maxRecordCount")&&n.hasOwnProperty("allowGeometryUpdates")?s="FeatureServer":n.hasOwnProperty("streamUrls")?s="StreamServer":b(n)?(s="SceneServer",o=n.id):n.hasOwnProperty("layers")&&b(null===(t=n.layers)||void 0===t?void 0:t[0])&&(s="SceneServer"),!s)return null;const y=null!=o?(0,i.iz)(e):null;return{title:null!=y&&n.name||(0,l.getFilename)(e),serverType:s,sublayer:o,url:{path:null!=y?y.serviceUrl:(0,l.urlToObject)(e).path}}}(e,a)),null==r)throw new n.default("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:e});const{serverType:t,sublayer:y}=r;let f;const v={FeatureServer:"FeatureLayer",KnowledgeGraphServer:"KnowledgeGraphLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer",VideoServer:"VideoLayer"},w="FeatureServer"===t,h="SceneServer"===t,L={parsedUrl:r,Constructor:null,layerId:(w||h)&&null!==y&&void 0!==y?y:void 0,layers:[],tables:[]};switch(t){case"MapServer":if(null!=y){const{type:r}=await(0,d.V)(e,{customParameters:a});switch(f="FeatureLayer",r){case"Catalog Layer":f="CatalogLayer";break;case"Catalog Dynamic Group Layer":throw new n.default("arcgis-layers:unsupported",'fromUrl() not supported for "'.concat(r,'" layers'))}}else f=await async function(e,a){return(await(0,d.V)(e,{customParameters:a})).tileInfo}(e,a)?"TileLayer":"MapImageLayer";break;case"ImageServer":{var p;const r=await(0,d.V)(e,{customParameters:a}),{tileInfo:t,cacheType:n}=r;f=t?"LERC"!==(null===t||void 0===t||null===(p=t.format)||void 0===p?void 0:p.toUpperCase())||n&&"elevation"!==n.toLowerCase()?"ImageryTileLayer":"ElevationLayer":"ImageryLayer";break}case"SceneServer":{const e=await(0,d.V)(r.url.path,{customParameters:a});if(f="SceneLayer",e){const a=null===e||void 0===e?void 0:e.layers;if("Voxel"===(null===e||void 0===e?void 0:e.layerType))f="VoxelLayer";else if(null!==a&&void 0!==a&&a.length){var S;const e=null===(S=a[0])||void 0===S?void 0:S.layerType;null!=e&&null!=u.XX[e]&&(f=u.XX[e])}}break}case"3DTilesServer":throw new n.default("arcgis-layers:unsupported","fromUrl() not supported for 3DTiles layers");case"FeatureServer":if(f="FeatureLayer",null!=y){const r=await(0,d.V)(e,{customParameters:a});L.sourceJSON=r,f=(0,o.K)(r.type)}break;default:f=v[t]}if(c[f]&&null==y){var P;const r=await async function(e,a,r){var t,n;let l,i,u=!1;switch(a){case"FeatureServer":{const a=await(0,o.Q)(e,{customParameters:r});u=!!a.layersJSON,l=a.layersJSON||a.serviceJSON;break}case"SceneServer":{const a=await async function(e,a){var r;const t=await(0,d.V)(e,{customParameters:a}),n=null===(r=t.layers)||void 0===r?void 0:r[0];if(!n)return{serviceInfo:t};try{const{serverUrl:r}=await(0,s.L)(e),n=await(0,d.V)(r,{customParameters:a}).catch((()=>null));return n&&(t.tables=n.tables),{serviceInfo:t,tableServerUrl:r}}catch(l){return{serviceInfo:t}}}(e,r);l=a.serviceInfo,i=a.tableServerUrl;break}default:l=await(0,d.V)(e,{customParameters:r})}const y=null===(t=l)||void 0===t?void 0:t.layers,c=null===(n=l)||void 0===n?void 0:n.tables;return{layers:(null===y||void 0===y?void 0:y.map((e=>({id:e.id}))).reverse())||[],tables:(null===c||void 0===c?void 0:c.map((e=>({serverUrl:i,id:e.id}))).reverse())||[],layerInfos:u?y:[],tableInfos:u?c:[]}}(e,t,a);if(w&&(L.sublayerInfos=r.layerInfos,L.tableInfos=r.tableInfos),1!==r.layers.length+r.tables.length)L.layers=r.layers,L.tables=r.tables,w&&(null===(P=r.layerInfos)||void 0===P?void 0:P.length)&&(L.sublayerConstructorProvider=await async function(e){if(!e.length)return;const a=new Set,r=[];for(const{type:l}of e)a.has(l)||(a.add(l),r.push(m((0,o.K)(l))));const t=await Promise.all(r),n=new Map;return Array.from(a).forEach(((e,a)=>{n.set(e,t[a])})),e=>n.get(e.type)}(r.layerInfos));else if(w||h){var g,I,O,C,T,V;const e=null!==(g=null===(I=r.layerInfos)||void 0===I?void 0:I[0])&&void 0!==g?g:null===(O=r.tableInfos)||void 0===O?void 0:O[0];if(L.layerId=null!==(C=null===(T=r.layers[0])||void 0===T?void 0:T.id)&&void 0!==C?C:null===(V=r.tables[0])||void 0===V?void 0:V.id,L.sourceJSON=e,w){const a=null===e||void 0===e?void 0:e.type;f=(0,o.K)(a)}}}return L.Constructor=await m(f),L}function b(e){return null!=e&&e.hasOwnProperty("store")&&e.hasOwnProperty("id")&&"number"==typeof e.id}async function m(e){return(0,y.S[e])()}},67061:(e,a,r)=>{r.d(a,{V:()=>l});var t=r(89379),n=r(3825);async function l(e,a){const{data:r}=await(0,n.default)(e,{responseType:"json",query:(0,t.A)((0,t.A)({f:"json"},null===a||void 0===a?void 0:a.customParameters),{},{token:null===a||void 0===a?void 0:a.apiKey})});return r}}}]);
//# sourceMappingURL=62544.5546f26c.chunk.js.map