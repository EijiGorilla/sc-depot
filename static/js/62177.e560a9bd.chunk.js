"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[6515,28896,62177,90889],{6515:(e,i,t)=>{t.r(i),t.d(i,{default:()=>d});var l=t(35143),a=t(91967),n=t(50076),s=t(76460),r=t(46053),o=(t(81806),t(47249),t(85842));let c=class extends a.default{constructor(e){super(e),this.precision=4,this.thumbsConstrained=!0}set effectiveMax(e){this.setEffectiveMax(e)}set effectiveMin(e){this.setEffectiveMin(e)}set labelFormatFunction(e){this._set("labelFormatFunction",e)}set inputFormatFunction(e){this._set("inputFormatFunction",e)}set inputParseFunction(e){this._set("inputParseFunction",e)}get labels(){const{max:e,min:i,values:t}=this,l=null!==t&&void 0!==t&&t.length?t.map(((e,i)=>this.getLabelForValue(e,"value",i))):[];return{max:this.getLabelForValue(e,"max"),min:this.getLabelForValue(i,"min"),values:l}}set max(e){this.setMax(e)}set min(e){this.setMin(e)}get state(){const{max:e,min:i}=this;return null!=e&&null!=i&&e>i?"ready":"disabled"}set values(e){const{max:i,min:t}=this,l=this.values;l&&e&&l.length===e.length&&l.every(((i,t)=>i===e[t]))||(this._set("values",null),null!==e&&void 0!==e&&e.length&&(null!=t&&e.some((e=>e<t))&&(this.min=Math.min(...e)),null!=i&&e.some((e=>e>i))&&(this.max=Math.max(...e))),this._set("values",e))}toPrecision(e){return parseFloat(e.toFixed(this.precision))}defaultLabelFormatFunction(e){const{max:i,min:t,precision:l}=this,a=null!=i&&null!=t&&i-t>10?2:l;return parseFloat(e.toFixed(a)).toString()}defaultInputFormatFunction(e){return e.toString()}defaultInputParseFunction(e){return parseFloat(e)}getBounds(){const{effectiveMax:e,effectiveMin:i,max:t,min:l}=this;return{min:null!=i&&null!=l?Math.max(l,i):l,max:null!=e&&null!=t?Math.min(t,e):t}}getBoundsForValueAtIndex(e){const{thumbsConstrained:i,values:t}=this,{min:l,max:a}=this.getBounds();if(i&&t){const i=e-1,n=e+1;return{min:null!=t[i]?t[i]:l,max:null!=t[n]?t[n]:a}}return{min:l,max:a}}getLabelForValue(e,i,t){return null==e?null:this.labelFormatFunction?this.labelFormatFunction(e,i,t):this.defaultLabelFormatFunction(e)}setMax(e){const{max:i,values:t}=this;if(null==e)return void this._set("max",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'max' is NaN.");const l=this.toPrecision(e);if(i!==l&&(this._set("max",l),null!==t&&void 0!==t&&t.length))for(let a=0;a<t.length;a++)l<t[a]&&this.setValue(a,l)}setMin(e){const{min:i,values:t}=this;if(null==e)return void this._set("min",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'min' is NaN.");const l=this.toPrecision(e);if(i!==l&&(this._set("min",l),null!==t&&void 0!==t&&t.length))for(let a=0;a<t.length;a++)l>t[a]&&this.setValue(a,l)}setEffectiveMax(e){if(null==e)return void this._set("effectiveMax",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMax' is NaN.");const i=this.toPrecision(e);this.effectiveMax!==i&&this._set("effectiveMax",this._applyBoundsToValue(i))}setEffectiveMin(e){if(null==e)return void this._set("effectiveMin",null);if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMin' is NaN.");const i=this.toPrecision(e);this.effectiveMin!==i&&this._set("effectiveMin",this._applyBoundsToValue(i))}setValue(e,i){if(isNaN(i))return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is NaN.");const{values:t}=this;if(null==t)return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is null.");const l=t[e],a=this.toPrecision(i);if(l===a)return;const n=[...t];n[e]=a,this._set("values",n),this.notifyChange("labels")}_applyBoundsToValue(e){const{max:i,min:t}=this;return null!=t&&e<t?t:null!=i&&e>i?i:e}_logError(e,i,t){s.A.getLogger(this).error(new n.default(e,i,t))}};(0,l._)([(0,r.MZ)()],c.prototype,"effectiveMax",null),(0,l._)([(0,r.MZ)()],c.prototype,"effectiveMin",null),(0,l._)([(0,r.MZ)()],c.prototype,"labelFormatFunction",null),(0,l._)([(0,r.MZ)()],c.prototype,"inputFormatFunction",null),(0,l._)([(0,r.MZ)()],c.prototype,"inputParseFunction",null),(0,l._)([(0,r.MZ)({readOnly:!0})],c.prototype,"labels",null),(0,l._)([(0,r.MZ)()],c.prototype,"max",null),(0,l._)([(0,r.MZ)()],c.prototype,"min",null),(0,l._)([(0,r.MZ)()],c.prototype,"precision",void 0),(0,l._)([(0,r.MZ)({readOnly:!0})],c.prototype,"state",null),(0,l._)([(0,r.MZ)()],c.prototype,"thumbsConstrained",void 0),(0,l._)([(0,r.MZ)()],c.prototype,"values",null),c=(0,l._)([(0,o.$)("esri.widgets.Slider.SliderViewModel")],c);const d=c},62177:(e,i,t)=>{t.r(i),t.d(i,{default:()=>u});var l=t(35143),a=t(91967),n=t(68134),s=t(46053),r=(t(81806),t(76460),t(47249),t(85842)),o=t(90889),c=t(6515);let d=class extends a.default{constructor(e){super(e),this.layer=null,this.mode="range",this.scaleRanges=o.default.fromScaleRange({minScale:0,maxScale:0}),this.sliderViewModel=(()=>{const{max:e}=this._getSliderIndexRange(this.scaleRanges.length-1);return new c.default({precision:10,min:0,max:e,values:[0,e]})})()}initialize(){this.addHandles([(0,n.watch)((()=>this.layer),(e=>null===e||void 0===e?void 0:e.load().catch((()=>{})))),(0,n.watch)((()=>this.mode),(e=>{var i,t;"range"===e&&1===(null===(i=this.sliderViewModel.values)||void 0===i?void 0:i.length)?this.sliderViewModel.values=[this.sliderViewModel.min,this.sliderViewModel.values[0]]:2===(null===(t=this.sliderViewModel.values)||void 0===t?void 0:t.length)&&("min-scale-only"===e?this.sliderViewModel.values=[this.sliderViewModel.values[0]]:"max-scale-only"===e&&(this.sliderViewModel.values=[this.sliderViewModel.values[1]]))})),(0,n.watch)((()=>{var e,i;return{loaded:null===(e=this.layer)||void 0===e?void 0:e.loaded,ready:null===(i=this.view)||void 0===i?void 0:i.ready}}),(e=>{let{loaded:i,ready:t}=e;if(!i||!t)return;if(this._hasTiledLayer()){const e=this._getLayerResampling()?void 0:this.mapScaleToSlider(this._getTiledLayerMaxScale()),i=this.mapScaleToSlider(this._getTiledLayerMinScale());this.sliderViewModel.effectiveMax=e,this.sliderViewModel.effectiveMin=i}else{const e=this.layer&&"maxScaleRange"in this.layer?this.layer.maxScaleRange:null,{minScale:i=0,maxScale:t=0}=null!==e&&void 0!==e?e:{};this.sliderViewModel.effectiveMax=0===t?void 0:this.mapScaleToSlider(t),this.sliderViewModel.effectiveMin=0===i?void 0:this.mapScaleToSlider(i)}const l=this.layer;l&&"minScale"in l&&"maxScale"in l?(this.minScale=l.minScale,this.maxScale=l.maxScale):(this.minScale=void 0,this.maxScale=void 0)}),n.initial)])}get effectiveMaxScale(){return 0===this.maxScale?this.maxScaleLimit:this.maxScale}get effectiveMinScale(){return 0===this.minScale?this.minScaleLimit:this.minScale}get effectiveMaxScaleLimit(){var e;return this.mapSliderToScale(null!==(e=this.sliderViewModel.effectiveMax)&&void 0!==e?e:this.sliderViewModel.max)}get effectiveMinScaleLimit(){var e;return this.mapSliderToScale(null!==(e=this.sliderViewModel.effectiveMin)&&void 0!==e?e:this.sliderViewModel.min)}get maxScale(){return this._getScale("max")}set maxScale(e){this._setMaxScaleOnSlider(e)}get maxScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.max)}set maxScaleLimit(e){this._setSliderRange({maxScale:e,minScale:this.minScaleLimit})}get minScale(){return this._getScale("min")}set minScale(e){this._setMinScaleOnSlider(e)}get minScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.min)}set minScaleLimit(e){this._setSliderRange({maxScale:this.maxScaleLimit,minScale:e})}get state(){const{view:e,layer:i}=this;return!e&&!i||!e&&null!==i&&void 0!==i&&i.loaded||!i&&null!==e&&void 0!==e&&e.ready||e&&e.ready&&null!==i&&void 0!==i&&i.loaded?"ready":"disabled"}set view(e){this._set("view",e)}mapScaleToSlider(e){const i=this.scaleRanges.scaleToRangeIndex(e),t=this.scaleRanges.findScaleRangeByIndex(i),{maxScale:l,minScale:a}=t,{max:n,min:s}=this._getSliderIndexRange(i);return this._mapToRange(e,a,l,s,n)}mapSliderToScale(e){const i=this.scaleRanges.findScaleRangeByIndex(e),{maxScale:t,minScale:l}=i,{max:a,min:n}=this._getSliderIndexRange(e);return this._mapToRange(e,n,a,l,t)}_setSliderRange(e){this.scaleRanges=o.default.fromScaleRange(e);const{max:i}=this._getSliderIndexRange(this.scaleRanges.length-1);this.sliderViewModel.max=i,this.sliderViewModel.min=0,this.notifyChange("maxScaleLimit"),this.notifyChange("minScaleLimit")}_getSliderIndexRange(e){const i=Math.floor(e);return{min:i,max:i+.99999}}_mapToRange(e,i,t,l,a){return l+(e-i)*(a-l)/(t-i)}_getSliderValue(e){const{min:i,max:t,values:l}=this.sliderViewModel,[a,n]=l;switch(this.mode){case"max-scale-only":return"min"===e?i:a;case"min-scale-only":return"min"===e?a:t;default:return"min"===e?null!==a&&void 0!==a?a:i:null!==n&&void 0!==n?n:t}}_getScale(e){const i=this.mapSliderToScale(this._getSliderValue(e));return this._normalizeScale(e,i)}_setMaxScaleOnSlider(e){const{scaleRanges:i,sliderViewModel:t}=this;if(void 0!==e){const l=this.mapScaleToSlider(this._constrainMaxScaleToLayer(i.clampMaxScale(e)));switch(this.mode){case"range":t.values=[t.values[0],l];break;case"max-scale-only":t.values=[l]}}}_setMinScaleOnSlider(e){const{scaleRanges:i,sliderViewModel:t}=this;if(void 0!==e){const l=this.mapScaleToSlider(this._constrainMinScaleToLayer(i.clampMinScale(e)));switch(this.mode){case"range":t.values=[l,t.values[1]];break;case"min-scale-only":t.values=[l]}}}_constrainMinScaleToLayer(e){const{scaleRanges:i}=this;if(this._hasTiledLayer()){const{firstRange:t}=i,l=this._getTiledLayerMinScale(),a=.85;e=this._mapToRange(e,t.maxScale,t.minScale,0,1)>a||e>l?l:e}return e}_constrainMaxScaleToLayer(e){if(this._hasTiledLayer()&&!this._getLayerResampling()){const i=this._getTiledLayerMaxScale();e=e<i?i:e}return e}_normalizeScale(e,i){const t="max"===e?"maxScale":"minScale",l=this._hasTiledLayer()?"min"===e?this._getTiledLayerMinScale():this._getTiledLayerMaxScale():this.scaleRanges[t],a=this._hasTiledLayer()?"min"===e?this._getTiledLayerRealMinScale():this._getTiledLayerRealMaxScale():l,n=0===i||a===i||Math.abs(a-i)<=1e-6;return Number((n?0:i).toFixed(6))}_getLayerLODS(){var e,i;const{layer:t}=this;return null!==t&&void 0!==t&&t.loaded&&"tileInfo"in t?"wcs"===t.type||"imagery-tile"===t.type&&"Raster"===(null===(e=t.raster)||void 0===e?void 0:e.tileType)?null:null===(i=t.tileInfo)||void 0===i?void 0:i.lods:null}_getLayerResampling(){var e;return!(null===(e=this.layer)||void 0===e||!e.loaded)&&(!("resampling"in this.layer)||this.layer.resampling)}_getTiledLayerMinScale(){const e=this._getLayerLODS();return this.scaleRanges.clampMinScale(e[0].scale)}_getTiledLayerMaxScale(){const e=this._getLayerLODS();return e[e.length-1].scale}_getTiledLayerRealMinScale(){var e,i;const t=this._getLayerLODS(),l=this.layer,a=l&&"sourceJSON"in l&&null!==(e=null===(i=l.sourceJSON)||void 0===i||null===(i=i.tileInfo)||void 0===i?void 0:i.lods)&&void 0!==e?e:t;return this.scaleRanges.clampMinScale(a[0].scale)}_getTiledLayerRealMaxScale(){var e,i;const t=this._getLayerLODS(),l=this.layer,a=l&&"sourceJSON"in l&&null!==(e=null===(i=l.sourceJSON)||void 0===i||null===(i=i.tileInfo)||void 0===i?void 0:i.lods)&&void 0!==e?e:t;return a[a.length-1].scale}_hasTiledLayer(){return!!this._getLayerLODS()}};(0,l._)([(0,s.MZ)({readOnly:!0})],d.prototype,"effectiveMaxScale",null),(0,l._)([(0,s.MZ)({readOnly:!0})],d.prototype,"effectiveMinScale",null),(0,l._)([(0,s.MZ)()],d.prototype,"effectiveMaxScaleLimit",null),(0,l._)([(0,s.MZ)()],d.prototype,"effectiveMinScaleLimit",null),(0,l._)([(0,s.MZ)()],d.prototype,"layer",void 0),(0,l._)([(0,s.MZ)()],d.prototype,"maxScale",null),(0,l._)([(0,s.MZ)()],d.prototype,"maxScaleLimit",null),(0,l._)([(0,s.MZ)()],d.prototype,"mode",void 0),(0,l._)([(0,s.MZ)()],d.prototype,"minScale",null),(0,l._)([(0,s.MZ)()],d.prototype,"minScaleLimit",null),(0,l._)([(0,s.MZ)()],d.prototype,"scaleRanges",void 0),(0,l._)([(0,s.MZ)({type:c.default})],d.prototype,"sliderViewModel",void 0),(0,l._)([(0,s.MZ)({readOnly:!0})],d.prototype,"state",null),(0,l._)([(0,s.MZ)()],d.prototype,"view",null),d=(0,l._)([(0,r.$)("esri.widgets.ScaleRangeSlider.ScaleRangeSliderViewModel")],d);const u=d},90889:(e,i,t)=>{t.r(i),t.d(i,{default:()=>m});var l,a=t(35143),n=t(91967),s=t(46053),r=(t(81806),t(76460),t(47249),t(85842));const o=147914382,c=[{id:"room",minScale:100},{id:"rooms",minScale:400},{id:"smallBuilding",minScale:800},{id:"building",minScale:1999},{id:"buildings",minScale:3999},{id:"street",minScale:7499},{id:"streets",minScale:14999},{id:"neighborhood",minScale:29999},{id:"town",minScale:59999},{id:"city",minScale:119999},{id:"cities",minScale:249999},{id:"metropolitanArea",minScale:499999},{id:"county",minScale:999999},{id:"counties",minScale:1999999},{id:"stateProvince",minScale:3999999},{id:"statesProvinces",minScale:6999999},{id:"countriesSmall",minScale:14999999},{id:"countriesBig",minScale:34999999},{id:"continent",minScale:99999999},{id:"world",minScale:o}];function d(e,i){const t=c,l=t.length,a=[];let n,s=e;e=e>=0?e:0,i=i>0?i:t[l-1].minScale;for(let r=0;r<l;r++){const l=Math.min(t[r].minScale,i);n=Math.min(l,i),e<=l&&s<i&&a.push({id:t[r].id,maxScale:Math.max(s,e),minScale:n}),s=n+1}return a.reverse(),function(e){if(0===e.length)return e;const[i]=e,t=e[e.length-1];return i.minScale===i.maxScale&&(e.shift(),i.minScale+=1),t.minScale===t.maxScale&&(e.pop(),t.maxScale-=1),e}(a)}let u=l=class extends n.default{constructor(){super(...arguments),this.ranges=[]}static fromScaleRange(e){let{maxScale:i,minScale:t}=e;return new l({ranges:d(i,t)})}static async fromLayer(e){var i;await e.when();const t="tileInfo"in e?null===(i=e.tileInfo)||void 0===i?void 0:i.lods:void 0;let a;return a=t?d(t[t.length-1].scale,t[0].scale):d(0,0),new l({ranges:a})}get firstRange(){return this.ranges[0]}get lastRange(){const e=this.ranges;return e[e.length-1]}get length(){return this.ranges.length}get maxScale(){return this.lastRange.maxScale}get minScale(){return this.firstRange.minScale}isMinScaleEdge(e){const{firstRange:i}=this,t=i.minScale,a=l.RecommendedScales[i.id]||i.maxScale;return e<=t&&e>=a}isMaxScaleEdge(e){const{lastRange:i}=this,t=i.maxScale;return e<=(l.RecommendedScales[i.id]||i.minScale)&&e>=t}findScaleRange(e){const i=this.ranges;let t;if(e>=i[0].maxScale)return i[0];if(e<=i[i.length-1].minScale)return i[i.length-1];for(let l=0;l<i.length;l++){const a=i[l];if(e>=a.maxScale&&e<=a.minScale){t=a;break}}return t}findScaleRangeByIndex(e){return this.ranges[this._clampScaleRangeIndex(e)]}scaleToRangeIndex(e){return this.ranges.indexOf(this.findScaleRange(e))}clampScale(e){return Math.min(this.minScale,Math.max(this.maxScale,e))}clampMinScale(e){return 0===e?this.minScale:this.clampScale(e)}clampMaxScale(e){return this.clampScale(e)}contains(e){const i=this.ranges;let t=!1;for(let l=0;l<i.length;l++){const{maxScale:a,minScale:n}=i[l];if(e>=a&&e<=n){t=!0;break}}return t}_clampScaleRangeIndex(e){if(e<=0)return 0;const i=this.ranges.length-1;return e>i?i:Math.floor(e)}};u.RecommendedScales=Object.freeze({world:o,continent:5e7,countriesBig:25e6,countriesSmall:12e6,statesProvinces:6e6,stateProvince:3e6,counties:15e5,county:75e4,metropolitanArea:32e4,cities:16e4,city:8e4,town:4e4,neighborhood:2e4,streets:1e4,street:5e3,buildings:2500,building:1250,smallBuilding:800,rooms:400,room:100}),(0,a._)([(0,s.MZ)()],u.prototype,"firstRange",null),(0,a._)([(0,s.MZ)()],u.prototype,"lastRange",null),(0,a._)([(0,s.MZ)()],u.prototype,"length",null),(0,a._)([(0,s.MZ)()],u.prototype,"maxScale",null),(0,a._)([(0,s.MZ)()],u.prototype,"minScale",null),(0,a._)([(0,s.MZ)({constructOnly:!0})],u.prototype,"ranges",void 0),u=l=(0,a._)([(0,r.$)("esri.widgets.ScaleRangeSlider.ScaleRanges")],u);const m=u}}]);
//# sourceMappingURL=62177.e560a9bd.chunk.js.map