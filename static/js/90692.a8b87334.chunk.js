"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[90692],{90494:(e,i,a)=>{a.d(i,{p:()=>t,z:()=>r});var s=a(50076);const r="aggregateCount";function t(e,i){if(!e.view)throw new s.default("".concat(i,":missing-parameters"),"'view' parameter is required for binning");if(e.sqlExpression)throw new s.default("".concat(i,":invalid-parameters"),"'sqlExpression' parameter is not supported for binning");if("3d"===e.view.type)throw new s.default("".concat(i,":invalid-parameters"),"3d view is not supported for binning")}},90692:(e,i,a)=>{a.r(i),a.d(i,{default:()=>m});var s=a(89379),r=a(53986),t=a(50076),n=a(53430),o=a(28383),l=a(90494),d=a(42633),p=a(11563);const f=["layer"],u=["layerAdapter"],h=[...d.i3,"time-only",...n.numericTypes];async function m(e){const i=await async function(e){if(null===e||void 0===e||!e.layer||!(e.field||e.valueExpression||e.sqlExpression))throw new t.default("histogram:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new t.default("histogram:missing-parameters","View is required when 'valueExpression' is specified");e.forBinning&&(0,l.p)(e,"histogram");const{layer:i}=e,a=(0,r.A)(e,f),u=e.forBinning?p.Mi:p.G3,m=(0,p.Jg)(i,u,e.forBinning);if(!m)throw new t.default("histogram:invalid-parameters","'layer' must be one of these types: "+(0,p.Ho)(u).join(", "));const w=(0,s.A)({layerAdapter:m},a);w.normalizationType=(0,d.Wy)(w);const c=null!=w.signal?{signal:w.signal}:null;await m.load(c);const v=w.valueExpression||w.sqlExpression,g=w.field,y=g?m.getField(g):null,E=!w.classificationMethod||"equal-interval"===w.classificationMethod,x=await(0,d.EG)({field:g,normalizationField:w.normalizationField,valueExpression:w.valueExpression}),q=(0,o.MH)(m,x,"histogram:invalid-parameters");if(q)throw q;if(y){const e=(0,o.a)(m,y,"histogram:invalid-parameters",h);if(e)throw e;if((0,d.fs)(y)||(0,n.isTimeOnlyField)(y)){if(w.normalizationType)throw new t.default("histogram:invalid-parameters","Normalization is not allowed for date fields");if(!E)throw new t.default("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed for date fields")}}else if(v){if(w.normalizationType)throw new t.default("histogram:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");if(!E)throw new t.default("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed when 'valueExpression' or 'sqlExpression' is specified")}w.filter&&!w.filter.spatialRelationship&&(w.filter.spatialRelationship="intersects");const b=(0,o.Wk)(w.filter,"histogram:invalid-parameters");if(b)throw b;return null==w.useQueryAttributeBins&&(w.useQueryAttributeBins=!0),w}(e),{layerAdapter:a}=i,m=(0,r.A)(i,u);return a.histogram(m)}}}]);
//# sourceMappingURL=90692.a8b87334.chunk.js.map