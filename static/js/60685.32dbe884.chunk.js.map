{"version":3,"file":"static/js/60685.32dbe884.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/FeatureTable/RelationshipColumn.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{substitute as i}from\"../../intl/substitute.js\";import r from\"./Grid/Column.js\";import{css as s}from\"./Grid/ColumnCSS.js\";import{isIFeatureTableSupportedLayerWithRelationships as l,findRelationship as n}from\"./support/tableUtils.js\";const a={showRecordsButton:\"esri-column__show-related-records-button\"};let p=class extends r{constructor(t){super(t),this.flexGrow=1,this.icon=\"link\",this.layer=null,this.relatedLayer=null,this.relationshipId=null,this.renderFunction=({root:t,rowData:e})=>{if(!e)return;const o=e.item,{layer:r,relatedLayer:n}=this;if(!o?.feature||!l(r)||!l(n))return;const{messages:p}=this,{index:c}=e,{feature:d,objectId:h}=o,{collapsed:u,showRelatedTableCallback:b,relationshipId:m}=this,y=o.relatedRecords,f=y?.find((t=>t.relationshipId===m))?.count??0,C=!u&&b&&p?.recordsCount?i(p.recordsCount,{count:f}):`${f}`,g=t=>{t.preventDefault(),u||this.showRelatedTableCallback?.({feature:d,index:c,layer:r,objectId:h,relatedLayer:n,relationshipId:m})},w=u?\"\":\"chevron-right\";if(t.firstChild){const e=t.firstChild;return e.textContent=C,e.onclick=g,void(e.iconEnd=w)}const v=this.createCalciteButton({className:`${a.showRecordsButton} ${s.contentFull}`,iconEnd:w,iconFlipRtl:\"both\",scale:\"m\",textContent:C,title:C,onclick:g});this.removeCellContent(t),t.appendChild(v)},this.resizable=!0,this.showRelatedTableCallback=null,this.textAlign=\"center\",this.width=\"200px\"}get _relationshipLabel(){return this.label||this.originRelationship?.name||this.layer.title||\"\"}get collapsed(){return this._get(\"collapsed\")||!1}set collapsed(t){t?this.set({flexGrow:0,resizable:!1,width:\"80px\"}):this.set({flexGrow:1,resizable:!0,width:\"200px\"}),this._set(\"collapsed\",t)}get effectiveLabel(){return this.collapsed?\"\":this._relationshipLabel}get iconNode(){const{icon:t}=this;return t?this.createCalciteIcon({icon:t,textLabel:this._relationshipLabel}):null}get originRelationship(){const t=this.relationshipId;return this.relatedLayer.relationships?.find((({id:e})=>e===t))}get relationship(){return n(this.layer,this.relationshipId)}};t([e()],p.prototype,\"_relationshipLabel\",null),t([e()],p.prototype,\"collapsed\",null),t([e()],p.prototype,\"effectiveLabel\",null),t([e()],p.prototype,\"flexGrow\",void 0),t([e()],p.prototype,\"icon\",void 0),t([e()],p.prototype,\"iconNode\",null),t([e()],p.prototype,\"layer\",void 0),t([e()],p.prototype,\"originRelationship\",null),t([e()],p.prototype,\"relatedLayer\",void 0),t([e()],p.prototype,\"relationship\",null),t([e()],p.prototype,\"relationshipId\",void 0),t([e()],p.prototype,\"renderFunction\",void 0),t([e()],p.prototype,\"resizable\",void 0),t([e()],p.prototype,\"showRelatedTableCallback\",void 0),t([e()],p.prototype,\"textAlign\",void 0),t([e()],p.prototype,\"width\",void 0),p=t([o(\"esri.widgets.FeatureTable.RelationshipColumn\")],p);const c=p;export{c as default};\n"],"names":["a","p","r","constructor","t","super","this","flexGrow","icon","layer","relatedLayer","relationshipId","renderFunction","_ref","_y$find$count","_y$find","root","rowData","e","o","item","n","feature","l","messages","index","c","d","objectId","h","collapsed","u","showRelatedTableCallback","b","m","y","relatedRecords","f","find","count","C","recordsCount","i","concat","g","_this$showRelatedTabl","preventDefault","call","w","firstChild","textContent","onclick","iconEnd","v","createCalciteButton","className","s","contentFull","iconFlipRtl","scale","title","removeCellContent","appendChild","resizable","textAlign","width","_relationshipLabel","_this$originRelations","label","originRelationship","name","_get","set","_set","effectiveLabel","iconNode","createCalciteIcon","textLabel","_this$relatedLayer$re","relationships","_ref2","id","relationship","prototype"],"sourceRoot":""}