"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[46481],{46481:(i,e,s)=>{s.r(e),s.d(e,{default:()=>c});var a=s(89379),t=s(53986),r=s(50076),n=s(53430),l=s(28383),o=s(90494),p=s(42633),d=s(11563);const u=["layer"],f=["layerAdapter"],m=[...n.numericTypes,...p.i3,"time-only","string"];async function c(i){const e=await async function(i){if(null===i||void 0===i||!i.layer||!(i.field||i.valueExpression||i.sqlExpression))throw new r.default("summary-statistics:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(i.valueExpression&&!i.sqlExpression&&!i.view)throw new r.default("summary-statistics:missing-parameters","View is required when 'valueExpression' is specified");i.forBinning&&(0,o.p)(i,"summary-statistics");const{layer:e}=i,s=(0,t.A)(i,u),f=i.forBinning?d.Mi:d.G3,c=(0,d.Jg)(e,f,i.forBinning);if(!c)throw new r.default("summary-statistics:invalid-parameters","'layer' must be one of these types: "+(0,d.Ho)(f).join(", "));const w=(0,a.A)({layerAdapter:c},s);w.normalizationType=(0,p.Wy)(w);const y=null!=w.signal?{signal:w.signal}:null;await c.load(y);const v=w.field,h=w.normalizationType,g=w.valueExpression||w.sqlExpression,E=v?c.getField(v):null,x=await(0,p.EG)({field:w.field,normalizationField:w.normalizationField,valueExpression:w.valueExpression}),q=(0,l.MH)(c,x,"summary-statistics:invalid-parameters");if(q)throw q;if(E){const i=(0,l.a)(c,E,"summary-statistics:invalid-parameters",m);if(i)throw i;if(((0,p.fs)(E)||(0,n.isTimeOnlyField)(E))&&h)throw new r.default("summary-statistics:invalid-parameters","Normalization is not allowed for date fields")}else if(g&&h)throw new r.default("summary-statistics:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");w.filter&&!w.filter.spatialRelationship&&(w.filter.spatialRelationship="intersects");const z=(0,l.Wk)(w.filter,"summary-statistics:invalid-parameters");if(z)throw z;return w}(i),{layerAdapter:s}=e,c=(0,t.A)(e,f);return s.summaryStatistics(c)}},90494:(i,e,s)=>{s.d(e,{p:()=>r,z:()=>t});var a=s(50076);const t="aggregateCount";function r(i,e){if(!i.view)throw new a.default("".concat(e,":missing-parameters"),"'view' parameter is required for binning");if(i.sqlExpression)throw new a.default("".concat(e,":invalid-parameters"),"'sqlExpression' parameter is not supported for binning");if("3d"===i.view.type)throw new a.default("".concat(e,":invalid-parameters"),"3d view is not supported for binning")}}}]);
//# sourceMappingURL=46481.92d70f32.chunk.js.map