"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[19583,58296,97173],{19583:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var i=r(35143),n=r(91967),l=r(68134),o=r(46053),a=(r(81806),r(76460),r(47249),r(85842)),s=r(75635);function u(e,t){const r={};for(const i of t){const t=e.get(i);t&&(r[t.name]=t.value)}return r}let d=class extends n.default{constructor(e){super(e),this.followingMode="follow-both",this.layer=null,this.seekLength=10,this.view=null}initialize(){this.addHandles([(0,l.watch)((()=>this.layer),(e=>{e&&e.load().then((()=>this._followTelemetry())).catch((()=>{}))}),l.initial),(0,l.watch)((()=>[this.followingMode]),(()=>this._followTelemetry()),l.initial)])}get _layerView(){var e;return this.layer&&this.view&&null!==(e=this.view.allLayerViews.find((e=>e.layer===this.layer)))&&void 0!==e?e:null}get buffered(){var e;return(null===(e=this.layer)||void 0===e?void 0:e.buffered)||0}get currentTime(){var e;return(null===(e=this.layer)||void 0===e?void 0:e.currentTime)||0}get duration(){var e;return(null===(e=this.layer)||void 0===e?void 0:e.duration)||0}get ended(){var e,t;return null===(e=null===(t=this.layer)||void 0===t?void 0:t.ended)||void 0===e||e}get metadata(){var e;const t=null===(e=this.layer)||void 0===e?void 0:e.metadata;return t?{missionInfo:u(t,[s.a1.MissionId,s.a1.PrecisionTimeStamp]),platformInfo:u(t,[s.a1.PlatformTailNumber,s.a1.PlatformTrueAirspeed,s.a1.PlatformCallSign,s.a1.PlatformDesignation,s.a1.PlatformGroundRange]),frameInfo:u(t,[s.a1.FrameCenterElevation,s.a1.FrameCenterLatitude,s.a1.FrameCenterLongitude])}:null}get playing(){var e,t;return null!==(e=null===(t=this.layer)||void 0===t?void 0:t.playing)&&void 0!==e&&e}get state(){var e,t;return null!==(e=this.layer)&&void 0!==e&&e.loadError?"error":null===(t=this.layer)||void 0===t?void 0:t.state}play(){var e;null===(e=this.layer)||void 0===e||e.play()}pause(){var e;null===(e=this.layer)||void 0===e||e.pause()}seekBackward(){if(this.layer){const e=this.layer.currentTime-this.seekLength;e<=0?this.layer.reset():this.layer.setCurrentTime(e)}}seekForward(){if(this.layer){const e=this.layer.currentTime+this.seekLength;e>=this.layer.duration?this.layer.reset():this.layer.setCurrentTime(e)}}seekToBeginning(){var e;null===(e=this.layer)||void 0===e||e.setCurrentTime(0)}seekToEnding(){var e;null===(e=this.layer)||void 0===e||e.setCurrentTime(this.layer.duration)}seekTo(e){var t;null===(t=this.layer)||void 0===t||t.setCurrentTime(e)}toggleSensorDisplay(){var e;(null===(e=this._layerView)||void 0===e?void 0:e.visibleTelemetryElements)&&(this._layerView.visibleTelemetryElements.sensorLocation=!this._layerView.visibleTelemetryElements.sensorLocation)}toggleSensorSightLineDisplay(){var e;(null===(e=this._layerView)||void 0===e?void 0:e.visibleTelemetryElements)&&(this._layerView.visibleTelemetryElements.lineOfSight=!this._layerView.visibleTelemetryElements.lineOfSight)}toggleFrameDisplay(){var e;(null===(e=this._layerView)||void 0===e?void 0:e.visibleTelemetryElements)&&(this._layerView.visibleTelemetryElements.frame=!this._layerView.visibleTelemetryElements.frame)}toggleSensorTrailDisplay(){var e;(null===(e=this._layerView)||void 0===e?void 0:e.visibleTelemetryElements)&&(this._layerView.visibleTelemetryElements.sensorTrail=!this._layerView.visibleTelemetryElements.sensorTrail)}toggleFrameCenterDisplay(){var e;(null===(e=this._layerView)||void 0===e?void 0:e.visibleTelemetryElements)&&(this._layerView.visibleTelemetryElements.frameCenter=!this._layerView.visibleTelemetryElements.frameCenter)}toggleFrameOutlineDisplay(){var e;(null===(e=this._layerView)||void 0===e?void 0:e.visibleTelemetryElements)&&(this._layerView.visibleTelemetryElements.frameOutline=!this._layerView.visibleTelemetryElements.frameOutline)}changePlaybackSpeed(e){this.layer&&(this.layer.playbackRate=e)}changeGraphicsColor(e){this._layerView&&(this._layerView.symbolColor=e)}_followTelemetry(){this.removeHandles("follow"),this.view&&this.layer&&this.addHandles((0,l.watch)((()=>{var e;return null===(e=this.layer)||void 0===e?void 0:e.telemetry}),(()=>{var e,t,r;const i=[],n="follow-sensor"===this.followingMode||"follow-both"===this.followingMode,l="follow-frame"===this.followingMode||"follow-both"===this.followingMode;n&&null!==(e=this.layer)&&void 0!==e&&e.telemetry.sensorLocation&&i.push(this.layer.telemetry.sensorLocation),l&&null!==(t=this.layer)&&void 0!==t&&t.telemetry.frameCenter&&i.push(this.layer.telemetry.frameCenter),i.length&&(null===(r=this.view)||void 0===r||r.goTo(i).catch((()=>{})))}),l.initial),"follow")}};(0,i._)([(0,o.MZ)()],d.prototype,"_layerView",null),(0,i._)([(0,o.MZ)({readOnly:!0})],d.prototype,"buffered",null),(0,i._)([(0,o.MZ)({readOnly:!0})],d.prototype,"currentTime",null),(0,i._)([(0,o.MZ)({readOnly:!0})],d.prototype,"duration",null),(0,i._)([(0,o.MZ)({readOnly:!0})],d.prototype,"ended",null),(0,i._)([(0,o.MZ)()],d.prototype,"followingMode",void 0),(0,i._)([(0,o.MZ)()],d.prototype,"layer",void 0),(0,i._)([(0,o.MZ)({readOnly:!0})],d.prototype,"metadata",null),(0,i._)([(0,o.MZ)({readOnly:!0})],d.prototype,"playing",null),(0,i._)([(0,o.MZ)()],d.prototype,"seekLength",void 0),(0,i._)([(0,o.MZ)({readOnly:!0})],d.prototype,"state",null),(0,i._)([(0,o.MZ)()],d.prototype,"view",void 0),d=(0,i._)([(0,a.$)("esri.widgets.VideoPlayer.VideoPlayerViewModel")],d);const v=d},58296:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var i=r(35143),n=r(69098),l=r(42553),o=r(46053),a=(r(81806),r(76460),r(47249),r(85842)),s=r(19247),u=r(65215),d=r(23701);let v=class extends(n.A.ClonableMixin(l.A)){constructor(e){super(e),this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};(0,i._)([(0,o.MZ)({type:s.default})],v.prototype,"frameCenter",void 0),(0,i._)([(0,o.MZ)({type:u.default})],v.prototype,"frameOutline",void 0),(0,i._)([(0,o.MZ)({type:d.default})],v.prototype,"lineOfSight",void 0),(0,i._)([(0,o.MZ)({type:s.default})],v.prototype,"sensorLocation",void 0),(0,i._)([(0,o.MZ)({type:d.default})],v.prototype,"sensorTrail",void 0),v=(0,i._)([(0,a.$)("esri.layers.support.TelemetryData")],v);const f=v},75635:(e,t,r)=>{r.d(t,{A_:()=>p,I0:()=>g,SC:()=>h,YI:()=>m,Yv:()=>C,a1:()=>v,nX:()=>f,yQ:()=>y});var i=r(19247),n=r(65215),l=r(23701),o=r(58296),a=r(97173);const s="application/x-mpegURL",u="video/mp4",d="video/webm",v={UASDatalinkLocalSet:1e4,PrecisionTimeStamp:10002,MissionId:10003,PlatformTailNumber:10004,PlatformHeadingAngle:10005,PlatformPitchAngle:10006,PlatformRollAngle:10007,PlatformTrueAirspeed:10008,PlatformIndicatedAirspeed:10009,PlatformDesignation:10010,ImageSourceSensor:10011,ImageCoordinateSystem:10012,SensorLatitude:10013,SensorLongitude:10014,SensorTrueAltitude:10015,SensorHorizontalFOV:10016,SensorVerticalFOV:10017,SensorAzimuthAngle:10018,SensorElevationAngle:10019,SensorRollAngle:10020,PlatformSlantRange:10021,TargetWidth:10022,FrameCenterLatitude:10023,FrameCenterLongitude:10024,FrameCenterElevation:10025,OffsetCorner1Latitude:10026,OffsetCorner1Longitude:10027,OffsetCorner2Latitude:10028,OffsetCorner2Longitude:10029,OffsetCorner3Latitude:10030,OffsetCorner3Longitude:10031,OffsetCorner4Latitude:10032,OffsetCorner4Longitude:10033,TargetLocationLatitude:10040,TargetLocationLongitude:10041,TargetLocationElevation:10042,TargetTrackGateWidth:10043,TargetTrackGateHeight:10044,TargetErrorEstimateHorizontal:10045,TargetErrorEstimateLateral:10046,GenericFlagData:10047,PlatformGroundSpeed:10056,PlatformGroundRange:10057,PlatformRemainingFuel:10058,PlatformCallSign:10059,SensorFOVName:10063,PlatformMagneticHeading:10064,LDSVersionNumber:10065,AlternatePlatformName:10070,EventStartTimeUTC:10072,VMTIDataSet:10074,SensorEllipsoidHeight:10075,OperationalMode:10077,CornerLatitudePoint1:10082,CornerLongitudePoint1:10083,CornerLatitudePoint2:10084,CornerLongitudePoint2:10085,CornerLatitudePoint3:10086,CornerLongitudePoint3:10087,CornerLatitudePoint4:10088,CornerLongitudePoint4:10089,SARMotionImageryMetadata:10095,SecurityClassification:20001,SecurityClassifyingAuthority:20002,SecurityClassifyingCountry:20003,SecuritySCI:20004,SecurityCaveats:20005,SecurityReleaseInstructions:20006,SecurityLDSVersion:20022,EsriVideoWidth:90001,EsriVideoHeight:90002,EsriFrameCenterLatitude:90050,EsriFrameCenterLongitude:90051,EsriCornerLatitudePt1:90052,EsriCornerLongitudePt1:90053,EsriCornerLatitudePt2:90054,EsriCornerLongitudePt2:90055,EsriCornerLatitudePt3:90056,EsriCornerLongitudePt3:90057,EsriCornerLatitudePt4:90058,EsriCornerLongitudePt4:90059,EsriFrameOutline:90060,EsriSensorPosition:90061,EsriHorizonPixelPack:90063,EsriGroundControlPoints:90064};function f(e){const{duration:t,end:r,start:i,timezone:n="UTC"}=e||{};return"number"!=typeof t?null:new a.default({duration:t||null,end:"number"==typeof r?new Date(r):null,start:"number"==typeof i?new Date(i):null,timezone:n})}function y(e,t){const r=[...t],i=r.findIndex((t=>t.equals(e)));return i>-1&&r.splice(i),r.push(e),r}function m(e){if(null===e||void 0===e||!e.size)return new o.default;const t=function(e){var t,r,n;if(null===e||void 0===e||!e.size)return null;if(e.has(v.EsriSensorPosition)){var l;const t=null===(l=e.get(v.EsriSensorPosition))||void 0===l?void 0:l.value;if(t)return i.default.fromJSON(t.geometry)}return e.has(v.SensorLongitude)&&e.has(v.SensorLatitude)&&e.has(v.SensorTrueAltitude)?new i.default({x:null===(t=e.get(v.SensorLongitude))||void 0===t?void 0:t.value,y:null===(r=e.get(v.SensorLatitude))||void 0===r?void 0:r.value,z:null===(n=e.get(v.SensorTrueAltitude))||void 0===n?void 0:n.value}):null}(e),r=function(e){var t;return null!==(t=function(e){return e&&e.has(v.EsriFrameCenterLatitude)&&e.has(v.EsriFrameCenterLongitude)?new i.default({x:e.get(v.EsriFrameCenterLongitude).value,y:e.get(v.EsriFrameCenterLatitude).value,z:e.get(v.FrameCenterElevation).value}):null}(e))&&void 0!==t?t:function(e){var t,r,n;return e&&e.has(v.FrameCenterLatitude)&&e.has(v.FrameCenterLongitude)?new i.default({x:null===(t=e.get(v.FrameCenterLongitude))||void 0===t?void 0:t.value,y:null===(r=e.get(v.FrameCenterLatitude))||void 0===r?void 0:r.value,z:null===(n=e.get(v.FrameCenterElevation))||void 0===n?void 0:n.value}):null}(e)}(e),a=function(e){var t,r;if(!e)return null;const i=null===(t=e.get(v.EsriFrameOutline))||void 0===t?void 0:t.value;return i?n.default.fromJSON(i.geometry):null!==(r=function(e){var t,r,i,l,o,a,s,u;if(!(e.has(v.EsriCornerLatitudePt1)&&e.has(v.EsriCornerLongitudePt1)&&e.has(v.EsriCornerLatitudePt2)&&e.has(v.EsriCornerLongitudePt2)&&e.has(v.EsriCornerLatitudePt3)&&e.has(v.EsriCornerLongitudePt3)&&e.has(v.EsriCornerLatitudePt4)&&e.has(v.EsriCornerLongitudePt4)))return null;const d=[null===(t=e.get(v.EsriCornerLongitudePt1))||void 0===t?void 0:t.value,null===(r=e.get(v.EsriCornerLatitudePt1))||void 0===r?void 0:r.value],f=[null===(i=e.get(v.EsriCornerLongitudePt2))||void 0===i?void 0:i.value,null===(l=e.get(v.EsriCornerLatitudePt2))||void 0===l?void 0:l.value],y=[null===(o=e.get(v.EsriCornerLongitudePt3))||void 0===o?void 0:o.value,null===(a=e.get(v.EsriCornerLatitudePt3))||void 0===a?void 0:a.value],m=[null===(s=e.get(v.EsriCornerLongitudePt4))||void 0===s?void 0:s.value,null===(u=e.get(v.EsriCornerLatitudePt4))||void 0===u?void 0:u.value];return new n.default({rings:[[d,f,y,m]]})}(e))&&void 0!==r?r:function(e){var t,r,i,l,o,a,s,u,d,f;if(!(e.has(v.OffsetCorner1Latitude)&&e.has(v.OffsetCorner1Longitude)&&e.has(v.OffsetCorner2Latitude)&&e.has(v.OffsetCorner2Longitude)&&e.has(v.OffsetCorner3Latitude)&&e.has(v.OffsetCorner3Longitude)&&e.has(v.OffsetCorner4Latitude)&&e.has(v.OffsetCorner4Longitude)&&e.has(v.FrameCenterLatitude)&&e.has(v.FrameCenterLongitude)))return null;const y=null===(t=e.get(v.FrameCenterLatitude))||void 0===t?void 0:t.value,m=null===(r=e.get(v.FrameCenterLongitude))||void 0===r?void 0:r.value,g=y+(null===(i=e.get(v.OffsetCorner1Latitude))||void 0===i?void 0:i.value),h=m+(null===(l=e.get(v.OffsetCorner1Longitude))||void 0===l?void 0:l.value),p=y+(null===(o=e.get(v.OffsetCorner2Latitude))||void 0===o?void 0:o.value),C=m+(null===(a=e.get(v.OffsetCorner2Longitude))||void 0===a?void 0:a.value),c=y+(null===(s=e.get(v.OffsetCorner3Latitude))||void 0===s?void 0:s.value),L=m+(null===(u=e.get(v.OffsetCorner3Longitude))||void 0===u?void 0:u.value),w=y+(null===(d=e.get(v.OffsetCorner4Latitude))||void 0===d?void 0:d.value),E=m+(null===(f=e.get(v.OffsetCorner4Longitude))||void 0===f?void 0:f.value);return new n.default({rings:[[[h,g],[C,p],[L,c],[E,w]]]})}(e)}(e),s=function(e,t){var r,i;if(!e||!t)return null;const n=[e.x,e.y,null!==(r=e.z)&&void 0!==r?r:0],o=[t.x,t.y,null!==(i=t.z)&&void 0!==i?i:0];return new l.default({paths:[[n,o]]})}(t,r);return new o.default({frameCenter:r,frameOutline:a,lineOfSight:s,sensorLocation:t})}function g(e){var t,r,i;return null!==e&&void 0!==e&&e.size&&null!==(t=null!==(r=null===(i=e.get(v.EsriGroundControlPoints))||void 0===i?void 0:i.value)&&void 0!==r?r:null)&&void 0!==t?t:null}function h(e){var t,r;return null!==e&&void 0!==e&&e.size&&null!==(t=null===(r=e.get(v.EsriHorizonPixelPack))||void 0===r?void 0:r.value)&&void 0!==t?t:null}function p(e){if(!e)return s;const t=e.match(/\.(\w{3,4})(?:$|\?)/i);if(!t)return s;switch(t[1].toLowerCase()){case"mp4":return u;case"webm":return d;default:return s}}function C(e){const t=null===e||void 0===e?void 0:e.layers;return null!==t&&void 0!==t&&t.length?t.map((e=>({layerId:e.id,posterUrl:e.poster,sourceType:e.serviceType,title:e.name,type:e.type||"Video Layer"}))):[]}},97173:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var i=r(35143),n=r(69098),l=r(42553),o=r(46053),a=(r(81806),r(76460),r(47249),r(28379)),s=r(85842),u=r(17707);let d=class extends(n.A.ClonableMixin(l.A)){constructor(e){super(e),this.duration=null,this.end=null,this.start=null,this.timezone="UTC"}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}};(0,i._)([(0,o.MZ)({type:Number,json:{write:{allowNull:!0}}})],d.prototype,"duration",void 0),(0,i._)([(0,o.MZ)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),(0,i._)([(0,a.w)("end")],d.prototype,"readEnd",null),(0,i._)([(0,u.K)("end")],d.prototype,"writeEnd",null),(0,i._)([(0,o.MZ)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),(0,i._)([(0,a.w)("start")],d.prototype,"readStart",null),(0,i._)([(0,u.K)("start")],d.prototype,"writeStart",null),(0,i._)([(0,o.MZ)({type:String})],d.prototype,"timezone",void 0),d=(0,i._)([(0,s.$)("esri.layers.support.VideoTimeExtent")],d);const v=d}}]);
//# sourceMappingURL=19583.aa954fc6.chunk.js.map