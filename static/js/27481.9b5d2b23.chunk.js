"use strict";(self.webpackChunksc_depot=self.webpackChunksc_depot||[]).push([[27481],{27481:(e,t,i)=>{i.r(t),i.d(t,{default:()=>A});var o=i(35143),s=i(76460),n=i(68134),l=i(46053),a=(i(81806),i(47249),i(85842)),d=i(25329);const r="esri-daylight",c="".concat(r,"__container"),h="esri-slider",p={base:r,dayContainer:"".concat(c," ").concat(r,"__day-container"),dateContainer:"".concat(c," ").concat(r,"__date-container"),containerDisabled:"".concat(c,"--disabled"),slider:h,sliderShadowOff:"".concat(h,"--shadow-off"),sliderShadowOn:"".concat(h,"--shadow-on"),sliderAmPmOn:"".concat(h,"--ampm-on"),sliderDateOff:"".concat(h,"--date-off"),sliderDateOn:"".concat(h,"--date-on"),playPauseButton:"".concat(r,"__play-pause-button"),datePicker:"".concat(r,"__date-picker"),seasonPicker:"".concat(r,"__season-picker"),panelError:"".concat(r,"__panel--error"),sunLightingCheckbox:"".concat(r,"__sun-lighting-checkbox"),shadowsCheckbox:"".concat(r,"__shadows-checkbox")};var u=i(48645),g=i(91967);let _=class extends g.default{constructor(e){super(e),this.header=!0,this.playButtons=!0,this.datePicker=!0,this.timezone=!0,this.sunLightingToggle=!0,this.shadowsToggle=!0}};(0,o._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"header",void 0),(0,o._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"playButtons",void 0),(0,o._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"datePicker",void 0),(0,o._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"timezone",void 0),(0,o._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"sunLightingToggle",void 0),(0,o._)([(0,l.MZ)({type:Boolean,nonNullable:!0})],_.prototype,"shadowsToggle",void 0),_=(0,o._)([(0,a.$)("esri.widgets.Daylight.VisibleElements")],_);const v=_;var b=i(33482),y=i(22785),m=i(40747),w=i(35529),k=i(76099),C=i(54761);const M="esri-slider-with-dropdown",f="esri-slider__label",S="".concat(M,"__box"),P="".concat(M,"__box--drop-down-on"),D="".concat(M,"__box--drop-down-off");let O=class extends y.default{constructor(e,t){super(e,t),this.viewModel=new m.h,this.showDropDown=!0,this._labelWidth=0,this._onLabelAfterCreate=e=>{const t="label-size-observer";this.removeHandles(t),this.addHandles((0,k.EV)(e,(e=>{let{contentRect:t}=e;this._labelWidth=t.width})),t)},this._getLabelStyles=()=>{if(!this.trackElement)return;const e=this._trackWidth,t=this._labelWidth/2,i=this.getCurrentPosition(),o=i-t,s=i+t;let n=-t;return o<0?n+=-o:s>e&&(n+=e-s),{left:"".concat(n,"px")}},this._onTimezoneChange=e=>{this.viewModel.utcOffset=e},this._onTimezonePickerOpen=()=>{this.viewModel.timezonePickerOpen=!0},this._onTimezonePickerClose=()=>{this.viewModel.timezonePickerOpen=!1}}renderThumbLabel(e){const{showDropDown:t,viewModel:i}=this;return(0,C.K)("div",{afterCreate:this._onLabelAfterCreate,class:this.classes({[S]:!0,[f]:!0,[P]:t,[D]:!t}),key:"thumb-label",styles:this._getLabelStyles()},super.renderThumbLabel(e),t?(0,C.K)(w.G,{disabled:this.disabled,open:i.timezonePickerOpen,value:i.utcOffset,onChange:this._onTimezoneChange,onClose:this._onTimezonePickerClose,onOpen:this._onTimezonePickerOpen}):null)}};(0,o._)([(0,l.MZ)()],O.prototype,"viewModel",void 0),(0,o._)([(0,l.MZ)()],O.prototype,"showDropDown",void 0),(0,o._)([(0,l.MZ)()],O.prototype,"_labelWidth",void 0),O=(0,o._)([(0,a.$)("esri.widgets.Daylight.support.SliderWithDropdown")],O);const T=O;var Z=i(94126),E=i(98108),x=i(87540),L=i(24992),K=i(63582);const z="date";let I=class extends d.default{constructor(e,t){super(e,t),this.headingLevel=3,this.viewModel=new u.default,this.visibleElements=new v,this.dateOrSeason=z,this._timeSlider=new T({viewModel:this.viewModel.timeSliderViewModel,steps:this.timeSliderSteps,labelInputsEnabled:!1,visibleElements:{labels:!0},tickConfigs:[{mode:"position",values:[0,360,720,1080,1439],labelsVisible:!0,tickCreatedFunction:(e,t,i)=>(0,L.T3)({tickElement:t,labelElement:i,tickClasses:B,onClick:this._makeGoToTime(e)})},{mode:"position",values:[120,240,480,600,840,960,1200,1320],tickCreatedFunction:(e,t)=>(0,L.ty)({tickElement:t,tickClasses:B,onClick:this._makeGoToTime(e)})}]}),this._onPlayDayClick=()=>{this.viewModel.toggleDayPlaying()},this._onDateChange=e=>{const t=e.currentTarget.valueAsDate;this.viewModel.onDateChange(Array.isArray(t)?t[0]:t)},this._onYearPlayClick=()=>{this.viewModel.toggleYearPlaying()},this._onSeasonChange=e=>{this.viewModel.currentSeason=e.currentTarget.value},this._onSunLightingCheckboxChange=()=>{this.viewModel.toggleSunLightingEnabled()},this._onShadowCheckboxChange=()=>{this.viewModel.toggleDirectShadowsEnabled()}}get icon(){return"brightness"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e,t;return null!==(e=null===(t=this.messages)||void 0===t?void 0:t.title)&&void 0!==e?e:""}set label(e){this._overrideIfSome("label",e)}get playSpeedMultiplier(){return this.viewModel.playSpeedMultiplier}set playSpeedMultiplier(e){this.viewModel.playSpeedMultiplier=e}get timeSliderSteps(){var e,t;return null!==(e=null===(t=this._timeSlider)||void 0===t?void 0:t.steps)&&void 0!==e?e:5}set timeSliderSteps(e){this._timeSlider.steps=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}postInitialize(){this.viewModel.isSupported&&this.addHandles([(0,n.watch)((()=>this.viewModel.timeSliderViewModel),(e=>this._timeSlider.viewModel=e),n.syncAndInitial),(0,n.watch)((()=>{var e;return null===(e=this.visibleElements)||void 0===e?void 0:e.timezone}),(e=>this._timeSlider.showDropDown=e),n.syncAndInitial),(0,n.watch)((()=>!this.viewModel.sunLightingEnabled),(e=>{this._timeSlider.disabled=e}),n.syncAndInitial)])}destroy(){this._timeSlider.destroy()}render(){const{messages:e,viewModel:t,visibleElements:i}=this,o=t.isSupported;return(0,C.K)("div",{class:this.classes(p.base,E.D.widget)},o?(0,C.K)(C.w,null,i.header?(0,C.K)(x.D,{level:this.headingLevel},e.title):null,this._renderTimeOptions(),i.datePicker?this._renderDateOrSeason():null,i.sunLightingToggle?this._renderSunLightingToggle():null,i.shadowsToggle?this._renderShadowsToggle():null):(0,C.K)("div",{class:p.panelError,key:"unsupported"},(0,C.K)("p",null,e.unsupported)))}loadDependencies(){return(0,Z.W)({button:()=>Promise.resolve().then(i.bind(i,43285)),checkbox:()=>i.e(64990).then(i.bind(i,64990)),label:()=>Promise.resolve().then(i.bind(i,11839)),"input-date-picker":()=>Promise.all([i.e(46870),i.e(79709),i.e(53433)]).then(i.bind(i,40240)),option:()=>i.e(46422).then(i.bind(i,46422)),select:()=>i.e(2253).then(i.bind(i,2253))})}_renderTimeOptions(){const{viewModel:e,visibleElements:t,messages:i}=this,{directShadowsEnabled:o,dayPlaying:s}=e,n=!e.sunLightingEnabled;return(0,C.K)("div",{class:this.classes(p.dayContainer,{[p.sliderShadowOn]:o,[p.sliderShadowOff]:!o,[p.sliderDateOn]:t.datePicker,[p.sliderDateOff]:!t.datePicker,[p.sliderAmPmOn]:(0,L.J_)(),[p.containerDisabled]:n}),key:"daylight-time-options"},this._timeSlider.render(),t.playButtons?this._renderPlayPauseButton({playing:s,disabled:n,label:i.playDay,onClick:this._onPlayDayClick}):null)}_renderDateOptions(){const{viewModel:e,visibleElements:t,messages:i}=this,{yearPlaying:o}=e,s=!e.sunLightingEnabled;return(0,C.K)("div",{class:this.classes(p.dateContainer,s&&p.containerDisabled),key:p.dateContainer},(0,C.K)("calcite-input-date-picker",{class:p.datePicker,"data-testid":"daylight-date-picker",disabled:s,key:p.datePicker,overlayPositioning:"fixed",placement:"bottom",valueAsDate:e.localDate,onCalciteInputDatePickerChange:this._onDateChange}),t.playButtons?this._renderPlayPauseButton({playing:o,disabled:s,label:i.playYear,onClick:this._onYearPlayClick}):null)}_renderPlayPauseButton(e){let{playing:t,disabled:i,label:o,onClick:s}=e;return(0,C.K)("calcite-button",{appearance:"solid",class:p.playPauseButton,disabled:i,iconStart:t?"pause-f":"play-f",label:o,onclick:s,round:!0,title:o,type:"button"})}_renderSeasonSelect(){const{messages:e,viewModel:t}=this,i=!t.sunLightingEnabled;return(0,C.K)("calcite-select",{class:this.classes(p.seasonPicker),disabled:i,label:e.season,onCalciteSelectChange:this._onSeasonChange},b.Cg.map((i=>(0,C.K)("calcite-option",{selected:t.currentSeason===i,value:i},e[i]))))}_renderDateOrSeason(){return"date"===this.dateOrSeason?this._renderDateOptions():this._renderSeasonSelect()}_renderSunLightingToggle(){var e;const t=null===(e=this.messages)||void 0===e?void 0:e.sunLightingToggle;return(0,C.K)("calcite-label",{key:"date-time-toggle",layout:"inline",scale:"s",title:null===t||void 0===t?void 0:t.tooltip},(0,C.K)("calcite-checkbox",{checked:this.viewModel.sunLightingEnabled,class:p.sunLightingCheckbox,onCalciteCheckboxChange:this._onSunLightingCheckboxChange}),null===t||void 0===t?void 0:t.label)}_renderShadowsToggle(){const e=this.messages.shadowsToggle;return(0,C.K)("calcite-label",{key:"shadow-toggle",layout:"inline",scale:"s",title:null===e||void 0===e?void 0:e.tooltip},(0,C.K)("calcite-checkbox",{checked:this.viewModel.directShadowsEnabled,class:p.shadowsCheckbox,onCalciteCheckboxChange:this._onShadowCheckboxChange}),e.label)}_makeGoToTime(e){return()=>{this.viewModel.timeSliderPosition=e}}};(0,o._)([(0,l.MZ)(),(0,K.G)("esri/widgets/Daylight/t9n/Daylight")],I.prototype,"messages",void 0),(0,o._)([(0,l.MZ)(),(0,K.G)("esri/widgets/support/t9n/timezone")],I.prototype,"timezoneMessages",void 0),(0,o._)([(0,l.MZ)()],I.prototype,"headingLevel",void 0),(0,o._)([(0,l.MZ)()],I.prototype,"icon",null),(0,o._)([(0,l.MZ)()],I.prototype,"label",null),(0,o._)([(0,l.MZ)()],I.prototype,"playSpeedMultiplier",null),(0,o._)([(0,l.MZ)()],I.prototype,"timeSliderSteps",null),(0,o._)([(0,l.MZ)()],I.prototype,"view",null),(0,o._)([(0,l.MZ)({type:u.default})],I.prototype,"viewModel",void 0),(0,o._)([(0,l.MZ)({type:v,nonNullable:!0})],I.prototype,"visibleElements",void 0),(0,o._)([(0,l.MZ)({cast(e){return"season"===e||"date"===e?e:(s.A.getLogger(this).warn('"'.concat(e,'" is not a valid option. Acceptable values are only "date" or "season". Defaulting to "').concat(z,'".')),z)}})],I.prototype,"dateOrSeason",void 0),(0,o._)([(0,l.MZ)()],I.prototype,"_timeSlider",void 0),I=(0,o._)([(0,a.$)("esri.widgets.Daylight")],I);const B=[E.D.interactive,E.D.anchor],A=I},35529:(e,t,i)=>{i.d(t,{G:()=>u});var o=i(35143),s=i(46053),n=(i(81806),i(76460),i(47249),i(85842)),l=i(25329),a=i(94126),d=i(24992),r=(i(76099),i(63582)),c=i(54761);const h="esri-timezone-picker",p={base:h,trigger:"".concat(h,"__trigger"),itemTitle:"".concat(h,"__item-title"),itemDescription:"".concat(h,"__item_description")};let u=class extends l.default{constructor(e,t){super(e,t),this.disabled=!1,this.value=null,this.onChange=null,this.open=!1,this.onOpen=null,this.onClose=null,this._selectedId=null,this._onOpen=()=>{var e;this.open=!0,null===(e=this.onOpen)||void 0===e||e.call(this)},this._onClose=()=>{var e;this.open=!1,null===(e=this.onClose)||void 0===e||e.call(this)},this._killEvent=e=>(e.stopPropagation(),!0),this._onChange=e=>{var t,i,o;const s=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0].getAttribute("data-id"),n=null===(i=g(this._gmtOffsets,s))||void 0===i?void 0:i.utcOffset;null!=n&&(this._selectedId=s,null===(o=this.onChange)||void 0===o||o.call(this,n))}}loadDependencies(){return(0,a.W)({button:()=>Promise.resolve().then(i.bind(i,43285)),dropdown:()=>Promise.resolve().then(i.bind(i,24482)),"dropdown-group":()=>Promise.resolve().then(i.bind(i,5368)),"dropdown-item":()=>Promise.resolve().then(i.bind(i,84660))})}render(){var e;const t=this._messages;if(!t)return(0,c.K)("div",{class:p.base,key:"empty"});const i=this._selectedItem,o=_(i);return(0,c.K)("div",{class:p.base,key:"container",onpointerdown:this._killEvent},(0,c.K)("calcite-dropdown",{disabled:this.disabled,open:this.open,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",onCalciteDropdownClose:this._onClose,onCalciteDropdownOpen:this._onOpen,onCalciteDropdownSelect:this._onChange},(0,c.K)("calcite-button",{appearance:"transparent",class:p.trigger,"data-testid":"timezone-picker-button",disabled:this.disabled,key:"trigger",kind:"neutral",scale:"s",slot:"trigger",tabIndex:0,title:t.chooseTimezone},null!==(e=null===i||void 0===i?void 0:i.short)&&void 0!==e?e:""),(0,c.K)("calcite-dropdown-group",{selectionMode:"single"},this._gmtOffsets.map((e=>{const t=_(e);return(0,c.K)("calcite-dropdown-item",{"data-id":t,"data-testid":t,key:t,selected:o===t},(0,c.K)("div",{class:p.itemTitle,key:"title"},e.shortWithUTC),(0,c.K)("div",{class:p.itemDescription,key:"description"},e.long))})))))}get _gmtOffsets(){const e=this._messages;return e?(0,d.jP)(e):[]}get _selectedItem(){const e=this._gmtOffsets,t=this.value,i=g(e,this._selectedId);return(null===i||void 0===i?void 0:i.utcOffset)===t?i:function(e,t){return e.find((e=>e.utcOffset===t))}(e,t)}};function g(e,t){return e.find((e=>_(e)===t))}function _(e){return e?"".concat(e.utcOffset,"-").concat(e.long):void 0}(0,o._)([(0,s.MZ)()],u.prototype,"disabled",void 0),(0,o._)([(0,s.MZ)()],u.prototype,"value",void 0),(0,o._)([(0,s.MZ)()],u.prototype,"onChange",void 0),(0,o._)([(0,s.MZ)()],u.prototype,"open",void 0),(0,o._)([(0,s.MZ)()],u.prototype,"onOpen",void 0),(0,o._)([(0,s.MZ)()],u.prototype,"onClose",void 0),(0,o._)([(0,s.MZ)(),(0,r.G)("esri/widgets/support/t9n/timezone")],u.prototype,"_messages",void 0),(0,o._)([(0,s.MZ)()],u.prototype,"_gmtOffsets",null),(0,o._)([(0,s.MZ)()],u.prototype,"_selectedItem",null),(0,o._)([(0,s.MZ)()],u.prototype,"_selectedId",void 0),u=(0,o._)([(0,n.$)("esri.widgets.support.TimezonePicker")],u)}}]);
//# sourceMappingURL=27481.9b5d2b23.chunk.js.map